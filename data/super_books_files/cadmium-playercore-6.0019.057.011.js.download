t8ii.e0F=function (){return typeof t8ii.t0F.X6H==='function'?t8ii.t0F.X6H.apply(t8ii.t0F,arguments):t8ii.t0F.X6H;};t8ii.F5v=function (){return typeof t8ii.q5v.X6H==='function'?t8ii.q5v.X6H.apply(t8ii.q5v,arguments):t8ii.q5v.X6H;};t8ii.O2D=function (){return typeof t8ii.K2D.E6H==='function'?t8ii.K2D.E6H.apply(t8ii.K2D,arguments):t8ii.K2D.E6H;};t8ii.R6E=function (){return typeof t8ii.p9E.X6H==='function'?t8ii.p9E.X6H.apply(t8ii.p9E,arguments):t8ii.p9E.X6H;};t8ii.N0F=function (){return typeof t8ii.t0F.E6H==='function'?t8ii.t0F.E6H.apply(t8ii.t0F,arguments):t8ii.t0F.E6H;};t8ii.B0F=function (){return typeof t8ii.t0F.X6H==='function'?t8ii.t0F.X6H.apply(t8ii.t0F,arguments):t8ii.t0F.X6H;};t8ii.J2D=function (){return typeof t8ii.K2D.X6H==='function'?t8ii.K2D.X6H.apply(t8ii.K2D,arguments):t8ii.K2D.X6H;};t8ii.Y5Q=function(Q1Q){return{E6H:function(){var L1Q,b1Q=arguments;switch(Q1Q){case 1:L1Q=b1Q[1]+b1Q[0];break;case 0:L1Q=b1Q[0]-b1Q[1];break;}return L1Q;},X6H:function(p5Q){Q1Q=p5Q;}};}();t8ii.m5v=function (){return typeof t8ii.q5v.X6H==='function'?t8ii.q5v.X6H.apply(t8ii.q5v,arguments):t8ii.q5v.X6H;};t8ii.A0l=function (){return typeof t8ii.m0l.E6H==='function'?t8ii.m0l.E6H.apply(t8ii.m0l,arguments):t8ii.m0l.E6H;};t8ii.P5Q=function (){return typeof t8ii.Y5Q.X6H==='function'?t8ii.Y5Q.X6H.apply(t8ii.Y5Q,arguments):t8ii.Y5Q.X6H;};t8ii.c5Q=function (){return typeof t8ii.Y5Q.E6H==='function'?t8ii.Y5Q.E6H.apply(t8ii.Y5Q,arguments):t8ii.Y5Q.E6H;};t8ii.V4A=function (){return typeof t8ii.q4A.X6H==='function'?t8ii.q4A.X6H.apply(t8ii.q4A,arguments):t8ii.q4A.X6H;};t8ii.s8S=function(k8S){return{E6H:function(){var x8S,F8S=arguments;switch(k8S){case 2:x8S=F8S[1]-F8S[0];break;case 0:x8S=(F8S[3]+F8S[2])*F8S[0]-F8S[1];break;case 1:x8S=F8S[0]-F8S[1]+-F8S[2];break;}return x8S;},X6H:function(E8S){k8S=E8S;}};}();t8ii.U9Y=function (){return typeof t8ii.d9Y.X6H==='function'?t8ii.d9Y.X6H.apply(t8ii.d9Y,arguments):t8ii.d9Y.X6H;};t8ii.c2k=function (){return typeof t8ii.L2k.E6H==='function'?t8ii.L2k.E6H.apply(t8ii.L2k,arguments):t8ii.L2k.E6H;};t8ii.H9Y=function (){return typeof t8ii.d9Y.E6H==='function'?t8ii.d9Y.E6H.apply(t8ii.d9Y,arguments):t8ii.d9Y.E6H;};t8ii.p3b=function (){return typeof t8ii.d3b.E6H==='function'?t8ii.d3b.E6H.apply(t8ii.d3b,arguments):t8ii.d3b.E6H;};t8ii.F6H=function (){return typeof t8ii.j6H.X6H==='function'?t8ii.j6H.X6H.apply(t8ii.j6H,arguments):t8ii.j6H.X6H;};t8ii.p4A=function (){return typeof t8ii.q4A.E6H==='function'?t8ii.q4A.E6H.apply(t8ii.q4A,arguments):t8ii.q4A.E6H;};t8ii.K2D=function(A2D){return{E6H:function(){var I2D,b2D=arguments;switch(A2D){case 0:I2D=-b2D[1]-b2D[2]+b2D[0];break;case 2:I2D=b2D[0]-b2D[1];break;case 1:I2D=b2D[2]*b2D[3]-b2D[0]+b2D[1];break;}return I2D;},X6H:function(E2D){A2D=E2D;}};}();t8ii.m0l=function(P0l){return{E6H:function(){var Q0l,W0l=arguments;switch(P0l){case 0:Q0l=W0l[1]+W0l[0];break;case 4:Q0l=W0l[1]-W0l[0];break;case 3:Q0l=W0l[3]+W0l[2]+W0l[0]+W0l[1];break;case 2:Q0l=W0l[1]-W0l[0]+W0l[2];break;case 5:Q0l=(W0l[1]-W0l[0])/W0l[2];break;case 1:Q0l=(W0l[1]+W0l[3])*W0l[0]-W0l[2];break;}return Q0l;},X6H:function(x0l){P0l=x0l;}};}();t8ii.U0F=function (){return typeof t8ii.t0F.E6H==='function'?t8ii.t0F.E6H.apply(t8ii.t0F,arguments):t8ii.t0F.E6H;};t8ii.v9E=function (){return typeof t8ii.p9E.E6H==='function'?t8ii.p9E.E6H.apply(t8ii.p9E,arguments):t8ii.p9E.E6H;};t8ii.f8S=function (){return typeof t8ii.s8S.X6H==='function'?t8ii.s8S.X6H.apply(t8ii.s8S,arguments):t8ii.s8S.X6H;};t8ii.a6E=function (){return typeof t8ii.p9E.X6H==='function'?t8ii.p9E.X6H.apply(t8ii.p9E,arguments):t8ii.p9E.X6H;};t8ii.k0M=function (){return typeof t8ii.o0M.X6H==='function'?t8ii.o0M.X6H.apply(t8ii.o0M,arguments):t8ii.o0M.X6H;};t8ii.Z1u=function (){return typeof t8ii.i1u.X6H==='function'?t8ii.i1u.X6H.apply(t8ii.i1u,arguments):t8ii.i1u.X6H;};t8ii.V1u=function (){return typeof t8ii.i1u.E6H==='function'?t8ii.i1u.E6H.apply(t8ii.i1u,arguments):t8ii.i1u.E6H;};t8ii.w1u=function (){return typeof t8ii.i1u.X6H==='function'?t8ii.i1u.X6H.apply(t8ii.i1u,arguments):t8ii.i1u.X6H;};t8ii.j0M=function (){return typeof t8ii.o0M.X6H==='function'?t8ii.o0M.X6H.apply(t8ii.o0M,arguments):t8ii.o0M.X6H;};t8ii.L2k=function(z2k){return{E6H:function(){var S2k,V2k=arguments;switch(z2k){case 0:S2k=(V2k[2]-V2k[1])*V2k[0];break;}return S2k;},X6H:function(M2k){z2k=M2k;}};}();t8ii.Y5l=function (){return typeof t8ii.m0l.X6H==='function'?t8ii.m0l.X6H.apply(t8ii.m0l,arguments):t8ii.m0l.X6H;};t8ii.t2k=function (){return typeof t8ii.L2k.X6H==='function'?t8ii.L2k.X6H.apply(t8ii.L2k,arguments):t8ii.L2k.X6H;};t8ii.S6H=function (){return typeof t8ii.j6H.E6H==='function'?t8ii.j6H.E6H.apply(t8ii.j6H,arguments):t8ii.j6H.E6H;};t8ii.s0l=function (){return typeof t8ii.m0l.X6H==='function'?t8ii.m0l.X6H.apply(t8ii.m0l,arguments):t8ii.m0l.X6H;};function t8ii(){}t8ii.i8S=function (){return typeof t8ii.s8S.E6H==='function'?t8ii.s8S.E6H.apply(t8ii.s8S,arguments):t8ii.s8S.E6H;};t8ii.c5v=function (){return typeof t8ii.q5v.E6H==='function'?t8ii.q5v.E6H.apply(t8ii.q5v,arguments):t8ii.q5v.E6H;};t8ii.i1u=function(S4u){return{E6H:function(){var k4u,x4u=arguments;switch(S4u){case 0:k4u=-(x4u[0]/-x4u[1]);break;case 1:k4u=x4u[1]-x4u[0];break;}return k4u;},X6H:function(a4u){S4u=a4u;}};}();t8ii.Q9Y=function (){return typeof t8ii.d9Y.E6H==='function'?t8ii.d9Y.E6H.apply(t8ii.d9Y,arguments):t8ii.d9Y.E6H;};t8ii.M5Q=function (){return typeof t8ii.Y5Q.X6H==='function'?t8ii.Y5Q.X6H.apply(t8ii.Y5Q,arguments):t8ii.Y5Q.X6H;};t8ii.h0M=function (){return typeof t8ii.o0M.E6H==='function'?t8ii.o0M.E6H.apply(t8ii.o0M,arguments):t8ii.o0M.E6H;};t8ii.h3b=function (){return typeof t8ii.d3b.X6H==='function'?t8ii.d3b.X6H.apply(t8ii.d3b,arguments):t8ii.d3b.X6H;};t8ii.q3b=function (){return typeof t8ii.d3b.X6H==='function'?t8ii.d3b.X6H.apply(t8ii.d3b,arguments):t8ii.d3b.X6H;};t8ii.k6H=function (){return typeof t8ii.j6H.X6H==='function'?t8ii.j6H.X6H.apply(t8ii.j6H,arguments):t8ii.j6H.X6H;};t8ii.s5v=function (){return typeof t8ii.q5v.E6H==='function'?t8ii.q5v.E6H.apply(t8ii.q5v,arguments):t8ii.q5v.E6H;};t8ii.z8S=function (){return typeof t8ii.s8S.X6H==='function'?t8ii.s8S.X6H.apply(t8ii.s8S,arguments):t8ii.s8S.X6H;};t8ii.x2D=function (){return typeof t8ii.K2D.X6H==='function'?t8ii.K2D.X6H.apply(t8ii.K2D,arguments):t8ii.K2D.X6H;};t8ii.g2k=function (){return typeof t8ii.L2k.E6H==='function'?t8ii.L2k.E6H.apply(t8ii.L2k,arguments):t8ii.L2k.E6H;};t8ii.j6H=function(h6H){return{E6H:function(){var K6H,u6H=arguments;switch(h6H){case 1:K6H=u6H[0]+u6H[1];break;case 7:K6H=u6H[0]===u6H[1];break;case 0:K6H=u6H[1]-u6H[0];break;case 8:K6H=u6H[3]*u6H[0]*u6H[1]-u6H[2];break;case 2:K6H=u6H[2]+u6H[0]/u6H[1]*u6H[3];break;case 6:K6H=(u6H[2]/u6H[1]|u6H[3])*u6H[0];break;case 3:K6H=u6H[0]*u6H[3]/u6H[1]|u6H[2];break;case 4:K6H=u6H[2]/u6H[1]|u6H[0];break;case 5:K6H=u6H[1]/u6H[0];break;}return K6H;},X6H:function(G6H){h6H=G6H;}};}();t8ii.p9E=function(r9E){return{E6H:function(){var z9E,X9E=arguments;switch(r9E){case 0:z9E=X9E[1]+X9E[0];break;}return z9E;},X6H:function(U9E){r9E=U9E;}};}();t8ii.p2D=function (){return typeof t8ii.K2D.E6H==='function'?t8ii.K2D.E6H.apply(t8ii.K2D,arguments):t8ii.K2D.E6H;};t8ii.b9Y=function (){return typeof t8ii.d9Y.X6H==='function'?t8ii.d9Y.X6H.apply(t8ii.d9Y,arguments):t8ii.d9Y.X6H;};t8ii.d3b=function(Y3b){return{E6H:function(){var F3b,O3b=arguments;switch(Y3b){case 0:F3b=O3b[0]+O3b[1];break;}return F3b;},X6H:function(V3b){Y3b=V3b;}};}();t8ii.t3b=function (){return typeof t8ii.d3b.E6H==='function'?t8ii.d3b.E6H.apply(t8ii.d3b,arguments):t8ii.d3b.E6H;};t8ii.a2k=function (){return typeof t8ii.L2k.X6H==='function'?t8ii.L2k.X6H.apply(t8ii.L2k,arguments):t8ii.L2k.X6H;};t8ii.o0M=function(B0M){return{E6H:function(){var O0M,F0M=arguments;switch(B0M){case 1:O0M=F0M[4]+F0M[1]+F0M[0]+F0M[2]+F0M[3];break;case 0:O0M=F0M[1]+F0M[0];break;case 2:O0M=F0M[1]+F0M[0]+F0M[2];break;}return O0M;},X6H:function(n0M){B0M=n0M;}};}();t8ii.q5v=function(H5v){return{E6H:function(){var Z5v,Y5v=arguments;switch(H5v){case 3:Z5v=Y5v[1]+Y5v[0];break;case 2:Z5v=Y5v[0]>Y5v[1];break;case 1:Z5v=Y5v[1]<=Y5v[0];break;case 0:Z5v=Y5v[0]>=Y5v[1];break;}return Z5v;},X6H:function(R5v){H5v=R5v;}};}();t8ii.t0F=function(n0F){return{E6H:function(){var d0F,y0F=arguments;switch(n0F){case 0:d0F=y0F[1]/y0F[0];break;}return d0F;},X6H:function(Q0F){n0F=Q0F;}};}();t8ii.s6E=function (){return typeof t8ii.p9E.E6H==='function'?t8ii.p9E.E6H.apply(t8ii.p9E,arguments):t8ii.p9E.E6H;};t8ii.U5Q=function (){return typeof t8ii.Y5Q.E6H==='function'?t8ii.Y5Q.E6H.apply(t8ii.Y5Q,arguments):t8ii.Y5Q.E6H;};t8ii.I0l=function (){return typeof t8ii.m0l.E6H==='function'?t8ii.m0l.E6H.apply(t8ii.m0l,arguments):t8ii.m0l.E6H;};t8ii.q4A=function(y4A){return{E6H:function(){var i4A,X4A=arguments;switch(y4A){case 0:i4A=X4A[0]+X4A[1];break;}return i4A;},X6H:function(Q4A){y4A=Q4A;}};}();t8ii.c4A=function (){return typeof t8ii.q4A.X6H==='function'?t8ii.q4A.X6H.apply(t8ii.q4A,arguments):t8ii.q4A.X6H;};t8ii.v4A=function (){return typeof t8ii.q4A.E6H==='function'?t8ii.q4A.E6H.apply(t8ii.q4A,arguments):t8ii.q4A.E6H;};t8ii.d9Y=function(f9Y){return{E6H:function(){var i9Y,z9Y=arguments;switch(f9Y){case 2:i9Y=z9Y[2]*z9Y[1]-z9Y[0];break;case 0:i9Y=z9Y[1]-z9Y[0];break;case 1:i9Y=z9Y[1]/z9Y[0];break;}return i9Y;},X6H:function(o9Y){f9Y=o9Y;}};}();t8ii.t1u=function (){return typeof t8ii.i1u.E6H==='function'?t8ii.i1u.E6H.apply(t8ii.i1u,arguments):t8ii.i1u.E6H;};t8ii.w8S=function (){return typeof t8ii.s8S.E6H==='function'?t8ii.s8S.E6H.apply(t8ii.s8S,arguments):t8ii.s8S.E6H;};t8ii.N0M=function (){return typeof t8ii.o0M.E6H==='function'?t8ii.o0M.E6H.apply(t8ii.o0M,arguments):t8ii.o0M.E6H;};t8ii.D6H=function (){return typeof t8ii.j6H.E6H==='function'?t8ii.j6H.E6H.apply(t8ii.j6H,arguments):t8ii.j6H.E6H;};(function(){(function(J,la){var rb,Bb,Qa,vc,qa,za,ab,Hd,Id,Ka,La,Lb,Jd,wc,Kd,Ld,Xc,l,ra,gc,Md,Yc,C,P,ga,tb,ib,Va,da,bb,Pa,Nb,Ga,Ea,Ia,db,xc,ub,ob,pb,yc,Zc,Nd,Eb,Fb,Ob,$c,Ub,vb,zc,Kb,ad,Od,Vb,bd,cd,dd,ed,wb,fd,gd,hd,Xb,xb,yb,Yb,Ac,Bc,Cc,hb,Te,Oa,Mb,Pd,Dc,kb,Qd,Ue,qb,Rd,Sd,Ec,Td,Ve,fc,Ud,Se,We,id,Fc,Xe,Ye,Ed,Ze,Fd,Vd,jb,hc,Wd,ic,Xd,lb,Yd,jd,Zd,ld,Gc,$d,af,Gd,Hc,Wc,ae,$e,be,md,ce,de,ee,nd,Jb,ge,fe,bf,jc,he,pd,kc,ie,od,je,ke,qd,me,ne,Kc,Rb,Zb,Sb,oe,pe,qe,re,se,te,Lc,cf,ue,ve,sd,we,gb,Pb,Wb,Qb,Hb,zb,Ic,cb,Db,le,lc,Tb,xe,df,mc,ye,ef,$b,ze,Mc,td,nc,ud,Ae,oc,Be,Ce,De,ff,pc,Ee,gf,hf,Fe,rd,Jc,Ge,Re,He,jf,lf,kf,ac,uc,mf,Dd,nf,Ie;function Ua(h,l){if(!l||"utf-8"===l)return Qc(h);throw Error("unsupported encoding");}function Sa(h,l){if(!l||"utf-8"===l)return Rc(h);throw Error("unsupported encoding");}function Qc(h){for(var l=0,n,Ma=h.length,C="";l<Ma;){n=h[l++];if(n&128)if(192===(n&224))n=((n&31)<<6)+(h[l++]&63);else if(224===(n&240))n=((n&15)<<12)+((h[l++]&63)<<6)+(h[l++]&63);else throw Error("unsupported character");C+=String.fromCharCode(n);}return C;}function Rc(h){var l,n,Ma,C,r;l=h.length;n=0;C=0;for(Ma=l;Ma--;)r=h.charCodeAt(Ma),128>r?n++:n=2048>r?n+2:n+3;n=new Uint8Array(n);for(Ma=0;Ma<l;Ma++)r=h.charCodeAt(Ma),128>r?n[C++]=r:(2048>r?n[C++]=192|r>>>6:(n[C++]=224|r>>>12,n[C++]=128|r>>>6&63),n[C++]=128|r&63);return n;}function $a(h,n){if(h===n)return!0;if(!h||!n||h.length!=n.length)return!1;for(var l=0;l<h.length;++l)if(h[l]!=n[l])return!1;return!0;}function fb(h){var r;if(!(h&&h.constructor==Uint8Array||Array.isArray(h)))throw new TypeError("Cannot compute the hash code of "+h);for(var n=1,l=0;l<h.length;++l){r=h[l];if("number"!==typeof r)throw new TypeError("Cannot compute the hash code over non-numeric elements: "+r);n=31*n+r&4294967295;}return n;}function yd(h,n){var Ba;if(h===n)return!0;if(!h||!n)return!1;n instanceof Array||(n=[n]);for(var l=0;l<n.length;++l){for(var r=n[l],C=!1,Ib=0;Ib<h.length;++Ib){Ba=h[Ib];if(r.equals&&"function"===typeof r.equals&&r.equals(Ba)||r==Ba){C=!0;break;}}if(!C)return!1;}return!0;}function zd(h,n){return yd(h,n)&&(h.length==n.length||yd(n,h));}function n(h,n,l){var r,C;l&&(r=l);if("object"!==typeof h||"function"!==typeof h.result||"function"!==typeof h.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{C=n.call(r,h);C!==la&&h.result(C);}catch(Sc){try{h.error(Sc);}catch(Ba){}}}function r(h,l,r){if("object"!==typeof h||"function"!==typeof h.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");n(h,l,r);}function h(h,n,l){1E5>h&&(h=1E5+h);Object.defineProperties(this,{internalCode:{value:h,writable:!1,configurable:!1},responseCode:{value:n,writable:!1,configurable:!1},message:{value:l,writable:!1,configurable:!1}});}function Tc(h){switch(h){case Oa.PSK:case Oa.MGK:return!0;default:return!1;}}function Ad(h){switch(h){case Oa.PSK:case Oa.MGK:case Oa.X509:case Oa.RSA:case Oa.NPTICKET:case Oa.ECC:return!0;default:return!1;}}function Oe(h){return h.toJSON();}function Bd(n,l){uc?l.result(uc):Promise.resolve().then(function(){return Ia.getKeyByName(n);})["catch"](function(){return Ia.generateKey({name:n},!1,["wrapKey","unwrapKey"]);}).then(function(h){uc=h;l.result(uc);})["catch"](function(n){l.error(new C(h.INTERNAL_EXCEPTION,"Unable to get system key"));});}function Cd(h,n){var l,r,C;l=n.masterToken;r=n.userIdToken;C=n.serviceTokens;return{NccpMethod:h.method,UserId:h.userId,UT:r&&r.serialNumber,MT:l&&l.serialNumber+":"+l.sequenceNumber,STCount:C&&C.length};}function Pe(h){return h.uniqueKey();}function Qe(r,J,nb,Ma,tc){var Ha;function Ib(h,L){h.errorCode===l.ENTITY_REAUTH||h.errorCode===l.ENTITYDATA_REAUTH?(Ma.clearCryptoContexts(),Ta()):h.errorCode!==l.USER_REAUTH&&h.errorCode!==l.USERDATA_REAUTH||Ba(L);}function Ba(h){if(h=Ma.getUserIdToken(h))Ma.removeUserIdToken(h),Ta();}function V(h,L,H){var w;w=[];(function B(){h.read(-1,L,{result:function(h){n(H,function(){var v,F,I,H,L;if(h)w.push(h),B();else switch(w.length){case 0:return new Uint8Array(0);case 1:return w[0];default:H=w.length,L=0;for(F=v=0;F<H;F++)v+=w[F].length;v=new Uint8Array(v);for(F=0;F<H;F++)I=w[F],v.set(I,L),L+=I.length;return v;}});},timeout:function(){H.timeout();},error:function(h){H.error(h);}});}());}function Ta(){Ma.getStoreState({result:function(h){for(var L=Ha.slice(),H=0;H<L.length;H++)L[H]({storeState:h});},timeout:function(){r.error("Timeout getting store state",""+e);},error:function(h){r.error("Error getting store state",""+h);}});}Ha=[];this.addEventHandler=function(h,L){switch(h){case"shouldpersist":Ha.push(L);}};this.send=function(n){return new Promise(function(L,H){var w,z,B;w=n.timeout;z=new Dd(r,nb,n,Ma.getKeyRequestData());B=new Ed(n.url);r.trace("Sending MSL request");J.request(nb,z,B,w,{result:function(z){var v;z&&z.getMessageHeader();r.trace("Received MSL response",{Method:n.method});if(z){n.allowTokenRefresh&&Ta();v=z.getErrorHeader();v?(Ib(v,n.userId),H({success:!1,error:v})):V(z,w,{result:function(h){L({success:!0,body:Ua(h)});},timeout:function(){H({success:!1,subCode:tc.MSL_READ_TIMEOUT});},error:function(h){H({success:!1,error:h});}});}else H({success:!1,error:new C(h.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){H({success:!1,subCode:tc.MSL_REQUEST_TIMEOUT});},error:function(h){H({success:!1,error:h});}});});};this.hasUserIdToken=function(h){return!!Ma.getUserIdToken(h);};this.getUserIdTokenKeys=function(){return Ma.getUserIdTokenKeys();};this.removeUserIdToken=Ba;this.clearUserIdTokens=function(){Ma.clearUserIdTokens();Ta();};this.isErrorReauth=function(h){return h&&h.errorCode==l.USERDATA_REAUTH;};this.isErrorHeader=function(h){return h instanceof Jb;};this.getErrorCode=function(h){return h&&h.errorCode;};this.getStateForMdx=function(h){var L,H;L=Ma.getMasterToken();h=Ma.getUserIdToken(h);H=Ma.getCryptoContext(L);return{masterToken:L,userIdToken:h,cryptoContext:H};};this.buildPlayDataRequest=function(h,L){var H;H=new Fd();J.request(nb,new Dd(r,nb,h),H,h.timeout,{result:function(){L.result(H.getRequest());},error:function(){L.result(H.getRequest());},timeout:function(){L.timeout();}});};this.rekeyUserIdToken=function(h,L){Ma.rekeyUserIdToken(h,L);Ta();};this.getServiceTokens=function(h){var L;L=Ma.getMasterToken();(h=Ma.getUserIdToken(h))&&!h.isBoundTo(L)&&(h=la);return Ma.getServiceTokens(L,h);};this.removeServiceToken=function(h){var L;L=Ma.getMasterToken();Ma.getServiceTokens(L).find(function(H){return H.name===h;})&&(Ma.removeServiceTokens(h,L),Ta());};}function Uc(n,l,r,Ma,J,P){function Ba(l){var V;return Promise.resolve().then(function(){V=n.authenticationKeyNames[l];if(!V)throw new C(h.KEY_IMPORT_ERROR,"Invalid config keyName "+l);return Ia.getKeyByName(V);}).then(function(n){return new Promise(function(l,L){Ub(n,{result:l,error:function(){L(new C(h.KEY_IMPORT_ERROR,"Unable to create "+V+" CipherKey"));}});});})["catch"](function(n){throw new C(h.KEY_IMPORT_ERROR,"Unable to import "+V,n);});}return Promise.resolve().then(function(){if(!Ia.getKeyByName)throw new C(h.INTERNAL_EXCEPTION,"No WebCrypto cryptokeys");return Promise.all([Ba("e"),Ba("h"),Ba("w")]);}).then(function(h){var V,Ha,Ja;V={};V[l]=new r(n.esn,h[0],h[1],h[2]);h=new Ma(n.esn);Ha=new Re();Ha=[new J(Ha)];Ja=new P(l);return{entityAuthFactories:V,entityAuthData:h,keyExchangeFactories:Ha,keyRequestData:Ja};});}function Vc(n,l,r){var nb;function Ma(){return Promise.resolve().then(function(){return Ia.generateKey(l,!1,["wrapKey","unwrapKey"]);}).then(function(h){return J(h.publicKey,h.privateKey);});}function J(n,l){return Promise.all([new Promise(function(l,V){Kb(n,{result:l,error:function(n){V(new C(h.INTERNAL_EXCEPTION,"Unable to create keyx public key",n));}});}),new Promise(function(n,V){Vb(l,{result:n,error:function(n){V(new C(h.INTERNAL_EXCEPTION,"Unable to create keyx private key",n));}});})]).then(function(h){h=new Wc("rsaKeypairId",r,h[0],h[1]);nb&&(h.storeData={keyxPublicKey:n,keyxPrivateKey:l});return h;});}nb=!n.systemKeyWrapFormat;return Promise.resolve().then(function(){var h,l;h=n.storeState;l=h&&h.keyxPublicKey;h=h&&h.keyxPrivateKey;return nb&&l&&h?J(l,h):Ma();}).then(function(h){var l,Ta,Ha;l={};l[Oa.NONE]=new Se();Ta=new fc(n.esn);Ha=[new Gd()];return{entityAuthFactories:l,entityAuthData:Ta,keyExchangeFactories:Ha,keyRequestData:h,createKeyRequestData:nb?Ma:la};});}Bb=J.nfCrypto||J.msCrypto||J.webkitCrypto||J.crypto;Qa=Bb&&(Bb.webkitSubtle||Bb.subtle);vc=J.nfCryptokeys||J.msCryptokeys||J.webkitCryptokeys||J.cryptokeys;(function(h){var n,l;n=function(){function h(h,l){h instanceof n?(this.abv=h.abv,this.position=h.position):(this.abv=h,this.position=l||0);}h.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(h){this.abv[this.position++]=h;},peekByte:function(h){return this.abv[h];},copyBytes:function(h,l,n){var V;V=new Uint8Array(this.abv.buffer,this.position,n);h=new Uint8Array(h.buffer,l,n);V.set(h);this.position+=n;},seek:function(h){this.position=h;},skip:function(h){this.position+=h;},getPosition:function(){return this.position;},setPosition:function(h){this.position=h;},getRemaining:function(){return this.abv.length-this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position>=this.abv.length;},show:function(){return"AbvStream: pos "+(this.getPosition().toString()+" of "+this.getLength().toString());}};return h;}();l={};(function(){var I,v,F,Ca,aa,Da,ya,Y,na;function h(E,v){var w;v.writeByte(E.tagClass<<6|E.constructed<<5|E.tag);w=E.payloadLen;if(128>w)v.writeByte(w);else{for(var F=w,z=0;F;)++z,F>>=8;v.writeByte(128|z);for(F=0;F<z;++F)v.writeByte(w>>8*(z-F-1)&255);}if(E.child)for(E.tag==I.BIT_STRING&&v.writeByte(0),w=E._child;w;){if(!h(w,v))return!1;w=w.next;}else switch(E.tag){case I.INTEGER:E.backingStore[E.dataIdx]>>7&&v.writeByte(0);v.copyBytes(E.backingStore,E.dataIdx,E.dataLen);break;case I.BIT_STRING:v.writeByte(0);v.copyBytes(E.backingStore,E.dataIdx,E.dataLen);break;case I.OCTET_STRING:v.copyBytes(E.backingStore,E.dataIdx,E.dataLen);break;case I.OBJECT_IDENTIFIER:v.copyBytes(E.backingStore,E.dataIdx,E.dataLen);}return!0;}function r(h){var v,E;v=h.readByte();E=v&127;if(E==v)return E;if(3<E||0===E)return-1;for(var w=v=0;w<E;++w)v=v<<8|h.readByte();return v;}function C(h,w,F){var E,z,H,S,B,ha,L;E=h.backingStore;z=new n(E,w);w+=F;F=h;if(8<aa++)return la;for(;z.getPosition()<w;){z.getPosition();B=z.readByte();if(31==(B&31)){for(S=0;B&128;)S<<=8,S|=B&127;B=S;}H=B;S=H&31;if(0>S||30<S)return la;B=r(z);if(0>B||B>z.getRemaining())return la;F.constructed=H&32;F.tagClass=(H&192)>>6;F.tag=S;F.dataLen=B;F.dataIdx=z.getPosition();S=z;ha=H;H=B;if(ha&32)S=!0;else if(ha<I.BIT_STRING||ha>I.OCTET_STRING)S=!1;else{L=new n(S);ha==I.BIT_STRING&&L.skip(1);L.readByte()>>6&1?S=!1:(ha=r(L),S=L.getPosition()-S.getPosition()+ha==H);}S&&(S=z.getPosition(),H=B,F.tag==I.BIT_STRING&&(F.dataIdx++,F.dataLen--,S++,H--),F.child=new v(E,F),C(F.child,S,H));F.tag==I.INTEGER&&(S=z.getPosition(),0==z.peekByte(S)&&z.peekByte(S+1)>>7&&(F.dataIdx++,F.dataLen--));z.skip(B);z.getPosition()<w&&(F.next=new v(E,F.parent),F=F.next);}aa--;return h;}function J(h,v,w){if(9!=w)return!1;for(w=0;9>w;++w)if(h[v++]!=Da[w])return!1;return!0;}function V(h){var v;if(!(h&&h.child&&h.child.next&&h.child.child&&h.child.next.child))return!1;v=h.child.child;return J(v.backingStore,v.dataIdx,v.dataLen)&&2==h.nChildren&&2==h.child.nChildren&&2==h.child.next.child.nChildren?!0:!1;}function Ta(h){var v;if(!(h&&h.child&&h.child.next&&h.child.next.child&&h.child.next.next&&h.child.next.next.child))return!1;v=h.child.next.child;return J(v.backingStore,v.dataIdx,v.dataLen)&&3==h.nChildren&&2==h.child.next.nChildren&&9==h.child.next.next.child.nChildren?!0:!1;}function Ha(h){var v,E;v=F.createSequenceNode();E=new Ca(v);E.addChild(F.createSequenceNode());E.addChild(F.createOidNode(Da));E.addSibling(F.createNullNode());E.addToParent(v,F.createBitStringNode(null));E.addChild(F.createSequenceNode());E.addChild(F.createIntegerNode(h.n));E.addSibling(F.createIntegerNode(h.e));return v;}function Ja(h){var v;h=h.child.next.child.child;v=h.data;h=h.next;return new ya(v,h.data,null,null);}function L(h){var v,E;v=F.createSequenceNode();E=new Ca(v);E.addChild(F.createIntegerNode(new Uint8Array([0])));E.addSibling(F.createSequenceNode());E.addChild(F.createOidNode(Da));E.addSibling(F.createNullNode());E.addToParent(v,F.createOctetStringNode(null));E.addChild(F.createSequenceNode());E.addChild(F.createIntegerNode(new Uint8Array([0])));E.addSibling(F.createIntegerNode(h.n));E.addSibling(F.createIntegerNode(h.e));E.addSibling(F.createIntegerNode(h.d));E.addSibling(F.createIntegerNode(h.p));E.addSibling(F.createIntegerNode(h.q));E.addSibling(F.createIntegerNode(h.dp));E.addSibling(F.createIntegerNode(h.dq));E.addSibling(F.createIntegerNode(h.qi));return v;}function H(h){var v;v=[];h=h.child.next.next.child.child.next;for(var E=0;8>E;E++)v.push(h.data),h=h.next;return new Y(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7]);}function w(h,v,w,F){if(!(h instanceof ya||h instanceof Y))return la;if(w)for(var E=0;E<w.length;++E)if(-1==na.indexOf(w[E]))return la;v={kty:"RSA",alg:v,key_ops:w||[],ext:F==la?!1:F,n:qa(h.n,!0),e:qa(h.e,!0)};h instanceof Y&&(v.d=qa(h.d,!0),v.p=qa(h.p,!0),v.q=qa(h.q,!0),v.dp=qa(h.dp,!0),v.dq=qa(h.dq,!0),v.qi=qa(h.qi,!0));return v;}function z(h){var v,w,E,F,z,H,I,B,aa,L;if(!h.kty||"RSA"!=h.kty||!h.n||!h.e)return la;v="RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512".split(" ");if(h.alg&&-1==v.indexOf(h.alg))return la;v=[];h.use?"enc"==h.use?v=["encrypt","decrypt","wrap","unwrap"]:"sig"==h.use&&(v=["sign","verify"]):v=h.key_ops;w=h.ext;E=za(h.n,!0);F=za(h.e,!0);if(h.d){z=za(h.d,!0);H=za(h.p,!0);I=za(h.q,!0);B=za(h.dp,!0);aa=za(h.dq,!0);L=za(h.qi,!0);return new Y(E,F,z,H,I,B,aa,L,h.alg,v,w);}return new ya(E,F,w,v);}function B(h,v,w,F){this.der=h;this.type=v;this.keyOps=w;this.extractable=F;}I={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};v=function(h,v,w,F,z,H){this._data=h;this._parent=v||la;this._constructed=w||!1;this._tagClass=0;this._tag=F||0;this._dataIdx=z||0;this._dataLen=H||0;};v.prototype={_child:la,_next:la,get data(){return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx+this._dataLen));},get backingStore(){return this._data;},get constructed(){return this._constructed;},set constructed(h){this._constructed=0!=h?!0:!1;},get tagClass(){return this._tagClass;},set tagClass(h){this._tagClass=h;},get tag(){return this._tag;},set tag(h){this._tag=h;},get dataIdx(){return this._dataIdx;},set dataIdx(h){this._dataIdx=h;},get dataLen(){return this._dataLen;},set dataLen(h){this._dataLen=h;},get child(){return this._child;},set child(h){this._child=h;this._child.parent=this;},get next(){return this._next;},set next(h){this._next=h;},get parent(){return this._parent;},set parent(h){this._parent=h;},get payloadLen(){var h;h=0;if(this._child){for(var v=this._child;v;)h+=v.length,v=v.next;this._tag==I.BIT_STRING&&h++;}else switch(this._tag){case I.INTEGER:h=this._dataLen;this._data[this._dataIdx]>>7&&h++;break;case I.BIT_STRING:h=this._dataLen+1;break;case I.OCTET_STRING:h=this._dataLen;break;case I.NULL:h=0;break;case I.OBJECT_IDENTIFIER:J(this._data,this._dataIdx,this._dataLen)&&(h=9);}return h;},get length(){var h,v;h=this.payloadLen;if(127<h)for(v=h;v;)v>>=8,++h;return h+2;},get der(){var v,w;v=this.length;if(!v)return la;v=new Uint8Array(v);w=new n(v);return h(this,w)?v:la;},get nChildren(){for(var h=0,v=this._child;v;)h++,v=v.next;return h;}};F={createSequenceNode:function(){return new v(null,null,!0,I.SEQUENCE,null,null);},createOidNode:function(h){return new v(h,null,!1,I.OBJECT_IDENTIFIER,0,h?h.length:0);},createNullNode:function(){return new v(null,null,!1,I.NULL,null,null);},createBitStringNode:function(h){return new v(h,null,!1,I.BIT_STRING,0,h?h.length:0);},createIntegerNode:function(h){return new v(h,null,!1,I.INTEGER,0,h?h.length:0);},createOctetStringNode:function(h){return new v(h,null,!1,I.OCTET_STRING,0,h?h.length:0);}};Ca=function(h){this._currentNode=this._rootNode=h;};Ca.prototype={addChild:function(h){this.addTo(this._currentNode,h);},addSibling:function(h){this.addTo(this._currentNode.parent,h);},addTo:function(h,v){this._currentNode=v;this._currentNode.parent=h;if(h.child){for(var w=h.child;w.next;)w=w.next;w.next=v;}else h.child=v;},addToParent:function(h,v){this.findNode(h)&&this.addTo(h,v);},findNode:function(h){for(var v=this._currentNode;v;){if(h==v)return!0;v=v.parent;}return!1;}};aa=0;Da=new Uint8Array([42,134,72,134,247,13,1,1,1]);ya=function(h,v,w,F){this.n=h;this.e=v;this.ext=w;this.keyOps=F;};Y=function(h,v,w,F,z,H,I,B,ha,aa,L){this.n=h;this.e=v;this.d=w;this.p=F;this.q=z;this.dp=H;this.dq=I;this.qi=B;this.alg=ha;this.keyOps=aa;this.ext=L;};na="sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits".split(" ");B.prototype.getDer=function(){return this.der;};B.prototype.getType=function(){return this.type;};B.prototype.getKeyOps=function(){return this.keyOps;};B.prototype.getExtractable=function(){return this.extractable;};l.parse=function(h){aa=0;return C(new v(h),0,h.length);};l.show=function(h,v){};l.isRsaSpki=V;l.isRsaPkcs8=Ta;l.NodeFactory=F;l.Builder=Ca;l.tagVal=I;l.RsaPublicKey=ya;l.RsaPrivateKey=Y;l.buildRsaSpki=Ha;l.parseRsaSpki=function(h){h=l.parse(h);return V?Ja(h):la;};l.buildRsaPkcs8=L;l.parseRsaPkcs8=function(h){h=l.parse(h);return Ta(h)?H(h):la;};l.buildRsaJwk=w;l.parseRsaJwk=z;l.RsaDer=B;l.rsaDerToJwk=function(h,v,F,z){h=l.parse(h);if(!h)return la;if(V(h))h=Ja(h);else if(Ta(h))h=H(h);else return la;return w(h,v,F,z);};l.jwkToRsaDer=function(h){var v,w;h=z(h);if(!h)return la;if(h instanceof ya)v="spki",w=Ha(h).der;else if(h instanceof Y)v="pkcs8",w=L(h).der;else return la;return new B(w,v,h.keyOps,h.ext);};l.webCryptoAlgorithmToJwkAlg=function(h){return"RSAES-PKCS1-v1_5"==h.name?"RSA1_5":"RSASSA-PKCS1-v1_5"==h.name?"SHA-256"==h.hash.name?"RS256":"SHA-384"==h.hash.name?"RS384":"SHA-512"==h.hash.name?"RS512":la:la;};l.webCryptoUsageToJwkKeyOps=function(h){return h.map(function(h){return"wrapKey"==h?"wrap":"unwrapKey"==h?"unwrap":h;});};}());h.ASN1=l;}(J));(function(){for(var h={},l={},n={"=":0,".":0},r={"=":0,".":0},C=/\s+/g,J=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,Ba=64;Ba--;)h["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ba]]=262144*Ba,l["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ba]]=4096*Ba,n["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ba]]=64*Ba,r["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ba]]=Ba;for(Ba=64;Ba--&&"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ba]!="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ba];)h["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ba]]=262144*Ba,l["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ba]]=4096*Ba,n["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ba]]=64*Ba,r["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ba]]=Ba;qa=function(h,l){for(var n="",V=0,L=h.length,H=L-2,w,z=l?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B=l?"":"=";V<H;)w=65536*h[V++]+256*h[V++]+h[V++],n+=z[w>>>18]+z[w>>>12&63]+z[w>>>6&63]+z[w&63];V==H?(w=65536*h[V++]+256*h[V++],n+=z[w>>>18]+z[w>>>12&63]+z[w>>>6&63]+B):V==L-1&&(w=65536*h[V++],n+=z[w>>>18]+z[w>>>12&63]+B+B);return n;};za=function(V,Ta){var Ha;V=V.replace(C,"");if(Ta){Ha=V.length%4;if(Ha)for(var Ha=4-Ha,Ja=0;Ja<Ha;++Ja)V+="=";}Ha=V.length;if(0!=Ha%4||!J.test(V))throw Error("bad base64: "+V);for(var L=Ha/4*3-("="==V[Ha-1]?1:0)-("="==V[Ha-2]?1:0),H=new Uint8Array(L),w=0,z=0;w<Ha;)Ja=h[V[w++]]+l[V[w++]]+n[V[w++]]+r[V[w++]],H[z++]=Ja>>>16,z<L&&(H[z++]=Ja>>>8&255,z<L&&(H[z++]=Ja&255));return H;};}());ab={};(function(){var J,Ba,V,Ha;function h(l){if(!(this instanceof h))return new h(l);for(var L=0,H=Ba.length;L<H;L++)this[Ba[L]]="";this.bufferCheckPosition=ab.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=l||{};this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=V.BEGIN;this.stack=new J();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;n(this,"onready");}function n(h,L,H){if(h[L])h[L](H);}function l(h,L){var H,w;H=h.opt;w=h.textNode;H.trim&&(w=w.trim());H.normalize&&(w=w.replace(/\s+/g," "));h.textNode=w;h.textNode&&n(h,L?L:"onvalue",h.textNode);h.textNode="";}function r(h,L){l(h);L+="\nLine: "+h.line+"\nColumn: "+h.column+"\nChar: "+h.c;L=Error(L);h.error=L;n(h,"onerror",L);return h;}function C(Ja){Ja.state!==V.VALUE&&r(Ja,"Unexpected end");l(Ja);Ja.c="";Ja.closed=!0;n(Ja,"onend");h.call(Ja,Ja.opt);return Ja;}J=Array;ab.parser=function(n){return new h(n);};ab.CParser=h;ab.MAX_BUFFER_LENGTH=65536;ab.DEBUG=!1;ab.INFO=!1;ab.EVENTS="value string key openobject closeobject openarray closearray error end ready".split(" ");Ba=["textNode","numberNode"];ab.EVENTS.filter(function(h){return"error"!==h&&"end"!==h;});V=0;ab.STATE={BEGIN:V++,VALUE:V++,OPEN_OBJECT:V++,CLOSE_OBJECT:V++,OPEN_ARRAY:V++,CLOSE_ARRAY:V++,TEXT_ESCAPE:V++,STRING:V++,BACKSLASH:V++,END:V++,OPEN_KEY:V++,CLOSE_KEY:V++,TRUE:V++,TRUE2:V++,TRUE3:V++,FALSE:V++,FALSE2:V++,FALSE3:V++,FALSE4:V++,NULL:V++,NULL2:V++,NULL3:V++,NUMBER_DECIMAL_POINT:V++,NUMBER_DIGIT:V++};for(var Ta in ab.STATE)ab.STATE[ab.STATE[Ta]]=Ta;V=ab.STATE;Object.getPrototypeOf||(Object.getPrototypeOf=function(h){return h.__proto__;});Ha=/[\\"\n]/g;h.prototype={end:function(){C(this);},write:function(h){var w,z,B;if(this.error)throw this.error;if(this.closed)return r(this,"Cannot write after close. Assign an onready handler.");if(null===h)return C(this);for(var L=h[0],H;L;){H=L;this.c=L=h.charAt(this.index++);H!==L?this.p=H:H=this.p;if(!L)break;this.position++;"\n"===L?(this.line++,this.column=0):this.column++;switch(this.state){case V.BEGIN:"{"===L?this.state=V.OPEN_OBJECT:"["===L?this.state=V.OPEN_ARRAY:"\r"!==L&&"\n"!==L&&" "!==L&&"\t"!==L&&r(this,"Non-whitespace before {[.");continue;case V.OPEN_KEY:case V.OPEN_OBJECT:if("\r"===L||"\n"===L||" "===L||"\t"===L)continue;if(this.state===V.OPEN_KEY)this.stack.push(V.CLOSE_KEY);else if("}"===L){n(this,"onopenobject");n(this,"oncloseobject");this.state=this.stack.pop()||V.VALUE;continue;}else this.stack.push(V.CLOSE_OBJECT);'"'===L?this.state=V.STRING:r(this,'Malformed object key should start with "');continue;case V.CLOSE_KEY:case V.CLOSE_OBJECT:if("\r"===L||"\n"===L||" "===L||"\t"===L)continue;":"===L?(this.state===V.CLOSE_OBJECT?(this.stack.push(V.CLOSE_OBJECT),l(this,"onopenobject")):l(this,"onkey"),this.state=V.VALUE):"}"===L?(l(this),n(this,"oncloseobject",void 0),this.state=this.stack.pop()||V.VALUE):","===L?(this.state===V.CLOSE_OBJECT&&this.stack.push(V.CLOSE_OBJECT),l(this),this.state=V.OPEN_KEY):r(this,"Bad object");continue;case V.OPEN_ARRAY:case V.VALUE:if("\r"===L||"\n"===L||" "===L||"\t"===L)continue;if(this.state===V.OPEN_ARRAY)if(n(this,"onopenarray"),this.state=V.VALUE,"]"===L){n(this,"onclosearray");this.state=this.stack.pop()||V.VALUE;continue;}else this.stack.push(V.CLOSE_ARRAY);'"'===L?this.state=V.STRING:"{"===L?this.state=V.OPEN_OBJECT:"["===L?this.state=V.OPEN_ARRAY:"t"===L?this.state=V.TRUE:"f"===L?this.state=V.FALSE:"n"===L?this.state=V.NULL:"-"===L?this.numberNode+=L:"0"===L?(this.numberNode+=L,this.state=V.NUMBER_DIGIT):-1!=="123456789".indexOf(L)?(this.numberNode+=L,this.state=V.NUMBER_DIGIT):r(this,"Bad value");continue;case V.CLOSE_ARRAY:if(","===L)this.stack.push(V.CLOSE_ARRAY),l(this,"onvalue"),this.state=V.VALUE;else if("]"===L)l(this),n(this,"onclosearray",void 0),this.state=this.stack.pop()||V.VALUE;else if("\r"===L||"\n"===L||" "===L||"\t"===L)continue;else r(this,"Bad array");continue;case V.STRING:H=this.index-1;w=this.slashed,z=this.unicodeI;a:for(;;){if(ab.DEBUG)for(;0<z;)if(this.unicodeS+=L,L=h.charAt(this.index++),4===z?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),z=0,H=this.index-1):z++,!L)break a;if('"'===L&&!w){this.state=this.stack.pop()||V.VALUE;(this.textNode+=h.substring(H,this.index-1))||n(this,"onvalue","");break;}if("\\"===L&&!w&&(w=!0,this.textNode+=h.substring(H,this.index-1),L=h.charAt(this.index++),!L))break;if(w)if(w=!1,"n"===L?this.textNode+="\n":"r"===L?this.textNode+="\r":"t"===L?this.textNode+="\t":"f"===L?this.textNode+="\f":"b"===L?this.textNode+="\b":"u"===L?(z=1,this.unicodeS=""):this.textNode+=L,L=h.charAt(this.index++),H=this.index-1,L)continue;else break;Ha.lastIndex=this.index;B=Ha.exec(h);if(null===B){this.index=h.length+1;this.textNode+=h.substring(H,this.index-1);break;}this.index=B.index+1;L=h.charAt(B.index);if(!L){this.textNode+=h.substring(H,this.index-1);break;}}this.slashed=w;this.unicodeI=z;continue;case V.TRUE:if(""===L)continue;"r"===L?this.state=V.TRUE2:r(this,"Invalid true started with t"+L);continue;case V.TRUE2:if(""===L)continue;"u"===L?this.state=V.TRUE3:r(this,"Invalid true started with tr"+L);continue;case V.TRUE3:if(""===L)continue;"e"===L?(n(this,"onvalue",!0),this.state=this.stack.pop()||V.VALUE):r(this,"Invalid true started with tru"+L);continue;case V.FALSE:if(""===L)continue;"a"===L?this.state=V.FALSE2:r(this,"Invalid false started with f"+L);continue;case V.FALSE2:if(""===L)continue;"l"===L?this.state=V.FALSE3:r(this,"Invalid false started with fa"+L);continue;case V.FALSE3:if(""===L)continue;"s"===L?this.state=V.FALSE4:r(this,"Invalid false started with fal"+L);continue;case V.FALSE4:if(""===L)continue;"e"===L?(n(this,"onvalue",!1),this.state=this.stack.pop()||V.VALUE):r(this,"Invalid false started with fals"+L);continue;case V.NULL:if(""===L)continue;"u"===L?this.state=V.NULL2:r(this,"Invalid null started with n"+L);continue;case V.NULL2:if(""===L)continue;"l"===L?this.state=V.NULL3:r(this,"Invalid null started with nu"+L);continue;case V.NULL3:if(""===L)continue;"l"===L?(n(this,"onvalue",null),this.state=this.stack.pop()||V.VALUE):r(this,"Invalid null started with nul"+L);continue;case V.NUMBER_DECIMAL_POINT:"."===L?(this.numberNode+=L,this.state=V.NUMBER_DIGIT):r(this,"Leading zero not followed by .");continue;case V.NUMBER_DIGIT:-1!=="0123456789".indexOf(L)?this.numberNode+=L:"."===L?(-1!==this.numberNode.indexOf(".")&&r(this,"Invalid number has two dots"),this.numberNode+=L):"e"===L||"E"===L?(-1===this.numberNode.indexOf("e")&&-1===this.numberNode.indexOf("E")||r(this,"Invalid number has two exponential"),this.numberNode+=L):"+"===L||"-"===L?("e"!==H&&"E"!==H&&r(this,"Invalid symbol in number"),this.numberNode+=L):(this.numberNode&&n(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop()||V.VALUE);continue;default:r(this,"Unknown state: "+this.state);}}if(this.position>=this.bufferCheckPosition){h=Math.max(ab.MAX_BUFFER_LENGTH,10);H=L=0;for(w=Ba.length;H<w;H++){z=this[Ba[H]].length;if(z>h)switch(Ba[H]){case"text":break;default:r(this,"Max buffer length exceeded: "+Ba[H]);}L=Math.max(L,z);}this.bufferCheckPosition=ab.MAX_BUFFER_LENGTH-L+this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};}());(function(){var r;function h(h,n){n||(n=h.length);return h.reduce(function(h,l,V){return V<n?h+String.fromCharCode(l):h;},"");}for(var n={},l=0;256>l;++l){r=h([l]);n[r]=l;}for(var C=Object.keys(n).length,J=[],l=0;256>l;++l)J[l]=[l];Hd=function(l,V){var v,F;function r(h,v){var F;for(;0<v;){if(z>=w.length)return!1;if(v>B){F=h;F=F>>>v-B;w[z]|=F&255;v-=B;B=8;++z;}else v<=B&&(F=h,F<<=B-v,F&=255,F>>>=8-B,w[z]|=F&255,B-=v,v=0,0==B&&(B=8,++z));}return!0;}for(var Ha in n)V[Ha]=n[Ha];for(var Ja=C,L=[],H=8,w=new Uint8Array(l.length),z=0,B=8,I=0;I<l.length;++I){v=l[I];L.push(v);Ha=h(L);F=V[Ha];if(!F){L=h(L,L.length-1);if(!r(V[L],H))return null;0!=Ja>>H&&++H;V[Ha]=Ja++;L=[v];}}return 0<L.length&&(Ha=h(L),F=V[Ha],!r(F,H))?null:w.subarray(0,8>B?z+1:z);};Id=function(h){var I,v,B,r;for(var l=J.slice(),n=0,r=0,Ja=8,L=new Uint8Array(Math.ceil(1.5*h.length)),H=0,w,z=[];n<h.length&&!(8*(h.length-n)-r<Ja);){for(var B=w=0;B<Ja;){I=Math.min(Ja-B,8-r);v=h[n];v=v<<r;v=v&255;v=v>>>8-I;B=B+I;r=r+I;8==r&&(r=0,++n);w|=(v&255)<<Ja-B;}B=l[w];0==z.length?++Ja:(B?z.push(B[0]):z.push(z[0]),l[l.length]=z,z=[],l.length==1<<Ja&&++Ja,B||(B=l[w]));w=H+B.length;w>=L.length&&(I=new Uint8Array(Math.ceil(1.5*w)),I.set(L),L=I);L.set(B,H);H=w;z=z.concat(B);}return L.subarray(0,H);};}());(function(){var h,n,r;Ka="utf-8";La=9007199254740992;h=Lb={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Lb);Jd=function(n){for(var l=[h.GZIP,h.LZW],r=0;r<l.length&&0<n.length;++r)for(var C=l[r],V=0;V<n.length;++V)if(n[V]==C)return C;return null;};n=wc={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(wc);Kd=function(h){return n.AES_CBC_PKCS5Padding==h?n.AES_CBC_PKCS5Padding:n.RSA_ECB_PKCS1Padding==h?n.RSA_ECB_PKCS1Padding:n[h];};r=Ld={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(Ld);Xc=function(h){return r[h];};l={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(l);}());ra={isObjectLiteral:function(h){return null!==h&&"object"===typeof h&&h.constructor===Object;},extendDeep:function(){var h,n,l,r,C,J,Ba,V;h=arguments[0];n=1;l=arguments.length;r=!1;"boolean"===typeof h&&(r=h,h=arguments[1],n=2);for(;n<l;n++)if(null!=(C=arguments[n]))for(J in C)r&&J in h||(V=C[J],h!==V&&V!==la&&(Ba=h[J],h[J]=null!==Ba&&null!==V&&"object"===typeof Ba&&"object"===typeof V?ra.extendDeep(r,{},Ba,V):V));return h;}};(function(){var Ba,V;function h(h,n){return function(){var l,L;l=h.base;h.base=n;L=h.apply(this,arguments);h.base=l;return L;};}function n(n,l,r){var L,H,w,z;r=r||V;z=!!r.extendAll;for(L in l)H=l.__lookupGetter__(L),w=l.__lookupSetter__(L),H||w?(H&&n.__defineGetter__(L,H),w&&n.__defineSetter__(L,w)):(H=l[L],w=n[L],"function"===typeof H&&"function"===typeof w&&H!==w?(H.base!==Function.prototype.base&&(H=h(H,w)),H.base=w):(z||r[L])&&ra.isObjectLiteral(H)&&ra.isObjectLiteral(w)&&(H=ra.extendDeep({},w,H)),n[L]=H);}function l(){var h,n;h=Array.prototype.slice;n=h.call(arguments,1);return this.extend({init:function L(){var H;H=h.call(arguments,0);L.base.apply(this,n.concat(H));}});}function r(h,l){var V;V=new this(Ba);n(V,h,l);return J(V);}function C(h,l){n(this.prototype,h,l);return this;}function J(h){var n;n=function(){var h;h=this.init;h&&arguments[0]!==Ba&&h.apply(this,arguments);};h&&(n.prototype=h);n.prototype.constructor=n;n.extend=r;n.bind=l;n.mixin=C;return n;}Ba={};V={actions:!0};Function.prototype.base=function(){};ra.Class={create:J,mixin:n,extend:function(h,n){var l;l=J();l.prototype=new h();return l.extend(n);}};ra.mixin=function(){ra.log&&ra.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");n.apply(null,arguments);};}());(function(){var Ba,V,Ta;function h(h,n){return function(){var l,H;l=h.base;h.base=n;H=h.apply(this,arguments);h.base=l;return H;};}function n(n,l,L){var H,w,z,B;L=L||V;B=!!L.extendAll;for(H in l)w=l.__lookupGetter__(H),z=l.__lookupSetter__(H),w||z?(w&&n.__defineGetter__(H,w),z&&n.__defineSetter__(H,z)):(w=l[H],z=n[H],"function"===typeof w&&"function"===typeof z&&w!==z?(w.base!==Ta&&(w=h(w,z)),w.base=z):(B||L[H])&&ra.isObjectLiteral(w)&&ra.isObjectLiteral(z)&&(w=ra.extendDeep({},z,w)),n[H]=w);}function l(){var h,n;h=Array.prototype.slice;n=h.call(arguments,1);return this.extend({init:function H(){var w;w=h.call(arguments,0);H.base.apply(this,n.concat(w));}});}function r(h,l){var L;L=new this(Ba);n(L,h,l);return J(L);}function C(h,l){n(this.prototype,h,l);return this;}function J(h){var n;n=function(){var h;h=this.init;h&&arguments[0]!==Ba&&h.apply(this,arguments);};h&&(n.prototype=h);n.prototype.constructor=n;n.extend=r;n.bind=l;n.mixin=C;return n;}Ba={};V={actions:!0};Ta=function(){};Function.prototype.base=Ta;ra.Class={create:J,mixin:n,extend:function(h,n){var l;l=J();l.prototype=new h();return l.extend(n);}};ra.mixin=function(){ra.log&&ra.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");n.apply(null,arguments);};}());(function(){function h(h){return h==La?1:h+1;}function n(n){if(0===Object.keys(n._waiters).length)return 0;for(var l=h(n._nextWaiter);!n._waiters[l];)l=h(l);return l;}gc=ra.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(h){var l;if(this._waiters[h]){l=this._waiters[h];delete this._waiters[h];h==this._nextWaiter&&(this._nextWaiter=n(this));l.call(this,la);}},cancelAll:function(){for(;0!==this._nextWaiter;)this.cancel(this._nextWaiter);},poll:function(l,C){var J,P;J=this;P=h(this._lastWaiter);this._lastWaiter=P;r(C,function(){var h,V;if(0<this._queue.length){h=this._queue.shift();setTimeout(function(){C.result(h);},0);}else{-1!=l&&(V=setTimeout(function(){delete J._waiters[P];P==J._nextWaiter&&(J._nextWaiter=n(J));C.timeout();},l));this._waiters[P]=function(h){clearTimeout(V);setTimeout(function(){C.result(h);},0);};this._nextWaiter||(this._nextWaiter=P);}},J);return P;},add:function(h){var l;if(this._nextWaiter){l=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=n(this);l.call(this,h);}else this._queue.push(h);}});}());(function(){var h;h=0-La;Md=ra.Class.create({nextBoolean:function(){var h;h=new Uint8Array(1);Bb.getRandomValues(h);return h[0]&1?!0:!1;},nextInt:function(h){var n;if(null!==h&&h!==la){if("number"!==typeof h)throw new TypeError("n must be of type number");if(1>h)throw new RangeError("n must be greater than zero");--h;n=new Uint8Array(4);Bb.getRandomValues(n);return Math.floor(((n[3]&127)<<24|n[2]<<16|n[1]<<8|n[0])/2147483648*(h-0+1)+0);}h=new Uint8Array(4);Bb.getRandomValues(h);n=(h[3]&127)<<24|h[2]<<16|h[1]<<8|h[0];return h[3]&128?-n:n;},nextLong:function(){var l,n;for(var n=h;n==h;){n=new Uint8Array(7);Bb.getRandomValues(n);l=16777216*((n[6]&31)<<24|n[5]<<16|n[4]<<8|n[3])+(n[2]<<16|n[1]<<8|n[0]);n=n[6]&128?-l-1:l;}return n;},nextBytes:function(h){Bb.getRandomValues(h);}});}());(function(){function h(h){return h==La?1:h+1;}function n(n){if(0===Object.keys(n._waitingReaders).length)return 0;for(var l=h(n._nextReader);!n._waitingReaders[l];)l=h(l);return l;}function l(n){if(0===Object.keys(n._waitingWriters).length)return 0;for(var l=h(n._nextWriter);!n._waitingWriters[l];)l=h(l);return l;}Yc=ra.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(h){var r;if(this._waitingReaders[h]){r=this._waitingReaders[h];delete this._waitingReaders[h];h==this._nextReader&&(this._nextReader=n(this));r.call(this,!0);}this._waitingWriters[h]&&(r=this._waitingWriters[h],delete this._waitingWriters[h],h==this._nextWriter&&(this._nextWriter=l(this)),r.call(this,!0));},cancelAll:function(){for(;0!==this._nextWriter;)this.cancel(this._nextWriter);for(;0!==this._nextReader;)this.cancel(this._nextReader);},readLock:function(l,C){var J,P;J=this;P=h(this._lastNumber);this._lastNumber=P;r(C,function(){var h;if(!this._writer&&0===Object.keys(this._waitingWriters).length)return this._readers[P]=!0,P;-1!=l&&(h=setTimeout(function(){delete J._waitingReaders[P];P==J._nextReader&&(J._nextReader=n(J));C.timeout();},l));this._waitingReaders[P]=function(n){clearTimeout(h);n?setTimeout(function(){C.result(la);},0):(J._readers[P]=!0,setTimeout(function(){C.result(P);},0));};this._nextReader||(this._nextReader=P);},J);return P;},writeLock:function(n,C){var J,P;J=this;P=h(this._lastNumber);this._lastNumber=P;r(C,function(){var h;if(0===Object.keys(this._readers).length&&0===Object.keys(this._waitingReaders).length&&!this._writer)return this._writer=P;-1!=n&&(h=setTimeout(function(){delete J._waitingWriters[P];P==J._nextWriter&&(J._nextWriter=l(J));C.timeout();},n));this._waitingWriters[P]=function(n){clearTimeout(h);n?setTimeout(function(){C.result(la);},0):(J._writer=P,setTimeout(function(){C.result(P);},0));};this._nextWriter||(this._nextWriter=P);},J);return P;},unlock:function(n){if(n==this._writer)this._writer=null;else{if(!this._readers[n])throw new da("There is no reader or writer with ticket number "+n+".");delete this._readers[n];}if(this._nextWriter)0<Object.keys(this._readers).length||(n=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=l(this),n.call(this,!1));else{for(var r=this._nextReader;0<Object.keys(this._waitingReaders).length;r=h(r))this._waitingReaders[r]&&(n=this._waitingReaders[r],delete this._waitingReaders[r],n.call(this,!1));this._nextReader=0;}}});}());ra.Class.mixin(h,{JSON_PARSE_ERROR:new h(0,l.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new h(1,l.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new h(2,l.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new h(3,l.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new h(4,l.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new h(5,l.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new h(6,l.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new h(7,l.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new h(8,l.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new h(9,l.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new h(10,l.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new h(11,l.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new h(12,l.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new h(13,l.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new h(14,l.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new h(15,l.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new h(16,l.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new h(17,l.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new h(18,l.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new h(19,l.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new h(20,l.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new h(21,l.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new h(22,l.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new h(23,l.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new h(24,l.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new h(25,l.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new h(26,l.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new h(27,l.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new h(28,l.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new h(29,l.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new h(30,l.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new h(31,l.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new h(32,l.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new h(33,l.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new h(34,l.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new h(35,l.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new h(36,l.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new h(37,l.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new h(38,l.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new h(39,l.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new h(40,l.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new h(41,l.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new h(42,l.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new h(43,l.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new h(44,l.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new h(45,l.FAIL,"Error exporting key."),DIGEST_ERROR:new h(46,l.FAIL,"Error in digest."),UNSUPPORTED_KEY:new h(47,l.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new h(48,l.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new h(49,l.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new h(50,l.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new h(51,l.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new h(52,l.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new h(53,l.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new h(54,l.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new h(55,l.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new h(56,l.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new h(57,l.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new h(58,l.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new h(59,l.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new h(60,l.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new h(61,l.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new h(62,l.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new h(1E3,l.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new h(1001,l.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new h(1002,l.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new h(1003,l.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new h(1004,l.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(1005,l.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new h(1006,l.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new h(1007,l.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new h(1008,l.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new h(1009,l.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new h(1010,l.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new h(1011,l.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new h(1012,l.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new h(1013,l.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new h(1014,l.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new h(2E3,l.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new h(2001,l.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new h(2002,l.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new h(2003,l.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new h(2004,l.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new h(2005,l.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(2006,l.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(2007,l.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new h(2008,l.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new h(2009,l.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new h(2010,l.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new h(2011,l.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new h(2012,l.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new h(2013,l.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new h(2014,l.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new h(2015,l.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new h(2016,l.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new h(2017,l.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new h(2018,l.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new h(2019,l.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new h(2020,l.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new h(3E3,l.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new h(3001,l.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new h(3002,l.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new h(3003,l.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new h(3004,l.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(3005,l.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(3006,l.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new h(3007,l.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new h(3008,l.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new h(3009,l.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new h(4E3,l.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new h(4001,l.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new h(4002,l.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new h(4003,l.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new h(4004,l.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new h(4005,l.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new h(4006,l.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new h(4007,l.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new h(4008,l.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new h(4009,l.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new h(4010,l.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new h(4011,l.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new h(4012,l.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new h(4013,l.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new h(4014,l.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new h(4015,l.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new h(4016,l.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new h(4017,l.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new h(4018,l.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new h(4019,l.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new h(4020,l.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new h(4021,l.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new h(4022,l.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new h(4023,l.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new h(4024,l.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new h(4025,l.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new h(4026,l.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new h(5E3,l.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new h(5001,l.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new h(5002,l.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new h(5003,l.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new h(5004,l.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new h(5005,l.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new h(5006,l.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new h(5007,l.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new h(5008,l.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new h(5009,l.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new h(5010,l.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new h(5011,l.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new h(5012,l.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new h(5013,l.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new h(5014,l.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new h(5015,l.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new h(5016,l.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new h(5017,l.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new h(5018,l.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new h(5019,l.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new h(5020,l.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new h(5021,l.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new h(5022,l.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new h(5023,l.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new h(5024,l.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new h(5025,l.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new h(5026,l.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new h(5027,l.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new h(5028,l.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new h(5029,l.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new h(5030,l.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new h(5031,l.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new h(5032,l.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new h(5033,l.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new h(5034,l.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new h(5035,l.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new h(5036,l.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new h(5037,l.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new h(5038,l.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new h(5039,l.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new h(5040,l.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new h(6E3,l.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new h(6001,l.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new h(6002,l.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new h(6003,l.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new h(6004,l.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new h(6005,l.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new h(6006,l.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new h(6007,l.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new h(6008,l.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new h(6009,l.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new h(6010,l.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new h(6011,l.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new h(6012,l.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new h(6013,l.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new h(6014,l.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new h(6015,l.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new h(6016,l.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new h(6017,l.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new h(6018,l.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new h(6019,l.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new h(6020,l.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new h(6021,l.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new h(6022,l.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new h(6023,l.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new h(6024,l.FAIL,"Invalid header data."),PAYLOAD_INVALID:new h(6025,l.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new h(6026,l.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new h(6027,l.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new h(6028,l.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new h(6029,l.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new h(6030,l.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new h(6031,l.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new h(6032,l.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new h(6033,l.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new h(6034,l.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new h(6035,l.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new h(6036,l.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new h(6037,l.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new h(7E3,l.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new h(7001,l.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new h(7002,l.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new h(7003,l.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new h(7004,l.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new h(7005,l.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new h(7006,l.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new h(7007,l.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new h(7008,l.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new h(7009,l.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new h(7010,l.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new h(7011,l.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new h(7012,l.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new h(7013,l.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new h(7014,l.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new h(7015,l.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new h(7016,l.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new h(8E3,l.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new h(8001,l.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new h(8002,l.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new h(8003,l.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new h(8004,l.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new h(8005,l.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new h(8006,l.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new h(8007,l.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new h(8008,l.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new h(8009,l.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new h(8010,l.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new h(8011,l.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new h(8012,l.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new h(9E3,l.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new h(9001,l.FAIL,"Error communicating with MSL entity."),NONE:new h(9999,l.FAIL,"Special unit test error.")});Object.freeze(h);(function(){C=ra.Class.create(Error());C.mixin({init:function(h,n,l){var J,P,da;function r(){return P?P:this.cause&&this.cause instanceof C?this.cause.messageId:la;}Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);J=h.message;n&&(J+=" ["+n+"]");da=this.stack;Object.defineProperties(this,{message:{value:J,writable:!1,configurable:!0},error:{value:h,writable:!1,configurable:!0},cause:{value:l,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:r,set:function(h){if(0>h||h>La)throw new RangeError("Message ID "+h+" is outside the valid range.");r()||(P=h);},configurable:!0},stack:{get:function(){var h;h=this.toString();da&&(h+="\n"+da);l&&l.stack&&(h+="\nCaused by "+l.stack);return h;},configurable:!0}});},setEntity:function(h){!h||this.masterToken||this.entityAuthenticationData||(h instanceof gb?this.masterToken=h:h instanceof Mb&&(this.entityAuthenticationData=h));return this;},setUser:function(h){!h||this.userIdToken||this.userAuthenticationData||(h instanceof Wb?this.userIdToken=h:h instanceof Db&&(this.userAuthenticationData=h));return this;},setMessageId:function(h){this.messageId=h;return this;},toString:function(){return this.name+": "+this.message;}});}());P=C.extend({init:function Ib(h,n,l){Ib.base.call(this,h,n,l);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});ga=C.extend({init:function nb(h,n,l){nb.base.call(this,h,n,l);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});tb=C.extend({init:function Ma(h,n,l){Ma.base.call(this,h,n,l);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){ib=ra.Class.create(Error());ib.mixin({init:function(h,n,l){var r;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);r=this.stack;Object.defineProperties(this,{message:{value:h,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},requestCause:{value:l,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var h;h=this.toString();r&&(h+="\n"+r);n&&n.stack&&(h+="\nCaused by "+n.stack);return h;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){Va=ra.Class.create(Error());Va.mixin({init:function(h,n){var l;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);l=this.stack;Object.defineProperties(this,{message:{value:h,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var h;h=this.toString();l&&(h+="\n"+l);n&&n.stack&&(h+="\nCaused by "+n.stack);return h;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){da=ra.Class.create(Error());da.mixin({init:function(h,n){var l;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);l=this.stack;Object.defineProperties(this,{message:{value:h,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var h;h=this.toString();l&&(h+="\n"+l);n&&n.stack&&(h+="\nCaused by "+n.stack);return h;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){bb=ra.Class.create(Error());bb.mixin({init:function(h,n){var l;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);l=this.stack;Object.defineProperties(this,{message:{value:h,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var h;h=this.toString();l&&(h+="\n"+l);n&&n.stack&&(h+="\nCaused by "+n.stack);return h;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());Pa=C.extend({init:function tc(h,n,l){tc.base.call(this,h,n,l);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Nb=C.extend({init:function Sc(h,n){Sc.base.call(this,h);Object.defineProperties(this,{masterToken:{value:n,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Ga=C.extend({init:function Ba(h,n,l){Ba.base.call(this,h,n,l);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});Ea=C.extend({init:function V(h,n,l){V.base.call(this,h,n,l);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var L;function h(h){return"undefined"===typeof h?!1:h;}function n(h){return h&&h.length?(db===L.V2014_02&&(h=h.map(function(h){return"wrap"==h?"wrapKey":"unwrap"==h?"unwrapKey":h;})),h):db===L.V2014_02?"encrypt decrypt sign verify deriveKey wrapKey unwrapKey".split(" "):"encrypt decrypt sign verify deriveKey wrap unwrap".split(" ");}function l(h,w,n,l,I){return Promise.resolve().then(function(){return Qa.importKey(h,w,n,l,I);})["catch"](function(v){var F;if("spki"!==h&&"pkcs8"!==h)throw v;v=ASN1.webCryptoAlgorithmToJwkAlg(n);F=ASN1.webCryptoUsageToJwkKeyOps(I);v=ASN1.rsaDerToJwk(w,v,F,l);if(!v)throw Error("Could not make valid JWK from DER input");v=JSON.stringify(v);return Qa.importKey("jwk",Rc(v),n,l,I);});}function r(h,w){return Promise.resolve().then(function(){return Qa.exportKey(h,w);})["catch"](function(n){if("spki"!==h&&"pkcs8"!==h)throw n;return Qa.exportKey("jwk",w).then(function(h){h=JSON.parse(Qc(new Uint8Array(h)));h=ASN1.jwkToRsaDer(h);if(!h)throw Error("Could not make valid DER from JWK input");return h.getDer().buffer;});});}L=xc={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(xc);db=L.LATEST;Ia={encrypt:function(h,w,n){switch(db){case L.LEGACY:return new Promise(function(z,l){var v;v=Qa.encrypt(h,w,n);v.oncomplete=function(h){z(h.target.result);};v.onerror=function(h){l(h);};});case L.V2014_01:case L.V2014_02:return Qa.encrypt(h,w,n).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},decrypt:function(h,w,n){switch(db){case L.LEGACY:return new Promise(function(z,l){var v;v=Qa.decrypt(h,w,n);v.oncomplete=function(h){z(h.target.result);};v.onerror=function(h){l(h);};});case L.V2014_01:case L.V2014_02:return Qa.decrypt(h,w,n).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},sign:function(h,w,n){switch(db){case L.LEGACY:return new Promise(function(z,l){var v;v=Qa.sign(h,w,n);v.oncomplete=function(h){z(h.target.result);};v.onerror=function(h){l(h);};});case L.V2014_01:case L.V2014_02:return Qa.sign(h,w,n).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},verify:function(h,w,n,l){switch(db){case L.LEGACY:return new Promise(function(z,v){var F;F=Qa.verify(h,w,n,l);F.oncomplete=function(h){z(h.target.result);};F.onerror=function(h){v(h);};});case L.V2014_01:case L.V2014_02:return Qa.verify(h,w,n,l);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},digest:function(h,w){switch(db){case L.LEGACY:return new Promise(function(n,l){var z;z=Qa.digest(h,w);z.oncomplete=function(h){n(h.target.result);};z.onerror=function(h){l(h);};});case L.V2014_01:case L.V2014_02:return Qa.digest(h,w).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},generateKey:function(l,w,z){var H,I;H=h(w);I=n(z);switch(db){case L.LEGACY:return new Promise(function(h,w){var v;v=Qa.generateKey(l,H,I);v.oncomplete=function(v){h(v.target.result);};v.onerror=function(h){w(h);};});case L.V2014_01:case L.V2014_02:return Qa.generateKey(l,H,I);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},deriveKey:function(l,w,z,B,I){var v,F;v=h(B);F=n(I);switch(db){case L.LEGACY:return new Promise(function(h,n){var I;I=Qa.deriveKey(l,w,z,v,F);I.oncomplete=function(v){h(v.target.result);};I.onerror=function(h){n(h);};});case L.V2014_01:case L.V2014_02:return Qa.deriveKey(l,w,z,v,F);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},importKey:function(H,w,z,B,I){var v,F;v=h(B);F=n(I);switch(db){case L.LEGACY:return new Promise(function(h,n){var l;l=Qa.importKey(H,w,z,v,F);l.oncomplete=function(v){h(v.target.result);};l.onerror=function(h){n(h);};});case L.V2014_01:case L.V2014_02:return l(H,w,z,v,F);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},exportKey:function(h,w){switch(db){case L.LEGACY:return new Promise(function(n,l){var z;z=Qa.exportKey(h,w);z.oncomplete=function(h){n(h.target.result);};z.onerror=function(h){l(h);};});case L.V2014_01:case L.V2014_02:return r(h,w).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},wrapKey:function(h,w,n,l){switch(db){case L.LEGACY:return new Promise(function(h,v){var F;F=Qa.wrapKey(w,n,l);F.oncomplete=function(v){h(v.target.result);};F.onerror=function(h){v(h);};});case L.V2014_01:case L.V2014_02:return Qa.wrapKey(h,w,n,l).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},unwrapKey:function(l,w,z,B,I,v,F){switch(db){case L.LEGACY:return new Promise(function(h,v){var n;n=Qa.unwrapKey(w,I,z);n.oncomplete=function(v){h(v.target.result);};n.onerror=function(h){v(h);};});case L.V2014_01:case L.V2014_02:return Qa.unwrapKey(l,w,z,B,I,h(v),n(F));default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}}};vc&&vc.getKeyByName&&(Ia.getKeyByName=function(h){switch(db){case L.LEGACY:return new Promise(function(w,n){var z;z=vc.getKeyByName(h);z.oncomplete=function(h){w(h.target.result);};z.onerror=function(h){n(h);};});case L.V2014_01:case L.V2014_02:return vc.getKeyByName(h);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}});J.netflix=J.netflix||{};J.netflix.crypto=Ia;}());ub={name:"AES-KW"};ob={name:"AES-CBC"};pb={name:"HMAC",hash:{name:"SHA-256"}};yc={name:"RSA-OAEP",hash:{name:"SHA-1"}};Zc={name:"RSAES-PKCS1-v1_5"};Nd={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};Eb=["encrypt","decrypt"];Fb=["wrap","unwrap"];Ob=["sign","verify"];(function(){$c=ra.Class.create({init:function(l,r,C){var L;function V(h){n(r,function(){var w;w=h?qa(h):la;Object.defineProperties(L,{rawKey:{value:l,writable:!1,configurable:!1},keyData:{value:h,writable:!1,configurable:!1},keyDataB64:{value:w,writable:!1,configurable:!1}});return this;},L);}L=this;n(r,function(){if(!l||"object"!=typeof l)throw new P(h.INVALID_SYMMETRIC_KEY);!C&&l.extractable?Ia.exportKey("raw",l).then(function(h){V(new Uint8Array(h));},function(n){r.error(new P(h.KEY_EXPORT_ERROR,"raw"));}):V(C);},L);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});Ub=function(h,n){new $c(h,n);};vb=function(l,r,C,J){n(J,function(){try{l="string"==typeof l?za(l):l;}catch(L){throw new P(h.INVALID_SYMMETRIC_KEY,"keydata "+l,L);}Ia.importKey("raw",l,r,!0,C).then(function(h){new $c(h,J,l);},function(n){J.error(new P(h.INVALID_SYMMETRIC_KEY));});});};}());(function(){zc=ra.Class.create({init:function(l,r,C){var L;function V(h){n(r,function(){Object.defineProperties(L,{rawKey:{value:l,writable:!1,configurable:!1},encoded:{value:h,writable:!1,configurable:!1}});return this;},L);}L=this;n(r,function(){if(!l||"object"!=typeof l||"public"!=l.type)throw new TypeError("Only original public crypto keys are supported.");!C&&l.extractable?Ia.exportKey("spki",l).then(function(h){V(new Uint8Array(h));},function(n){r.error(new P(h.KEY_EXPORT_ERROR,"spki"));}):V(C);});},getEncoded:function(){return this.encoded;}});Kb=function(h,n){new zc(h,n);};ad=function(l,r,C,J){n(J,function(){try{l="string"==typeof l?za(l):l;}catch(L){throw new P(h.INVALID_PUBLIC_KEY,"spki "+l,L);}Ia.importKey("spki",l,r,!0,C).then(function(h){new zc(h,J,l);},function(n){J.error(new P(h.INVALID_PUBLIC_KEY));});});};}());(function(){Od=ra.Class.create({init:function(l,r,C){var L;function V(h){n(r,function(){Object.defineProperties(L,{rawKey:{value:l,writable:!1,configurable:!1},encoded:{value:h,writable:!1,configurable:!1}});return this;},L);}L=this;n(r,function(){if(!l||"object"!=typeof l||"private"!=l.type)throw new TypeError("Only original private crypto keys are supported.");!C&&l.extractable?Ia.exportKey("pkcs8",l).then(function(h){V(new Uint8Array(h));},function(n){r.error(new P(h.KEY_EXPORT_ERROR,"pkcs8"));}):V(C);});},getEncoded:function(){return this.encoded;}});Vb=function(h,n){new Od(h,n);};}());(function(){var l;l=ed={V1:1,V2:2};bd=ra.Class.create({init:function(h,r,C,L){n(L,function(){var n,w,z,B;n=l.V1;w=h;z=null;for(B in wc)if(wc[B]==h){n=l.V2;w=null;z=h;break;}Object.defineProperties(this,{version:{value:n,writable:!1,enumerable:!1,configurable:!1},keyId:{value:w,writable:!1,configurable:!1},cipherSpec:{value:z,writable:!1,configurable:!1},iv:{value:r,writable:!1,configurable:!1},ciphertext:{value:C,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var h;h={};switch(this.version){case l.V1:h.keyid=this.keyId;this.iv&&(h.iv=qa(this.iv));h.ciphertext=qa(this.ciphertext);h.sha256="AA==";break;case l.V2:h.version=this.version;h.cipherspec=this.cipherSpec;this.iv&&(h.iv=qa(this.iv));h.ciphertext=qa(this.ciphertext);break;default:throw new da("Ciphertext envelope version "+this.version+" encoding unsupported.");}return h;}});cd=function(h,n,l,L){new bd(h,n,l,L);};dd=function(r,C,V){n(V,function(){var n,H,w,z,B,I,v;n=r.keyid;H=r.cipherspec;w=r.iv;z=r.ciphertext;B=r.sha256;if(!C)if((C=r.version)&&"number"===typeof C&&C===C){I=!1;for(v in l)if(l[v]==C){I=!0;break;}if(!I)throw new P(h.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(r));}else C=l.V1;switch(C){case l.V1:if("string"!==typeof n||w&&"string"!==typeof w||"string"!==typeof z||"string"!==typeof B)throw new ga(h.JSON_PARSE_ERROR,"ciphertext envelope "+JSON.stringify(r));break;case l.V2:v=r.version;if(v!=l.V2)throw new P(h.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(r));if("string"!==typeof H||w&&"string"!==typeof w||"string"!==typeof z)throw new ga(h.JSON_PARSE_ERROR,"ciphertext envelope "+JSON.stringify(r));H=Kd(H);if(!H)throw new P(h.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope "+JSON.stringify(r));n=H;break;default:throw new P(h.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(r));}try{w&&(w=za(w));z=za(z);}catch(F){throw new P(h.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope "+JSON.stringify(r),F);}new bd(n,w,z,V);});};}());(function(){var l;l=hd={V1:1,V2:2};wb=ra.Class.create({init:function(h,n,r){var L;switch(h){case l.V1:L=r;break;case l.V2:L={};L.version=h;L.algorithm=n;L.signature=qa(r);L=Sa(JSON.stringify(L),Ka);break;default:throw new da("Signature envelope version "+h+" encoding unsupported.");}Object.defineProperties(this,{version:{value:h,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:n,writable:!1,configurable:!1},signature:{value:r,writable:!1,configurable:!1},bytes:{value:L,writable:!1,configurable:!1}});}});fd=function(){var h,r,C,L;2==arguments.length?(h=l.V1,r=arguments[0],C=null,L=arguments[1]):3==arguments.length&&(h=l.V2,C=arguments[0],r=arguments[1],L=arguments[2]);n(L,function(){return new wb(h,C,r);});};gd=function(r,C,V){n(V,function(){var n,H,w,z,B,I,v;if(C)switch(C){case l.V1:return new wb(l.V1,null,r);case l.V2:try{n=Ua(r,Ka);H=JSON.parse(n);w=parseInt(H.version);z=H.algorithm;B=H.signature;if(!w||"number"!==typeof w||w!=w||"string"!==typeof z||"string"!==typeof B)throw new ga(h.JSON_PARSE_ERROR,"signature envelope "+qa(r));if(l.V2!=w)throw new P(h.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+qa(r));I=Xc(z);if(!I)throw new P(h.UNIDENTIFIED_ALGORITHM,"signature envelope "+qa(r));v=za(B);if(!v)throw new P(h.INVALID_SIGNATURE,"signature envelope "+Base64Util.encode(r));return new wb(l.V2,I,v);}catch(F){if(F instanceof SyntaxError)throw new ga(h.JSON_PARSE_ERROR,"signature envelope "+qa(r),F);throw F;}default:throw new P(h.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+qa(r));}try{n=Ua(r,Ka);H=JSON.parse(n);}catch(F){H=null;}if(H&&H.version){if(n=H.version,"number"!==typeof n||n!==n)n=l.V1;}else n=l.V1;switch(n){case l.V1:return new wb(n,null,r);case l.V2:I=H.algorithm;B=H.signature;if("string"!==typeof I||"string"!==typeof B)return new wb(l.V1,null,r);I=Xc(I);if(!I)return new wb(l.V1,null,r);try{v=za(B);}catch(F){return new wb(l.V1,null,r);}return new wb(n,I,v);default:throw new P(h.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+r);}});};}());Xb=ra.Class.create({encrypt:function(h,n){},decrypt:function(h,n){},wrap:function(h,n){},unwrap:function(h,n,l,r){},sign:function(h,n){},verify:function(h,n,l){}});(function(){var l;l=yb={RSA_OAEP:yc.name,A128KW:ub.name};rb="A128GCM";xb=ra.Class.create({init:function(h,n,r,L,H){switch(n){case l.RSA_OAEP:H=H&&(H.rawKey||H);L=L&&(L.rawKey||L);break;case l.A128KW:H=L=L&&(L.rawKey||L);break;default:throw new da("Unsupported algorithm: "+n);}Object.defineProperties(this,{_ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},_algo:{value:n,writable:!1,enumerable:!1,configurable:!1},_enc:{value:r,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:H,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:L,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(n,l){l.error(new P(h.ENCRYPT_NOT_SUPPORTED));},decrypt:function(n,l){l.error(new P(h.DECRYPT_NOT_SUPPORTED));},wrap:function(l,r){n(r,function(){Ia.wrapKey("jwe+jwk",l.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(h){r.result(h);},function(n){r.error(new P(h.WRAP_ERROR));});},this);},unwrap:function(l,r,C,L){function H(l){n(L,function(){switch(l.type){case"secret":Ub(l,L);break;case"public":Kb(l,L);break;case"private":Vb(l,L);break;default:throw new P(h.UNSUPPORTED_KEY,"type: "+l.type);}});}n(L,function(){Ia.unwrapKey("jwe+jwk",l,this._unwrapKey,this._unwrapKey.algorithm,r,!1,C).then(function(h){H(h);},function(){L.error(new P(h.UNWRAP_ERROR));});},this);},sign:function(n,l){l.error(new P(h.SIGN_NOT_SUPPORTED));},verify:function(n,l,r){r.error(new P(h.VERIFY_NOT_SUPPORTED));}});}());Yb=Xb.extend({encrypt:function(h,n){n.result(h);},decrypt:function(h,n){n.result(h);},wrap:function(h,n){n.result(h);},unwrap:function(h,n,l,r){r.result(h);},sign:function(h,n){n.result(new Uint8Array(0));},verify:function(h,n,l){l.result(!0);}});(function(){var l;l=Bc={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};Ac=Xb.extend({init:function Ha(h,n,H,w,z){Ha.base.call(this);H&&(H=H.rawKey);w&&(w=w.rawKey);Object.defineProperties(this,{id:{value:n,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:H,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:w,writable:!1,enumerable:!1,configurable:!1},transform:{value:z==l.ENCRYPT_DECRYPT_PKCS1?Zc:z==l.ENCRYPT_DECRYPT_OAEP?yc:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:z==l.WRAP_UNWRAP_PKCS1?Zc:z==l.WRAP_UNWRAP_OAEP?yc:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:z==l.SIGN_VERIFY?Nd:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(l,r){var L;L=this;n(r,function(){if("nullOp"==this.transform)return l;if(!this.publicKey)throw new P(h.ENCRYPT_NOT_SUPPORTED,"no public key");if(0==l.length)return l;Ia.encrypt(L.transform,L.publicKey,l).then(function(n){cd(L.id,null,n,{result:function(n){var l;try{l=JSON.stringify(n);r.result(Sa(l,Ka));}catch(B){r.error(new P(h.ENCRYPT_ERROR,null,B));}},error:function(n){n instanceof C||(n=new P(h.ENCRYPT_ERROR,null,n));r.error(n);}});},function(n){r.error(new P(h.ENCRYPT_ERROR));});},this);},decrypt:function(l,r){var L;L=this;n(r,function(){var n,w;if("nullOp"==this.transform)return l;if(!this.privateKey)throw new P(h.DECRYPT_NOT_SUPPORTED,"no private key");if(0==l.length)return l;try{w=Ua(l,Ka);n=JSON.parse(w);}catch(z){if(z instanceof SyntaxError)throw new P(h.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,z);throw new P(h.DECRYPT_ERROR,null,z);}dd(n,ed.V1,{result:function(n){var l;try{if(n.keyId!=L.id)throw new P(h.ENVELOPE_KEY_ID_MISMATCH);l=r.result;Ia.decrypt(L.transform,L.privateKey,n.ciphertext).then(l,function(n){r.error(new P(h.DECRYPT_ERROR));});}catch(I){I instanceof C?r.error(I):r.error(new P(h.DECRYPT_ERROR,null,I));}},error:function(n){n instanceof ga&&(n=new P(h.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,n));n instanceof C||(n=new P(h.DECRYPT_ERROR,null,n));r.error(n);}});},this);},wrap:function(l,r){n(r,function(){var n;if("nullOp"==this.wrapTransform||!this.publicKey)throw new P(h.WRAP_NOT_SUPPORTED,"no public key");n=r.result;Ia.wrapKey("jwk",l.rawKey,this.publicKey,this.wrapTransform).then(n,function(n){r.error(new P(h.WRAP_ERROR));});},this);},unwrap:function(l,r,L,H){function w(l){n(H,function(){switch(l.type){case"secret":Ub(l,H);break;case"public":Kb(l,H);break;case"private":Vb(l,H);break;default:throw new P(h.UNSUPPORTED_KEY,"type: "+l.type);}});}n(H,function(){if("nullOp"==this.wrapTransform||!this.privateKey)throw new P(h.UNWRAP_NOT_SUPPORTED,"no private key");Ia.unwrapKey("jwk",l,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},r,!1,L).then(w,function(n){H.error(new P(h.UNWRAP_ERROR));});},this);},sign:function(l,r){n(r,function(){if("nullOp"==this.algo)return new Uint8Array(0);if(!this.privateKey)throw new P(h.SIGN_NOT_SUPPORTED,"no private key");Ia.sign(this.algo,this.privateKey,l).then(function(h){fd(h,{result:function(h){r.result(h.bytes);},error:r.error});},function(n){r.error(new P(h.SIGNATURE_ERROR));});},this);},verify:function(l,r,L){var H;H=this;n(L,function(){if("nullOp"==this.algo)return!0;if(!this.publicKey)throw new P(h.VERIFY_NOT_SUPPORTED,"no public key");gd(r,hd.V1,{result:function(w){n(L,function(){var n;n=L.result;Ia.verify(this.algo,this.publicKey,w.signature,l).then(n,function(n){L.error(new P(h.SIGNATURE_ERROR));});},H);},error:L.error});},this);}});}());(function(){Cc=Xb.extend({init:function Ta(h,n,l,H,w){Ta.base.call(this);l=l&&l.rawKey;H=H&&H.rawKey;w=w&&w.rawKey;Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},id:{value:n,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:l,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:H,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:w,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(l,r){var J;J=this;n(r,function(){var n;if(!this.encryptionKey)throw new P(h.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0==l.length)return l;n=new Uint8Array(16);this.ctx.getRandom().nextBytes(n);Ia.encrypt({name:ob.name,iv:n},J.encryptionKey,l).then(function(l){l=new Uint8Array(l);cd(J.id,n,l,{result:function(n){var l;try{l=JSON.stringify(n);r.result(Sa(l,Ka));}catch(B){r.error(new P(h.ENCRYPT_ERROR,null,B));}},error:function(n){n instanceof C||(n=new P(h.ENCRYPT_ERROR,null,n));r.error(n);}});},function(n){r.error(new P(h.ENCRYPT_ERROR));});},this);},decrypt:function(l,r){var J;J=this;n(r,function(){var n,H;if(!this.encryptionKey)throw new P(h.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0==l.length)return l;try{H=Ua(l,Ka);n=JSON.parse(H);}catch(w){if(w instanceof SyntaxError)throw new P(h.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,w);throw new P(h.DECRYPT_ERROR,null,w);}dd(n,ed.V1,{result:function(n){try{if(n.keyId!=J.id)throw new P(h.ENVELOPE_KEY_ID_MISMATCH);Ia.decrypt({name:ob.name,iv:n.iv},J.encryptionKey,n.ciphertext).then(function(h){h=new Uint8Array(h);r.result(h);},function(){r.error(new P(h.DECRYPT_ERROR));});}catch(z){z instanceof C?r.error(z):r.error(new P(h.DECRYPT_ERROR,null,z));}},error:function(n){n instanceof ga&&(n=new P(h.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,n));n instanceof C||(n=new P(h.DECRYPT_ERROR,null,n));r.error(n);}});},this);},wrap:function(l,r){n(r,function(){if(!this.wrapKey)throw new P(h.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Ia.wrapKey("raw",l.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(h){r.result(h);},function(n){r.error(new P(h.WRAP_ERROR));});},this);},unwrap:function(l,r,C,L){function H(l){n(L,function(){switch(l.type){case"secret":Ub(l,L);break;case"public":Kb(l,L);break;case"private":Vb(l,L);break;default:throw new P(h.UNSUPPORTED_KEY,"type: "+l.type);}});}n(L,function(){if(!this.wrapKey)throw new P(h.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Ia.unwrapKey("raw",l,this.wrapKey,this.wrapKey.algorithm,r,!1,C).then(function(h){H(h);},function(n){L.error(new P(h.UNWRAP_ERROR));});},this);},sign:function(l,r){var C;C=this;n(r,function(){if(!this.hmacKey)throw new P(h.SIGN_NOT_SUPPORTED,"no HMAC key.");Ia.sign(pb,this.hmacKey,l).then(function(h){n(r,function(){var n;n=new Uint8Array(h);fd(n,{result:function(h){r.result(h.bytes);},error:r.error});},C);},function(){r.error(new P(h.HMAC_ERROR));});},this);},verify:function(l,r,C){var L;L=this;n(C,function(){if(!this.hmacKey)throw new P(h.VERIFY_NOT_SUPPORTED,"no HMAC key.");gd(r,hd.V1,{result:function(H){n(C,function(){Ia.verify(pb,this.hmacKey,H.signature,l).then(function(h){C.result(h);},function(n){C.error(new P(h.HMAC_ERROR));});},L);},error:C.error});},this);}});}());hb=Cc.extend({init:function Ta(n,l,r,H,w){if(r||H||w)Ta.base.call(this,n,r+"_"+l.sequenceNumber,H,w,null);else{if(!l.isDecrypted())throw new Nb(h.MASTERTOKEN_UNTRUSTED,l);Ta.base.call(this,n,l.identity+"_"+l.sequenceNumber,l.encryptionKey,l.hmacKey,null);}}});Te=Xb.extend({encrypt:function(h,n){n.result(h);},decrypt:function(h,n){n.result(h);},wrap:function(h,n){n.error(new da("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(h,n,l,r){r.error(new da("Unwrap is unsupported by the MSL token crypto context."));},sign:function(h,n){n.result(new Uint8Array(0));},verify:function(h,n,l){l.result(!1);}});Oa={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Oa);(function(){Mb=ra.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(h){return this===h?!0:h instanceof Mb?this.scheme==h.scheme:!1;},toJSON:function(){var h;h={};h.scheme=this.scheme;h.authdata=this.getAuthData();return h;}});Pd=function(n,l){var r,L,H;r=l.scheme;L=l.authdata;if(!r||!L)throw new ga(h.JSON_PARSE_ERROR,"entityauthdata "+JSON.stringify(l));if(!Oa[r])throw new tb(h.UNIDENTIFIED_ENTITYAUTH_SCHEME,r);H=n.getEntityAuthenticationFactory(r);if(!H)throw new tb(h.ENTITYAUTH_FACTORY_NOT_FOUND,r);return H.createData(n,L);};}());Dc=ra.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},createData:function(h,n){},getCryptoContext:function(h,n){}});(function(){kb=Mb.extend({init:function Ha(h){Ha.base.call(this,Oa.MGK);Object.defineProperties(this,{identity:{value:h,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var h;h={};h.identity=this.identity;return h;},equals:function Ja(h){return this===h?!0:h instanceof kb?Ja.base.call(this,this,h)&&this.identity==h.identity:!1;}});Qd=function(n){var l;l=n.identity;if(!l)throw new ga(h.JSON_PARSE_ERROR,"mgk authdata"+JSON.stringify(n));return new kb(l);};}());Ue=Dc.extend({init:function Ha(h){Ha.base.call(this,Oa.MGK);Object.defineProperties(this,{localIdentity:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createData:function(h,n){return Qd(n);},getCryptoContext:function(n,l){if(!(l instanceof kb))throw new da("Incorrect authentication data type "+JSON.stringify(l)+".");if(l.identity!=this.localIdentity)throw new tb(h.ENTITY_NOT_FOUND,"mgk "+l.identity).setEntity(l);return new Yb();}});(function(){qb=Mb.extend({init:function Ja(h){Ja.base.call(this,Oa.PSK);Object.defineProperties(this,{identity:{value:h,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var h;h={};h.identity=this.identity;return h;},equals:function L(h){return this===h?!0:h instanceof qb?L.base.call(this,this,h)&&this.identity==h.identity:!1;}});Rd=function(n){var l;l=n.identity;if(!l)throw new ga(h.JSON_PARSE_ERROR,"psk authdata"+JSON.stringify(n));return new qb(l);};}());Sd=Dc.extend({init:function Ja(h){Ja.base.call(this,Oa.PSK);Object.defineProperties(this,{localIdentity:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createData:function(h,n){return Rd(n);},getCryptoContext:function(n,l){if(!(l instanceof qb))throw new da("Incorrect authentication data type "+JSON.stringify(l)+".");if(l.getIdentity()!=this.localIdentity)throw new tb(h.ENTITY_NOT_FOUND,"psk "+l.identity).setEntity(l);return new Yb();}});(function(){Ec=Mb.extend({init:function L(h,n){L.base.call(this,Oa.RSA);Object.defineProperties(this,{identity:{value:h,writable:!1,configurable:!1},publicKeyId:{value:n,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var h;h={};h.identity=this.identity;h.pubkeyid=this.publicKeyId;return h;},equals:function H(h){return this===h?!0:h instanceof Ec?H.base.call(this,this,h)&&this.identity==h.identity&&this.publicKeyId==h.publicKeyId:!1;}});Td=function(n){var l,z;l=n.identity;z=n.pubkeyid;if(!l||"string"!==typeof l||!z||"string"!==typeof z)throw new ga(h.JSON_PARSE_ERROR,"RSA authdata"+JSON.stringify(n));return new Ec(l,z);};}());Ve=Dc.extend({init:function L(h){L.base.call(this,Oa.RSA);Object.defineProperties(this,{store:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createData:function(h,n){return Td(n);},getCryptoContext:function(n,l){var w,z,B;if(!(l instanceof Ec))throw new da("Incorrect authentication data type "+l+".");w=l.identity;z=l.publicKeyId;B=this.store.getPublicKey(z);if(!B)throw new tb(h.RSA_PUBLICKEY_NOT_FOUND,z).setEntity(l);return new Ac(n,w,null,B,Bc.SIGN_VERIFY);}});(function(){fc=Mb.extend({init:function H(h){H.base.call(this,Oa.NONE);Object.defineProperties(this,{identity:{value:h,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var h;h={};h.identity=this.identity;return h;},equals:function w(h){return this===h?!0:h instanceof fc?w.base.call(this,this,h)&&this.identity==h.identity:!1;}});Ud=function(n){var l;l=n.identity;if(!l)throw new ga(h.JSON_PARSE_ERROR,"Unauthenticated authdata"+JSON.stringify(n));return new fc(l);};}());Se=Dc.extend({init:function H(){H.base.call(this,Oa.NONE);},createData:function(h,n){return Ud(n);},getCryptoContext:function(h,n){if(!(n instanceof fc))throw new da("Incorrect authentication data type "+JSON.stringify(n)+".");return new Yb();}});We=ra.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(h,n){if(!(n instanceof zc))throw new da("Incorrect key data type "+n+".");this.rsaKeys[h]=n;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(h){delete this.rsaKeys[h];},getPublicKey:function(h){return this.rsaKeys[h];}});id=ra.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(h,n,l){}});Fc=ra.Class.create({abort:function(){},close:function(h,n){},write:function(h,n,l,B,I){},flush:function(h,n){}});Xe=ra.Class.create({init:function(h){Object.defineProperties(this,{_data:{value:h,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1==this._mark)throw new Va("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return!0;},read:function(h,n,l){r(l,function(){var n;if(this._closed)throw new Va("Stream is already closed.");if(this._currentPosition==this._data.length)return null;-1==h&&(h=this._data.length-this._currentPosition);n=this._data.subarray(this._currentPosition,this._currentPosition+h);this._currentPosition+=n.length;return n;},this);}});Ye=ra.Class.create({init:function(){var h;h={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},abort:function(){},close:function(h,n){this._closed=!0;n.result(!0);},write:function(h,n,l,B,I){r(I,function(){var v;if(this._closed)throw new Va("Stream is already closed.");if(0>n)throw new RangeError("Offset cannot be negative.");if(0>l)throw new RangeError("Length cannot be negative.");if(n+l>h.length)throw new RangeError("Offset plus length cannot be greater than the array length.");v=h.subarray(n,l);this._buffered.push(v);return v.length;},this);},flush:function(h,n){var l,w;for(;0<this._buffered.length;){l=this._buffered.shift();if(this._result){w=new Uint8Array(this._result.length+l.length);w.set(this._result);w.set(l,this._result.length);this._result=w;}else this._result=new Uint8Array(l);}n.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});Ze=ra.Class.create({getResponse:function(h,n,l){}});(function(){var h,n;h=Fc.extend({init:function(h,n){var l;l={_httpLocation:{value:h,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:n,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new Ye(),writable:!1,enumerable:!1,configurable:!1},_response:{value:la,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:la,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new gc(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,l);},setTimeout:function(h){this._timeout=h;},getResponse:function(h,n){var l;l=this;this._responseQueue.poll(h,{result:function(h){r(n,function(){h&&this._responseQueue.add(h);return h;},l);},timeout:function(){r(n,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();n.timeout();},l);},error:function(h){r(n,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw h;},l);}});},abort:function(){this._abortToken&&this._abortToken.abort();},close:function(h,n){var l;l=this;r(n,function(){var h;if(this._response)return!0;h=this._buffer.toByteArray();0<h.length&&(this._abortToken=this._httpLocation.getResponse({body:h},this._timeout,{result:function(h){l._response={response:h};l._responseQueue.add(l._response);},timeout:function(){l._response={isTimeout:!0};l._responseQueue.add(l._response);},error:function(h){l._response={isError:!0,error:h};l._responseQueue.add(l._response);}}));return!0;},this);},write:function(h,n,l,v,F){r(F,function(){if(this._response)throw new Va("HttpOutputStream already closed.");this._buffer.write(h,n,l,v,F);},this);},flush:function(h,n){r(n,function(){if(this._response)return!0;this._buffer.flush(h,n);},this);}});n=id.extend({init:function(h){Object.defineProperties(this,{_out:{value:h,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:la,writable:!0,enumerable:!1,configurable:!1},_exception:{value:la,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:la,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer&&this._buffer.close();},mark:function(){this._buffer||this._buffer.mark();},reset:function(){this._buffer&&this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(h,n,l){var F;function v(v){r(l,function(){if(!v)return new Uint8Array(0);this._out.getResponse(n,{result:function(v){r(l,function(){var w;if(v.isTimeout)this._timedout=!0,l.timeout();else{if(v.isError)throw this._exception=v.error||new Va("Unknown HTTP exception."),this._exception;if(!v.response)throw this._exception=new Va("Missing HTTP response."),this._exception;v.response.json!==la&&(this._json=v.response.json,this.getJSON=function(){return F._json;});w=v.response.content||Rc("string"===typeof v.response.body?v.response.body:JSON.stringify(this._json));this._buffer=new Xe(w);this._buffer.read(h,n,l);}},F);},timeout:function(){l.timeout();},error:function(h){l.error(h);}});},F);}F=this;r(l,function(){if(this._exception)throw this._exception;if(this._timedout)l.timeout();else{if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(h,n,l):this._out.close(n,{result:function(h){v(h);},timeout:function(){l.timeout();},error:function(h){l.error(h);}});}},F);}});Ed=ra.Class.create({init:function(h,n){Object.defineProperties(this,{_httpLocation:{value:h,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:n,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(h){this._timeout=h;},openConnection:function(){var l;l=new h(this._httpLocation,this._timeout);return{input:new n(l),output:l};}});}());(function(){var h,n;h=Fc.extend({init:function(){var h;h={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},setTimeout:function(){},getResponse:function(h,n){n.result({success:!1,content:null,errorHttpCode:la,errorSubCode:la});},abort:function(){},close:function(h,n){n.result(!0);},write:function(h,n,l,v,F){var w,z;try{if(0>n)throw new RangeError("Offset cannot be negative.");if(0>l)throw new RangeError("Length cannot be negative.");if(n+l>h.length)throw new RangeError("Offset plus length cannot be greater than the array length.");w=h.subarray(n,l);z=new Uint8Array(this._buffer.length+w.length);z.set(this._buffer);z.set(w,this._buffer.length);this._buffer=z;F.result(w.length);}catch(Da){F.error(Da);}},flush:function(h,n){n.result(!0);},request:function(){return this._buffer;}});n=id.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(h,n,l){l.result(new Uint8Array(16));}});Fd=ra.Class.create({init:function(){var l;l={output:{value:new h(),writable:!1,enumerable:!1,configurable:!1},input:{value:new n(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,l);},setTimeout:function(){},openConnection:function(){return{input:this.input,output:this.output};},getRequest:function(){return Qc(this.output.request());}});}());Vd=function(h,n,l){function w(h){var n,l;h=new $e(Ua(h,"utf-8"));n=[];for(l=h.nextValue();l!==la;)n.push(l),l=h.nextValue();return n;}(function(h,n,F){h.read(-1,n,{result:function(h){h&&h.length?F(null,h):F(null,null);},timeout:function(){l.timeout();},error:function(h){F(h,null);}});}(h,n,function(n,v){n?l.error(n):v?h.getJSON!==la&&"function"===typeof h.getJSON?l.result(h.getJSON()):l.result(w(v)):l.result(null);}));};jb={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(jb);(function(){hc=ra.Class.create({init:function(h){Object.defineProperties(this,{keyExchangeScheme:{value:h,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var h;h={};h.scheme=this.keyExchangeScheme;h.keydata=this.getKeydata();return h;},equals:function(h){return this===h?!0:h instanceof hc?this.keyExchangeScheme==h.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});Wd=function(l,w,z){n(z,function(){var n,r,v;n=w.scheme;r=w.keydata;if(!n||!r||"object"!==typeof r)throw new ga(h.JSON_PARSE_ERROR,"keyrequestdata "+JSON.stringify(w));if(!jb[n])throw new Pa(h.UNIDENTIFIED_KEYX_SCHEME,n);v=l.getKeyExchangeFactory(n);if(!v)throw new Pa(h.KEYX_FACTORY_NOT_FOUND,n);v.createRequestData(l,r,z);});};}());(function(){ic=ra.Class.create({init:function(h,n){Object.defineProperties(this,{masterToken:{value:h,writable:!1,configurable:!1},keyExchangeScheme:{value:n,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var h;h={};h.mastertoken=this.masterToken;h.scheme=this.keyExchangeScheme;h.keydata=this.getKeydata();return h;},equals:function(h){return this===h?!0:h instanceof ic?this.masterToken.equals(h.masterToken)&&this.keyExchangeScheme==h.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey()+":"+this.keyExchangeScheme;}});Xd=function(l,w,z){n(z,function(){var r,I,v;r=w.mastertoken;I=w.scheme;v=w.keydata;if(!I||!r||"object"!==typeof r||!v||"object"!==typeof v)throw new ga(h.JSON_PARSE_ERROR,"keyresponsedata "+JSON.stringify(w));if(!jb[I])throw new Pa(h.UNIDENTIFIED_KEYX_SCHEME,I);Pb(l,r,{result:function(F){n(z,function(){var n;n=l.getKeyExchangeFactory(I);if(!n)throw new Pa(h.KEYX_FACTORY_NOT_FOUND,I);return n.createResponseData(l,F,v);});},error:function(h){z.error(h);}});});};}());(function(){var l;l=ra.Class.create({init:function(h,n){Object.defineProperties(this,{keyResponseData:{value:h,writable:!1,configurable:!1},cryptoContext:{value:n,writable:!1,configurable:!1}});}});lb=ra.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},createRequestData:function(h,n,l){},createResponseData:function(h,n,l){},generateResponse:function(h,n,l,r){},getCryptoContext:function(h,n,l,r,v){},generateSessionKeys:function(l,z){n(z,function(){var n,w;n=new Uint8Array(16);w=new Uint8Array(32);l.getRandom().nextBytes(n);l.getRandom().nextBytes(w);vb(n,ob,Eb,{result:function(n){vb(w,pb,Ob,{result:function(h){z.result({encryptionKey:n,hmacKey:h});},error:function(n){z.error(new P(h.SESSION_KEY_CREATION_FAILURE,null,n));}});},error:function(n){z.error(new P(h.SESSION_KEY_CREATION_FAILURE,null,n));}});});},importSessionKeys:function(h,n,l){vb(h,ob,Eb,{result:function(h){vb(n,pb,Ob,{result:function(n){l.result({encryptionKey:h,hmacKey:n});},error:function(h){l.error(h);}});},error:function(h){l.error(h);}});}});lb.KeyExchangeData=l;}());(function(){var w,z,r;function l(l,v,F,z,r){n(r,function(){var aa,I;switch(v){case w.PSK:aa=new qb(z),I=l.getEntityAuthenticationFactory(Oa.PSK);if(!I)throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,v);aa=I.getCryptoContext(l,aa);return new xb(l,yb.A128KW,rb,la);case w.MGK:aa=new kb(z);I=l.getEntityAuthenticationFactory(Oa.MGK);if(!I)throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,v);aa=I.getCryptoContext(l,aa);return new xb(l,yb.A128KW,rb,la);case w.WRAP:aa=l.getMslCryptoContext();aa.unwrap(F,ub,Fb,{result:function(h){n(r,function(){return new xb(l,yb.A128KW,rb,h);});},error:r.error});break;default:throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,v);}});}w={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};z=jd=hc.extend({init:function v(h,n){v.base.call(this,jb.JWE_LADDER);switch(h){case w.WRAP:if(!n)throw new da("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:n=null;}Object.defineProperties(this,{mechanism:{value:h,writable:!1,configurable:!1},wrapdata:{value:n,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.mechanism=this.mechanism;this.wrapdata&&(h.wrapdata=qa(this.wrapdata));return h;},equals:function F(h){return h===this?!0:h instanceof jd?F.base.call(this,h)&&this.mechanism==h.mechanism&&$a(this.wrapdata,h.wrapdata):!1;},uniqueKey:function Ca(){var h;h=Ca.base.call(this)+":"+this.mechanism;this.wrapdata&&(h+=":"+fb(this.wrapdata));return h;}});r=Zd=ic.extend({init:function aa(h,n,l,w,z){aa.base.call(this,h,jb.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:n,writable:!1,configurable:!1},wrapdata:{value:l,writable:!1,configurable:!1},encryptionKey:{value:w,writable:!1,configurable:!1},hmacKey:{value:z,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.wrapkey=qa(this.wrapKey);h.wrapdata=qa(this.wrapdata);h.encryptionkey=qa(this.encryptionKey);h.hmackey=qa(this.hmacKey);return h;},equals:function Da(h){return this===h?!0:h instanceof Zd?Da.base.call(this,h)&&$a(this.wrapKey,h.wrapKey)&&$a(this.wrapdata,h.wrapdata)&&$a(this.encryptionKey,h.encryptionKey)&&$a(this.hmacKey,h.hmacKey):!1;},uniqueKey:function ya(){return ya.base.call(this)+":"+fb(this.wrapKey)+":"+fb(this.wrapdata)+":"+fb(this.encryptionKey)+":"+fb(this.hmacKey);}});Yd=lb.extend({init:function Y(h){Y.base.call(this,jb.JWE_LADDER);Object.defineProperties(this,{repository:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(l,r,E){n(E,function(){var n,l,E;n=r.mechanism;l=r.wrapdata;if(!n||n==w.WRAP&&(!l||"string"!==typeof l))throw new ga(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(r));if(!w[n])throw new Pa(h.UNIDENTIFIED_KEYX_MECHANISM,n);switch(n){case w.WRAP:try{E=za(l);}catch(ba){throw new Pa(h.KEYX_WRAPPING_KEY_MISSING,"keydata "+r.toString());}if(null==E||0==E.length)throw new Pa(h.KEYX_WRAPPING_KEY_MISSING,"keydata "+r.toString());break;default:E=null;}return new z(n,E);});},createResponseData:function(n,l,w){var z,E,Y,B,na,H,C;n=w.wrapkey;z=w.wrapdata;E=w.encryptionkey;Y=w.hmackey;if(!(n&&"string"===typeof n&&z&&"string"===typeof z&&E&&"string"===typeof E&&Y)||"string"!==typeof Y)throw new ga(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(w));try{B=za(n);na=za(z);}catch(ha){throw new P(h.INVALID_SYMMETRIC_KEY,"keydata "+JSON.stringify(w),ha);}try{H=za(E);}catch(ha){throw new P(h.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(w),ha);}try{C=za(Y);}catch(ha){throw new P(h.INVALID_HMAC_KEY,"keydata "+JSON.stringify(w),ha);}return new r(l,B,na,H,C);},generateResponse:function(w,B,E,S){var Na,sa;function Y(h,l,z){Na.generateSessionKeys(w,{result:function(w){n(S,function(){na(h,l,z,w.encryptionKey,w.hmacKey);},Na);},error:function(h){n(S,function(){h instanceof C&&h.setEntity(sa);throw h;});}});}function na(h,z,E,r,oa){n(S,function(){l(w,B.mechanism,B.wrapdata,h,{result:function(h){h.wrap(z,{result:function(g){H(z,E,r,oa,g);},error:function(g){n(S,function(){g instanceof C&&g.setEntity(sa);throw g;});}});},error:function(h){n(S,function(){h instanceof C&&h.setEntity(sa);throw h;});}});},Na);}function H(h,l,z,E,r){n(S,function(){var ha;ha=new xb(w,yb.A128KW,rb,h);ha.wrap(z,{result:function(g){ha.wrap(E,{result:function(c){ua(l,r,z,g,E,c);},error:function(c){n(S,function(){c instanceof C&&c.setEntity(sa);throw c;});}});},error:function(g){n(S,function(){g instanceof C&&g.setEntity(sa);throw g;});}});},Na);}function ua(h,l,z,B,oa,Y){n(S,function(){var g;g=w.getTokenFactory();sa?g.renewMasterToken(w,sa,z,oa,{result:function(c){n(S,function(){var a,b;a=new hb(w,c);b=new r(c,l,h,B,Y);return new lb.KeyExchangeData(b,a,S);},Na);},error:function(c){n(S,function(){c instanceof C&&c.setEntity(sa);throw c;});}}):g.createMasterToken(w,E,z,oa,{result:function(c){n(S,function(){var a,b;a=new hb(w,c);b=new r(c,l,h,B,Y);return new lb.KeyExchangeData(b,a,S);},Na);},error:S.error});},Na);}Na=this;n(S,function(){var l,r;if(!(B instanceof z))throw new da("Key request data "+JSON.stringify(B)+" was not created by this factory.");l=E;if(E instanceof gb){if(!E.isVerified())throw new Nb(h.MASTERTOKEN_UNTRUSTED,E);sa=E;l=E.identity;}r=new Uint8Array(16);w.getRandom().nextBytes(r);vb(r,ub,Fb,{result:function(h){n(S,function(){w.getMslCryptoContext().wrap(h,{result:function(n){Y(l,h,n);},error:function(h){n(S,function(){h instanceof C&&h.setEntity(sa);throw h;},Na);}});},Na);},error:function(l){n(S,function(){throw new P(h.WRAP_KEY_CREATION_FAILURE,null,l).setEntity(sa);},Na);}});},Na);},getCryptoContext:function(l,B,E,S,Aa){var na;function Y(h,w,z,E,r){n(Aa,function(){var ha;ha=new xb(l,yb.A128KW,rb,r);ha.unwrap(w.encryptionKey,ob,Eb,{result:function(r){ha.unwrap(w.hmacKey,pb,Ob,{result:function(h){n(Aa,function(){this.repository.addCryptoContext(w.wrapdata,ha);this.repository.removeCryptoContext(z);return new hb(l,w.masterToken,E,r,h);},na);},error:function(l){n(Aa,function(){l instanceof C&&l.setEntity(h);throw l;});}});},error:function(l){n(Aa,function(){l instanceof C&&l.setEntity(h);throw l;});}});},na);}na=this;n(Aa,function(){var S,fa;if(!(B instanceof z))throw new da("Key request data "+JSON.stringify(B)+" was not created by this factory.");if(!(E instanceof r))throw new da("Key response data "+JSON.stringify(E)+" was not created by this factory.");S=B.mechanism;fa=B.wrapdata;l.getEntityAuthenticationData(null,{result:function(z){n(Aa,function(){var r,B,na;r=z.getIdentity();switch(S){case w.PSK:B=new qb(r);na=l.getEntityAuthenticationFactory(Oa.PSK);if(!na)throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,S).setEntity(z);B=na.getCryptoContext(l,B);B=new xb(l,yb.A128KW,rb,la);break;case w.MGK:B=new kb(r);na=l.getEntityAuthenticationFactory(Oa.MGK);if(!na)throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,S).setEntity(z);B=na.getCryptoContext(l,B);B=new xb(l,yb.A128KW,rb,B.wrapKey);break;case w.WRAP:B=this.repository.getCryptoContext(fa);if(!B)throw new Pa(h.KEYX_WRAPPING_KEY_MISSING,qa(fa)).setEntity(z);break;default:throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,S).setEntity(z);}B.unwrap(E.wrapKey,ub,Fb,{result:function(h){Y(z,E,fa,r,h);},error:function(h){n(Aa,function(){h instanceof C&&h.setEntity(z);throw h;});}});},na);},error:Aa.error});},na);}});}());(function(){var w,z,r,I;function l(l,F,z,r,B){n(B,function(){var v,aa;switch(F){case w.PSK:v=new qb(r),aa=l.getEntityAuthenticationFactory(Oa.PSK);if(!aa)throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,F);v=aa.getCryptoContext(l,v);return new I(la);case w.MGK:v=new kb(r);aa=l.getEntityAuthenticationFactory(Oa.MGK);if(!aa)throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,F);v=aa.getCryptoContext(l,v);return new I(la);case w.WRAP:v=l.getMslCryptoContext();v.unwrap(z,ub,Fb,{result:function(h){n(B,function(){return new I(h);});},error:B.error});break;default:throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,F);}});}w={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};z=Gc=hc.extend({init:function F(h,n){F.base.call(this,jb.JWK_LADDER);switch(h){case w.WRAP:if(!n)throw new da("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:n=null;}Object.defineProperties(this,{mechanism:{value:h,writable:!1,configurable:!1},wrapdata:{value:n,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.mechanism=this.mechanism;this.wrapdata&&(h.wrapdata=qa(this.wrapdata));return h;},equals:function Ca(h){return h===this?!0:h instanceof Gc?Ca.base.call(this,h)&&this.mechanism==h.mechanism&&$a(this.wrapdata,h.wrapdata):!1;},uniqueKey:function aa(){var h;h=aa.base.call(this)+":"+this.mechanism;this.wrapdata&&(h+=":"+fb(this.wrapdata));return h;}});r=$d=ic.extend({init:function Da(h,n,l,w,z){Da.base.call(this,h,jb.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:n,writable:!1,configurable:!1},wrapdata:{value:l,writable:!1,configurable:!1},encryptionKey:{value:w,writable:!1,configurable:!1},hmacKey:{value:z,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.wrapkey=qa(this.wrapKey);h.wrapdata=qa(this.wrapdata);h.encryptionkey=qa(this.encryptionKey);h.hmackey=qa(this.hmacKey);return h;},equals:function ya(h){return this===h?!0:h instanceof $d?ya.base.call(this,h)&&$a(this.wrapKey,h.wrapKey)&&$a(this.wrapdata,h.wrapdata)&&$a(this.encryptionKey,h.encryptionKey)&&$a(this.hmacKey,h.hmacKey):!1;},uniqueKey:function Y(){return Y.base.call(this)+":"+fb(this.wrapKey)+":"+fb(this.wrapdata)+":"+fb(this.encryptionKey)+":"+fb(this.hmacKey);}});I=Xb.extend({init:function(h){h&&h.rawKey&&(h=h.rawKey);Object.defineProperties(this,{_wrapKey:{value:h,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(n,l){l.error(new P(h.ENCRYPT_NOT_SUPPORTED));},decrypt:function(n,l){l.error(new P(h.DECRYPT_NOT_SUPPORTED));},wrap:function(l,w){n(w,function(){Ia.wrapKey("jwk",l.rawKey,this._wrapKey,ub).then(function(h){w.result(h);},function(n){w.error(new P(h.WRAP_ERROR));});},this);},unwrap:function(l,w,z,r){function E(l){n(r,function(){switch(l.type){case"secret":Ub(l,r);break;case"public":Kb(l,r);break;case"private":Vb(l,r);break;default:throw new P(h.UNSUPPORTED_KEY,"type: "+l.type);}});}n(r,function(){Ia.unwrapKey("jwk",l,this._wrapKey,ub,w,!1,z).then(function(h){E(h);},function(n){r.error(new P(h.UNWRAP_ERROR));});},this);},sign:function(n,l){l.error(new P(h.SIGN_NOT_SUPPORTED));},verify:function(n,l,w){w.error(new P(h.VERIFY_NOT_SUPPORTED));}});ld=lb.extend({init:function na(h){na.base.call(this,jb.JWK_LADDER);Object.defineProperties(this,{repository:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(l,r,I){n(I,function(){var n,l,E;n=r.mechanism;l=r.wrapdata;if(!n||n==w.WRAP&&(!l||"string"!==typeof l))throw new ga(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(r));if(!w[n])throw new Pa(h.UNIDENTIFIED_KEYX_MECHANISM,n);switch(n){case w.WRAP:try{E=za(l);}catch(ua){throw new Pa(h.KEYX_WRAPPING_KEY_MISSING,"keydata "+r.toString());}if(null==E||0==E.length)throw new Pa(h.KEYX_WRAPPING_KEY_MISSING,"keydata "+r.toString());break;default:E=null;}return new z(n,E);});},createResponseData:function(n,l,w){var z,E,I,B,S,na,ha;n=w.wrapkey;z=w.wrapdata;E=w.encryptionkey;I=w.hmackey;if(!(n&&"string"===typeof n&&z&&"string"===typeof z&&E&&"string"===typeof E&&I)||"string"!==typeof I)throw new ga(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(w));try{B=za(n);S=za(z);}catch(sb){throw new P(h.INVALID_SYMMETRIC_KEY,"keydata "+JSON.stringify(w),sb);}try{na=za(E);}catch(sb){throw new P(h.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(w),sb);}try{ha=za(I);}catch(sb){throw new P(h.INVALID_HMAC_KEY,"keydata "+JSON.stringify(w),sb);}return new r(l,B,S,na,ha);},generateResponse:function(w,E,B,H){var sa,ha;function S(h,l,z){sa.generateSessionKeys(w,{result:function(w){n(H,function(){na(h,l,z,w.encryptionKey,w.hmacKey);},sa);},error:function(h){n(H,function(){h instanceof C&&h.setEntity(ha);throw h;});}});}function na(h,z,r,B,I){n(H,function(){l(w,E.mechanism,E.wrapdata,h,{result:function(g){g.wrap(z,{result:function(c){Aa(z,r,B,I,c);},error:function(c){n(H,function(){c instanceof C&&c.setEntity(ha);throw c;});}});},error:function(g){n(H,function(){g instanceof C&&g.setEntity(ha);throw g;});}});},sa);}function Aa(h,l,w,z,r){n(H,function(){var g;g=new I(h);g.wrap(w,{result:function(c){g.wrap(z,{result:function(a){Na(l,r,w,c,z,a);},error:function(a){n(H,function(){a instanceof C&&a.setEntity(ha);throw a;});}});},error:function(c){n(H,function(){c instanceof C&&c.setEntity(ha);throw c;});}});},sa);}function Na(h,l,z,E,I,g){n(H,function(){var c;c=w.getTokenFactory();ha?c.renewMasterToken(w,ha,z,I,{result:function(a){n(H,function(){var b,f;b=new hb(w,a);f=new r(a,l,h,E,g);return new lb.KeyExchangeData(f,b,H);},sa);},error:function(a){n(H,function(){a instanceof C&&a.setEntity(ha);throw a;});}}):c.createMasterToken(w,B,z,I,{result:function(a){n(H,function(){var b,f;b=new hb(w,a);f=new r(a,l,h,E,g);return new lb.KeyExchangeData(f,b,H);},sa);},error:H.error});},sa);}sa=this;n(H,function(){var l,r;if(!(E instanceof z))throw new da("Key request data "+JSON.stringify(E)+" was not created by this factory.");l=B;if(B instanceof gb){if(!B.isVerified())throw new Nb(h.MASTERTOKEN_UNTRUSTED,B);ha=B;l=B.identity;}r=new Uint8Array(16);w.getRandom().nextBytes(r);vb(r,ub,Fb,{result:function(h){n(H,function(){w.getMslCryptoContext().wrap(h,{result:function(n){S(l,h,n);},error:function(h){n(H,function(){h instanceof C&&h.setEntity(ha);throw h;},sa);}});},sa);},error:function(l){n(H,function(){throw new P(h.WRAP_KEY_CREATION_FAILURE,null,l).setEntity(ha);},sa);}});},sa);},getCryptoContext:function(l,E,B,H,fa){var na;function S(h,w,z,r,E){n(fa,function(){var ha;ha=new I(E);ha.unwrap(w.encryptionKey,ob,Eb,{result:function(E){ha.unwrap(w.hmacKey,pb,Ob,{result:function(h){n(fa,function(){this.repository.addCryptoContext(w.wrapdata,ha);this.repository.removeCryptoContext(z);return new hb(l,w.masterToken,r,E,h);},na);},error:function(l){n(fa,function(){l instanceof C&&l.setEntity(h);throw l;});}});},error:function(l){n(fa,function(){l instanceof C&&l.setEntity(h);throw l;});}});},na);}na=this;n(fa,function(){var H,Aa;if(!(E instanceof z))throw new da("Key request data "+JSON.stringify(E)+" was not created by this factory.");if(!(B instanceof r))throw new da("Key response data "+JSON.stringify(B)+" was not created by this factory.");H=E.mechanism;Aa=E.wrapdata;l.getEntityAuthenticationData(null,{result:function(z){n(fa,function(){var r,E,ha;r=z.getIdentity();switch(H){case w.PSK:E=new qb(r);ha=l.getEntityAuthenticationFactory(Oa.PSK);if(!ha)throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,H).setEntity(z);E=ha.getCryptoContext(l,E);E=new I(E.wrapKey);break;case w.MGK:E=new kb(r);ha=l.getEntityAuthenticationFactory(Oa.MGK);if(!ha)throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,H).setEntity(z);E=ha.getCryptoContext(l,E);E=new I(E.wrapKey);break;case w.WRAP:E=this.repository.getCryptoContext(Aa);if(!E)throw new Pa(h.KEYX_WRAPPING_KEY_MISSING,qa(Aa)).setEntity(z);break;default:throw new Pa(h.UNSUPPORTED_KEYX_MECHANISM,H).setEntity(z);}E.unwrap(B.wrapKey,ub,Fb,{result:function(h){S(z,B,Aa,r,h);},error:function(h){n(fa,function(){h instanceof C&&h.setEntity(z);throw h;});}});},na);},error:fa.error});},na);}});}());af=ra.Class.create({addCryptoContext:function(h,l){},getCryptoContext:function(h){},removeCryptoContext:function(h){}});(function(){var w,z,r,I;function l(l,n,z,r,B){switch(z){case w.JWE_RSA:case w.JWEJS_RSA:return new xb(l,yb.RSA_OAEP,rb,r,B);case w.JWK_RSA:return new Ac(l,n,r,B,Bc.WRAP_UNWRAP_OAEP);case w.JWK_RSAES:return new Ac(l,n,r,B,Bc.WRAP_UNWRAP_PKCS1);default:throw new P(h.UNSUPPORTED_KEYX_MECHANISM,z);}}w=Hc={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};z=Wc=hc.extend({init:function F(h,l,n,w){F.base.call(this,jb.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:h,writable:!1,configurable:!1},mechanism:{value:l,writable:!1,configurable:!1},publicKey:{value:n,writable:!1,configurable:!1},privateKey:{value:w,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.keypairid=this.keyPairId;h.mechanism=this.mechanism;h.publickey=qa(this.publicKey.getEncoded());return h;},equals:function Ca(h){var l;if(h===this)return!0;if(!(h instanceof Wc))return!1;l=this.privateKey===h.privateKey||this.privateKey&&h.privateKey&&$a(this.privateKey.getEncoded(),h.privateKey.getEncoded());return Ca.base.call(this,h)&&this.keyPairId==h.keyPairId&&this.mechanism==h.mechanism&&$a(this.publicKey.getEncoded(),h.publicKey.getEncoded())&&l;},uniqueKey:function aa(){var h,l;h=this.publicKey.getEncoded();l=this.privateKey&&this.privateKey.getEncoded();h=aa.base.call(this)+":"+this.keyPairId+":"+this.mechanism+":"+fb(h);l&&(h+=":"+fb(l));return h;}});r=function(l,r){n(r,function(){var n,B,I,E;n=l.keypairid;B=l.mechanism;I=l.publickey;if(!n||"string"!==typeof n||!B||!I||"string"!==typeof I)throw new ga(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(l));if(!w[B])throw new Pa(h.UNIDENTIFIED_KEYX_MECHANISM,B);try{E=za(I);switch(B){case w.JWE_RSA:case w.JWEJS_RSA:case w.JWK_RSA:ad(E,yc,Fb,{result:function(h){r.result(new z(n,B,h,null));},error:function(h){r.error(h);}});break;case w.JWK_RSAES:ad(E,Zc,Fb,{result:function(h){r.result(new z(n,B,h,null));},error:function(h){r.error(h);}});break;default:throw new P(h.UNSUPPORTED_KEYX_MECHANISM,B);}}catch(S){if(!(S instanceof C))throw new P(h.INVALID_PUBLIC_KEY,"keydata "+JSON.stringify(l),S);throw S;}});};I=ae=ic.extend({init:function Da(h,l,n,w){Da.base.call(this,h,jb.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:l,writable:!1,configurable:!1},encryptionKey:{value:n,writable:!1,configurable:!1},hmacKey:{value:w,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.keypairid=this.keyPairId;h.encryptionkey=qa(this.encryptionKey);h.hmackey=qa(this.hmacKey);return h;},equals:function ya(h){return this===h?!0:h instanceof ae?ya.base.call(this,h)&&this.keyPairId==h.keyPairId&&$a(this.encryptionKey,h.encryptionKey)&&$a(this.hmacKey,h.hmacKey):!1;},uniqueKey:function Y(){return Y.base.call(this)+":"+this.keyPairId+":"+fb(this.encryptionKey)+":"+fb(this.hmacKey);}});Gd=lb.extend({init:function na(){na.base.call(this,jb.ASYMMETRIC_WRAPPED);},createRequestData:function(h,l,n){r(l,n);},createResponseData:function(l,n,w){var z,r,E,B;l=w.keypairid;z=w.encryptionkey;r=w.hmackey;if(!l||"string"!==typeof l||!z||"string"!==typeof z||!r||"string"!==typeof r)throw new ga(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(w));try{E=za(z);}catch(Na){throw new P(h.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(w),Na);}try{B=za(r);}catch(Na){throw new P(h.INVALID_HMAC_KEY,"keydata "+JSON.stringify(w),Na);}return new I(n,l,E,B);},generateResponse:function(h,w,r,B){var S;function E(z,E){n(B,function(){var ha;ha=l(h,w.keyPairId,w.mechanism,null,w.publicKey);ha.wrap(z,{result:function(h){n(B,function(){ha.wrap(E,{result:function(l){H(z,h,E,l);},error:function(h){n(B,function(){h instanceof C&&r instanceof gb&&h.setEntity(r);throw h;},S);}});},S);},error:function(h){n(B,function(){h instanceof C&&r instanceof gb&&h.setEntity(r);throw h;},S);}});},S);}function H(l,z,E,H){n(B,function(){var ha;ha=h.getTokenFactory();r instanceof gb?ha.renewMasterToken(h,r,l,E,{result:function(l){n(B,function(){var n,r;n=new hb(h,l);r=new I(l,w.keyPairId,z,H);return new lb.KeyExchangeData(r,n,B);},S);},error:function(h){n(B,function(){h instanceof C&&h.setEntity(r);throw h;},S);}}):ha.createMasterToken(h,r,l,E,{result:function(l){n(B,function(){var n,r;n=new hb(h,l);r=new I(l,w.keyPairId,z,H);return new lb.KeyExchangeData(r,n,B);},S);},error:B.error});},S);}S=this;n(B,function(){if(!(w instanceof z))throw new da("Key request data "+JSON.stringify(w)+" was not created by this factory.");this.generateSessionKeys(h,{result:function(h){E(h.encryptionKey,h.hmacKey);},error:function(h){n(B,function(){h instanceof C&&r instanceof gb&&h.setEntity(r);throw h;},S);}});},S);},getCryptoContext:function(w,r,B,H,fa){var E;E=this;n(fa,function(){var S,na,ba;if(!(r instanceof z))throw new da("Key request data "+JSON.stringify(r)+" was not created by this factory.");if(!(B instanceof I))throw new da("Key response data "+JSON.stringify(B)+" was not created by this factory.");S=r.keyPairId;na=B.keyPairId;if(S!=na)throw new Pa(h.KEYX_RESPONSE_REQUEST_MISMATCH,"request "+S+"; response "+na).setEntity(H);na=r.privateKey;if(!na)throw new Pa(h.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(H);ba=l(w,S,r.mechanism,na,null);ba.unwrap(B.encryptionKey,ob,Eb,{result:function(h){ba.unwrap(B.hmacKey,pb,Ob,{result:function(l){w.getEntityAuthenticationData(null,{result:function(z){n(fa,function(){var n;n=z.getIdentity();return new hb(w,B.masterToken,n,h,l);},E);},error:function(h){n(fa,function(){h instanceof C&&h.setEntity(H);throw h;},E);}});},error:function(h){n(fa,function(){h instanceof C&&h.setEntity(H);throw h;},E);}});},error:function(h){n(fa,function(){h instanceof C&&h.setEntity(H);throw h;},E);}});},E);}});}());$e=ra.Class.create({init:function(h){var l,n,r,I,v,F,H,aa;l=ab.parser();n=[];r=[];H=0;aa=!1;l.onerror=function(h){aa||(aa=!0,l.end());};l.onopenobject=function(h){var l;if(I)I[F]={},r.push(I),I=I[F];else if(v){l={};r.push(v);v.push(l);I=l;v=la;}else I={};F=h;};l.oncloseobject=function(){var h;h=r.pop();h?"object"===typeof h?I=h:(I=la,v=h):(n.push(I),H=l.index,I=la);};l.onopenarray=function(){var h;if(I)I[F]=[],r.push(I),v=I[F],I=la;else if(v){h=[];r.push(v);v.push(h);v=h;}else v=[];};l.onclosearray=function(){var h;h=r.pop();h?"object"===typeof h?(I=h,v=la):v=h:(n.push(v),H=l.index,v=la);};l.onkey=function(h){F=h;};l.onvalue=function(h){I?I[F]=h:v?v.push(h):(n.push(h),H=l.index);};l.write(h).close();Object.defineProperties(this,{_values:{value:n,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:H,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0<this._values.length;},nextValue:function(){return 0==this._values.length?la:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var l,w,r,B,I;l=md="entityauthdata";w=ce="mastertoken";r=de="headerdata";B=ee="errordata";I=nd="signature";be=function(v,F,z,aa){n(aa,function(){var n,H,Y,na,E,S;n=F[l];H=F[w];Y=F[I];if(n&&"object"!==typeof n||H&&"object"!==typeof H||"string"!==typeof Y)throw new ga(h.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(F));try{na=za(Y);}catch(Aa){throw new Ga(h.HEADER_SIGNATURE_INVALID,"header/errormsg "+JSON.stringify(F),Aa);}E=null;n&&(E=Pd(v,n));S=F[r];if(S!=la&&null!=S){if("string"!==typeof S)throw new ga(h.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(F));H?Pb(v,H,{result:function(h){od(v,S,E,h,na,z,aa);},error:function(h){aa.error(h);}}):od(v,S,E,null,na,z,aa);}else if(n=F[B],n!=la&&null!=n){if("string"!==typeof n)throw new ga(h.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(F));fe(v,n,E,na,aa);}else throw new ga(h.JSON_PARSE_ERROR,JSON.stringify(F));});};}());(function(){function r(h,l){this.errordata=h;this.signature=l;}Jb=ra.Class.create({init:function(l,r,B,I,v,F,H,aa,Da,ya){var w;w=this;n(ya,function(){var z,E;0>F&&(F=-1);if(0>I||I>La)throw new da("Message ID "+I+" is out of range.");if(!r)throw new Ga(h.MESSAGE_ENTITY_NOT_FOUND);if(Da)return Object.defineProperties(this,{entityAuthenticationData:{value:r,writable:!1,configurable:!1},recipient:{value:B,writable:!1,configurable:!1},messageId:{value:I,writable:!1,configurable:!1},errorCode:{value:v,writable:!1,configurable:!1},internalCode:{value:F,writable:!1,configurable:!1},errorMessage:{value:H,writable:!1,configurable:!1},userMessage:{value:aa,writable:!1,configurable:!1},errordata:{value:Da.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:Da.signature,writable:!1,enumerable:!1,configurable:!1}}),this;z={};B&&(z.recipient=B);z.messageid=I;z.errorcode=v;0<F&&(z.internalcode=F);H&&(z.errormsg=H);aa&&(z.usermsg=aa);try{E=l.getEntityAuthenticationFactory(r.scheme).getCryptoContext(l,r);}catch(S){throw S instanceof C&&(S.setEntity(r),S.setMessageId(I)),S;}z=Sa(JSON.stringify(z),Ka);E.encrypt(z,{result:function(h){n(ya,function(){E.sign(h,{result:function(l){n(ya,function(){Object.defineProperties(this,{entityAuthenticationData:{value:r,writable:!1,configurable:!1},recipient:{value:B,writable:!1,configurable:!1},messageId:{value:I,writable:!1,configurable:!1},errorCode:{value:v,writable:!1,configurable:!1},internalCode:{value:F,writable:!1,configurable:!1},errorMessage:{value:H,writable:!1,configurable:!1},userMessage:{value:aa,writable:!1,configurable:!1},errordata:{value:h,writable:!1,enumerable:!1,configurable:!1},signature:{value:l,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(h){n(ya,function(){h instanceof C&&(h.setEntity(r),h.setMessageId(I));throw h;},w);}});},w);},error:function(h){n(ya,function(){h instanceof C&&(h.setEntity(r),h.setMessageId(I));throw h;},w);}});},w);},toJSON:function(){var h;h={};h[md]=this.entityAuthenticationData;h[ee]=qa(this.errordata);h[nd]=qa(this.signature);return h;}});ge=function(h,l,n,r,v,F,H,aa,Da){new Jb(h,l,n,r,v,F,H,aa,null,Da);};fe=function(w,z,B,I,v){n(v,function(){var F,H,aa;if(!B)throw new Ga(h.MESSAGE_ENTITY_NOT_FOUND);try{H=B.scheme;aa=w.getEntityAuthenticationFactory(H);if(!aa)throw new tb(h.ENTITYAUTH_FACTORY_NOT_FOUND,H);F=aa.getCryptoContext(w,B);}catch(Da){throw Da instanceof C&&Da.setEntity(B),Da;}try{z=za(z);}catch(Da){throw new Ga(h.HEADER_DATA_INVALID,z,Da).setEntity(B);}if(!z||0==z.length)throw new Ga(h.HEADER_DATA_MISSING,z).setEntity(B);F.verify(z,I,{result:function(H){n(v,function(){if(!H)throw new P(h.MESSAGE_VERIFICATION_FAILED).setEntity(B);F.decrypt(z,{result:function(F){n(v,function(){var n,H,E,aa,Da,fa,ba,Ca;n=Ua(F,Ka);try{H=JSON.parse(n);}catch(sa){if(sa instanceof SyntaxError)throw new ga(h.JSON_PARSE_ERROR,"errordata "+n,sa).setEntity(B);throw sa;}E=H.recipient!==la?H.recipient:null;aa=parseInt(H.messageid);Da=parseInt(H.errorcode);fa=parseInt(H.internalcode);ba=H.errormsg;Ca=H.usermsg;if(E&&"string"!==typeof E||!aa||aa!=aa||!Da||Da!=Da||H.internalcode&&fa!=fa||ba&&"string"!==typeof ba||Ca&&"string"!==typeof Ca)throw new ga(h.JSON_PARSE_ERROR,"errordata "+n).setEntity(B);if(0>aa||aa>La)throw new Ga(h.MESSAGE_ID_OUT_OF_RANGE,"errordata "+n).setEntity(B);H=!1;for(var C in l)if(l[C]==Da){H=!0;break;}H||(Da=l.FAIL);if(fa){if(0>fa)throw new Ga(h.INTERNAL_CODE_NEGATIVE,"errordata "+n).setEntity(B).setMessageId(aa);}else fa=-1;n=new r(z,I);new Jb(w,B,E,aa,Da,fa,ba,Ca,n,v);});},error:function(h){n(v,function(){h instanceof C&&h.setEntity(B);throw h;});}});});},error:function(h){n(v,function(){h instanceof C&&h.setEntity(B);throw h;});}});});};}());bf=ra.Class.create({getUserMessage:function(h,l){}});(function(){pd=function(h,l){var n,w;if(!h||!l)return null;n=h.compressionAlgorithms.filter(function(h){for(var n=0;n<l.compressionAlgorithms.length;++n)if(h==l.compressionAlgorithms[n])return!0;return!1;});w=h.languages.filter(function(h){for(var n=0;n<l.languages.length;++n)if(h==l.languages[n])return!0;return!1;});return new jc(n,w);};jc=ra.Class.create({init:function(h,l){h||(h=[]);l||(l=[]);h.sort();Object.defineProperties(this,{compressionAlgorithms:{value:h,writable:!1,enumerable:!0,configurable:!1},languages:{value:l,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var h;h={};h.compressionalgos=this.compressionAlgorithms;h.languages=this.languages;return h;},equals:function(h){return this===h?!0:h instanceof jc?zd(this.compressionAlgorithms,h.compressionAlgorithms)&&zd(this.languages,h.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":")+"|"+this.languages.join(":");}});he=function(l){var n,r,I;n=l.compressionalgos;r=l.languages;if(n&&!(n instanceof Array)||r&&!(r instanceof Array))throw new ga(h.JSON_PARSE_ERROR,"capabilities "+JSON.stringify(l));l=[];for(var B=0;n&&B<n.length;++B){I=n[B];Lb[I]&&l.push(I);}return new jc(l,r);};}());(function(){var ya,Y;function l(h,l,n,v,w){this.customer=h;this.sender=l;this.messageCryptoContext=n;this.headerdata=v;this.signature=w;}function w(h,l,n,v,w,r,F,z,B,ha,I,aa,H,oa,Y,g,c,a,b,f){return{cryptoContext:{value:l,writable:!1,configurable:!1},customer:{value:n,writable:!1,configurable:!1},entityAuthenticationData:{value:v,writable:!1,configurable:!1},masterToken:{value:w,writable:!1,configurable:!1},sender:{value:r,writable:!1,configurable:!1},messageId:{value:F,writable:!1,configurable:!1},nonReplayableId:{value:g,writable:!1,configurable:!1},keyRequestData:{value:z,writable:!1,configurable:!1},keyResponseData:{value:B,writable:!1,configurable:!1},userAuthenticationData:{value:ha,writable:!1,configurable:!1},userIdToken:{value:I,writable:!1,configurable:!1},serviceTokens:{value:aa,writable:!1,configurable:!1},peerMasterToken:{value:H,writable:!1,configurable:!1},peerUserIdToken:{value:oa,writable:!1,configurable:!1},peerServiceTokens:{value:Y,writable:!1,configurable:!1},messageCapabilities:{value:a,writable:!1,configurable:!1},renewable:{value:c,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:b,writable:!1,enumerable:!1,configurable:!1},signature:{value:f,writable:!1,enumerable:!1,configurable:!1}};}function r(l,n,v){var w;if(v){if(n=l.getMslStore().getCryptoContext(v))return n;if(!v.isVerified()||!v.isDecrypted())throw new Nb(h.MASTERTOKEN_UNTRUSTED,v);return new hb(l,v);}v=n.scheme;w=l.getEntityAuthenticationFactory(v);if(!w)throw new tb(h.ENTITYAUTH_FACTORY_NOT_FOUND,v);return w.getCryptoContext(l,n);}function B(l,v,w,r,F){n(F,function(){v.verify(w,r,{result:function(l){n(F,function(){if(!l)throw new P(h.MESSAGE_VERIFICATION_FAILED);v.decrypt(w,{result:function(h){n(F,function(){return Ua(h,Ka);});},error:function(h){F.error(h);}});});},error:function(h){F.error(h);}});});}function I(h,l,v){n(v,function(){if(l)Xd(h,l,v);else return null;});}function v(h,l,v,w){n(w,function(){if(l)Qb(h,l,v,w);else return null;});}function F(h,l,v,w){n(w,function(){if(v)le(h,l,v,w);else return null;});}function Ca(l,v,w,r,F,z,B){var I;function E(v,B,aa){var ha,H;if(B>=v.length){ha=[];for(H in I)ha.push(I[H]);aa.result(ha);}else{ha=v[B];if("object"!==typeof ha)throw new ga(h.JSON_PARSE_ERROR,"headerdata "+z);Ic(l,ha,w,r,F,{result:function(h){n(aa,function(){I[h.uniqueKey()]=h;E(v,B+1,aa);});},error:function(h){aa.error(h);}});}}I={};n(B,function(){if(v){if(!(v instanceof Array))throw new ga(h.JSON_PARSE_ERROR,"headerdata "+z);E(v,0,B);}else return[];});}function aa(l,v,w,r,F,z){function E(l,v,w){n(w,function(){var n;n=v.peermastertoken;if(n&&"object"!==typeof n)throw new ga(h.JSON_PARSE_ERROR,"headerdata "+F);if(!n)return null;Pb(l,n,w);});}function B(l,v,w,r){n(r,function(){var n;n=v.peeruseridtoken;if(n&&"object"!==typeof n)throw new ga(h.JSON_PARSE_ERROR,"headerdata "+F);if(!n)return null;Qb(l,n,w,r);});}n(z,function(){if(!l.isPeerToPeer())return{peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};E(l,v,{result:function(h){n(z,function(){var E;E=w?w.masterToken:h;B(l,v,E,{result:function(w){n(z,function(){Ca(l,v.peerservicetokens,E,w,r,F,{result:function(l){n(z,function(){return{peerMasterToken:h,peerUserIdToken:w,peerServiceTokens:l};});},error:function(h){n(z,function(){h instanceof C&&(h.setEntity(E),h.setUser(w));throw h;});}});});},error:function(h){n(z,function(){h instanceof C&&h.setEntity(E);throw h;});}});});},error:z.error});});}function Da(l,v,w,r){var z;function F(h,v){n(r,function(){if(v>=h.length)return z;Wd(l,h[v],{result:function(l){n(r,function(){z.push(l);F(h,v+1);});},error:function(h){r.error(h);}});});}z=[];n(r,function(){var l;l=v.keyrequestdata;if(!l)return z;if(!(l instanceof Array))throw new ga(h.JSON_PARSE_ERROR,"headerdata "+w);F(l,0);});}ya=je=ra.Class.create({init:function(h,l,n,v,w,r,F,z,B){Object.defineProperties(this,{messageId:{value:h,writable:!1,configurable:!1},nonReplayableId:{value:l,writable:!1,configurable:!1},renewable:{value:n,writable:!1,configurable:!1},capabilities:{value:v,writable:!1,configurable:!1},keyRequestData:{value:w,writable:!1,configurable:!1},keyResponseData:{value:r,writable:!1,configurable:!1},userAuthData:{value:F,writable:!1,configurable:!1},userIdToken:{value:z,writable:!1,configurable:!1},serviceTokens:{value:B,writable:!1,configurable:!1}});}});Y=ke=ra.Class.create({init:function(h,l,n){Object.defineProperties(this,{peerMasterToken:{value:h,writable:!1,configurable:!1},peerUserIdToken:{value:l,writable:!1,configurable:!1},peerServiceTokens:{value:n,writable:!1,configurable:!1}});}});kc=ra.Class.create({init:function(h,l,v,F,z,B,I){var aa;function E(E){n(I,function(){var ha,H,Y,oa,fa,g,c,a,b,f,q,p,d,k,m,t,u;l=v?null:l;ha=F.nonReplayableId;H=F.renewable;Y=F.capabilities;oa=F.messageId;fa=F.keyRequestData?F.keyRequestData:[];g=F.keyResponseData;c=F.userAuthData;a=F.userIdToken;b=F.serviceTokens?F.serviceTokens:[];h.isPeerToPeer()?(f=z.peerMasterToken,q=z.peerUserIdToken,p=z.peerServiceTokens?z.peerServiceTokens:[]):(q=f=null,p=[]);if(0>oa||oa>La)throw new da("Message ID "+oa+" is out of range.");if(!l&&!v)throw new da("Message entity authentication data or master token must be provided.");g?h.isPeerToPeer()?(d=v,k=g.masterToken):(d=g.masterToken,k=f):(d=v,k=f);if(a&&(!d||!a.isBoundTo(d)))throw new da("User ID token must be bound to a master token.");if(q&&(!k||!q.isBoundTo(k)))throw new da("Peer user ID token must be bound to a peer master token.");b.forEach(function(b){if(b.isMasterTokenBound()&&(!d||!b.isBoundTo(d)))throw new da("Master token bound service tokens must be bound to the provided master token.");if(b.isUserIdTokenBound()&&(!a||!b.isBoundTo(a)))throw new da("User ID token bound service tokens must be bound to the provided user ID token.");},this);p.forEach(function(a){if(a.isMasterTokenBound()&&(!k||!a.isBoundTo(k)))throw new da("Master token bound peer service tokens must be bound to the provided peer master token.");if(a.isUserIdTokenBound()&&(!q||!a.isBoundTo(q)))throw new da("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(B){m=B.customer;t=B.messageCryptoContext;u=w(h,t,m,l,v,E,oa,fa,g,c,a,b,f,q,p,ha,H,Y,B.headerdata,B.signature);Object.defineProperties(this,u);return this;}m=a?a.customer:null;u={};E&&(u.sender=E);u.messageid=oa;"number"===typeof ha&&(u.nonreplayableid=ha);u.renewable=H;Y&&(u.capabilities=Y);0<fa.length&&(u.keyrequestdata=fa);g&&(u.keyresponsedata=g);c&&(u.userauthdata=c);a&&(u.useridtoken=a);0<b.length&&(u.servicetokens=b);f&&(u.peermastertoken=f);q&&(u.peeruseridtoken=q);0<p.length&&(u.peerservicetokens=p);try{t=r(h,l,v);}catch(y){throw y instanceof C&&(y.setEntity(v),y.setEntity(l),y.setUser(a),y.setUser(c),y.setMessageId(oa)),y;}u=Sa(JSON.stringify(u),Ka);t.encrypt(u,{result:function(d){n(I,function(){t.sign(d,{result:function(k){n(I,function(){var u;u=w(h,t,m,l,v,E,oa,fa,g,c,a,b,f,q,p,ha,H,Y,d,k);Object.defineProperties(this,u);return this;},aa);},error:function(d){n(I,function(){d instanceof C&&(d.setEntity(v),d.setEntity(l),d.setUser(a),d.setUser(c),d.setMessageId(oa));throw d;},aa);}});},aa);},error:function(d){n(I,function(){d instanceof C&&(d.setEntity(v),d.setEntity(l),d.setUser(a),d.setUser(c),d.setMessageId(oa));throw d;},aa);}});},aa);}aa=this;n(I,function(){B?E(B.sender):v?h.getEntityAuthenticationData(null,{result:function(h){h=h.getIdentity();E(h);},error:I.error}):E(null);},aa);},isEncrypting:function(){return this.masterToken||Tc(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var h;h={};this.masterToken?h[ce]=this.masterToken:h[md]=this.entityAuthenticationData;h[de]=qa(this.headerdata);h[nd]=qa(this.signature);return h;}});ie=function(h,l,n,v,w,F){new kc(h,l,n,v,w,null,F);};od=function(w,z,H,Aa,fa,ba,ua){n(ua,function(){var E,S;H=Aa?null:H;if(!H&&!Aa)throw new Ga(h.MESSAGE_ENTITY_NOT_FOUND);E=z;try{z=za(E);}catch(ha){throw new Ga(h.HEADER_DATA_INVALID,E,ha);}if(!z||0==z.length)throw new Ga(h.HEADER_DATA_MISSING,E);try{S=r(w,H,Aa);}catch(ha){throw ha instanceof C&&(ha.setEntity(Aa),ha.setEntity(H)),ha;}B(w,S,z,fa,{result:function(r){n(ua,function(){var B,E,ha,oa,na;try{B=JSON.parse(r);}catch(g){if(g instanceof SyntaxError)throw new ga(h.JSON_PARSE_ERROR,"headerdata "+r,g).setEntity(Aa).setEntity(H);throw g;}E=parseInt(B.messageid);if(!E||E!=E)throw new ga(h.JSON_PARSE_ERROR,"headerdata "+r).setEntity(Aa).setEntity(H);if(0>E||E>La)throw new Ga(h.MESSAGE_ID_OUT_OF_RANGE,"headerdata "+r).setEntity(Aa).setEntity(H);ha=Aa?B.sender:null;if(Aa&&(!ha||"string"!==typeof ha))throw new ga(h.JSON_PARSE_ERROR,"headerdata "+r).setEntity(Aa).setEntity(H).setMessageId(E);oa=B.keyresponsedata;if(oa&&"object"!==typeof oa)throw new ga(h.JSON_PARSE_ERROR,"headerdata "+r).setEntity(Aa).setEntity(H).setMessageId(E);na=ua;ua={result:function(g){na.result(g);},error:function(g){g instanceof C&&(g.setEntity(Aa),g.setEntity(H),g.setMessageId(E));na.error(g);}};I(w,oa,{result:function(g){n(ua,function(){var c,a;c=!w.isPeerToPeer()&&g?g.masterToken:Aa;a=B.useridtoken;if(a&&"object"!==typeof a)throw new ga(h.JSON_PARSE_ERROR,"headerdata "+r);v(w,a,c,{result:function(a){n(ua,function(){var b;b=B.userauthdata;if(b&&"object"!==typeof b)throw new ga(h.JSON_PARSE_ERROR,"headerdata "+r);F(w,c,b,{result:function(b){n(ua,function(){var f,d,k;if(b){d=b.scheme;k=w.getUserAuthenticationFactory(d);if(!k)throw new Ea(h.USERAUTH_FACTORY_NOT_FOUND,d).setUser(a).setUser(b);d=Aa?Aa.identity:H.getIdentity();f=k.authenticate(w,d,b,a);}else f=a?a.customer:null;Ca(w,B.servicetokens,c,a,ba,r,{result:function(d){n(ua,function(){var k,m,c,q;k=B.nonreplayableid!==la?parseInt(B.nonreplayableid):null;m=B.renewable;if(k!=k||"boolean"!==typeof m)throw new ga(h.JSON_PARSE_ERROR,"headerdata "+r);if(0>k||k>La)throw new Ga(h.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata "+r);c=null;q=B.capabilities;if(q){if("object"!==typeof q)throw new ga(h.JSON_PARSE_ERROR,"headerdata "+r);c=he(q);}Da(w,B,r,{result:function(t){aa(w,B,g,ba,r,{result:function(u){n(ua,function(){var y,q,p,A;y=u.peerMasterToken;q=u.peerUserIdToken;p=u.peerServiceTokens;A=new ya(E,k,m,c,t,g,b,a,d);y=new Y(y,q,p);q=new l(f,ha,S,z,fa);new kc(w,H,Aa,A,y,q,ua);});},error:ua.error});},error:function(d){n(ua,function(){d instanceof C&&(d.setUser(a),d.setUser(b));throw d;});}});});},error:function(d){n(ua,function(){d instanceof C&&(d.setEntity(c),d.setUser(a),d.setUser(b));throw d;});}});});},error:ua.error});});},error:ua.error});});},error:ua.error});});},error:ua.error});});};}());(function(){function l(h,l){this.payload=h;this.signature=l;}qd=ra.Class.create({init:function(h,l,r,I,v,F,H,aa){var w;w=this;n(aa,function(){var z,B;if(0>h||h>La)throw new da("Sequence number "+h+" is outside the valid range.");if(0>l||l>La)throw new da("Message ID "+l+" is outside the valid range.");if(H)return Object.defineProperties(this,{sequenceNumber:{value:h,writable:!1,configurable:!1},messageId:{value:l,writable:!1,configurable:!1},compressionAlgo:{value:I,writable:!1,configurable:!1},data:{value:v,writable:!1,configurable:!1},endofmsg:{value:r,writable:!1,enumerable:!1,configurable:!1},payload:{value:H.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:H.signature,writable:!1,enumerable:!1,configurable:!1}}),this;I?(z=rd(I,v),z||(I=null,z=v)):(I=null,z=v);B={};B.sequencenumber=h;B.messageid=l;r&&(B.endofmsg=r);I&&(B.compressionalgo=I);B.data=qa(z);z=Sa(JSON.stringify(B),Ka);F.encrypt(z,{result:function(z){n(aa,function(){F.sign(z,{result:function(F){n(aa,function(){Object.defineProperties(this,{sequenceNumber:{value:h,writable:!1,configurable:!1},messageId:{value:l,writable:!1,configurable:!1},compressionAlgo:{value:I,writable:!1,configurable:!1},data:{value:v,writable:!1,configurable:!1},endofmsg:{value:r,writable:!1,enumerable:!1,configurable:!1},payload:{value:z,writable:!1,enumerable:!1,configurable:!1},signature:{value:F,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(h){aa.error(h);}});},w);},error:function(h){aa.error(h);}});},w);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var h;h={};h.payload=qa(this.payload);h.signature=qa(this.signature);return h;}});me=function(h,l,n,r,v,F,H){new qd(h,l,n,r,v,F,null,H);};ne=function(w,r,B){n(B,function(){var z,v,F,H;z=w.payload;v=w.signature;if(!z||"string"!==typeof z||"string"!==typeof v)throw new ga(h.JSON_PARSE_ERROR,"payload chunk "+JSON.stringify(w));try{F=za(z);}catch(aa){throw new Ga(h.PAYLOAD_INVALID,"payload chunk "+JSON.stringify(w),aa);}try{H=za(v);}catch(aa){throw new Ga(h.PAYLOAD_SIGNATURE_INVALID,"payload chunk "+JSON.stringify(w),aa);}r.verify(F,H,{result:function(v){n(B,function(){if(!v)throw new P(h.PAYLOAD_VERIFICATION_FAILED);r.decrypt(F,{result:function(v){n(B,function(){var n,w,z,E,I,aa,fa;n=Ua(v,Ka);try{w=JSON.parse(n);}catch(ba){if(ba instanceof SyntaxError)throw new ga(h.JSON_PARSE_ERROR,"payload chunk payload "+n,ba);throw ba;}z=parseInt(w.sequencenumber);E=parseInt(w.messageid);I=w.endofmsg;aa=w.compressionalgo;w=w.data;if(!z||z!=z||!E||E!=E||I&&"boolean"!==typeof I||aa&&"string"!==typeof aa||"string"!==typeof w)throw new ga(h.JSON_PARSE_ERROR,"payload chunk payload "+n);if(0>z||z>La)throw new C(h.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload "+n);if(0>E||E>La)throw new C(h.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload "+n);I||(I=!1);if(aa&&!Lb[aa])throw new Ga(h.UNIDENTIFIED_COMPRESSION,aa);try{fa=za(w);}catch(ba){throw new Ga(h.PAYLOAD_DATA_CORRUPT,w,ba);}if(fa&&0!=fa.length)n=aa?Jc(aa,fa):fa;else{if(0<w.length)throw new Ga(h.PAYLOAD_DATA_CORRUPT,w);if(I)n=new Uint8Array(0);else throw new Ga(h.PAYLOAD_DATA_MISSING,w);}fa=new l(F,H);new qd(z,E,I,aa,n,r,fa,B);});},error:function(h){B.error(h);}});});},error:function(h){B.error(h);}});});};}());(function(){var B,I;function l(l,w,r,z,B){var F,I,E,aa,H;function v(){n(B,function(){var r,z;I>=w.length&&(I=0,++F);if(F>=E.length){if(aa)throw aa;throw new Pa(h.KEYX_FACTORY_NOT_FOUND,JSON.stringify(w));}r=E[F];z=w[I];r.scheme!=z.keyExchangeScheme?(++I,v()):r.generateResponse(l,z,H,{result:function(h){B.result(h);},error:function(h){n(B,function(){if(!(h instanceof C))throw h;aa=h;++I;v();});}});});}F=0;I=0;E=l.getKeyExchangeFactories();H=r?r:z;v();}function w(h,w,r,z,B){n(B,function(){var v;v=w.keyRequestData;if(w.isRenewable()&&0<v.length)z?z.isRenewable()||z.isExpired()?l(h,v,z,null,B):h.getTokenFactory().isNewestMasterToken(h,z,{result:function(w){n(B,function(){if(w)return null;l(h,v,z,null,B);});},error:B.error}):l(h,v,null,r.getIdentity(),B);else return null;});}function r(l,w,r,z){n(z,function(){var n,v,F,B;n=w.userIdToken;v=w.userAuthenticationData;F=w.messageId;if(n&&n.isVerified()){if(n.isRenewable()&&w.isRenewable()||n.isExpired()||!n.isBoundTo(r)){v=l.getTokenFactory();v.renewUserIdToken(l,n,r,z);return;}}else if(w.isRenewable()&&r&&v){n=w.customer;if(!n){n=v.scheme;B=l.getUserAuthenticationFactory(n);if(!B)throw new Ea(h.USERAUTH_FACTORY_NOT_FOUND,n).setEntity(r).setUser(v).setMessageId(F);n=B.authenticate(l,r.identity,v,null);}v=l.getTokenFactory();v.createUserIdToken(l,n,r,z);return;}return n;});}B=new Uint8Array(0);I=Rb=function(h){if(0>h||h>La)throw new da("Message ID "+h+" is outside the valid range.");return h==La?0:h+1;};Zb=function(h){if(0>h||h>La)throw new da("Message ID "+h+" is outside the valid range.");return 0==h?La:h-1;};Sb=function(h,l,w,r,z){n(z,function(){var v;if(r==la||null==r){v=h.getRandom();do r=v.nextLong();while(0>r||r>La);}else if(0>r||r>La)throw new da("Message ID "+r+" is outside the valid range.");h.getEntityAuthenticationData(null,{result:function(v){n(z,function(){var n;n=h.getMessageCapabilities();return new Kc(h,r,n,v,l,w,null,null,null,null,null);});},error:function(h){z.error(h);}});});};oe=function(h,l,z){n(z,function(){var F,B,H,Ca,E,S;function v(h){n(z,function(){h instanceof C&&(h.setEntity(F),h.setEntity(B),h.setUser(H),h.setUser(Ca),h.setMessageId(E));throw h;});}F=l.masterToken;B=l.entityAuthenticationData;H=l.userIdToken;Ca=l.userAuthenticationData;E=l.messageId;S=I(E);w(h,l,B,F,{result:function(w){n(z,function(){var B;B=w?w.keyResponseData.masterToken:B=F;h.getEntityAuthenticationData(null,{result:function(E){n(z,function(){r(h,l,B,{result:function(v){n(z,function(){var n,r,z;H=v;n=pd(l.messageCapabilities,h.getMessageCapabilities());r=l.keyResponseData;z=l.serviceTokens;return h.isPeerToPeer()?new Kc(h,S,n,E,r?r.masterToken:l.peerMasterToken,l.peerUserIdToken,l.peerServiceTokens,F,H,z,w):new Kc(h,S,n,E,r?r.masterToken:F,H,z,null,null,null,w);});},error:v});});},error:v});});},error:v});});};pe=function(h,l,w,r,z){n(z,function(){h.getEntityAuthenticationData(null,{result:function(v){n(z,function(){var n,F;if(l!=la&&null!=l)n=I(l);else{F=h.getRandom();do n=F.nextInt();while(0>n||n>La);}ge(h,v,n,w.responseCode,w.internalCode,w.message,r,z);});},error:function(h){z.error(h);}});});};Kc=ra.Class.create({init:function(h,l,n,w,r,z,B,I,E,H,C){var v,F,aa,Y,S;if(!h.isPeerToPeer()&&(I||E))throw new da("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");v=C&&!h.isPeerToPeer()?C.keyResponseData.masterToken:r;F={};h.getMslStore().getServiceTokens(v,z).forEach(function(h){F[h.name]=h;},this);B&&B.forEach(function(h){F[h.name]=h;},this);S={};h.isPeerToPeer()&&(aa=I,Y=E,B=C?C.keyResponseData.masterToken:I,h.getMslStore().getServiceTokens(B,E).forEach(function(h){S[h.name]=h;},this),H&&H.forEach(function(h){S[h.name]=h;},this));Object.defineProperties(this,{_ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:w,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:r,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:l,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:n,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:C,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:z,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:F,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:aa,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:Y,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:S,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken||Tc(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken||!this._ctx.isPeerToPeer()&&this._keyExchangeData||Tc(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken||Ad(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken||!this._ctx.isPeerToPeer()&&this._keyExchangeData||Ad(this._entityAuthData.scheme);},getHeader:function(l){n(l,function(){var n,v,w,r,z;n=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;v=[];for(w in this._serviceTokens)v.push(this._serviceTokens[w]);r=[];for(z in this._keyRequestData)r.push(this._keyRequestData[z]);if(this._nonReplayable){if(!this._masterToken)throw new Ga(h.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);z=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else z=null;n=new je(this._messageId,z,this._renewable,this._capabilities,r,n,this._userAuthData,this._userIdToken,v);v=[];for(w in this._peerServiceTokens)v.push(this._peerServiceTokens[w]);w=new ke(this._peerMasterToken,this._peerUserIdToken,v);ie(this._ctx,this._entityAuthData,this._masterToken,n,w,l);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(h){this._nonReplayable=h;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(h){this._renewable=h;return this;},setAuthTokens:function(h,l){var n,v,w;if(l&&!l.isBoundTo(h))throw new da("User ID token must be bound to master token.");if(this._keyExchangeData&&!this._ctx.isPeerToPeer())throw new da("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{n=this._ctx.getMslStore().getServiceTokens(h,l);}catch(ya){if(ya instanceof C)throw new da("Invalid master token and user ID token combination despite checking above.",ya);throw ya;}v=[];for(w in this._serviceTokens)v.push(this._serviceTokens[w]);v.forEach(function(n){(n.isUserIdTokenBound()&&!n.isBoundTo(l)||n.isMasterTokenBound()&&!n.isBoundTo(h))&&delete this._serviceTokens[n.name];},this);n.forEach(function(h){this._serviceTokens[h.name]=h;},this);this._masterToken=h;this._userIdToken=l;},setUserAuthenticationData:function(h){this._userAuthData=h;return this;},setCustomer:function(h,l){var v;v=this;n(l,function(){var w;if(!this._ctx.isPeerToPeer()&&null!=this._userIdToken||this._ctx.isPeerToPeer()&&null!=this._peerUserIdToken)throw new da("User ID token or peer user ID token already exists for the remote user.");w=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!w)throw new da("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,h,w,{result:function(h){n(l,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=h:(this._userIdToken=h,this._userAuthData=null);return!0;},v);},error:function(h){l.error(h);}});},v);},addKeyRequestData:function(h){this._keyRequestData[h.uniqueKey()]=h;return this;},removeKeyRequestData:function(h){delete this._keyRequestData[h.uniqueKey()];return this;},addServiceToken:function(l){var n;n=this._keyExchangeData&&!this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(l.isMasterTokenBound()&&!l.isBoundTo(n))throw new Ga(h.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st "+JSON.stringify(l)+"; mt "+JSON.stringify(n)).setEntity(n);if(l.isUserIdTokenBound()&&!l.isBoundTo(this._userIdToken))throw new Ga(h.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st "+JSON.stringify(l)+"; uit "+JSON.stringify(this._userIdToken)).setEntity(n).setUser(this._userIdToken);this._serviceTokens[l.name]=l;return this;},addServiceTokenIfAbsent:function(h){this._serviceTokens[h.name]||this.addServiceToken(h);return this;},excludeServiceToken:function(h){delete this._serviceTokens[h];return this;},deleteServiceToken:function(h,l){var v;v=this;n(l,function(){var w,r;w=this._serviceTokens[h];if(!w)return this;r=w.isMasterTokenBound()?this._masterToken:null;w=w.isUserIdTokenBound()?this._userIdToken:null;zb(this._ctx,h,B,r,w,!1,null,new Yb(),{result:function(h){n(l,function(){return this.addServiceToken(h);},v);},error:function(h){h instanceof C&&(h=new da("Failed to create and add empty service token to message.",h));l.error(h);}});},v);},getServiceTokens:function(){var h,l;h=[];for(l in this._serviceTokens)h.push(this._serviceTokens[l]);return h;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(l,n){var v;if(!this._ctx.isPeerToPeer())throw new da("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(n&&!l)throw new da("Peer master token cannot be null when setting peer user ID token.");if(n&&!n.isBoundTo(l))throw new Ga(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit "+n+"; mt "+l).setEntity(l).setUser(n);try{v=this._ctx.getMslStore().getServiceTokens(l,n);}catch(aa){if(aa instanceof C)throw new da("Invalid peer master token and user ID token combination despite proper check.",aa);throw aa;}Object.keys(this._peerServiceTokens).forEach(function(h){var v;v=this._peerServiceTokens[h];v.isUserIdTokenBound()&&!v.isBoundTo(n)?delete this._peerServiceTokens[h]:v.isMasterTokenBound()&&!v.isBoundTo(l)&&delete this._peerServiceTokens[h];},this);v.forEach(function(h){var l;l=h.name;this._peerServiceTokens[l]||(this._peerServiceTokens[l]=h);},this);this._peerUserIdToken=n;this._peerMasterToken=l;return this;},addPeerServiceToken:function(l){if(!this._ctx.isPeerToPeer())throw new da("Cannot set peer service tokens when not in peer-to-peer mode.");if(l.isMasterTokenBound()&&!l.isBoundTo(this._peerMasterToken))throw new Ga(h.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st "+JSON.stringify(l)+"; mt "+JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(l.isUserIdTokenBound()&&!l.isBoundTo(this._peerUserIdToken))throw new Ga(h.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st "+JSON.stringify(l)+"; uit "+JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this._peerServiceTokens[l.name]=l;return this;},addPeerServiceTokenIfAbsent:function(h){this._peerServiceTokens[h.name]||this.addPeerServiceToken(h);return this;},excludePeerServiceToken:function(h){delete this._peerServiceTokens[h];return this;},deletePeerServiceToken:function(h,l){var v;v=this;n(l,function(){var w,r;w=this._peerServiceTokens[h];if(!w)return this;r=w.isMasterTokenBound()?this._peerMasterToken:null;w=w.isUserIdTokenBound()?this._peerUserIdToken:null;zb(this._ctx,h,B,r,w,!1,null,new Yb(),{result:function(h){n(l,function(){return this.addPeerServiceToken(h);},v);},error:function(h){h instanceof C&&(h=new da("Failed to create and add empty peer service token to message.",h));l.error(h);}});},v);},getPeerServiceTokens:function(){var h,l;h=[];for(l in this._peerServiceTokens)h.push(this._peerServiceTokens[l]);return h;}});}());(function(){function h(h,l){return l[h]?l[h]:l[""];}function l(h){var l;l=h.builder.getKeyExchangeData();return l&&!h.ctx.isPeerToPeer()?l.keyResponseData.masterToken:h.builder.getMasterToken();}qe=ra.Class.create({init:function(h,l,n){h={ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:l.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:n,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},isPrimaryMasterTokenAvailable:function(){return l(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(h){try{return this.builder.addServiceToken(h),!0;}catch(B){if(B instanceof Ga)return!1;throw B;}},addPeerServiceToken:function(h){try{return this.builder.addPeerServiceToken(h),!0;}catch(B){if(B instanceof Ga)return!1;throw B;}},addUnboundPrimaryServiceToken:function(l,w,r,v,F){var z;z=this;n(F,function(){var B;B=h(l,this.cryptoContexts);if(!B)return!1;zb(this.ctx,l,w,null,null,r,v,B,{result:function(h){n(F,function(){try{this.builder.addServiceToken(h);}catch(ya){if(ya instanceof Ga)throw new da("Service token bound to incorrect authentication tokens despite being unbound.",ya);throw ya;}return!0;},z);},error:function(h){F.error(h);}});},z);},addUnboundPeerServiceToken:function(l,w,r,v,F){var z;z=this;n(F,function(){var B;B=h(l,this.cryptoContexts);if(!B)return!1;zb(this.ctx,l,w,null,null,r,v,B,{result:function(h){n(F,function(){try{this.builder.addPeerServiceToken(h);}catch(ya){if(ya instanceof Ga)throw new da("Service token bound to incorrect authentication tokens despite being unbound.",ya);throw ya;}return!0;},z);},error:function(h){F.error(h);}});},z);},addMasterBoundPrimaryServiceToken:function(w,r,I,v,F){var z;z=this;n(F,function(){var B,H;B=l(this);if(!B)return!1;H=h(w,this.cryptoContexts);if(!H)return!1;zb(this.ctx,w,r,B,null,I,v,H,{result:function(h){n(F,function(){try{this.builder.addServiceToken(h);}catch(Y){if(Y instanceof Ga)throw new da("Service token bound to incorrect authentication tokens despite setting correct master token.",Y);throw Y;}return!0;},z);},error:function(h){F.error(h);}});},z);},addMasterBoundPeerServiceToken:function(l,w,r,v,F){var z;z=this;n(F,function(){var B,I;B=this.builder.getPeerMasterToken();if(!B)return!1;I=h(l,this.cryptoContexts);if(!I)return!1;zb(this.ctx,l,w,B,null,r,v,I,{result:function(h){n(F,function(){try{this.builder.addPeerServiceToken(h);}catch(Y){if(Y instanceof Ga)throw new da("Service token bound to incorrect authentication tokens despite setting correct master token.",Y);throw Y;}return!0;},z);},error:function(h){F.error(h);}});},z);},addUserBoundPrimaryServiceToken:function(w,r,I,v,F){var z;z=this;n(F,function(){var B,H,C;B=l(this);if(!B)return!1;H=this.builder.getUserIdToken();if(!H)return!1;C=h(w,this.cryptoContexts);if(!C)return!1;zb(this.ctx,w,r,B,H,I,v,C,{result:function(h){n(F,function(){try{this.builder.addServiceToken(h);}catch(na){if(na instanceof Ga)throw new da("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",na);throw na;}return!0;},z);},error:function(h){F.error(h);}});},z);},addUserBoundPeerServiceToken:function(l,w,r,v,F){var z;z=this;n(F,function(){var B,I,H;B=this.builder.getPeerMasterToken();if(!B)return!1;I=this.builder.getPeerUserIdToken();if(!I)return!1;H=h(l,this.cryptoContexts);if(!H)return!1;zb(this.ctx,l,w,B,I,r,v,H,{result:function(h){n(F,function(){try{this.builder.addPeerServiceToken(h);}catch(na){if(na instanceof Ga)throw new da("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",na);throw na;}return!0;},z);},error:function(h){F.error(h);}});},z);},excludePrimaryServiceToken:function(h){for(var l=this.builder.getServiceTokens(),n=0;n<l.length;++n)if(l[n].name==h)return this.builder.excludeServiceToken(h),!0;return!1;},excludePeerServiceToken:function(h){for(var l=this.builder.getPeerServiceTokens(),n=0;n<l.length;++n)if(l[n].name==h)return this.builder.excludePeerServiceToken(h),!0;return!1;},deletePrimaryServiceToken:function(h,l){n(l,function(){for(var n=this.builder.getServiceTokens(),v=0;v<n.length;++v)if(n[v].name==h){this.builder.deleteServiceToken(h,{result:function(){l.result(!0);},error:function(h){l.error(h);}});return;}return!1;},this);},deletePeerServiceToken:function(h,l){n(l,function(){for(var n=this.builder.getPeerServiceTokens(),v=0;v<n.length;++v)if(n[v].name==h){this.builder.deletePeerServiceToken(h,{result:function(){l.result(!0);},error:function(h){l.error(h);}});return;}return!1;},this);}});}());(function(){function l(l,r,B,I){n(I,function(){var w,z,H,Da,J,Y;function v(){n(I,function(){var r;if(Y>=B.length){if(J)throw J;throw new Pa(h.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(B));}r=B[Y];H!=r.keyExchangeScheme?(++Y,v()):Da.getCryptoContext(l,r,z,w,{result:I.result,error:function(h){n(I,function(){if(!(h instanceof C))throw h;J=h;++Y;v();});}});});}w=r.masterToken;z=r.keyResponseData;if(!z)return null;H=z.keyExchangeScheme;Da=l.getKeyExchangeFactory(H);if(!Da)throw new Pa(h.KEYX_FACTORY_NOT_FOUND,H);Y=0;v();});}re=id.extend({init:function(n,z,B,I,v,F,H){var w;w=this;r(H,function(){var S;function r(){w._ready=!0;w._readyQueue.add(!0);}function H(h,l){var n;try{n=l.masterToken;h.getTokenFactory().isMasterTokenRevoked(h,n,{result:function(v){v?(w._errored=new Nb(v,n).setUser(l.userIdToken).setUser(l.userAuthenticationData).setMessageId(l.messageId),r()):aa(h,l);},error:function(h){h instanceof C&&(h.setEntity(l.masterToken),h.setUser(l.userIdToken),h.setUser(l.userAuthenticationData),h.setMessageId(l.messageId));w._errored=h;r();}});}catch(ua){ua instanceof C&&(ua.setEntity(l.masterToken),ua.setUser(l.userIdToken),ua.setUser(l.userAuthenticationData),ua.setMessageId(l.messageId));w._errored=ua;r();}}function aa(h,l){var n,v;try{n=l.masterToken;v=l.userIdToken;v?h.getTokenFactory().isUserIdTokenRevoked(h,n,v,{result:function(z){z?(w._errored=new MslUserIdTokenException(z,v).setEntity(n).setUser(v).setMessageId(l.messageId),r()):na(h,l);},error:function(h){h instanceof C&&(h.setEntity(l.masterToken),h.setUser(l.userIdToken),h.setUser(l.userAuthenticationData),h.setMessageId(l.messageId));w._errored=h;r();}}):na(h,l);}catch(Na){Na instanceof C&&(Na.setEntity(l.masterToken),Na.setUser(l.userIdToken),Na.setUser(l.userAuthenticationData),Na.setMessageId(l.messageId));w._errored=Na;r();}}function na(l,n){var v;try{v=n.masterToken;v.isExpired()?n.isRenewable()&&0!=n.keyRequestData.length?l.getTokenFactory().isMasterTokenRenewable(l,v,{result:function(h){h?(w._errored=new Ga(h,"Master token is expired and not renewable.").setEntity(v).setUser(n.userIdToken).setUser(n.userAuthenticationData).setMessageId(n.messageId),r()):E(l,n);},error:function(h){h instanceof C&&(h.setEntity(n.masterToken),h.setUser(n.userIdToken),h.setUser(n.userAuthenticationData),h.setMessageId(n.messageId));w._errored=h;r();}}):(w._errored=new Ga(h.MESSAGE_EXPIRED,JSON.stringify(n)).setEntity(v).setUser(n.userIdToken).setUser(n.userAuthenticationData).setMessageId(n.messageId),r()):E(l,n);}catch(ua){ua instanceof C&&(ua.setEntity(n.masterToken),ua.setUser(n.userIdToken),ua.setUser(n.userAuthenticationData),ua.setMessageId(n.messageId));w._errored=ua;r();}}function E(l,n){var v,z;try{v=n.masterToken;z=n.nonReplayableId;"number"===typeof z?v?l.getTokenFactory().acceptNonReplayableId(l,v,z,{result:function(l){l||(w._errored=new Ga(h.MESSAGE_REPLAYED,JSON.stringify(n)).setEntity(v).setUser(n.userIdToken).setUser(n.userAuthenticationData).setMessageId(n.messageId));r();},error:function(h){h instanceof C&&(h.setEntity(v),h.setUser(n.userIdToken),h.setUser(n.userAuthenticationData),h.setMessageId(n.messageId));w._errored=h;r();}}):(w._errored=new Ga(h.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(n)).setEntity(n.entityAuthenticationData).setUser(n.userIdToken).setUser(n.userAuthenticationData).setMessageId(n.messageId),r()):r();}catch(Na){Na instanceof C&&(Na.setEntity(n.masterToken),Na.setEntity(n.entityAuthenticationData),Na.setUser(n.userIdToken),Na.setUser(n.userAuthenticationData),Na.setMessageId(n.messageId));w._errored=Na;r();}}S={_source:{value:z,writable:!1,enumerable:!1,configurable:!1},_parser:{value:la,writable:!0,enumerable:!1,configurable:!1},_charset:{value:B,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:F,writable:!1,enumerable:!1,configurable:!1},_header:{value:la,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:la,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:la,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new gc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,S);Vd(w._source,F,{result:function(z){w._json=z;w._jsonIndex=0;null===w._json?(w._errored=new ga(h.MESSAGE_DATA_MISSING),r()):be(n,w._json[w._jsonIndex++],v,{result:function(h){var v;w._header=h;if(w._header instanceof Jb)w._keyxCryptoContext=null,w._cryptoContext=null,r();else{v=w._header;l(n,v,I,{result:function(h){var l;try{w._keyxCryptoContext=h;n.isPeerToPeer()||!w._keyxCryptoContext?w._cryptoContext=v.cryptoContext:w._cryptoContext=w._keyxCryptoContext;try{l=v.masterToken;l&&(n.isPeerToPeer()||l.isVerified())?H(n,v):E(n,v);}catch(sa){sa instanceof C&&(sa.setEntity(v.masterToken),sa.setUser(v.userIdToken),sa.setUser(v.userAuthenticationData),sa.setMessageId(v.messageId));w._errored=sa;r();}}catch(sa){sa instanceof C&&(sa.setEntity(v.masterToken),sa.setEntity(v.entityAuthenticationData),sa.setUser(v.userIdToken),sa.setUser(v.userAuthenticationData),sa.setMessageId(v.messageId));w._errored=sa;r();}},error:function(h){h instanceof C&&(h.setEntity(v.masterToken),h.setEntity(v.entityAuthenticationData),h.setUser(v.userIdToken),h.setUser(v.userAuthenticationData),h.setMessageId(v.messageId));w._errored=h;r();}});}},error:function(h){w._errored=h;r();}});},timeout:function(){w._timedout=!0;r();},error:function(h){w._errored=h;r();}});return this;},w);},nextData:function(l,n){var w;w=this;r(n,function(){var v;function l(h){r(h,function(){var n;if(this._jsonIndex<this._json.length)return n=this._json[this._jsonIndex++];Vd(this._source,this._timeout,{result:function(n){n&&n.length&&0<n.length?(n.forEach(function(h){this._json.push(h);}),l(h)):(this._eom=!0,h.result(null));},timeout:function(){h.timeout();},error:function(l){h.error(l);}});},w);}v=this.getMessageHeader();if(!v)throw new da("Read attempted with error message.");if(-1!=this._payloadIndex&&this._payloadIndex<this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;l({result:function(l){r(n,function(){if(!l)return null;if("object"!==typeof l)throw new ga(h.MESSAGE_FORMAT_ERROR);ne(l,this._cryptoContext,{result:function(l){r(n,function(){var n,w,r,z;n=v.masterToken;w=v.entityAuthenticationData;r=v.userIdToken;z=v.getUserAuthenticationData;if(l.messageId!=v.messageId)throw new Ga(h.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid "+l.messageId+" header mid "+v.messageId).setEntity(n).setEntity(w).setUser(r).setUser(z);if(l.sequenceNumber!=this._payloadSequenceNumber)throw new Ga(h.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno "+l.sequenceNumber+" expected seqno "+this._payloadSequenceNumber).setEntity(n).setEntity(w).setUser(r).setUser(z);++this._payloadSequenceNumber;l.isEndOfMessage()&&(this._eom=!0);n=l.data;this._payloads.push(n);this._payloadIndex=-1;return n;},w);},error:function(l){l instanceof SyntaxError&&(l=new ga(h.JSON_PARSE_ERROR,"payloadchunk",l));n.error(l);}});},w);},timeout:function(){n.timeout();},error:function(h){n.error(h);}});},w);},isReady:function(h,l){var w;function n(){r(l,function(){if(this._aborted)return!1;if(this._timedout)l.timeout();else{if(this._errored)throw this._errored;return!0;}},w);}w=this;r(l,function(){this._ready?n():this._readyQueue.poll(h,{result:function(h){r(l,function(){if(h===la)return!1;n();},w);},timeout:function(){l.timeout();},error:function(h){l.error(h);}});},w);},getMessageHeader:function(){return this._header instanceof kc?this._header:null;},getErrorHeader:function(){return this._header instanceof Jb?this._header:null;},getIdentity:function(){var h,l;h=this.getMessageHeader();if(h){l=h.masterToken;return l?l.identity:h.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var h;h=this.getMessageHeader();return h?h.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(h){this._closeSource=h;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource&&this._source.close();},mark:function(){if(this._currentPayload){for(;0<this._payloads.length&&this._payloads[0]!==this._currentPayload;)this._payloads.shift();this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else this._payloadIndex=-1,this._payloads=[];},markSupported:function(){return!0;},read:function(h,l,n){var v;function w(){r(n,function(){var z,B,H,I;function w(n){r(n,function(){var z,F,S;if(B&&I>=B.length)return B.subarray(0,I);z=-1;if(this._currentPayload){F=this._currentPayload.length-this._payloadOffset;if(!B){S=F;if(-1!=this._payloadIndex)for(var Y=this._payloadIndex;Y<this._payloads.length;++Y)S+=this._payloads[Y].length;0<S&&(B=new Uint8Array(S));}F=Math.min(F,B?B.length-I:0);0<F&&(z=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset+F),B.set(z,H),z=F,H+=F,this._payloadOffset+=F);}-1!=z?(I+=z,w(n)):this.nextData(l,{result:function(l){r(n,function(){if(this._aborted)return B?B.subarray(0,I):new Uint8Array(0);this._currentPayload=l;this._payloadOffset=0;if(this._currentPayload)w(n);else return 0==I&&0!=h?null:B?B.subarray(0,I):new Uint8Array(0);},v);},timeout:function(){n.timeout(B?B.subarray(0,I):new Uint8Array(0));},error:function(h){r(n,function(){h instanceof C&&(h=new Va("Error reading the payload chunk.",h));if(0<I)return v._readException=h,B.subarray(0,I);throw h;},v);}});},v);}if(this._aborted)return new Uint8Array(0);if(this._timedout)n.timeout(new Uint8Array(0));else{if(this._errored)throw this._errored;if(null!=this._readException){z=this._readException;this._readException=null;throw z;}B=-1!=h?new Uint8Array(h):la;H=0;I=0;w(n);}},v);}v=this;r(n,function(){if(-1>h)throw new RangeError("read requested with illegal length "+h);this._ready?w():this._readyQueue.poll(l,{result:function(h){h===la?n.result(!1):w();},timeout:function(){n.timeout(new Uint8Array(0));},error:function(h){n.error(h);}});},v);},reset:function(){this._payloadIndex=0;0<this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});se=function(h,l,n,r,v,F,H){new re(h,l,n,r,v,F,H);};}());(function(){te=Fc.extend({init:function(h,l,n,B,I,v,F){var w;w=this;r(F,function(){var z,F,H;function r(){w._ready=!0;w._readyQueue.add(!0);}z=pd(h.getMessageCapabilities(),B.messageCapabilities);F=null;z&&(F=Jd(z.compressionAlgorithms));z={_destination:{value:l,writable:!1,enumerable:!1,configurable:!1},_charset:{value:n,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:z,writable:!1,enumerable:!1,configurable:!1},_header:{value:B,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:F,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:I,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new gc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,z);H=Sa(JSON.stringify(B),n);l.write(H,0,H.length,v,{result:function(h){try{w._aborted?r():h<H.length?(w._timedout=!0,r()):l.flush(v,{result:function(h){w._aborted||(w._timedout=!h);r();},timeout:function(){w._timedout=!0;r();},error:function(h){w._errored=h;r();}});}catch(E){w._errored=E;r();}},timeout:function(){w._timedout=!0;r();},error:function(h){w._errored=h;r();}});return this;},w);},setCompressionAlgorithm:function(h,l,n){var z;function w(){z.flush(l,{result:function(l){r(n,function(){if(!l)throw new Va("flush() aborted");this._compressionAlgo=h;return!0;},z);},timeout:function(){n.timeout();},error:function(h){n.error(h);}});}z=this;r(n,function(){if(!this.getMessageHeader())throw new da("Cannot write payload data for an error message.");if(this._compressionAlgo==h)return!0;if(h){if(!this._capabilities)return!1;for(var l=this._capabilities.compressionAlgorithms,n=0;n<l.length;++n)if(l[n]==h){w();return;}return!1;}w();},z);},getMessageHeader:function(){return this._header instanceof kc?this._header:null;},getErrorMessage:function(){return this._header instanceof Jb?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(h,l){var n;n=this;r(l,function(){if(this._aborted)return!1;if(this._timedout)l.timeout();else{if(this._errored)throw this._errored;if(this._closed)return!0;this._closed=!0;this.flush(h,{result:function(h){r(l,function(){h&&(this._currentPayload=null);return h;},n);},timeout:function(){l.timeout();},error:function(h){l.error(h);}});}},n);},flush:function(h,l){var w;function n(){r(l,function(){var n,v,J;if(this._aborted)return!1;if(this._timedout)l.timeout();else{if(this._errored)throw this._errored;if(!this._currentPayload||!this._closed&&0==this._currentPayload.length)return!0;n=this.getMessageHeader();if(!n)return!0;v=0;this._currentPayload&&this._currentPayload.forEach(function(h){v+=h.length;});for(var z=new Uint8Array(v),B=0,H=0;this._currentPayload&&H<this._currentPayload.length;++H){J=this._currentPayload[H];z.set(J,B);B+=J.length;}me(this._payloadSequenceNumber,n.messageId,this._closed,this._compressionAlgo,z,this._cryptoContext,{result:function(n){r(l,function(){var v;this._payloads.push(n);v=Sa(JSON.stringify(n),this._charset);this._destination.write(v,0,v.length,h,{result:function(v){r(l,function(){if(this._aborted)return!1;v<n.length?l.timeout():this._destination.flush(h,{result:function(h){r(l,function(){if(this._aborted)return!1;if(h)return++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0;l.timeout();},w);},timeout:function(){l.timeout();},error:function(h){h instanceof C&&(h=new Va("Error encoding payload chunk [sequence number "+w._payloadSequenceNumber+"].",h));l.error(h);}});},w);},timeout:function(h){l.timeout();},error:function(h){h instanceof C&&(h=new Va("Error encoding payload chunk [sequence number "+w._payloadSequenceNumber+"].",h));l.error(h);}});},w);},error:function(h){h instanceof C&&(h=new Va("Error encoding payload chunk [sequence number "+w._payloadSequenceNumber+"].",h));l.error(h);}});}},w);}w=this;r(l,function(){this._ready?n():this._readyQueue.poll(h,{result:function(h){h===la?l.result(!1):n();},timeout:function(){l.timeout();},error:function(h){l.error(h);}});},w);},write:function(h,l,n,B,I){r(I,function(){var v;if(this._aborted)return!1;if(this._timedout)I.timeout();else{if(this._errored)throw this._errored;if(this._closed)throw new Va("Message output stream already closed.");if(0>l)throw new RangeError("Offset cannot be negative.");if(0>n)throw new RangeError("Length cannot be negative.");if(l+n>h.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new da("Cannot write payload data for an error message.");v=h.subarray(l,l+n);this._currentPayload.push(v);return v.length;}},this);}});Lc=function(h,l,n,r,I,v,F){new te(h,l,n,r,I,v,F);};}());cf=ra.Class.create({sentHeader:function(h){},receivedHeader:function(h){}});Object.freeze({USERDATA_REAUTH:l.USERDATA_REAUTH,SSOTOKEN_REJECTED:l.SSOTOKEN_REJECTED});ue=ra.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(h,l,n,r){},getCustomer:function(){},getKeyRequestData:function(h){},updateServiceTokens:function(h,l,n){},write:function(h,l,n){},getDebugContext:function(){}});ra.Class.create({getInputStream:function(h){},getOutputStream:function(h){}});(function(){var J,aa,Da,ya,Y,na,E,S,Aa,fa,ba,ua;function H(h){return function(){h.abort();};}function w(h,l){Object.defineProperties(this,{masterToken:{value:h,writable:!1,configurable:!1},ticket:{value:l,writable:!1,configurable:!1}});}function z(h,l){Object.defineProperties(this,{builder:{value:h,writable:!1,configurable:!1},msgCtx:{value:l,writable:!1,configurable:!1}});}function B(h,l,n){Object.defineProperties(this,{requestHeader:{value:h,writable:!1,configurable:!1},payloads:{value:l,writable:!1,configurable:!1},handshake:{value:n,writable:!1,configurable:!1}});}function I(h,l){Object.defineProperties(this,{requestHeader:{value:l.requestHeader,writable:!1,configurable:!1},payloads:{value:l.payloads,writable:!1,configurable:!1},handshake:{value:l.handshake,writable:!1,configurable:!1},response:{value:h,writable:!1,configurable:!1}});}function v(h){for(;h;){if(h instanceof bb)return!0;h=h instanceof C?h.cause:la;}return!1;}function F(h,l,n,v,w,z,F,B,g){pe(l,v,w,z,{result:function(c){n&&n.sentHeader(c);Lc(l,F,Ka,c,null,null,B,{result:function(a){h.setAbort(function(){a.abort();});a.close(B,{result:function(a){r(g,function(){if(!a)throw new bb("sendError aborted.");return a;});},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},timeout:function(){},error:function(a){g.error(a);}});},error:function(c){g.error(c);}});}J=Fc.extend({close:function(h,l){l.result(!0);},write:function(h,l,v,w,r){n(r,function(){return Math.min(h.length-l,v);});},flush:function(h,l){l.result(!0);}});aa=bf.extend({getUserMessage:function(h,l){return null;}});Da=ue.extend({init:function(h){Object.defineProperties(this,{_appCtx:{value:h,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(h,l,n,v){this._appCtx.getUserAuthData(h,l,n,v);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(h){this._appCtx.getKeyRequestData(h);},updateServiceTokens:function(h,l,n){this._appCtx.updateServiceTokens(h,l,n);},write:function(h,l,n){this._appCtx.write(h,l,n);},getDebugContext:function(){return this._appCtx.getDebugContext();}});ya=Da.extend({init:function sa(h,l){sa.base.call(this,l);Object.defineProperties(this,{_payloads:{value:h,writable:!1,enumerable:!1,configurable:!1}});},write:function(h,l,n){var w;function v(z,F){var g;if(z==w._payloads.length)n.result(!0);else{g=w._payloads[z];h.setCompressionAlgorithm(g.compressionAlgo,l,{result:function(c){h.write(g.data,0,g.data.length,l,{result:function(a){r(n,function(){g.isEndOfMessage()?v(z+1,F):h.flush(l,{result:function(a){n.result(a);},timeout:function(){n.timeout();},error:function(a){n.error(a);}});},w);},timeout:function(a){n.timeout(a);},error:function(a){n.error(a);}});},timeout:function(){},error:function(c){n.error(c);}});}}w=this;v(0);}});Y=Da.extend({init:function ha(h){ha.base.call(this,h);},isEncrypted:function(){return!1;},isNonReplayable:function(){return!1;},write:function(h,l,n){n.result(!0);}});na={};ba=ra.Class.create({init:function(h){h||(h=new aa());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:h,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(h){this._filterFactory=h;},getNewestMasterToken:function(h,l,n,v){var z;z=this;r(v,function(){var F,g,c,a,b;F=l.getMslStore();g=F.getMasterToken();if(!g)return null;c=g.uniqueKey();a=this._masterTokenLocks[c];a||(a=new Yc(),this._masterTokenLocks[c]=a);b=a.readLock(n,{result:function(b){r(v,function(){var f;if(b===la)throw new bb("getNewestMasterToken aborted.");f=F.getMasterToken();if(g.equals(f))return new w(g,b);a.unlock(b);a.writeLock(n,{result:function(b){r(v,function(){if(b===la)throw new bb("getNewestMasterToken aborted.");delete this._masterTokenLocks[c];a.unlock(b);return this.getNewestMasterToken(h,l,n,v);},z);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},z);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});h.setAbort(function(){b&&(a.cancel(b),b=la);});},z);},deleteMasterToken:function(h,l){var n;if(l){n=this;setTimeout(function(){var v,w;v=l.uniqueKey();w=n._masterTokenLocks[v];w||(w=new Yc(),n._masterTokenLocks[v]=w);w.writeLock(-1,{result:function(r){h.getMslStore().removeCryptoContext(l);delete n._masterTokenLocks[v];w.unlock(r);},timeout:function(){throw new da("Unexpected timeout received.");},error:function(h){throw h;}});},0);}},releaseMasterToken:function(h){var l;if(h&&h.masterToken){l=h.masterToken.uniqueKey();l=this._masterTokenLocks[l];if(!l)throw new da("Master token read/write lock does not exist when it should.");l.unlock(h.ticket);}},updateOutgoingCryptoContexts:function(h,l,n){var v;v=h.getMslStore();!h.isPeerToPeer()&&n&&(v.setCryptoContext(n.keyResponseData.masterToken,n.cryptoContext),this.deleteMasterToken(h,l.masterToken));},updateIncomingCryptoContexts:function(h,l,n){var v,w;v=n.getMessageHeader();if(v){w=h.getMslStore();if(v=v.keyResponseData)w.setCryptoContext(v.masterToken,n.getKeyExchangeCryptoContext()),this.deleteMasterToken(h,l.masterToken);}},storeServiceTokens:function(h,l,n,v){var g,c;h=h.getMslStore();for(var w=[],r=0;r<v.length;++r){g=v[r];if(!g.isBoundTo(l)||!l.isVerified()){c=g.data;c&&0==c.length?h.removeServiceTokens(g.name,g.isMasterTokenBound()?l:null,g.isUserIdTokenBound()?n:null):w.push(g);}}0<w.length&&h.addServiceTokens(w);},buildRequest:function(h,l,v,w,r){var z;z=this;this.getNewestMasterToken(h,l,w,{result:function(g){n(r,function(){var c,a,b;c=g&&g.masterToken;if(c){a=v.getUserId();b=l.getMslStore();a=(a=a?b.getUserIdToken(a):null)&&a.isBoundTo(c)?a:null;}else a=null;Sb(l,c,a,null,{result:function(a){n(r,function(){a.setNonReplayable(v.isNonReplayable());return{builder:a,tokenTicket:g};});},error:function(a){n(r,function(){this.releaseMasterToken(g);a instanceof C&&(a=new da("User ID token not bound to master token despite internal check.",a));throw a;},z);}});},z);},timeout:function(){r.timeout();},error:function(g){r.error(g);}});},buildResponse:function(h,l,n,v,w,z){var g;g=this;oe(l,v,{result:function(c){r(z,function(){c.setNonReplayable(n.isNonReplayable());if(!l.isPeerToPeer()&&!v.keyResponseData)return{builder:c,tokenTicket:null};this.getNewestMasterToken(h,l,w,{result:function(a){r(z,function(){var b,f,q;b=a&&a.masterToken;if(b){f=n.getUserId();q=l.getMslStore();f=(f=f?q.getUserIdToken(f):null)&&f.isBoundTo(b)?f:null;}else f=null;c.setAuthTokens(b,f);return{builder:c,tokenTicket:a};},g);},timeout:function(){z.timeout();},error:function(a){z.error(a);}});},g);},error:function(c){z.error(c);}});},buildErrorResponse:function(h,n,v,w,F,B,g){var b;function c(a,c){r(g,function(){var f,d;f=Rb(F.messageId);d=new ya(c,v);Sb(n,null,null,f,{result:function(f){r(g,function(){n.isPeerToPeer()&&f.setPeerAuthTokens(a.peerMasterToken,a.peerUserIdToken);f.setNonReplayable(d.isNonReplayable());return{errorResult:new z(f,d),tokenTicket:null};},b);},error:function(a){g.error(a);}});},b);}function a(a,c){b.getNewestMasterToken(h,n,B,{result:function(f){r(g,function(){var d,k,m;d=f&&f.masterToken;k=Rb(F.messageId);m=new ya(c,v);Sb(n,d,null,k,{result:function(d){r(g,function(){n.isPeerToPeer()&&d.setPeerAuthTokens(a.peerMasterToken,a.peerUserIdToken);d.setNonReplayable(m.isNonReplayable());return{errorResult:new z(d,m),tokenTicket:f};},b);},error:function(a){g.error(a);}});},b);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});}b=this;r(g,function(){var f,q,p,d;f=w.requestHeader;q=w.payloads;p=F.errorCode;switch(p){case l.ENTITYDATA_REAUTH:case l.ENTITY_REAUTH:n.getEntityAuthenticationData(p,{result:function(a){r(g,function(){if(!a)return null;c(f,q);},b);},error:function(a){g.error(a);}});break;case l.USERDATA_REAUTH:case l.SSOTOKEN_REJECTED:v.getUserAuthData(p,!1,!0,{result:function(d){r(g,function(){if(!d)return null;a(f,q);},b);},error:function(a){g.error(a);}});break;case l.USER_REAUTH:a(f,q);break;case l.KEYX_REQUIRED:p=Rb(F.messageId),d=new ya(q,v);Sb(n,null,null,p,{result:function(a){r(g,function(){n.isPeerToPeer()&&a.setPeerAuthTokens(f.peerMasterToken,f.peerUserIdToken);a.setRenewable(!0);a.setNonReplayable(d.isNonReplayable());return{errorResult:new z(a,d),tokenTicket:null};},b);},error:function(a){g.error(a);}});break;case l.EXPIRED:this.getNewestMasterToken(h,n,B,{result:function(a){r(g,function(){var d,k,u,c;d=a&&a.masterToken;k=f.userIdToken;u=Rb(F.messageId);c=new ya(q,v);Sb(n,d,k,u,{result:function(k){r(g,function(){n.isPeerToPeer()&&k.setPeerAuthTokens(f.peerMasterToken,f.peerUserIdToken);f.masterToken.equals(d)&&k.setRenewable(!0);k.setNonReplayable(c.isNonReplayable());return{errorResult:new z(k,c),tokenTicket:a};},b);},error:function(a){g.error(a);}},b);},b);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});break;case l.REPLAYED:this.getNewestMasterToken(h,n,B,{result:function(a){r(g,function(){var d,k,u,c;d=a&&a.masterToken;k=f.userIdToken;u=Rb(F.messageId);c=new ya(q,v);Sb(n,d,k,u,{result:function(k){r(g,function(){n.isPeerToPeer()&&k.setPeerAuthTokens(f.peerMasterToken,f.peerUserIdToken);f.masterToken.equals(d)?(k.setRenewable(!0),k.setNonReplayable(!1)):k.setNonReplayable(c.isNonReplayable());return{errorResult:new z(k,c),tokenTicket:a};},b);},error:function(a){g.error(a);}});},b);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});break;default:return null;}},b);},cleanupContext:function(h,n,v){switch(v.errorCode){case l.ENTITY_REAUTH:this.deleteMasterToken(h,n.masterToken);break;case l.USER_REAUTH:v=n.userIdToken,n.masterToken&&v&&h.getMslStore().removeUserIdToken(v);}},send:function(h,l,n,v,w,z,g){var p;function c(d,b,f){r(g,function(){var k;k=w.getPeerUserIdToken();!l.isPeerToPeer()&&!b||l.isPeerToPeer()&&!k?(k=n.getCustomer())?w.setCustomer(k,{result:function(k){r(g,function(){b=w.getUserIdToken();a(d,b,f);},p);},error:function(a){g.error(a);}}):a(d,b,f):a(d,b,f);},p);}function a(a,f,m){r(g,function(){var d,k;d=!m&&(!n.isEncrypted()||w.willEncryptPayloads())&&(!n.isIntegrityProtected()||w.willIntegrityProtectPayloads())&&(!n.isNonReplayable()||w.isNonReplayable()&&a);d||w.setNonReplayable(!1);k=[];w.isRenewable()&&(!a||a.isRenewable()||n.isNonReplayable())?n.getKeyRequestData({result:function(m){r(g,function(){var u;for(var t=0;t<m.length;++t){u=m[t];k.push(u);w.addKeyRequestData(u);}b(a,f,d,k);},p);},error:function(a){g.error(a);}}):b(a,f,d,k);},p);}function b(a,b,m,t){r(g,function(){var d;d=new qe(l,n,w);n.updateServiceTokens(d,!m,{result:function(d){w.getHeader({result:function(d){r(g,function(){var k,t;k=n.getDebugContext();k&&k.sentHeader(d);k=w.getKeyExchangeData();this.updateOutgoingCryptoContexts(l,d,k);this.storeServiceTokens(l,a,b,d.serviceTokens);k=!l.isPeerToPeer()&&k?k.cryptoContext:d.cryptoContext;if(h.isAborted())throw new bb("send aborted.");t=null!=this._filterFactory?this._filterFactory.getOutputStream(v):v;Lc(l,t,Ka,d,k,z,{result:function(a){h.setAbort(function(){a.abort();});f(a,d,m);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},p);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},error:function(a){g.error(a);}});},p);}function f(a,b,f){var d,k;if(f)n.write(a,z,{result:function(d){r(g,function(){if(h.isAborted())throw new bb("MessageOutputStream write aborted.");q(a,b,f);},p);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});else{d=new J();k=new Yb();Lc(l,d,Ka,b,k,z,{result:function(d){n.write(d,z,{result:function(k){r(g,function(){if(h.isAborted())throw new bb("MessageOutputStream proxy write aborted.");d.close(z,{result:function(k){r(g,function(){var m;if(!k)throw new bb("MessageOutputStream proxy close aborted.");m=d.getPayloads();q(a,b,f,m);},p);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},p);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},timeout:function(){g.timeout();},error:function(a){g.error(a);}});}}function q(a,b,f,t){a.close(z,{result:function(d){r(g,function(){if(!d)throw new bb("MessageOutputStream close aborted.");t||(t=a.getPayloads());return new B(b,t,!f);},p);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});}p=this;r(g,function(){var a,b,f,t;a=w.getMasterToken();b=w.getUserIdToken();f=!1;if(n.getUserId()){t=!b;n.getUserAuthData(null,w.isRenewable(),t,{result:function(d){r(g,function(){d&&(w.willEncryptHeader()&&w.willIntegrityProtectHeader()?w.setUserAuthenticationData(d):f=!0);c(a,b,f);},p);},error:function(a){g.error(a);}});}else c(a,b,f);},p);},receive:function(n,v,w,z,F,B,g){var c;c=this;r(g,function(){var a,b,f;if(n.isAborted())throw new bb("receive aborted.");a=[];F&&(a=F.keyRequestData.filter(function(){return!0;}));b=w.getCryptoContexts();f=this._filterFactory?this._filterFactory.getInputStream(z):z;se(v,f,Ka,a,b,B,{result:function(a){n.setAbort(function(){a.abort();});a.isReady(B,{result:function(b){r(g,function(){var d,f,m,t;if(!b)throw new bb("MessageInputStream aborted.");d=a.getMessageHeader();f=a.getErrorHeader();m=w.getDebugContext();m&&m.receivedHeader(d?d:f);if(F&&(m=f?f.errorCode:null,d||m!=l.FAIL&&m!=l.TRANSIENT_FAILURE&&m!=l.ENTITY_REAUTH&&m!=l.ENTITYDATA_REAUTH)){m=d?d.messageId:f.messageId;t=Rb(F.messageId);if(m!=t)throw new Ga(h.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected "+t+"; received "+m);}v.getEntityAuthenticationData(null,{result:function(b){r(g,function(){var k,m,t,u;k=b.getIdentity();if(d){m=d.entityAuthenticationData;t=d.masterToken;m=t?d.sender:m.getIdentity();if(t&&t.isDecrypted()&&t.identity!=m||k==m)throw new Ga(h.UNEXPECTED_MESSAGE_SENDER,m);F&&this.updateIncomingCryptoContexts(v,F,a);k=d.keyResponseData;v.isPeerToPeer()?(k=k?k.masterToken:d.peerMasterToken,t=d.peerUserIdToken,m=d.peerServiceTokens):(k=k?k.masterToken:d.masterToken,t=d.userIdToken,m=d.serviceTokens);u=w.getUserId();u&&t&&!t.isVerified()&&v.getMslStore().addUserIdToken(u,t);this.storeServiceTokens(v,k,t,m);}else if(m=f.entityAuthenticationData.getIdentity(),k==m)throw new Ga(h.UNEXPECTED_MESSAGE_SENDER,m);return a;},c);},error:g.error});},c);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},c);},sendReceive:function(h,l,n,v,w,z,g,c,a){var f;function b(b,p){r(a,function(){z.setRenewable(p);this.send(h,l,n,w,z,g,{result:function(d){r(a,function(){var k;k=d.requestHeader.keyRequestData;c||d.handshake||!k.isEmpty()?this.receive(h,l,n,v,d.requestHeader,g,{result:function(k){r(a,function(){p&&this.releaseRenewalLock(l,b,k);return new I(k,d);},f);},timeout:function(){r(a,function(){p&&this.releaseRenewalLock(l,b,null);a.timeout();},f);},error:function(d){r(a,function(){p&&this.releaseRenewalLock(l,b,null);throw d;},f);}}):r(a,function(){p&&this.releaseRenewalLock(l,b,null);return new I(null,d);},f);},f);},timeout:function(){r(a,function(){p&&this.releaseRenewalLock(l,b,null);a.timeout();},f);},error:function(d){r(a,function(){p&&this.releaseRenewalLock(l,b,null);throw d;},f);}});},f);}f=this;r(a,function(){var f;f=new gc();this.acquireRenewalLock(h,l,n,f,z,g,{result:function(a){b(f,a);},timeout:function(){a.timeout();},error:function(b){b instanceof bb?a.result(null):a.error(b);}});},f);},acquireRenewalLock:function(h,l,n,v,w,z,g){var b;function c(f,q,p){r(g,function(){var m,t;if(h.isAborted())throw new bb("acquireRenewalLock aborted.");for(var d=null,k=0;k<this._renewingContexts.length;++k){m=this._renewingContexts[k];if(m.ctx===l){d=m.queue;break;}}if(!d)return this._renewingContexts.push({ctx:l,queue:v}),!0;t=d.poll(z,{result:function(k){r(g,function(){var b;if(k===la)throw new bb("acquireRenewalLock aborted.");d.add(k);if(k===na||k.isExpired())c(k,q,p);else{if(p&&!q||q&&!q.isBoundTo(k)){b=l.getMslStore().getUserIdToken(p);q=b&&b.isBoundTo(k)?b:null;}w.setAuthTokens(k,q);w.isRenewable()&&k.equals(f)?c(k,q,p):n.isRequestingTokens()&&!q?c(k,q,p):a(k,q);}},b);},timeout:function(){},error:function(a){}});h.setAbort(function(){t&&(d.cancel(t),t=la);});},b);}function a(a,c){r(g,function(){var f;if(h.isAborted())throw new bb("acquireRenewalLock aborted.");if(!a||a.isRenewable()||!c&&n.getUserId()||c&&c.isRenewable()){for(var b=null,d=0;d<this._renewingContexts.length;++d){f=this._renewingContexts[d];if(f.ctx===l){b=f.queue;break;}}if(!b)return this._renewingContexts.push({ctx:l,queue:v}),!0;}return!1;},b);}b=this;r(g,function(){var b,q,p;b=w.getMasterToken();q=w.getUserIdToken();p=n.getUserId();n.isEncrypted()&&!w.willEncryptPayloads()||n.isIntegrityProtected()&&!w.willIntegrityProtectPayloads()||w.isRenewable()||!b&&n.isNonReplayable()||b&&b.isExpired()||!(q||!p||w.willEncryptHeader()&&w.willIntegrityProtectHeader())||n.isRequestingTokens()&&(!b||p&&!q)?c(b,q,p):a(b,q);},b);},releaseRenewalLock:function(h,l,n){var g;for(var v,w,r=0;r<this._renewingContexts.length;++r){g=this._renewingContexts[r];if(g.ctx===h){v=r;w=g.queue;break;}}if(w!==l)throw new da("Attempt to release renewal lock that is not owned by this queue.");n?(n=n.messageHeader)?(w=n.keyResponseData)?l.add(w.masterToken):(h=h.isPeerToPeer()?n.peerMasterToken:n.masterToken)?l.add(h):l.add(na):l.add(na):l.add(na);this._renewingContexts.splice(v,1);}});ve=ra.Class.create({init:function(){var h;h={_impl:{value:new ba(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},setFilterFactory:function(h){this._impl.setFilterFactory(h);},shutdown:function(){this._shutdown=!0;},receive:function(h,l,n,v,w,r){var g;if(this._shutdown)throw new C("MslControl is shutdown.");g=new E(this._impl,h,l,n,v,w);setTimeout(function(){g.call(r);},0);return H(g);},respond:function(h,l,n,v,w,r,g){var c;if(this._shutdown)throw new C("MslControl is shutdown.");c=new S(this._impl,h,l,n,v,w,r);setTimeout(function(){c.call(g);},0);return H(c);},error:function(h,l,n,v,w,r,g){var c;if(this._shutdown)throw new C("MslControl is shutdown.");c=new Aa(this._impl,h,l,n,v,w,r);setTimeout(function(){c.call(g);},0);return H(c);},request:function(h,l){var n,v,w,r,g,c;if(this._shutdown)throw new C("MslControl is shutdown.");if(5==arguments.length){if(n=arguments[2],w=v=null,r=arguments[3],g=arguments[4],h.isPeerToPeer()){g.error(new da("This method cannot be used in peer-to-peer mode."));return;}}else if(6==arguments.length&&(n=null,v=arguments[2],w=arguments[3],r=arguments[4],g=arguments[5],!h.isPeerToPeer())){g.error(new da("This method cannot be used in trusted network mode."));return;}c=new fa(this._impl,h,l,n,v,w,null,0,r);setTimeout(function(){c.call(g);},0);return H(c);}});E=ra.Class.create({init:function(h,l,n,v,w,r){Object.defineProperties(this,{_ctrl:{value:h,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:n,writable:!1,enumerable:!1,configurable:!1},_input:{value:v,writable:!1,enumerable:!1,configurable:!1},_output:{value:w,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:r,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:la,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(h){this._abortFunc=h;},call:function(l){var B;function n(n){r(l,function(){var g;g=n.messageHeader;if(!g)return n;this.setAbort(function(){n.abort();});n.mark(Number.MAX_VALUE);n.read(1,B._timeout,{result:function(c){r(l,function(){if(c&&0==c.length)return null;if(c)return n.reset(),n;w(n);},B);},timeout:function(){l.timeout();},error:function(c){r(l,function(){var a,b,f;if(v(c))return null;a=g?g.messageId:null;c instanceof Va?(b=h.MSL_COMMS_FAILURE,f=c):(b=h.INTERNAL_EXCEPTION,f=new da("Error peeking into the message payloads."));F(this,this._ctx,this._msgCtx.getDebugContext(),a,b,null,this._output,this._timeout,{result:function(a){l.error(f);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return null;throw new ib("Error peeking into the message payloads.",a,c);},B);}});},B);}});},B);}function w(n){r(l,function(){n.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,n.messageHeader,this._timeout,{result:function(g){r(l,function(){var c,a,b,f,q;c=g.builder;a=g.tokenTicket;b=n.messageHeader;f=new Y(this._msgCtx);if(!this._ctx.isPeerToPeer()||b.isEncrypting()||b.keyResponseData)z(b,c,f,a);else{q=new fa(this._ctrl,this._ctx,f,null,this._input,this._output,g,1,this._timeout);this.setAbort(function(){q.abort();});q.call(l);}},B);},timeout:function(){l.timeout();},error:function(g){r(l,function(){var c,a,b,f;if(v(g))return null;g instanceof C?(c=g.messageId,a=g.error,b=n.messageHeader.messageCapabilities,b=this._ctrl.messageRegistry.getUserMessage(a,b?b.languages:null),f=g):(c=requestHeader?requestHeader.messageId:null,a=h.INTERNAL_EXCEPTION,b=null,f=new da("Error creating an automatic handshake response.",g));F(this,this._ctx,this._msgCtx.getDebugContext(),c,a,b,this._output,this._timeout,{result:function(a){l.error(f);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return null;throw new ib("Error creating an automatic handshake response.",a,g);},B);}});},B);}});},B);}function z(n,g,c,a){r(l,function(){g.setRenewable(!1);this._ctrl.send(this._ctx,c,this._output,g,this._timeout,{result:function(b){r(l,function(){this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(a);return null;},B);},timeout:function(){r(l,function(){this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(a);l.timeout();},B);},error:function(b){r(l,function(){var f,c,p,d;this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(a);if(v(b))return null;b instanceof C?(f=b.messageId,c=b.error,p=n?n.messageCapabilities:null,p=this._ctrl.messageRegistry.getUserMessage(c,p?p.languages:null),d=b):b instanceof Va?(f=n?n.messageId:null,c=h.MSL_COMMS_FAILURE,p=null,d=b):(f=n?n.messageId:null,c=h.INTERNAL_EXCEPTION,p=null,d=new da("Error sending an automatic handshake response.",b));F(this,this._ctx,this._msgCtx.getDebugContext(),f,c,p,this._output,this._timeout,{result:function(a){l.error(d);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return null;throw new ib("Error sending an automatic handshake response.",a,b);},B);}});},B);}});},B);}B=this;r(l,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(h){n(h);},timeout:function(){l.timeout();},error:function(n){r(l,function(){var g,c,a,b;if(v(n))return null;n instanceof C?(g=n.messageId,c=n.error,a=this._ctrl.messageRegistry.getUserMessage(c,null),b=n):(g=null,c=h.INTERNAL_EXCEPTION,a=null,b=new da("Error receiving the message header.",n));F(this,this._ctx,this._msgCtx.getDebugContext(),g,c,a,this._output,this._timeout,{result:function(a){l.error(b);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return null;throw new ib("Error receiving the message header.",a,n);},B);}});},B);}});},B);}});S=ra.Class.create({init:function(h,l,n,v,w,r,g){Object.defineProperties(this,{_ctrl:{value:h,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:n,writable:!1,enumerable:!1,configurable:!1},_input:{value:v,writable:!1,enumerable:!1,configurable:!1},_output:{value:w,writable:!1,enumerable:!1,configurable:!1},_request:{value:r,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:g,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:la,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(h){this._abortFunc=h;},trustedNetworkExecute:function(l,n,w){var z;z=this;r(w,function(){var B,E;if(12<n+1)return!1;if(B=this._msgCtx.isIntegrityProtected()&&!l.willIntegrityProtectHeader()?h.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted()&&!l.willEncryptPayloads()?h.RESPONSE_REQUIRES_ENCRYPTION:null){E=Zb(l.getMessageId());F(this,this._ctx,this._msgCtx.getDebugContext(),E,B,null,this._output,this._timeout,{result:function(g){w.result(!1);},timeout:function(){w.timeout();},error:function(g){r(w,function(){if(v(g))return!1;throw new ib("Response requires encryption or integrity protection but cannot be protected: "+B,g,null);},z);}});}else!this._msgCtx.getCustomer()||l.getMasterToken()||l.getKeyExchangeData()?(l.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,l,this._timeout,{result:function(g){w.result(!0);},timeout:function(){w.timeout();},error:function(g){w.error(g);}})):(E=Zb(l.getMessageId()),F(this,this._ctx,this._msgCtx.getDebugContext(),E,h.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(g){w.result(!1);},timeout:function(){w.timeout();},error:function(g){r(w,function(){if(v(g))return!1;throw new ib("Response wishes to attach a user ID token but there is no master token.",g,null);},z);}}));},z);},peerToPeerExecute:function(l,n,w,z){var E;function B(g){r(z,function(){var c;c=g.response;c.close();c=c.getErrorHeader();this._ctrl.cleanupContext(this._ctx,g.requestHeader,c);this._ctrl.buildErrorResponse(this,this._ctx,l,g,c,{result:function(a){r(z,function(){var b,f;if(!a)return!1;b=a.errorResult;f=a.tokenTicket;this.peerToPeerExecute(b.msgCtx,b.builder,w,{result:function(a){r(z,function(){this._ctrl.releaseMasterToken(f);return a;},E);},timeout:function(){r(z,function(){this._ctrl.releaseMasterToken(f);z.timeout();},E);},error:function(a){r(z,function(){this._ctrl.releaseMasterToken(f);throw a;},E);}});},E);}});},E);}E=this;r(z,function(){var g;if(12<w+2)return!1;if(null!=l.getCustomer()&&null==n.getPeerMasterToken()&&null==n.getKeyExchangeData()){g=Zb(n.getMessageId());F(this,this._ctx,l.getDebugContext(),g,h.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(c){z.result(!1);},timeout:function(){z.timeout();},error:function(c){r(z,function(){if(v(c))return!1;throw new ib("Response wishes to attach a user ID token but there is no master token.",c,null);},E);}});}else this._ctrl.sendReceive(this._ctx,l,this._input,this._output,n,this._timeout,!1,{result:function(c){r(z,function(){var f,q,p;function a(){f.read(32768,E._timeout,{result:function(d){r(z,function(){d?a():b();},E);},timeout:function(){z.timeout();},error:function(a){z.error(a);}});}function b(){r(z,function(){var a;a=new ya(c.payloads,l);this._ctrl.buildResponse(this,this._ctx,a,q,this._timeout,{result:function(d){r(z,function(){var b;b=d.tokenTicket;this.peerToPeerExecute(a,d.builder,w,{result:function(a){r(z,function(){this._ctrl.releaseMasterToken(b);return a;},E);},timeout:function(){r(z,function(){this._ctrl.releaseMasterToken(b);z.timeout();},E);},error:function(a){r(z,function(){this._ctrl.releaseMasterToken(b);throw a;},E);}});},E);},timeout:function(){z.timeout();},error:function(a){z.error(a);}});},E);}f=c.response;w+=2;if(!f)return!0;q=f.getMessageHeader();if(q){p=c.payloads;p=0<p.length&&0<p[0].data.length;if(c.handshake&&p)a();else return!0;}else B(c);},E);},timeout:function(){z.timeout();},error:function(c){z.error(c);}});},E);},call:function(l){var n;n=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(w){r(l,function(){var z,B;z=w.builder;B=w.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,z,3,{result:function(h){r(l,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(B);return h;},n);},timeout:function(){r(l,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(B);l.timeout();},n);},error:function(w){r(l,function(){var g,c,a,b;this._ctx.isPeerToPeer()&&this.releaseMasterToken(B);if(v(w))return!1;g=Zb(z.getMessageId());w instanceof C?(c=w.error,a=this._request.messageCapabilities,a=this._ctrl.messageRegistry.getUserMessage(c,a?a.languages:null),b=w):w instanceof Va?(c=h.MSL_COMMS_FAILURE,a=null,b=w):(c=h.INTERNAL_EXCEPTION,a=null,b=new da("Error sending the response.",w));F(this,this._ctx,this._msgCtx.getDebugContext(),g,c,a,this._output,this._timeout,{result:function(a){l.error(b);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return!1;throw new ib("Error sending the response.",a,null);},n);}});},n);}}):this.trustedNetworkExecute(z,3,{result:function(h){r(l,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(B);return h;},n);},timeout:function(){r(l,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(B);l.timeout();},n);},error:function(w){r(l,function(){var g,c,a,b;this._ctx.isPeerToPeer()&&this.releaseMasterToken(B);if(v(w))return!1;g=Zb(z.getMessageId());w instanceof C?(c=w.error,a=this._request.messageCapabilities,a=this._ctrl.messageRegistry.getUserMessage(c,a?a.languages:null),b=w):w instanceof Va?(c=h.MSL_COMMS_FAILURE,a=null,b=w):(c=h.INTERNAL_EXCEPTION,a=null,b=new da("Error sending the response.",w));F(this,this._ctx,this._msgCtx.getDebugContext(),g,c,a,this._output,this._timeout,{result:function(a){l.error(b);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return!1;throw new ib("Error sending the response.",a,null);},n);}});},n);}});},n);},timeout:function(){l.timeout();},error:function(w){r(l,function(){var z,B,E,g;if(v(w))return!1;w instanceof C?(z=w.messageId,B=w.error,E=this._request.messageCapabilities,E=this._ctrl.messageRegistry.getUserMessage(B,E?E.languages:null),g=w):(z=null,B=h.INTERNAL_EXCEPTION,E=null,g=new da("Error building the response.",w));F(this,this._ctx,this._msgCtx.getDebugContext(),z,B,E,this._output,this._timeout,{result:function(c){l.error(g);},timeout:function(){l.timeout();},error:function(c){r(l,function(){if(v(c))return null;throw new ib("Error building the response.",c,w);},n);}});},n);}});}});Aa=ra.Class.create({init:function(h,l,n,w,v,r,g){Object.defineProperties(this,{_ctrl:{value:h,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:n,writable:!1,enumerable:!1,configurable:!1},_appError:{value:w,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:r,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:g,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:la,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(h){this._abortFunc=h;},call:function(l){var n;n=this;r(l,function(){var w,z;if(this._appError==ENTITY_REJECTED)w=this._request.masterToken?h.MASTERTOKEN_REJECTED_BY_APP:h.ENTITY_REJECTED_BY_APP;else if(this._appError==USER_REJECTED)w=this._request.userIdToken?h.USERIDTOKEN_REJECTED_BY_APP:h.USER_REJECTED_BY_APP;else throw new da("Unhandled application error "+this._appError+".");z=this._request.messageCapabilities;z=this._ctrl.messageRegistry.getUserMessage(w,z?z.languages:null);F(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,w,z,this._output,this._timeout,{result:function(h){l.result(h);},timeout:l.timeout,error:function(h){r(l,function(){if(v(h))return!1;if(h instanceof C)throw h;throw new da("Error building the error response.",h);},n);}});},n);}});ua={result:function(){},timeout:function(){},error:function(){}};fa=ra.Class.create({init:function(h,l,n,w,v,r,g,c,a){var b;g?(b=g.builder,g=g.tokenTicket):g=b=null;Object.defineProperties(this,{_ctrl:{value:h,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:n,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:w,writable:!1,enumerable:!1,configurable:!1},_input:{value:v,writable:!0,enumerable:!1,configurable:!1},_output:{value:r,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:b,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:g,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:a,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:c,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:la,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(h){this._abortFunc=h;},execute:function(h,l,n,w,v){var c;function z(a){function b(b){r(v,function(){var f;f=a.response;return b?b:f;},c);}r(v,function(){var f,q;f=a.response;f.close();q=f.getErrorHeader();this._ctrl.cleanupContext(this._ctx,a.requestHeader,q);this._ctrl.buildErrorResponse(this,this._ctx,h,a,q,n,{result:function(a){r(v,function(){var d,k,m,t;if(!a)return f;d=a.errorResult;k=a.tokenTicket;m=d.builder;d=d.msgCtx;if(this._ctx.isPeerToPeer())this.execute(d,m,this._timeout,w,{result:function(a){r(v,function(){this._ctrl.releaseMasterToken(k);b(a);},c);},timeout:function(){r(v,function(){this._ctrl.releaseMasterToken(k);v.timeout();},c);},error:function(a){r(v,function(){this._ctrl.releaseMasterToken(k);v.error(a);},c);}});else{this._openedStreams&&(this._input.close(),this._output.close(n,ua));t=new fa(this._ctrl,this._ctx,d,this._remoteEntity,null,null,{builder:m,tokenTicket:k},w,this._timeout);this.setAbort(function(){t.abort();});t.call({result:function(a){b(a);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}},c);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},c);}function g(a){r(v,function(){var q,p,d,k,m;function b(){q.read(32768,c._timeout,{result:function(a){a?b():f();},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}function f(){r(v,function(){var d;d=new ya(a.payloads,h);this._ctrl.buildResponse(this,this._ctx,h,p,n,{result:function(a){r(v,function(){var b;b=a.tokenTicket;this.execute(d,a.builder,this._timeout,w,{result:function(a){r(v,function(){this._ctrl.releaseMasterToken(b);return a;},c);},timeout:function(){r(v,function(){this._ctrl.releaseMasterToken(b);v.timeout();},c);},error:function(a){r(v,function(){this._ctrl.releaseMasterToken(b);throw a;},c);}});},c);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},c);}q=a.response;p=q.getMessageHeader();d=a.payloads;d=0<d.length&&0<d[0].data.length;if(!this._ctx.isPeerToPeer()){if(!a.handshake||!d)return q;this._openedStreams&&(this._input.close(),this._output.close(n,ua));k=new ya(a.payloads,h);this._ctrl.buildResponse(this,this._ctx,h,p,n,{result:function(a){r(v,function(){var d;d=new fa(this._ctrl,this._ctx,k,this._remoteEntity,null,null,a,w,this._timeout);this.setAbort(function(){d.abort();});d.call(v);},c);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}else if(a.handshake&&d)b();else if(0<p.keyRequestData.length){m=new Y(h);this._ctrl.buildResponse(this,this._ctx,m,p,n,{result:function(a){r(v,function(){var d,b;d=a.builder;b=a.tokenTicket;q.mark();q.read(1,this._timeout,{result:function(a){r(v,function(){function f(){q.read(32768,c._timeout,{result:function(a){a?f():k();},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}function k(){c.execute(m,d,c._timeout,w,{result:function(a){r(v,function(){this._ctrl.releaseMasterToken(b);return a;},c);},timeout:function(){r(v,function(){this._ctrl.releaseMasterToken(b);v.timeout();},c);},error:function(a){r(v,function(){this._ctrl.releaseMasterToken(b);throw a;},c);}});}if(a)if(q.reset(),12>=w+1)d.setRenewable(!1),this._ctrl.send(this,this._ctx,m,this._output,d,this._timeout,{result:function(a){r(v,function(){this.releaseMasterToken(b);return q;},c);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});else return this.releaseMasterToken(b),q;else f();},c);},timeout:function(){r(v,function(){this.releaseMasterToken(b);v.timeout();},c);},error:function(a){r(v,function(){this.releaseMasterToken(b);throw a;},c);}});},c);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}},c);}c=this;r(v,function(){if(12<w+2)return null;this._ctrl.sendReceive(this,this._ctx,h,this._input,this._output,l,n,!0,{result:function(a){r(v,function(){var b;if(!a)return null;b=a.response;w+=2;b.getMessageHeader()?g(a):z(a);},c);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},c);},call:function(h){var n;function l(l,w,z){r(h,function(){this.execute(this._msgCtx,l,z,this._msgCount,{result:function(g){r(h,function(){this._ctrl.releaseMasterToken(w);this._openedStreams&&this._output.close(z,ua);g&&g.closeSource(this._openedStreams);return g;},n);},timeout:function(){r(h,function(){this._ctrl.releaseMasterToken(w);this._openedStreams&&(this._output.close(z,ua),this._input.close());h.timeout();},n);},error:function(g){r(h,function(){this._ctrl.releaseMasterToken(w);this._openedStreams&&(this._output.close(z,ua),this._input.close());if(v(g))return null;throw g;},n);}});},n);}n=this;r(h,function(){var w,z,F;w=this._timeout;if(!this._input||!this._output)try{this._remoteEntity.setTimeout(this._timeout);z=Date.now();F=this._remoteEntity.openConnection();this._output=F.output;this._input=F.input;-1!=w&&(w=this._timeout-(Date.now()-z));this._openedStreams=!0;}catch(g){this._builder&&this._ctrl.releaseMasterToken(this._tokenTicket);this._output&&this._output.close(this._timeout,ua);this._input&&this._input.close();if(v(g))return null;throw g;}this._builder?l(this._builder,this._tokenTicket,w):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(g){r(h,function(){l(g.builder,g.tokenTicket,w);},n);},timeout:function(){r(h,function(){this._openedStreams&&(this._output.close(this._timeout,ua),this._input.close());h.timeout();},n);},error:function(g){r(h,function(){this._openedStreams&&(this._output.close(this._timeout,ua),this._input.close());if(v(g))return null;throw g;},n);}});},n);}});}());(function(){sd=ra.Class.create({init:function(h){Object.defineProperties(this,{id:{value:h,writable:!1,configurable:!1}});},toJSON:function(){var h;h={};h.id=this.id;return h;},equals:function(h){return this===h?!0:h instanceof sd?this.id==h.id:!1;},uniqueKey:function(){return this.id;}});we=function(l){var n;n=l.id;if(!n)throw new ga(h.JSON_PARSE_ERROR,JSON.stringify(l));return new sd(n);};}());ra.Class.create({isNewestMasterToken:function(h,l,n){},isMasterTokenRevoked:function(h,l){},acceptNonReplayableId:function(h,l,n,r){},createMasterToken:function(h,l,n,r,I){},isMasterTokenRenewable:function(h,l,n){},renewMasterToken:function(h,l,n,r,I){},isUserIdTokenRevoked:function(h,l,n,r){},createUserIdToken:function(h,l,n,r){},renewUserIdToken:function(h,l,n,r){}});(function(){function l(h,l,n,r){this.sessiondata=h;this.tokendata=l;this.signature=n;this.verified=r;}gb=ra.Class.create({init:function(h,l,r,I,v,F,H,C,J,ya,Y){var w;w=this;n(Y,function(){var z,B,aa,fa,ba;if(r.getTime()<l.getTime())throw new da("Cannot construct a master token that expires before its renewal window opens.");if(0>I||I>La)throw new da("Sequence number "+I+" is outside the valid range.");if(0>v||v>La)throw new da("Serial number "+v+" is outside the valid range.");z=Math.floor(l.getTime()/1E3);B=Math.floor(r.getTime()/1E3);if(ya)aa=ya.sessiondata;else{fa={};F&&(fa.issuerdata=F);fa.identity=H;fa.encryptionkey=qa(C.toByteArray());fa.hmackey=qa(J.toByteArray());aa=Sa(JSON.stringify(fa),Ka);}if(ya)return Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:z,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:B,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:I,writable:!1,configurable:!1},serialNumber:{value:v,writable:!1,configurable:!1},issuerData:{value:F,writable:!1,configurable:!1},identity:{value:H,writable:!1,configurable:!1},encryptionKey:{value:C,writable:!1,configurable:!1},hmacKey:{value:J,writable:!1,configurable:!1},sessiondata:{value:aa,writable:!1,enumerable:!1,configurable:!1},verified:{value:ya.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ya.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:ya.signature,writable:!1,enumerable:!1,configurable:!1}}),this;ba=h.getMslCryptoContext();ba.encrypt(aa,{result:function(l){n(Y,function(){var r,E;r={};r.renewalwindow=z;r.expiration=B;r.sequencenumber=I;r.serialnumber=v;r.sessiondata=qa(l);E=Sa(JSON.stringify(r),Ka);ba.sign(E,{result:function(l){n(Y,function(){Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:z,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:B,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:I,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:v,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:F,writable:!1,configurable:!1},identity:{value:H,writable:!1,configurable:!1},encryptionKey:{value:C,writable:!1,configurable:!1},hmacKey:{value:J,writable:!1,configurable:!1},sessiondata:{value:aa,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:E,writable:!1,enumerable:!1,configurable:!1},signature:{value:l,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(h){Y.error(h);}});},w);},error:function(h){Y.error(h);}});},this);},get renewalWindow(){return new Date(1E3*this.renewalWindowSeconds);},get expiration(){return new Date(1E3*this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(h){return this.isVerified()?this.renewalWindow.getTime()<=this.ctx.getTime():!0;},isExpired:function(h){return this.isVerified()?this.expiration.getTime()<=this.ctx.getTime():!1;},isNewerThan:function(h){var l;if(this.sequenceNumber==h.sequenceNumber)return this.expiration>h.expiration;if(this.sequenceNumber>h.sequenceNumber){l=this.sequenceNumber-La+127;return h.sequenceNumber>=l;}l=h.sequenceNumber-La+127;return this.sequenceNumber<l;},toJSON:function(){var h;h={};h.tokendata=qa(this.tokendata);h.signature=qa(this.signature);return h;},equals:function(h){return this===h?!0:h instanceof gb?this.serialNumber==h.serialNumber&&this.sequenceNumber==h.sequenceNumber&&this.expiration.getTime()==h.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber+":"+this.sequenceNumber+this.expiration.getTime();}});Pb=function(w,r,B){n(B,function(){var z,v,F,H,aa;z=w.getMslCryptoContext();v=r.tokendata;F=r.signature;if("string"!==typeof v||"string"!==typeof F)throw new ga(h.JSON_PARSE_ERROR,"mastertoken "+JSON.stringify(r));try{H=za(v);}catch(Da){throw new C(h.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken "+JSON.stringify(r),Da);}if(!H||0==H.length)throw new ga(h.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken "+JSON.stringify(r));try{aa=za(F);}catch(Da){throw new C(h.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken "+JSON.stringify(r),Da);}z.verify(H,aa,{result:function(v){n(B,function(){var r,F,I,E,S,J,fa,ba,ua,Ca;J=Ua(H,Ka);try{fa=JSON.parse(J);r=parseInt(fa.renewalwindow);F=parseInt(fa.expiration);I=parseInt(fa.sequencenumber);E=parseInt(fa.serialnumber);S=fa.sessiondata;}catch(sa){if(sa instanceof SyntaxError)throw new ga(h.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata "+J,sa);throw sa;}if(!r||r!=r||!F||F!=F||"number"!==typeof I||I!=I||"number"!==typeof E||E!=E||"string"!==typeof S)throw new ga(h.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata "+J);if(F<r)throw new C(h.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata "+J);if(0>I||I>La)throw new C(h.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata "+J);if(0>E||E>La)throw new C(h.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata "+J);ba=new Date(1E3*r);ua=new Date(1E3*F);try{Ca=za(S);}catch(sa){throw new C(h.MASTERTOKEN_SESSIONDATA_INVALID,S,sa);}if(!Ca||0==Ca.length)throw new C(h.MASTERTOKEN_SESSIONDATA_MISSING,S);v?z.decrypt(Ca,{result:function(r){n(B,function(){var z,F,C,S,Y,J;Y=Ua(r,Ka);try{J=JSON.parse(Y);z=J.issuerdata;F=J.identity;C=J.encryptionkey;S=J.hmackey;}catch(g){if(g instanceof SyntaxError)throw new ga(h.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata "+Y,g);throw g;}if(z&&"object"!==typeof z||!F||"string"!==typeof C||"string"!==typeof S)throw new ga(h.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata "+Y);vb(C,ob,Eb,{result:function(g){vb(S,pb,Ob,{result:function(c){n(B,function(){var a;a=new l(r,H,aa,v);new gb(w,ba,ua,I,E,z,F,g,c,a,B);});},error:function(c){B.error(new P(h.MASTERTOKEN_KEY_CREATION_ERROR,c));}});},error:function(g){B.error(new P(h.MASTERTOKEN_KEY_CREATION_ERROR,g));}});});},error:function(h){B.error(h);}}):(r=new l(null,H,aa,v),new gb(w,ba,ua,I,E,null,null,null,null,r,B));});},error:function(h){B.error(h);}});});};}());(function(){function l(h,l,n){this.tokendata=h;this.signature=l;this.verified=n;}Wb=ra.Class.create({init:function(h,l,r,I,v,F,H,aa,J){var w;w=this;n(J,function(){var z,B,E,S,Aa,fa,ba;if(r.getTime()<l.getTime())throw new da("Cannot construct a user ID token that expires before its renewal window opens.");if(!I)throw new da("Cannot construct a user ID token without a master token.");if(0>v||v>La)throw new da("Serial number "+v+" is outside the valid range.");z=Math.floor(l.getTime()/1E3);B=Math.floor(r.getTime()/1E3);E=I.serialNumber;if(aa){S=aa.tokendata;Aa=aa.signature;fa=aa.verified;E=I.serialNumber;Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:z,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:B,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:E,writable:!1,configurable:!1},serialNumber:{value:v,writable:!1,configurable:!1},issuerData:{value:F,writable:!1,configurable:!1},customer:{value:H,writable:!1,configurable:!1},verified:{value:fa,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:S,writable:!1,enumerable:!1,configurable:!1},signature:{value:Aa,writable:!1,enumerable:!1,configurable:!1}});return this;}S={};F&&(S.issuerdata=F);S.identity=H;S=Sa(JSON.stringify(S),Ka);ba=h.getMslCryptoContext();ba.encrypt(S,{result:function(l){n(J,function(){var r,S;r={};r.renewalwindow=z;r.expiration=B;r.mtserialnumber=E;r.serialnumber=v;r.userdata=qa(l);S=Sa(JSON.stringify(r),Ka);ba.sign(S,{result:function(l){n(J,function(){Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:z,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:B,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:I.serialNumber,writable:!1,configurable:!1},serialNumber:{value:v,writable:!1,configurable:!1},issuerData:{value:F,writable:!1,configurable:!1},customer:{value:H,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:S,writable:!1,enumerable:!1,configurable:!1},signature:{value:l,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(h){n(J,function(){h instanceof C&&h.setEntity(I);throw h;},w);}});},w);},error:function(h){n(J,function(){h instanceof C&&h.setEntity(I);throw h;},w);}});},this);},get renewalWindow(){return new Date(1E3*this.renewalWindowSeconds);},get expiration(){return new Date(1E3*this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime()<=this.ctx.getTime();},isExpired:function(){return this.expiration.getTime()<=this.ctx.getTime();},isBoundTo:function(h){return h&&h.serialNumber==this.mtSerialNumber;},toJSON:function(){var h;h={};h.tokendata=qa(this.tokendata);h.signature=qa(this.signature);return h;},equals:function(h){return this===h?!0:h instanceof Wb?this.serialNumber==h.serialNumber&&this.mtSerialNumber==h.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber+":"+this.mtSerialNumber;}});Qb=function(w,r,B,I){n(I,function(){var v,z,H,aa,J;v=w.getMslCryptoContext();z=r.tokendata;H=r.signature;if("string"!==typeof z||"string"!==typeof H)throw new ga(h.JSON_PARSE_ERROR,"useridtoken "+JSON.stringify(r)).setEntity(B);try{aa=za(z);}catch(ya){throw new C(h.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken "+JSON.stringify(r),ya).setEntity(B);}if(!aa||0==aa.length)throw new ga(h.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken "+JSON.stringify(r)).setEntity(B);try{J=za(H);}catch(ya){throw new C(h.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken "+JSON.stringify(r),ya).setEntity(B);}v.verify(aa,J,{result:function(r){n(I,function(){var z,F,E,H,Aa,fa,ba,ua,Ca,Da;fa=Ua(aa,Ka);try{ba=JSON.parse(fa);z=parseInt(ba.renewalwindow);F=parseInt(ba.expiration);E=parseInt(ba.mtserialnumber);H=parseInt(ba.serialnumber);Aa=ba.userdata;}catch(ha){if(ha instanceof SyntaxError)throw new ga(h.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata "+fa,ha).setEntity(B);throw ha;}if(!z||z!=z||!F||F!=F||"number"!==typeof E||E!=E||"number"!==typeof H||H!=H||"string"!==typeof Aa)throw new ga(h.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata "+fa).setEntity(B);if(F<z)throw new C(h.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata "+fa).setEntity(B);if(0>E||E>La)throw new C(h.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata "+fa).setEntity(B);if(0>H||H>La)throw new C(h.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata "+fa).setEntity(B);ua=new Date(1E3*z);Ca=new Date(1E3*F);if(!B||E!=B.serialNumber)throw new C(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+E+"; mt "+JSON.stringify(B)).setEntity(B);try{Da=za(Aa);}catch(ha){throw new C(h.USERIDTOKEN_USERDATA_INVALID,Aa,ha).setEntity(B);}if(!Da||0==Da.length)throw new C(h.USERIDTOKEN_USERDATA_MISSING,Aa).setEntity(B);r?v.decrypt(Da,{result:function(v){n(I,function(){var n,z,F,E,S;F=Ua(v,Ka);try{E=JSON.parse(F);n=E.issuerdata;z=E.identity;}catch(g){if(g instanceof SyntaxError)throw new ga(h.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata "+F).setEntity(B);throw g;}if(n&&"object"!==typeof n||"object"!==typeof z)throw new ga(h.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata "+F).setEntity(B);try{S=we(z);}catch(g){throw new C(h.USERIDTOKEN_IDENTITY_INVALID,"userdata "+F,g).setEntity(B);}z=new l(aa,J,r);new Wb(w,ua,Ca,B,H,n,S,z,I);});},error:function(h){n(I,function(){h instanceof C&&h.setEntity(B);throw h;});}}):(z=new l(aa,J,r),new Wb(w,ua,Ca,B,H,null,null,z,I));});},error:function(h){n(I,function(){h instanceof C&&h.setEntity(B);throw h;});}});});};}());(function(){function l(l,n){var w,v,r;w=l.tokendata;if("string"!==typeof w)throw new ga(h.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(l));try{v=za(w);}catch(Ca){throw new C(h.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken "+JSON.stringify(l),Ca);}if(!v||0==v.length)throw new ga(h.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken "+JSON.stringify(l));try{r=JSON.parse(Ua(v,Ka)).name;}catch(Ca){if(Ca instanceof SyntaxError)throw new ga(h.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(l),Ca);throw Ca;}if(!r)throw new ga(h.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(l));return n[r]?n[r]:n[""];}function w(h,l,n){this.tokendata=h;this.signature=l;this.verified=n;}Hb=ra.Class.create({init:function(h,l,w,v,r,H,aa,J,P,Y){var z;z=this;n(Y,function(){var F,B,I,fa,ba;if(v&&r&&!r.isBoundTo(v))throw new da("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");F=v?v.serialNumber:-1;B=r?r.serialNumber:-1;if(P)return ba=P.tokendata,Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},name:{value:l,writable:!1,configurable:!1},mtSerialNumber:{value:F,writable:!1,configurable:!1},uitSerialNumber:{value:B,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},encrypted:{value:H,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:aa,writable:!1,configurable:!1},verified:{value:P.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ba,writable:!1,enumerable:!1,configurable:!1},signature:{value:P.signature,writable:!1,enumerable:!1,configurable:!1}}),this;aa?(I=rd(aa,w),I.length<w.length||(aa=null,I=w)):(aa=null,I=w);fa={};fa.name=l;-1!=F&&(fa.mtserialnumber=F);-1!=B&&(fa.uitserialnumber=B);fa.encrypted=H;aa&&(fa.compressionalgo=aa);if(H&&0<I.length)J.encrypt(I,{result:function(E){n(Y,function(){var I;fa.servicedata=qa(E);I=Sa(JSON.stringify(fa),Ka);J.sign(I,{result:function(v){n(Y,function(){Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},name:{value:l,writable:!1,configurable:!1},mtSerialNumber:{value:F,writable:!1,configurable:!1},uitSerialNumber:{value:B,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},encrypted:{value:H,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:aa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:I,writable:!1,enumerable:!1,configurable:!1},signature:{value:v,writable:!1,enumerable:!1,configurable:!1}});return this;},z);},error:function(h){n(Y,function(){h instanceof C&&(h.setEntity(v),h.setUser(r));throw h;});}});},z);},error:function(h){n(Y,function(){h instanceof C&&(h.setEntity(v),h.setUser(r));throw h;});}});else{fa.servicedata=qa(I);ba=Sa(JSON.stringify(fa),Ka);J.sign(ba,{result:function(v){n(Y,function(){Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},name:{value:l,writable:!1,configurable:!1},mtSerialNumber:{value:F,writable:!1,configurable:!1},uitSerialNumber:{value:B,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},encrypted:{value:H,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:aa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ba,writable:!1,enumerable:!1,configurable:!1},signature:{value:v,writable:!1,enumerable:!1,configurable:!1}});return this;},z);},error:function(h){n(Y,function(){h instanceof C&&(h.setEntity(v),h.setUser(r));throw h;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data&&0==this.data.length;},isMasterTokenBound:function(){return-1!=this.mtSerialNumber;},isBoundTo:function(h){return h?h instanceof gb?h.serialNumber==this.mtSerialNumber:h instanceof Wb?h.serialNumber==this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return-1!=this.uitSerialNumber;},isUnbound:function(){return-1==this.mtSerialNumber&&-1==this.uitSerialNumber;},toJSON:function(){var h;h={};h.tokendata=qa(this.tokendata);h.signature=qa(this.signature);return h;},equals:function(h){return this===h?!0:h instanceof Hb?this.name==h.name&&this.mtSerialNumber==h.mtSerialNumber&&this.uitSerialNumber==h.uitSerialNumber:!1;},uniqueKey:function(){return this.name+":"+this.mtSerialNumber+":"+this.uitSerialNumber;}});zb=function(h,l,n,v,w,r,H,C,J){new Hb(h,l,n,v,w,r,H,C,null,J);};Ic=function(r,B,I,v,F,H){n(H,function(){var z,J,P,Y,na,E,S,Aa,fa,ba,ua,Ca,sa;!F||F instanceof Xb||(F=l(B,F));z=B.tokendata;J=B.signature;if("string"!==typeof z||"string"!==typeof J)throw new ga(h.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(B)).setEntity(I).setEntity(v);try{P=za(z);}catch(ha){throw new C(h.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken "+JSON.stringify(B),ha).setEntity(I).setEntity(v);}if(!P||0==P.length)throw new ga(h.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken "+JSON.stringify(B)).setEntity(I).setEntity(v);try{Y=za(J);}catch(ha){throw new C(h.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken "+JSON.stringify(B),ha).setEntity(I).setEntity(v);}ua=Ua(P,Ka);try{Ca=JSON.parse(ua);na=Ca.name;E=Ca.mtserialnumber?parseInt(Ca.mtserialnumber):-1;S=Ca.uitserialnumber?parseInt(Ca.uitserialnumber):-1;Aa=Ca.encrypted;fa=Ca.compressionalgo;ba=Ca.servicedata;}catch(ha){if(ha instanceof SyntaxError)throw new ga(h.JSON_PARSE_ERROR,"servicetokendata "+ua,ha).setEntity(I).setEntity(v);throw ha;}if(!na||"number"!==typeof E||E!=E||"number"!==typeof S||S!=S||"boolean"!==typeof Aa||fa&&"string"!==typeof fa||"string"!==typeof ba)throw new ga(h.JSON_PARSE_ERROR,"servicetokendata "+ua).setEntity(I).setEntity(v);if(Ca.mtserialnumber&&0>E||E>La)throw new C(h.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata "+ua).setEntity(I).setEntity(v);if(Ca.uitserialnumber&&0>S||S>La)throw new C(h.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata "+ua).setEntity(I).setEntity(v);if(-1!=E&&(!I||E!=I.serialNumber))throw new C(h.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber "+E+"; mt "+I).setEntity(I).setEntity(v);if(-1!=S&&(!v||S!=v.serialNumber))throw new C(h.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber "+S+"; uit "+v).setEntity(I).setEntity(v);Aa=!0===Aa;if(fa){if(!Lb[fa])throw new C(h.UNIDENTIFIED_COMPRESSION,fa);sa=fa;}else sa=null;F?F.verify(P,Y,{result:function(l){n(H,function(){var z,B;if(l){try{z=za(ba);}catch(kd){throw new C(h.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata "+ua,kd).setEntity(I).setEntity(v);}if(!z||0!=ba.length&&0==z.length)throw new C(h.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata "+ua).setEntity(I).setEntity(v);if(Aa&&0<z.length)F.decrypt(z,{result:function(h){n(H,function(){var n,z;n=sa?Jc(sa,h):h;z=new w(P,Y,l);new Hb(r,na,n,-1!=E?I:null,-1!=S?v:null,Aa,sa,F,z,H);});},error:function(h){n(H,function(){h instanceof C&&(h.setEntity(I),h.setUser(v));throw h;});}});else{z=sa?Jc(sa,z):z;B=new w(P,Y,l);new Hb(r,na,z,-1!=E?I:null,-1!=S?v:null,Aa,sa,F,B,H);}}else z=""==ba?new Uint8Array(0):null,B=new w(P,Y,l),new Hb(r,na,z,-1!=E?I:null,-1!=S?v:null,Aa,sa,F,B,H);});},error:function(h){n(H,function(){h instanceof C&&(h.setEntity(I),h.setUser(v));throw h;});}}):(z=""==ba?new Uint8Array(0):null,J=new w(P,Y,!1),new Hb(r,na,z,-1!=E?I:null,-1!=S?v:null,Aa,sa,F,J,H));});};}());cb={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(cb);(function(){Db=ra.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(h){return this===h?!0:h instanceof Db?this.scheme==h.scheme:!1;},toJSON:function(){var h;h={};h.scheme=this.scheme;h.authdata=this.getAuthData();return h;}});le=function(l,w,r,B){n(B,function(){var n,v,z;n=r.scheme;v=r.authdata;if(!n||!v)throw new ga(h.JSON_PARSE_ERROR,"userauthdata "+JSON.stringify(r));if(!cb[n])throw new Ea(h.UNIDENTIFIED_USERAUTH_SCHEME,n);z=l.getUserAuthenticationFactory(n);if(!z)throw new Ea(h.USERAUTH_FACTORY_NOT_FOUND,n);z.createData(l,w,v,B);});};}());lc=ra.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},createData:function(h,l,n,r){},authenticate:function(h,l,n,r){}});(function(){Tb=Db.extend({init:function w(h,l){w.base.call(this,cb.NETFLIXID);Object.defineProperties(this,{netflixId:{value:h,writable:!1,configurable:!1},secureNetflixId:{value:l,writable:!1,configurable:!1}});},getAuthData:function(){var h;h={};h.netflixid=this.netflixId;this.secureNetflixId&&(h.securenetflixid=this.secureNetflixId);return h;},equals:function z(h){return this===h?!0:h instanceof Tb?z.base.call(this,h)&&this.netflixId==h.netflixId&&this.secureNetflixId==h.secureNetflixId:!1;}});xe=function(l){var n,r;n=l.netflixid;r=l.securenetflixid;if(!n)throw new ga(h.JSON_PARSE_ERROR,"NetflixId authdata "+JSON.stringify(l));return new Tb(n,r);};}());df=lc.extend({init:function w(){w.base.call(this,cb.NETFLIXID);},createData:function(h,l,r,I){n(I,function(){return xe(r);});},authenticate:function(l,n,r,I){if(!(r instanceof Tb))throw new da("Incorrect authentication data type "+r+".");l=r.secureNetflixId;if(!r.netflixId||!l)throw new Ea(h.NETFLIXID_COOKIES_BLANK).setUser(r);throw new Ea(h.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(r);}});(function(){mc=Db.extend({init:function z(h,l){z.base.call(this,cb.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:h,writable:!1,configurable:!1},password:{value:l,writable:!1,configurable:!1}});},getAuthData:function(){var h;h={};h.email=this.email;h.password=this.password;return h;},equals:function B(h){return this===h?!0:h instanceof mc?B.base.call(this,this,h)&&this.email==h.email&&this.password==h.password:!1;}});ye=function(l){var n,v;n=l.email;v=l.password;if(!n||!v)throw new ga(h.JSON_PARSE_ERROR,"email/password authdata "+JSON.stringify(l));return new mc(n,v);};}());ef=lc.extend({init:function z(){z.base.call(this,cb.EMAIL_PASSWORD);},createData:function(h,l,r,v){n(v,function(){return ye(r);});},authenticate:function(l,n,r,v){if(!(r instanceof mc))throw new da("Incorrect authentication data type "+r+".");l=r.password;if(!r.email||!l)throw new Ea(h.EMAILPASSWORD_BLANK).setUser(r);throw new Ea(h.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(r);}});(function(){var v,F,J,aa,Da,ya,Y,na;function l(h,l){return"<"+h+">"+l+"</"+h+">";}function r(h){return h.replace(/[<>&"']/g,function(h){return Da[h];});}function I(h){return encodeURIComponent(h).replace("%20","+").replace(/[!'()]/g,escape).replace(/\*/g,"%2A");}v=Mc={MSL:"MSL",NTBA:"NTBA",MSL_LEGACY:"MSL_LEGACY"};F=ra.Class.create({getAction:function(){},getNonce:function(){},getPin:function(){},getSignature:function(){},getEncoding:function(){},equals:function(){}});J=td=F.extend({init:function(l,v,r,z,F,B,I){var J;function E(z){n(I,function(){var n,B;try{B={};B.useridtoken=l;B.action=v;B.nonce=r;B.pin=qa(z);n=Sa(JSON.stringify(B),Ka);}catch(Gb){throw new ga(h.JSON_ENCODE_ERROR,"MSL-based MDX authdata",Gb);}F.sign(n,{result:function(h){C(n,h);},error:I.error});},J);}function C(h,F){n(I,function(){Object.defineProperties(this,{_userIdToken:{value:l,writable:!1,enumerable:!1,configurable:!1},_action:{value:v,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:r,writable:!1,enumerable:!1,configurable:!1},_pin:{value:z,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:h,writable:!1,enumerable:!1,configurable:!1},_signature:{value:F,writable:!1,enumerable:!1,configurable:!1}});return this;},J);}J=this;n(I,function(){B?C(B.encoding,B.signature):F.encrypt(Sa(z,Ka),{result:function(h){E(h);},error:I.error});},J);},getUserIdToken:function(){return this._userIdToken;},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(h){return this===h?!0:h instanceof J?this._action==h._action&&this._nonce==h._nonce&&this._pin==h._pin&&this._userIdToken.equals(h._userIdToken):!1;}});td.ACTION="userauth";aa=function(l,v,r,z,F){function B(z){n(F,function(){var B,I,J,S,Y,aa;B=Ua(r,Ka);try{aa=JSON.parse(B);I=aa.useridtoken;J=aa.action;S=aa.nonce;Y=aa.pin;}catch(g){if(g instanceof SyntaxError)throw new ga(h.JSON_PARSE_ERROR,"MDX authdata "+B,g);throw g;}if(!(I&&"object"===typeof I&&J&&"string"===typeof J&&S&&"number"===typeof S&&Y)||"string"!==typeof Y)throw new ga(h.JSON_PARSE_ERROR,"MDX authdata "+B);Qb(l,I,v,{result:function(g){n(F,function(){if(!g.isDecrypted())throw new Ea(h.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata "+B);E(z,g,J,S,Y);});},error:function(g){n(F,function(){if(g instanceof C)throw new Ea(h.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+B,g);throw g;});}});});}function E(h,l,v,B,E){n(F,function(){var I;I=za(E);h.decrypt(I,{result:function(h){n(F,function(){var g;g=Ua(h,Ka);new J(l,v,B,g,null,{encoding:r,signature:z},F);});},error:F.error});});}n(F,function(){var E,I;try{I=l.getMslStore().getCryptoContext(v);E=I?I:new hb(l,v);}catch(sb){if(sb instanceof Nb)throw new Ea(h.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+qa(r));throw sb;}E.verify(r,z,{result:function(l){n(F,function(){if(!l)throw new P(h.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata "+qa(r));B(E);});},error:F.error});});};Da={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"};ya=nc=F.extend({init:function(h,n,v,z){var F,B;F=l("action",r(h));B=l("nonce",n.toString());v=l("pin",v);F=l("registerdata",F+B+v);F=Sa(F,"utf-8");Object.defineProperties(this,{_action:{value:h,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:n,writable:!1,enumerable:!1,configurable:!1},_pin:{value:null,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:F,writable:!1,enumerable:!1,configurable:!1},_signature:{value:z,writable:!1,enumerable:!1,configurable:!1}});},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(h){return this===h?!0:h instanceof ya?this._action==h._action&&this._nonce==h._nonce&&this._pin==h._pin:!1;}});nc.ACTION="regpairrequest";Y=ud=F.extend({init:function(h,v,z,F,B,C){var Y;function E(z){n(C,function(){var n,B,E,Y,g;n=qa(z);B=l("action",r(h));E=l("nonce",v.toString());Y=l("pin",n);B=l("registerdata",B+E+Y);g=Sa(B,"utf-8");n="action="+I(h)+"&nonce="+I(v.toString())+"&pin="+I(n);F.sign(Sa(n,"utf-8"),{result:function(c){J(g,c);},error:C.error});},Y);}function J(l,r){n(C,function(){Object.defineProperties(this,{_action:{value:h,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:v,writable:!1,enumerable:!1,configurable:!1},_pin:{value:z,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:l,writable:!1,enumerable:!1,configurable:!1},_signature:{value:r,writable:!1,enumerable:!1,configurable:!1}});return this;},Y);}Y=this;n(C,function(){B?J(B.encoding,B.signature):F.encrypt(Sa(z,"utf-8"),{result:function(h){E(h);},error:C.error});},Y);},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(h){return this===h?!0:h instanceof Y?this._action==h._action&&this._nonce==h._nonce&&this._pin==h._pin:!1;}});ud.ACTION=nc.ACTION;na=function(l,v,r,z,F){n(F,function(){var B,E,C,J,aa,S,fa;B=l.getMslStore().getCryptoContext(v);E=B?B:new hb(l,v);B=Ua(r,"utf-8");C=new DOMParser().parseFromString(B,"application/xml");B=C.getElementsByTagName("action");J=C.getElementsByTagName("nonce");C=C.getElementsByTagName("pin");aa=B&&1==B.length&&B[0].firstChild?B[0].firstChild.nodeValue:null;S=J&&1==J.length&&J[0].firstChild?parseInt(J[0].firstChild.nodeValue):null;fa=C&&1==C.length&&C[0].firstChild?C[0].firstChild.nodeValue:null;if(!aa||!S||!fa)throw new ga(h.XML_PARSE_ERROR,"MDX authdata "+qa(r));B="action="+I(aa)+"&nonce="+I(S.toString())+"&pin="+I(fa);E.verify(Sa(B,"utf-8"),z,{result:function(l){n(F,function(){var v;if(!l)throw new P(h.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata "+qa(r));v=za(fa);E.decrypt(v,{result:function(g){n(F,function(){var c;c=Ua(g,"utf-8");new Y(aa,S,c,null,{encoding:r,signature:z},F);});},error:F.error});});},error:F.error});});};$b=Db.extend({init:function S(h,l,n,r,z,F){var B,I,C,Y,aa,fa;S.base.call(this,cb.MDX);B=null;I=null;C=null;if("string"===typeof n)h=v.MSL_LEGACY,C=n;else if(n instanceof Uint8Array)h=v.NTBA,I=n;else if(n instanceof gb)h=v.MSL,B=n;else throw new TypeError("Controller token "+n+" is not a master token, encrypted CTicket, or MSL token construct.");Y=n=null;aa=null;if(F){fa=F.controllerAuthData;n=fa.getAction();Y=fa.getPin();F=F.userIdToken;fa instanceof J?aa=fa.getUserIdToken().customer:F&&(aa=F.customer);}Object.defineProperties(this,{mechanism:{value:h,writable:!1,configurable:!1},action:{value:n,writable:!1,configurable:!1},targetPin:{value:l,writable:!1,configurable:!1},controllerPin:{value:Y,writable:!1,configurable:!1},customer:{value:aa,writable:!1,configurable:!1},_masterToken:{value:B,writable:!1,enumerable:!1,configurable:!1},_encryptedCTicket:{value:I,writable:!1,enumerable:!1,configurable:!1},_mslTokens:{value:C,writable:!1,enumerable:!1,configurable:!1},_controllerEncoding:{value:r,writable:!1,enumerable:!1,configurable:!1},_signature:{value:z,writable:!1,enumerable:!1,configurable:!1}});},getAuthData:function(){var h,l;h={};switch(this.mechanism){case v.MSL:l=JSON.parse(JSON.stringify(this._masterToken));h.mastertoken=l;break;case v.NTBA:l=Ua(this._encryptedCTicket,"utf-8");h.cticket=l;break;case v.MSL_LEGACY:h.cticket=this._mslTokens;break;default:throw new da("Unsupported MDX mechanism.");}h.pin=this.targetPin;h.mdxauthdata=qa(this._controllerEncoding);h.signature=qa(this._signature);return h;},equals:function Aa(h){return this===h?!0:h instanceof $b?Aa.base.call(this,h)&&(this._masterToken==h._masterToken||this._masterToken&&this._masterToken.equals(h._masterToken))&&(this._encryptedCTicket==h._encryptedCTicket||this._encryptedCTicket&&$a(this._encryptedCTicket,h._encryptedCTicket))&&this._mslTokens==h._mslTokens&&$a(this._controllerEncoding,h._controllerEncoding)&&$a(this._signature,h._signature):!1;}});ze=function(l,v,r){function z(z,F,B,I){Pb(l,F,{result:function(F){n(r,function(){if(!F.isDecrypted())throw new Ea(h.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+v.toString());aa(l,F,B,I,{result:function(h){n(r,function(){var g,c;g=h.getEncoding();c=h.getSignature();return new $b(l,z,F,g,c,{controllerAuthData:h,userIdToken:null});});},error:r.error});});},error:function(l){n(r,function(){if(l instanceof C)throw new Ea(h.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),l);throw l;});}});}function F(l,v,z,F){n(r,function(){throw new Ea(h.UNSUPPORTED_USERAUTH_MECHANISM,"NtbaControllerData$parse");});}function B(z,F,B,I){function J(g,c){n(c,function(){var a,b;try{a=za(g);}catch(f){throw new Ea(h.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),f);}if(!a||0==a.length)throw new Ea(h.USERAUTH_MASTERTOKEN_MISSING,"MDX authdata "+JSON.stringify(v));try{b=JSON.parse(Ua(a,"utf-8"));Pb(l,b,{result:function(a){n(c,function(){if(!a.isDecrypted())throw new Ea(h.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+v.toString());return a;});},error:function(a){n(c,function(){if(a instanceof C)throw new Ea(h.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),a);throw a;});}});}catch(f){if(f instanceof SyntaxError)throw new ga(h.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v),f);throw f;}});}function Y(g,c,a){n(a,function(){var b,f;try{b=za(g);}catch(q){throw new Ea(h.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),q);}if(!b||0==b.length)throw new Ea(h.USERAUTH_USERIDTOKEN_MISSING,"MDX authdata "+JSON.stringify(v));try{f=JSON.parse(Ua(b,"utf-8"));Qb(l,f,c,{result:function(b){n(a,function(){if(!b.isDecrypted())throw new Ea(h.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata "+JSON.stringify(v));return b;});},error:function(b){n(a,function(){if(b instanceof C)throw new Ea(h.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),b);throw b;});}});}catch(q){if(q instanceof SyntaxError)throw new ga(h.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v),q);throw q;}});}n(r,function(){var g;g=F.split(",");if(3!=g.length||"1"!=g[0])throw new Ea(h.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata "+JSON.stringify(v));J(g[1],{result:function(c){Y(g[2],c,{result:function(a){na(l,c,B,I,{result:function(b){n(r,function(){return new $b(l,z,F,B,I,{controllerAuthData:b,userIdToken:a});});},error:function(a){n(r,function(){if(a instanceof Nb)throw new Ea(h.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+JSON.stringify(v),a);throw a;});}});},error:r.error});},error:r.error});});}n(r,function(){var l,n,r,I,C;l=v.pin;n=v.mdxauthdata;r=v.signature;if(!l||"string"!==typeof l||!n||"string"!==typeof n||!r||"string"!==typeof r)throw new ga(h.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v));try{I=za(n);C=za(r);}catch(Gb){throw new Ea(h.MDX_CONTROLLERDATA_INVALID,"MDX authdata "+JSON.stringify(v),Gb);}if(v.mastertoken){n=v.mastertoken;if(!n||"object"!==typeof n)throw new ga(h.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v));z(l,n,I,C);}else if(v.cticket){n=v.cticket;if(!n||"string"!==typeof n)throw new ga(h.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v));-1==n.indexOf(",")?F(l,n,I,C):B(l,n,I,C);}else throw new Ea(h.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata "+JSON.stringify(v));});};}());(function(){var l,n,r;l=td.ACTION;n=nc.ACTION;r=ud.ACTION;Ae=lc.extend({init:function F(){F.base.call(this,cb.MDX);},createData:function(h,l,n,r){ze(h,n,r);},authenticate:function(z,B,I,C){if(!(I instanceof $b))throw new da("Incorrect authentication data type "+I.getClass().getName()+".");z=I.action;switch(I.mechanism){case Mc.MSL:if(l!=z)throw new Ea(h.MDX_USERAUTH_ACTION_INVALID).setUser(I);break;case Mc.NTBA:if(n!=z)throw new Ea(h.MDX_USERAUTH_ACTION_INVALID).setUser(I);break;case Mc.MSL_LEGACY:if(r!=z)throw new Ea(h.MDX_USERAUTH_ACTION_INVALID).setUser(I);}z=I.controllerPin;B=I.targetPin;if(!z||!B)throw new Ea(h.MDX_PIN_BLANK).setUser(I);if(z!=B)throw new Ea(h.MDX_PIN_MISMATCH).setUser(I);z=I.customer;if(!z)throw new Ea(h.MDX_USER_UNKNOWN).setUser(I);if(C&&(C=C.customer,!z.equals(C)))throw new Ea(h.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad customer "+z+"; uit customer "+C).setUser(I);return z;}});}());(function(){var l,n,r;l={MICROSOFT_SAML:"MICROSOFT_SAML",SAMSUNG:"SAMSUNG",MICROSOFT_JWT:"MICROSOFT_JWT",GOOGLE_JWT:"GOOGLE_JWT"};n=Ce=ra.Class.create({init:function(h,l){Object.defineProperties(this,{email:{value:h,writable:!1,enumerable:!0,configurable:!1},password:{value:l,writable:!1,enumerable:!0,configurable:!1}});}});r=De=ra.Class.create({init:function(h,l){Object.defineProperties(this,{netflixId:{value:h,writable:!1,enumerable:!0,configurable:!1},secureNetflixId:{value:l,writable:!1,enumerable:!0,configurable:!1}});}});oc=Db.extend({init:function F(h,l,z,B){var I,C,E,J;F.base.call(this,cb.SSO);I=null;C=null;E=null;J=null;z instanceof n?(I=z.email,C=z.password):z instanceof r&&(E=z.netflixId,J=z.secureNetflixId);Object.defineProperties(this,{mechanism:{value:h,writable:!1,configurable:!1},token:{value:l,writable:!1,configurable:!1},email:{value:I,writable:!1,configurable:!1},password:{value:C,writable:!1,configurable:!1},netflixId:{value:E,writable:!1,configurable:!1},secureNetflixId:{value:J,writable:!1,configurable:!1},profileGuid:{value:"undefined"===typeof B?null:B,writable:!1,configurable:!1}});},getAuthData:function(){var h;h={};h.mechanism=this.mechanism;h.token=qa(this.token);this.email&&this.password?(h.email=this.email,h.password=this.password):this.netflixId&&this.secureNetflixId&&(h.netflixid=this.netflixId,h.securenetflixid=this.secureNetflixId);this.profileGuid&&(h.profileguid=this.profileGuid);return h;},equals:function Ca(h){return this===h?!0:h instanceof oc?Ca.base.call(this,h)&&this.mechanism==h.mechanism&&$a(this.token,h.token)&&this.email==h.email&&this.password==h.password&&this.netflixId==h.netflixId&&this.secureNetflixId==h.secureNetflixId&&this.profileGuid==h.profileGuid:!1;}});Be=function(z){var B,I,C,J,na,E,S,P,fa;B=z.mechanism;I=z.token;if(!B||!I||"string"!==typeof I)throw new ga(h.JSON_PARSE_ERROR,"SSO authdata "+JSON.stringify(z));if(!l[B])throw new Ea(h.UNIDENTIFIED_USERAUTH_MECHANISM,"SSO authdata "+JSON.stringify(z));C=z.email;J=z.password;na=z.netflixid;E=z.securenetflixid;S=z.profileguid;if(C&&!J||!C&&J||na&&!E||!na&&E||C&&na)throw new ga(h.JSON_PARSE_ERROR,"SSO authdata "+JSON.stringify(z));try{P=za(I);}catch(ba){throw new Ea(h.SSOTOKEN_INVALID,"SSO authdata "+JSON.stringify(z),ba);}C&&J?fa=new n(C,J):na&&E&&(fa=new r(na,E));return new oc(B,P,fa,S);};}());ff=lc.extend({init:function B(){B.base.call(this,cb.SSO);},createData:function(h,l,v,r){n(r,function(){return Be(v);});},authenticate:function(l,n,v,r){var F,B;if(!(v instanceof oc))throw new da("Incorrect authentication data type "+v+".");l=v.token;n=v.email;r=v.password;F=v.netflixId;B=v.secureNetflixId;if(!l||0==l.length)throw new Ea(h.SSOTOKEN_BLANK);if(!(null===n&&null===r||n&&r))throw new Ea(h.EMAILPASSWORD_BLANK);if(!(null===F&&null===B||F&&B))throw new Ea(h.NETFLIXID_COOKIES_BLANK).setUser(v);throw new Ea(h.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(v);}});(function(){pc=Db.extend({init:function I(h,l){I.base.call(this,cb.SWITCH_PROFILE);Object.defineProperties(this,{userIdToken:{value:h,writable:!1,configurable:!1},profileGuid:{value:l,writable:!1,configurable:!1}});},getAuthData:function(){var h;h={};h.useridtoken=JSON.parse(JSON.stringify(this.userIdToken));h.profileguid=this.profileGuid;return h;},equals:function v(h){return this==h?!0:h instanceof pc?v.base.call(this,h)&&this.userIdToken.equals(h.userIdToken)&&this.profileGuid==h.profileGuid:!1;}});Ee=function(l,r,C,J){n(J,function(){var v,F;if(!r)throw new Ea(h.USERAUTH_MASTERTOKEN_MISSING);v=C.useridtoken;F=C.profileguid;if("object"!==typeof v||"string"!==typeof F)throw new ga(h.JSON_PARSE_ERROR,"switch profile authdata "+JSON.stringify(C));Qb(l,v,r,{result:function(l){n(J,function(){if(!l.isDecrypted())throw new Ea(h.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"switch profile authdata "+JSON.stringify(C));return new pc(l,F);});},error:function(l){J.error(new Ea(h.USERAUTH_USERIDTOKEN_INVALID,"switch profile authdata "+JSON.stringify(C),l));}});});};}());gf=lc.extend({init:function I(h){I.base.call(this,cb.SWITCH_PROFILE);Object.defineProperties(this,{_store:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createData:function(h,l,n,r){Ee(h,l,n,r);},authenticate:function(l,n,r,C){if(!(r instanceof pc))throw new da("Incorrect authentication data type "+r+".");n=r.userIdToken;l=r.profileGuid;if(!l)throw new Ea(NetflixMslError.PROFILEGUID_BLANK).setUserAuthenticationData(r);n=n.user;if(!n)throw new Ea(h.USERAUTH_USERIDTOKEN_NOT_DECRYPTED).setUserAuthenticationData(r);l=this._store.switchUsers(n,l);if(!l)throw new Ea(NetflixMslError.PROFILE_SWITCH_DISALLOWED).setUserAuthenticationData(r);if(C&&(C=C.user,!l.equals(C)))throw new Ea(h.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad user "+l+"; uit user "+C).setUserAuthenticationData(r);return l;}});Object.freeze({ENTITY_REAUTH:l.ENTITY_REAUTH,ENTITYDATA_REAUTH:l.ENTITYDATA_REAUTH});hf=ra.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(h,l){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(h){},getUserAuthenticationFactory:function(h){},getTokenFactory:function(){},getKeyExchangeFactory:function(h){},getKeyExchangeFactories:function(){},getMslStore:function(){}});Fe=ra.Class.create({setCryptoContext:function(h,l){},getMasterToken:function(){},getNonReplayableId:function(h){},getCryptoContext:function(h){},removeCryptoContext:function(h){},clearCryptoContexts:function(){},addUserIdToken:function(h,l){},getUserIdToken:function(h){},removeUserIdToken:function(h){},clearUserIdTokens:function(){},addServiceTokens:function(h){},getServiceTokens:function(h,l){},removeServiceTokens:function(h,l,n){},clearServiceTokens:function(){}});(function(){var l;l=Lb;rd=function(n,r){var v;v={};switch(n){case l.LZW:return Hd(r,v);case l.GZIP:return gzip$compress(r);default:throw new C(h.UNSUPPORTED_COMPRESSION,n);}};Jc=function(n,r,I){switch(n){case l.LZW:return Id(r);case l.GZIP:return gzip$uncompress(r);default:throw new C(h.UNSUPPORTED_COMPRESSION,n.name());}};}());Fe.extend({setCryptoContext:function(h,l){},getMasterToken:function(){return null;},getNonReplayableId:function(h){return 1;},getCryptoContext:function(h){return null;},removeCryptoContext:function(h){},clearCryptoContexts:function(){},addUserIdToken:function(h,l){},getUserIdToken:function(h){return null;},removeUserIdToken:function(h){},clearUserIdTokens:function(){},addServiceTokens:function(h){},getServiceTokens:function(l,n){if(n){if(!l)throw new C(h.USERIDTOKEN_MASTERTOKEN_NULL);if(!n.isBoundTo(l))throw new C(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+n.mtSerialNumber+"; mt "+l.serialNumber);}return[];},removeServiceTokens:function(l,n,r){if(r&&n&&!r.isBoundTo(n))throw new C(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+r.masterTokenSerialNumber+"; mt "+n.serialNumber);},clearServiceTokens:function(){}});(function(){Ge=Fe.extend({init:function v(){v.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(h,l){var n;if(l){n=h.uniqueKey();this.masterTokens[n]=h;this.cryptoContexts[n]=l;}else this.removeCryptoContext(h);},getMasterToken:function(){var h,l,n;h=null;for(l in this.masterTokens){n=this.masterTokens[l];if(!h||n.isNewerThan(h))h=n;}return h;},getNonReplayableId:function(h){var l;h=h.serialNumber;l=this.nonReplayableIds[h]!==la?this.nonReplayableIds[h]:0;if(0>l||l>La)throw new da("Non-replayable ID "+l+" is outside the valid range.");l=l==La?0:l+1;return this.nonReplayableIds[h]=l;},getCryptoContext:function(h){return this.cryptoContexts[h.uniqueKey()];},removeCryptoContext:function(h){var l,n;l=h.uniqueKey();if(this.masterTokens[l]){delete this.masterTokens[l];delete this.cryptoContexts[l];l=h.serialNumber;for(n in this.masterTokens)if(this.masterTokens[n].serialNumber==l)return;delete this.nonReplayableIds[l];Object.keys(this.userIdTokens).forEach(function(l){l=this.userIdTokens[l];l.isBoundTo(h)&&this.removeUserIdToken(l);},this);try{this.removeServiceTokens(null,h,null);}catch(aa){if(aa instanceof C)throw new da("Unexpected exception while removing master token bound service tokens.",aa);throw aa;}}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(h){for(var l in h)delete h[l];},this);},addUserIdToken:function(l,n){var r,v;r=!1;for(v in this.masterTokens)if(n.isBoundTo(this.masterTokens[v])){r=!0;break;}if(!r)throw new C(h.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber "+n.mtSerialNumber);this.userIdTokens[l]=n;},getUserIdToken:function(h){return this.userIdTokens[h];},removeUserIdToken:function(h){var l,n,r;l=null;for(n in this.masterTokens){r=this.masterTokens[n];if(h.isBoundTo(r)){l=r;break;}}Object.keys(this.userIdTokens).forEach(function(n){if(this.userIdTokens[n].equals(h)){delete this.userIdTokens[n];try{this.removeServiceTokens(null,l,h);}catch(ya){if(ya instanceof C)throw new da("Unexpected exception while removing user ID token bound service tokens.",ya);throw ya;}}},this);},clearUserIdTokens:function(){var l;for(var h in this.userIdTokens){l=this.userIdTokens[h];try{this.removeServiceTokens(null,null,l);}catch(Ca){if(Ca instanceof C)throw new da("Unexpected exception while removing user ID token bound service tokens.",Ca);throw Ca;}delete this.userIdTokens[h];}},addServiceTokens:function(l){l.forEach(function(l){var n,r,v;if(l.isUnbound())this.unboundServiceTokens[l.uniqueKey()]=l;else{if(l.isMasterTokenBound()){n=!1;for(r in this.masterTokens)if(l.isBoundTo(this.masterTokens[r])){n=!0;break;}if(!n)throw new C(h.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber "+l.mtSerialNumber);}if(l.isUserIdTokenBound()){n=!1;for(v in this.userIdTokens)if(l.isBoundTo(this.userIdTokens[v])){n=!0;break;}if(!n)throw new C(h.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber "+l.uitSerialNumber);}l.isMasterTokenBound()&&((v=this.mtServiceTokens[l.mtSerialNumber])||(v={}),v[l.uniqueKey()]=l,this.mtServiceTokens[l.mtSerialNumber]=v);l.isUserIdTokenBound()&&((v=this.uitServiceTokens[l.uitSerialNumber])||(v={}),v[l.uniqueKey()]=l,this.uitServiceTokens[l.uitSerialNumber]=v);}},this);},getServiceTokens:function(l,n){var r,v,F,J;if(n){if(!l)throw new C(h.USERIDTOKEN_MASTERTOKEN_NULL);if(!n.isBoundTo(l))throw new C(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+n.mtSerialNumber+"; mt "+l.serialNumber);}r={};for(v in this.unboundServiceTokens){F=this.unboundServiceTokens[v];r[F.uniqueKey()]=F;}if(l&&(F=this.mtServiceTokens[l.serialNumber]))for(v in F){J=F[v];J.isUserIdTokenBound()||(r[v]=J);}if(n&&(F=this.uitServiceTokens[n.serialNumber]))for(v in F)J=F[v],J.isBoundTo(l)&&(r[v]=J);F=[];for(v in r)F.push(r[v]);return F;},removeServiceTokens:function(l,n,r){var F,J,na;if(r&&n&&!r.isBoundTo(n))throw new C(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+r.mtSerialNumber+"; mt "+n.serialNumber);if(l&&!n&&!r){Object.keys(this.unboundServiceTokens).forEach(function(h){this.unboundServiceTokens[h].name==l&&delete this.unboundServiceTokens[h];},this);for(var v in this.mtServiceTokens){F=this.mtServiceTokens[v];J=Object.keys(F);J.forEach(function(h){F[h].name==l&&delete F[h];},this);this.mtServiceTokens[v]=F;}for(var Y in this.uitServiceTokens)F=this.uitServiceTokens[Y],v=Object.keys(F),v.forEach(function(h){F[h].name==l&&delete F[h];},this),this.uitServiceTokens[Y]=F;}if(n&&!r){if(F=this.mtServiceTokens[n.serialNumber])J=Object.keys(F),J.forEach(function(h){var n;n=F[h];l&&n.name!=l||delete F[h];},this),this.mtServiceTokens[n.serialNumber]=F;for(Y in this.uitServiceTokens){na=this.uitServiceTokens[Y];v=Object.keys(na);v.forEach(function(h){var r;r=na[h];l&&r.name!=l||r.isBoundTo(n)&&delete na[h];},this);this.uitServiceTokens[Y]=na;}}r&&(F=this.uitServiceTokens[r.serialNumber])&&(v=Object.keys(F),v.forEach(function(h){var r;r=F[h];l&&r.name!=l||n&&!r.isBoundTo(n)||delete F[h];},this),this.uitServiceTokens[r.serialNumber]=F);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(h){for(var l in h)delete h[l];},this);}});}());Re=af.extend({init:function v(){v.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(h,l){var n;if(l&&h&&h.length){n=qa(h);this._contextMap[n]=l;}},getCryptoContext:function(h){return h&&h.length?(h=qa(h),this._contextMap[h]||null):null;},removeCryptoContext:function(h){h&&h.length&&(h=qa(h),delete this._contextMap[h]);}});He=Ue.extend({init:function F(h,l,n,r){F.base.call(this,h);Object.defineProperties(this,{_kde:{value:l,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:n,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:r,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(l,n){if(!(n instanceof kb))throw new da("Incorrect authentication data type "+JSON.stringify(n)+".");if(n.identity!=this.localIdentity)throw new tb(h.ENTITY_NOT_FOUND,"mgk "+n.identity);return new Cc(l,this.localIdentity,this._kde,this._kdh,this._kdw);}});jf=Sd.extend({init:function Ca(h,l,n,r){Ca.base.call(this,h);Object.defineProperties(this,{_kpe:{value:l,writable:!1,enumerable:!1,configurable:!1},_kph:{value:n,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:r,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(l,n){if(!(n instanceof qb))throw new da("Incorrect authentication data type "+JSON.stringify(n)+".");if(n.identity!=this.localIdentity)throw new tb(h.ENTITY_NOT_FOUND,"psk "+n.identity);return new Cc(l,this.localIdentity,this._kpe,this._kph,this._kpw);}});lf=Ge.extend({init:function aa(h,l,n,r,E,C){aa.base.call(this);this._log=h;this._esn=l;this._keyRequestData=n;this._createKeyRequestData=r;this._systemKeyName=E;this._systemKeyWrapFormat=C;},setCryptoContext:function Da(h,l,n){var r;r=this;r._log.trace("Adding MasterToken",{SequenceNumber:h.sequenceNumber,SerialNumber:h.serialNumber,Expiration:h.expiration.getTime()});Da.base.call(this,h,l);!n&&(h=r._createKeyRequestData)&&(r._log.trace("Generating new keyx request data"),h().then(function(h){r._keyRequestData=h;},function(h){r._log.error("Unable to generate new keyx request data",""+h);}));},addUserIdToken:function ya(h,l){this._log.trace("Adding UserIdToken",{UserId:h,SerialNumber:l.serialNumber,MTSerialNumber:l.mtSerialNumber,Expiration:l.expiration.getTime()});ya.base.call(this,h,l);},addServiceTokens:function Y(h){Y.base.call(this,h.filter(function(h){return!kf[h.name];}));},getUserIdTokenKeys:function(){var h,l;h=[];for(l in this.userIdTokens)h.push(l);return h;},rekeyUserIdToken:function(h,l){this.userIdTokens[h]&&(this.userIdTokens[l]=this.userIdTokens[h],delete this.userIdTokens[h]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(h){var l;l=this;n(h,function(){var r;r=l.getMasterToken();r?l.getKeysForStore(r,{result:function(E){n(h,function(){var h,n,C;h=l.userIdTokens;n=Object.keys(h).map(function(n){var E;E=h[n];return{userId:n,userIdTokenJSON:h[n].toJSON(),serviceTokenJSONList:l.getServiceTokens(r,E).map(Oe)};});E.esn=l._esn;E.masterTokenJSON=r.toJSON();E.userList=n;C=l._keyRequestData.storeData;C&&Object.keys(C).forEach(function(h){E[h]=C[h];});return E;});},timeout:h.timeout,error:h.error}):h.result(null);});},getKeysForStore:function(l,r){var E;E=this;n(r,function(){var n;n=E.getCryptoContext(l);n={encryptionKey:n.encryptionKey,hmacKey:n.hmacKey};if(n.encryptionKey&&n.hmacKey)if(E._systemKeyWrapFormat)E.wrapKeysWithSystemKey(n,r);else return n;else throw new C(h.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(l,r){var E;E=this;Bd(this._systemKeyName,{result:function(J){n(r,function(){var n,Y,S,P;n=l.encryptionKey;Y=l.hmacKey;S=n[ac];P=Y[ac];if(S&&P)return{wrappedEncryptionKey:S,wrappedHmacKey:P};Promise.resolve().then(function(){return Promise.all([Ia.wrapKey(E._systemKeyWrapFormat,n,J,J.algorithm),Ia.wrapKey(E._systemKeyWrapFormat,Y,J,J.algorithm)]);}).then(function(h){S=qa(h[0]);n[ac]=S;P=qa(h[1]);Y[ac]=P;r.result({wrappedEncryptionKey:S,wrappedHmacKey:P});})["catch"](function(l){r.error(new C(h.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",l));});});},timeout:r.timeout,error:r.error});},unwrapKeysWithSystemKey:function(l,r){var E;E=this;Bd(this._systemKeyName,{result:function(J){n(r,function(){var n,Y;n=za(l.wrappedEncryptionKey);Y=za(l.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Ia.unwrapKey(E._systemKeyWrapFormat,n,J,J.algorithm,ob,!1,Eb),Ia.unwrapKey(E._systemKeyWrapFormat,Y,J,J.algorithm,pb,!1,Ob)]);}).then(function(h){var n;n=h[0];h=h[1];n[ac]=l.wrappedEncryptionKey;h[ac]=l.wrappedHmacKey;r.result({encryptionKey:n,hmacKey:h});})["catch"](function(l){r.error(new C(h.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",l));});});},timeout:r.timeout,error:r.error});},loadStoreState:function(h,l,n,r){var J,Y;function E(h,r){var E;try{E=n.userList.slice();}catch(sb){}E?function Cb(){var n;n=E.shift();n?Qb(l,n.userIdTokenJSON,h,{result:function(l){try{J.addUserIdToken(n.userId,l);C(h,l,n.serviceTokenJSONList,{result:Cb,timeout:Cb,error:Cb});}catch(Gb){Cb();}},timeout:Cb,error:Cb}):r.result();}():r.result();}function C(h,n,r,E){var C,Y;try{C=r.slice();}catch(oa){}if(C){Y=J.getCryptoContext(h);(function Gb(){var g;g=C.shift();g?Ic(l,g,h,n,Y,{result:function(c){J.addServiceTokens([c]);Gb();},timeout:function(){Gb();},error:function(){Gb();}}):E.result();}());}else E.result();}J=this;Y=J._log;n.esn!=J._esn?(Y.error("Esn mismatch, starting fresh"),r.error()):function(r){var S,P,fa,ba;function E(){var n;if(!S&&P&&fa&&ba){S=!0;n=new hb(l,P,h.esn,{rawKey:fa},{rawKey:ba});J.setCryptoContext(P,n,!0);r.result(P);}}function C(h,g){Y.error(h,g&&""+g);S||(S=!0,r.error());}n.masterTokenJSON?(Pb(l,n.masterTokenJSON,{result:function(h){P=h;E();},timeout:function(){C("Timeout parsing MasterToken");},error:function(h){C("Error parsing MasterToken",h);}}),J._systemKeyWrapFormat?J.unwrapKeysWithSystemKey(n,{result:function(h){fa=h.encryptionKey;ba=h.hmacKey;E();},timeout:function(){C("Timeout unwrapping keys");},error:function(h){C("Error unwrapping keys",h);}}):Promise.resolve().then(function(){return Ia.encrypt({name:ob.name,iv:new Uint8Array(16)},n.encryptionKey,new Uint8Array(1));}).then(function(h){fa=n.encryptionKey;})["catch"](function(h){C("Error loading encryptionKey");}).then(function(){return Ia.sign(pb,n.hmacKey,new Uint8Array(1));}).then(function(h){ba=n.hmacKey;E();})["catch"](function(h){C("Error loading hmacKey");})):C("Persisted store is corrupt");}({result:function(h){E(h,r);},timeout:r.timeout,error:r.error});}});kf={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};ac="$netflix$msl$wrapsys";mf=hf.extend({init:function(h,l,n,r,C,J){var E,Y;E=new jc([Lb.LZW]);Y=new We();Y.addPublicKey(l,n);r[Oa.RSA]=new Ve(Y);l={};l[cb.EMAIL_PASSWORD]=new ef();l[cb.NETFLIXID]=new df();l[cb.MDX]=new Ae();l[cb.SSO]=new ff();l[cb.SWITCH_PROFILE]=new gf();h={_mslCryptoContext:{value:new Te(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:E,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:C,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:r,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:l,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:J,writable:!1,enumerable:!1,configurable:!1},_store:{value:h,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},getTime:function(){return Date.now();},getRandom:function(){return new Md();},isPeerToPeer:function(){return!1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(h,l){l.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(h){return this._entityAuthFactories[h];},getUserAuthenticationFactory:function(h){return this._userAuthFactories[h];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(h){return this._keyExchangeFactories.filter(function(l){return l.scheme==h;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});Dd=ue.extend({init:function(h,l,n,r){this._log=h;this._mslContext=l;this._mslRequest=n;this._keyRequestData=r;},getCryptoContexts:function(){return{};},isEncrypted:function(){return!!this._mslRequest.encrypted;},isNonReplayable:function(){return!!this._mslRequest.nonReplayable;},isRequestingTokens:function(){return!0;},getUserId:function(){return this._mslRequest.profileGuid||this._mslRequest.userId||null;},getUserAuthData:function(h,l,r,C){var E,J;E=this._mslRequest;J=this._mslContext;n(C,function(){var l,n;if(h||!E.shouldSendUserAuthData)return null;if(E.token){E.email?l=new Ce(E.email,E.password):E.netflixId&&(l=new De(E.netflixId,E.secureNetflixId));n="undefined"===typeof E.profileGuid?null:E.profileGuid;return new oc(E.mechanism,Sa(E.token),l,n);}return E.email?new mc(E.email,E.password):E.netflixId?new Tb(E.netflixId,E.secureNetflixId):E.mdxControllerToken?(l=new nc("regpairrequest",E.mdxNonce,E.mdxEncryptedPinB64,E.mdxSignature).getEncoding(),new $b(J,E.mdxPin,E.mdxControllerToken,l,E.mdxSignature)):E.useNetflixUserAuthData?new Tb():E.profileGuid?(l=E.userId,l=J.getMslStore().userIdTokens[l],new pc(l,E.profileGuid)):r&&E.sendUserAuthIfRequired?new Tb():null;});},getCustomer:function(){return null;},getKeyRequestData:function(h){h.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(h,l,n){var r,E,C,J,Y,P;r=this._log;E=(this._mslRequest.serviceTokens||[]).slice();C=this._mslContext;l=C.getMslStore();J=h.builder.getMasterToken();Y=this.getUserId();P=l.getUserIdToken(Y);(function ha(){var l;l=E.shift();if(l)try{l instanceof Hb?(h.addPrimaryServiceToken(l),ha()):Ic(C,l,J,P,null,{result:function(l){try{h.addPrimaryServiceToken(l);}catch(kd){r.warn("Exception adding service token",""+kd);}ha();},timeout:function(){r.warn("Timeout parsing service token");ha();},error:function(h){r.warn("Error parsing service token",""+h);ha();}});}catch(Cb){r.warn("Exception processing service token",""+Cb);ha();}else n.result(!0);}());},write:function(h,l,n){var r;r=Sa(this._mslRequest.body);h.write(r,0,r.length,l,{result:function(E){E!=r.length?n.error(new Va("Not all data was written to output.")):h.flush(l,{result:function(){n.result(!0);},timeout:function(){n.timeout();},error:function(h){n.error(h);}});},timeout:function(){n.timeout();},error:function(h){n.error(h);}});},getDebugContext:function(){this._dc||(this._dc=new nf(this._log,this._mslRequest));return this._dc;}});nf=cf.extend({init:function(h,l){this._log=h;this._mslRequest=l;},sentHeader:function(h){this._log.trace("Sent MSL header",Cd(this._mslRequest,h),h.serviceTokens&&h.serviceTokens.map(Pe).join("\n"));},receivedHeader:function(h){var l,n;l=Cd(this._mslRequest,h);n=h.errorCode;n?this._log.warn("Received MSL error header",l,{errorCode:n,errorMessage:h.errorMessage,internalCode:h.internalCode}):this._log.trace("Received MSL header",l);}});Ie={PSK:function(h){return Uc(h,Oa.PSK,jf,qb,ld,Gc);},MGK:function(h){return Uc(h,Oa.MGK,He,kb,ld,Gc);},MGK_WITH_FALLBACK:function(l){var n,r;switch(l.esnPrefix){case"GOOGEUR001":case"GOOGLEXX01":n="PSK";break;default:n="MGK";}r=Ie[n];if(!r)throw new C(h.INTERNAL_EXCEPTION,"Invalid fallback authenticationType: "+n);return r(l);},MGK_JWE:function(h){return Uc(h,Oa.MGK,He,kb,Yd,jd);},JWK_RSA:function(h){return Vc(h,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Hc.JWK_RSA);},JWK_RSAES:function(h){return Vc(h,{name:"RSAES-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Hc.JWK_RSAES);},JWEJS_RSA:function(h){return Vc(h,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Hc.JWEJS_RSA);}};J.netflix=J.netflix||{};J.netflix.msl={createMslClient:function(l,n){var r,J,P,Y,ba;r=l.log;ba=l.notifyMilestone||function(){};Promise.resolve().then(function(){if(!(Qa&&Qa.generateKey&&Qa.importKey&&Qa.unwrapKey))throw new C(h.INTERNAL_EXCEPTION,"No WebCrypto");db=Qa.generateKey({name:"AES-CBC",length:128},!0,Eb).then?xc.V2014_02:xc.LEGACY;ba("mslisik");return Ia.importKey("spki",l.serverIdentityKeyData,Nd,!1,["verify"]);}).then(function(l){return new Promise(function(n,r){Kb(l,{result:n,error:function(){r(new C(h.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(n){J=n;if(n=Ie[l.authenticationType])return ba("mslcc"),n(l);throw new C(h.INTERNAL_EXCEPTION,"Invalid authenticationType: "+l.authenticationType);}).then(function(h){var n;P=new lf(r,l.esn,h.keyRequestData,h.createKeyRequestData,l.authenticationKeyNames.s,l.systemKeyWrapFormat);Y=new mf(P,l.serverIdentityId,J,h.entityAuthFactories,h.entityAuthData,h.keyExchangeFactories);n=l.storeState;if(n)return ba("mslss"),r.info("Loading store state"),new Promise(function(h,r){P.loadStoreState(l,Y,n,{result:h,timeout:h,error:h});});r.info("No store state, starting fresh");}).then(function(){var h;h=new ve();ba("msldone");n.result(new Qe(r,h,Y,P,l.ErrorSubCodes));})["catch"](function(h){n.error(h);});},IHttpLocation:Ze,MslIoException:Va};(function(){var za,oa,Ea;function h(){h=function(){};oa.Symbol||(oa.Symbol=l);}function l(g){return"jscomp_symbol_"+(g||"")+Ea++;}function n(){var g;h();g=oa.Symbol.iterator;g||(g=oa.Symbol.iterator=oa.Symbol("iterator"));"function"!=typeof Array.prototype[g]&&za(Array.prototype,g,{configurable:!0,writable:!0,value:function(){return r(this);}});n=function(){};}function r(g){var c;c=0;return C(function(){return c<g.length?{done:!1,value:g[c++]}:{done:!0};});}function C(g){n();g={next:g};g[oa.Symbol.iterator]=function(){return this;};return g;}function P(g){var c;n();h();n();c=g[Symbol.iterator];return c?c.call(g):r(g);}function ba(g,c){var f;function a(){}a.prototype=c.prototype;g.prototype=new a();g.prototype.constructor=g;for(var b in c)if(Object.defineProperties){f=Object.getOwnPropertyDescriptor(c,b);f&&Object.defineProperty(g,b,f);}else g[b]=c[b];}function da(g){if(!(g instanceof Array)){g=P(g);for(var c,a=[];!(c=g.next()).done;)a.push(c.value);g=a;}return g;}function ga(g,c){var a,f;if(c){a=oa;g=g.split(".");for(var b=0;b<g.length-1;b++){f=g[b];f in a||(a[f]={});a=a[f];}g=g[g.length-1];b=a[g];c=c(b);c!=b&&null!=c&&za(a,g,{configurable:!0,writable:!0,value:c});}}function la(g,c){return Object.prototype.hasOwnProperty.call(g,c);}function ha(g,c){var a,b;n();g instanceof String&&(g+="");a=0;b={next:function(){var f;if(a<g.length){f=a++;return{value:c(f,g[f]),done:!1};}b.next=function(){return{done:!0,value:void 0};};return b.next();}};b[Symbol.iterator]=function(){return b;};return b;}function ra(g,c,a){if(null==g)throw new TypeError("The 'this' value for String.prototype."+a+" must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype."+a+" must not be a regular expression");return g+"";}function qa(g,c,a){var q;g instanceof String&&(g=String(g));for(var b=g.length,f=0;f<b;f++){q=g[f];if(c.call(a,q,f,g))return{Ji:f,RW:q};}return{Ji:-1,RW:void 0};}za="function"==typeof Object.defineProperties?Object.defineProperty:function(g,c,a){if(a.get||a.set)throw new TypeError("ES3 does not support getters and setters.");g!=Array.prototype&&g!=Object.prototype&&(g[c]=a.value);};oa="undefined"!=typeof J&&J===this?this:"undefined"!=typeof global&&null!=global?global:this;Ea=0;ga("Object.setPrototypeOf",function(g){return g?g:"object"!=typeof"".__proto__?null:function(c,a){c.__proto__=a;if(c.__proto__!==a)throw new TypeError(c+" is not extensible");return c;};});ga("Object.assign",function(g){return g?g:function(c,a){var f;for(var b=1;b<arguments.length;b++){f=arguments[b];if(f)for(var q in f)la(f,q)&&(c[q]=f[q]);}return c;};});ga("Object.getOwnPropertySymbols",function(g){return g?g:function(){return[];};});ga("Promise",function(g){var b,f;function c(a){var b;this.SL=0;this.haa=void 0;this.FK=[];b=this.k3();try{a(b.resolve,b.reject);}catch(d){b.reject(d);}}function a(){this.Gu=null;}if(g)return g;a.prototype.Jna=function(a){null==this.Gu&&(this.Gu=[],this.b_a());this.Gu.push(a);};a.prototype.b_a=function(){var a;a=this;this.Kna(function(){a.A8a();});};b=oa.setTimeout;a.prototype.Kna=function(a){b(a,0);};a.prototype.A8a=function(){var a,d;for(;this.Gu&&this.Gu.length;){a=this.Gu;this.Gu=[];for(var b=0;b<a.length;++b){d=a[b];delete a[b];try{d();}catch(k){this.e_a(k);}}}this.Gu=null;};a.prototype.e_a=function(a){this.Kna(function(){throw a;});};c.prototype.k3=function(){var b,d;function a(a){return function(f){d||(d=!0,a.call(b,f));};}b=this;d=!1;return{resolve:a(this.Nob),reject:a(this.U$)};};c.prototype.Nob=function(a){var b;if(a===this)this.U$(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof c)this.Oqb(a);else{a:switch(typeof a){case"object":b=null!=a;break a;case"function":b=!0;break a;default:b=!1;}b?this.Mob(a):this.ksa(a);}};c.prototype.Mob=function(a){var b;b=void 0;try{b=a.then;}catch(d){this.U$(d);return;}"function"==typeof b?this.Pqb(b,a):this.ksa(a);};c.prototype.U$=function(a){this.bCa(2,a);};c.prototype.ksa=function(a){this.bCa(1,a);};c.prototype.bCa=function(a,b){if(0!=this.SL)throw Error("Cannot settle("+a+", "+b|"): Promise already settled in state"+this.SL);this.SL=a;this.haa=b;this.B8a();};c.prototype.B8a=function(){if(null!=this.FK){for(var a=this.FK,b=0;b<a.length;++b)a[b].call(),a[b]=null;this.FK=null;}};f=new a();c.prototype.Oqb=function(a){var b;b=this.k3();a.FQ(b.resolve,b.reject);};c.prototype.Pqb=function(a,b){var d;d=this.k3();try{a.call(b,d.resolve,d.reject);}catch(k){d.reject(k);}};c.prototype.then=function(a,b){var f,m,t;function d(a,d){return"function"==typeof a?function(d){try{f(a(d));}catch(K){m(K);}}:d;}t=new c(function(a,d){f=a;m=d;});this.FQ(d(a,f),d(b,m));return t;};c.prototype["catch"]=function(a){return this.then(void 0,a);};c.prototype.FQ=function(a,b){var k;function d(){switch(k.SL){case 1:a(k.haa);break;case 2:b(k.haa);break;default:throw Error("Unexpected state: "+k.SL);}}k=this;null==this.FK?f.Jna(d):this.FK.push(function(){f.Jna(d);});};c.resolve=function(a){return a instanceof c?a:new c(function(b){b(a);});};c.reject=function(a){return new c(function(b,d){d(a);});};c.race=function(a){return new c(function(b,d){for(var f=P(a),m=f.next();!m.done;m=f.next())c.resolve(m.value).FQ(b,d);});};c.all=function(a){var b,d;b=P(a);d=b.next();return d.done?c.resolve([]):new c(function(a,f){var m,y;function k(d){return function(b){m[d]=b;y--;0==y&&a(m);};}m=[];y=0;do m.push(void 0),y++,c.resolve(d.value).FQ(k(m.length-1),f),d=b.next();while(!d.done);});};c.$jscomp$new$AsyncExecutor=function(){return new a();};return c;});ga("Array.prototype.keys",function(g){return g?g:function(){return ha(this,function(c){return c;});};});ga("Math.tanh",function(g){return g?g:function(c){var a;c=Number(c);if(0===c)return c;a=Math.exp(-2*Math.abs(c));a=(1-a)/(1+a);return 0>c?-a:a;};});ga("WeakMap",function(g){var f,q;function c(a){this.GJ=(q+=Math.random()+1).toString();if(a){h();n();a=P(a);for(var d;!(d=a.next()).done;)d=d.value,this.set(d[0],d[1]);}}function a(a){la(a,f)||za(a,f,{value:{}});}function b(b){var d;d=Object[b];d&&(Object[b]=function(b){a(b);return d(b);});}if(function(){var a,d,b;if(!g||!Object.seal)return!1;try{a=Object.seal({});d=Object.seal({});b=new g([[a,2],[d,3]]);if(2!=b.get(a)||3!=b.get(d))return!1;b["delete"](a);b.set(d,4);return!b.has(a)&&4==b.get(d);}catch(m){return!1;}}())return g;f="$jscomp_hidden_"+Math.random().toString().substring(2);b("freeze");b("preventExtensions");b("seal");q=0;c.prototype.set=function(b,d){a(b);if(!la(b,f))throw Error("WeakMap key fail: "+b);b[f][this.GJ]=d;return this;};c.prototype.get=function(a){return la(a,f)?a[f][this.GJ]:void 0;};c.prototype.has=function(a){return la(a,f)&&la(a[f],this.GJ);};c.prototype["delete"]=function(a){return la(a,f)&&la(a[f],this.GJ)?delete a[f][this.GJ]:!1;};return c;});ga("Map",function(g){var q,p;function c(){var a;a={};return a.fi=a.next=a.head=a;}function a(a,b){var d;d=a.Ks;return C(function(){if(d){for(;d.head!=a.Ks;)d=d.fi;for(;d.next!=d.head;)return d=d.next,{done:!1,value:b(d)};d=null;}return{done:!0,value:void 0};});}function b(a,b){var d,f,k;d=b&&typeof b;"object"==d||"function"==d?q.has(b)?d=q.get(b):(d=""+ ++p,q.set(b,d)):d="p_"+b;f=a.us[d];if(f&&la(a.us,d))for(a=0;a<f.length;a++){k=f[a];if(b!==b&&k.key!==k.key||b===k.key)return{id:d,list:f,index:a,ee:k};}return{id:d,list:f,index:-1,ee:void 0};}function f(a){this.us={};this.Ks=c();this.size=0;if(a){a=P(a);for(var d;!(d=a.next()).done;)d=d.value,this.set(d[0],d[1]);}}if(function(){var a,b,f,t;if(!g||!g.prototype.entries||"function"!=typeof Object.seal)return!1;try{a=Object.seal({x:4});b=new g(P([[a,"s"]]));if("s"!=b.get(a)||1!=b.size||b.get({x:4})||b.set({x:4},"t")!=b||2!=b.size)return!1;f=b.entries();t=f.next();if(t.done||t.value[0]!=a||"s"!=t.value[1])return!1;t=f.next();return t.done||4!=t.value[0].x||"t"!=t.value[1]||!f.next().done?!1:!0;}catch(u){return!1;}}())return g;h();n();q=new WeakMap();f.prototype.set=function(a,f){var d;d=b(this,a);d.list||(d.list=this.us[d.id]=[]);d.ee?d.ee.value=f:(d.ee={next:this.Ks,fi:this.Ks.fi,head:this.Ks,key:a,value:f},d.list.push(d.ee),this.Ks.fi.next=d.ee,this.Ks.fi=d.ee,this.size++);return this;};f.prototype["delete"]=function(a){a=b(this,a);return a.ee&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.us[a.id],a.ee.fi.next=a.ee.next,a.ee.next.fi=a.ee.fi,a.ee.head=null,this.size--,!0):!1;};f.prototype.clear=function(){this.us={};this.Ks=this.Ks.fi=c();this.size=0;};f.prototype.has=function(a){return!!b(this,a).ee;};f.prototype.get=function(a){return(a=b(this,a).ee)&&a.value;};f.prototype.entries=function(){return a(this,function(a){return[a.key,a.value];});};f.prototype.keys=function(){return a(this,function(a){return a.key;});};f.prototype.values=function(){return a(this,function(a){return a.value;});};f.prototype.forEach=function(a,b){for(var d=this.entries(),f;!(f=d.next()).done;)f=f.value,a.call(b,f[1],f[0],this);};f.prototype[Symbol.iterator]=f.prototype.entries;p=0;return f;});ga("Set",function(g){function c(a){this.kq=new Map();if(a){a=P(a);for(var b;!(b=a.next()).done;)this.add(b.value);}this.size=this.kq.size;}if(function(){var a,b,f,c;if(!g||!g.prototype.entries||"function"!=typeof Object.seal)return!1;try{a=Object.seal({x:4});b=new g(P([a]));if(!b.has(a)||1!=b.size||b.add(a)!=b||1!=b.size||b.add({x:4})!=b||2!=b.size)return!1;f=b.entries();c=f.next();if(c.done||c.value[0]!=a||c.value[1]!=a)return!1;c=f.next();return c.done||c.value[0]==a||4!=c.value[0].x||c.value[1]!=c.value[0]?!1:f.next().done;}catch(p){return!1;}}())return g;h();n();c.prototype.add=function(a){this.kq.set(a,a);this.size=this.kq.size;return this;};c.prototype["delete"]=function(a){a=this.kq["delete"](a);this.size=this.kq.size;return a;};c.prototype.clear=function(){this.kq.clear();this.size=0;};c.prototype.has=function(a){return this.kq.has(a);};c.prototype.entries=function(){return this.kq.entries();};c.prototype.values=function(){return this.kq.values();};c.prototype[Symbol.iterator]=c.prototype.values;c.prototype.forEach=function(a,b){var f;f=this;this.kq.forEach(function(c){return a.call(b,c,c,f);});};return c;});ga("String.prototype.includes",function(g){return g?g:function(c,a){return-1!==ra(this,c,"includes").indexOf(c,a||0);};});ga("Number.isNaN",function(g){return g?g:function(c){return"number"===typeof c&&isNaN(c);};});ga("Array.prototype.find",function(g){return g?g:function(c,a){return qa(this,c,a).RW;};});ga("Array.prototype.entries",function(g){return g?g:function(){return ha(this,function(c,a){return[c,a];});};});ga("String.prototype.repeat",function(g){return g?g:function(c){var a;a=ra(this,null,"repeat");if(0>c||1342177279<c)throw new RangeError("Invalid count value");c|=0;for(var b="";c;)if(c&1&&(b+=a),c>>>=1)a+=a;return b;};});ga("String.prototype.endsWith",function(g){return g?g:function(c,a){var b;b=ra(this,c,"endsWith");c+="";void 0===a&&(a=b.length);a=Math.max(0,Math.min(a|0,b.length));for(var f=c.length;0<f&&0<a;)if(b[--a]!=c[--f])return!1;return 0>=f;};});ga("Array.prototype.findIndex",function(g){return g?g:function(c,a){return qa(this,c,a).Ji;};});ga("String.prototype.startsWith",function(g){return g?g:function(c,a){var b,f,q;b=ra(this,c,"startsWith");c+="";f=b.length;q=c.length;a=Math.max(0,Math.min(a|0,b.length));for(var p=0;p<q&&a<f;)if(b[a++]!=c[p++])return!1;return p>=q;};});ga("Array.prototype.values",function(g){return g?g:function(){return ha(this,function(c,a){return a;});};});ga("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});ga("Array.prototype.fill",function(g){return g?g:function(c,a,b){var f;f=this.length||0;0>a&&(a=Math.max(0,f+a));if(null==b||b>f)b=f;b=Number(b);0>b&&(b=Math.max(0,f+b));for(a=Number(a||0);a<b;a++)this[a]=c;return this;};});(function(g){var a;function c(b){var f;if(a[b])return a[b].T;f=a[b]={Ji:b,lfb:!1,T:{}};g[b].call(f.T,f,f.T,c);f.lfb=!0;return f.T;}a={};c.jIb=g;c.VEb=a;c.d=function(a,f,q){c.zjb(a,f)||Object.defineProperty(a,f,{configurable:!1,enumerable:!0,get:q});};c.r=function(a){Object.defineProperty(a,"__esModule",{value:!0});};c.n=function(a){var b;b=a&&a.Dja?function(){return a["default"];}:function(){return a;};c.d(b,"a",b);return b;};c.zjb=function(a,f){return Object.prototype.hasOwnProperty.call(a,f);};c.p="";return c(c.XJb=1056);}([function(g,c,a){function b(){b=Object.assign||function(a){for(var d,b=1,f=arguments.length;b<f;b++){d=arguments[b];for(var k in d)Object.prototype.hasOwnProperty.call(d,k)&&(a[k]=d[k]);}return a;};return b.apply(this,arguments);}function f(a,d){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d;}||function(a,d){for(var b in d)d.hasOwnProperty(b)&&(a[b]=d[b]);};return f(a,d);}function q(a,d){function b(){this.constructor=a;}f(a,d);a.prototype=null===d?Object.create(d):(b.prototype=d.prototype,new b());}function p(a,d){var b,f,k;b={};for(f in a)Object.prototype.hasOwnProperty.call(a,f)&&0>d.indexOf(f)&&(b[f]=a[f]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){k=0;for(f=Object.getOwnPropertySymbols(a);k<f.length;k++)0>d.indexOf(f[k])&&Object.prototype.propertyIsEnumerable.call(a,f[k])&&(b[f[k]]=a[f[k]]);}return b;}function d(a,d,b,f){var k,m,t;k=arguments.length;m=3>k?d:null===f?f=Object.getOwnPropertyDescriptor(d,b):f;if("object"===typeof Reflect&&"function"===typeof Reflect.Xu)m=Reflect.Xu(a,d,b,f);else for(var c=a.length-1;0<=c;c--)if(t=a[c])m=(3>k?t(m):3<k?t(d,b,m):t(d,b))||m;return 3<k&&m&&Object.defineProperty(d,b,m),m;}function k(a,d){return function(b,f){d(b,f,a);};}function m(a,d){if("object"===typeof Reflect&&"function"===typeof Reflect.kd)return Reflect.kd(a,d);}function t(a,d,b,f){return new(b||(b=Promise))(function(k,m){function t(a){try{u(f.next(a));}catch(ka){m(ka);}}function c(a){try{u(f["throw"](a));}catch(ka){m(ka);}}function u(a){a.done?k(a.value):new b(function(d){d(a.value);}).then(t,c);}u((f=f.apply(a,d||[])).next());});}function u(a,d){var k,m,t,c,u;function b(a){return function(d){return f([a,d]);};}function f(b){if(m)throw new TypeError("Generator is already executing.");for(;k;)try{if(m=1,t&&(c=b[0]&2?t["return"]:b[0]?t["throw"]||((c=t["return"])&&c.call(t),0):t.next)&&!(c=c.call(t,b[1])).done)return c;if(t=0,c)b=[b[0]&2,c.value];switch(b[0]){case 0:case 1:c=b;break;case 4:return k.label++,{value:b[1],done:!1};case 5:k.label++;t=b[1];b=[0];continue;case 7:b=k.rz.pop();k.nA.pop();continue;default:if(!(c=k.nA,c=0<c.length&&c[c.length-1])&&(6===b[0]||2===b[0])){k=0;continue;}if(3===b[0]&&(!c||b[1]>c[0]&&b[1]<c[3]))k.label=b[1];else if(6===b[0]&&k.label<c[1])k.label=c[1],c=b;else if(c&&k.label<c[2])k.label=c[2],k.rz.push(b);else{c[2]&&k.rz.pop();k.nA.pop();continue;}}b=d.call(a,k);}catch(ka){b=[6,ka];t=0;}finally{m=c=0;}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0};}k={label:0,TV:function(){if(c[0]&1)throw c[1];return c[1];},nA:[],rz:[]};h();h();n();return u={next:b(0),"throw":b(1),"return":b(2)},"function"===typeof Symbol&&(u[Symbol.iterator]=function(){return this;}),u;}function y(a,d){for(var b in a)d.hasOwnProperty(b)||(d[b]=a[b]);}function A(a){var d,b;h();h();n();d="function"===typeof Symbol&&a[Symbol.iterator];b=0;return d?d.call(a):{next:function(){a&&b>=a.length&&(a=void 0);return{value:a&&a[b++],done:!a};}};}function K(a,d){var b,f,k,m;h();h();n();b="function"===typeof Symbol&&a[Symbol.iterator];if(!b)return a;a=b.call(a);k=[];try{for(;(void 0===d||0<d--)&&!(f=a.next()).done;)k.push(f.value);}catch(va){m={error:va};}finally{try{f&&!f.done&&(b=a["return"])&&b.call(a);}finally{if(m)throw m.error;}}return k;}function x(){for(var a=[],d=0;d<arguments.length;d++)a=a.concat(K(arguments[d]));return a;}function G(){for(var a=0,d=0,b=arguments.length;d<b;d++)a+=arguments[d].length;for(var a=Array(a),f=0,d=0;d<b;d++)for(var k=arguments[d],m=0,t=k.length;m<t;m++,f++)a[f]=k[m];return a;}function M(a){return this instanceof M?(this.RW=a,this):new M(a);}function R(a,d,b){var u,y,q;function f(a){u[a]&&(y[a]=function(d){return new Promise(function(b,f){1<q.push([a,d,b,f])||k(a,d);});});}function k(a,d){var b;try{b=u[a](d);b.value instanceof M?Promise.resolve(b.value.RW).then(m,t):c(q[0][2],b);}catch(Fa){c(q[0][3],Fa);}}function m(a){k("next",a);}function t(a){k("throw",a);}function c(a,d){(a(d),q.shift(),q.length)&&k(q[0][0],q[0][1]);}h();if(!Symbol.rQ)throw new TypeError("Symbol.asyncIterator is not defined.");u=b.apply(a,d||[]);q=[];h();return y={},f("next"),f("throw"),f("return"),y[Symbol.rQ]=function(){return this;},y;}function T(a){var b,f;function d(d,k){b[d]=a[d]?function(b){return(f=!f)?{value:M(a[d](b)),done:"return"===d}:k?k(b):b;}:k;}h();n();return b={},d("next"),d("throw",function(a){throw a;}),d("return"),b[Symbol.iterator]=function(){return this;},b;}function l(a){var f,k;function d(d){k[d]=a[d]&&function(f){return new Promise(function(k,m){f=a[d](f);b(k,m,f.done,f.value);});};}function b(a,d,b,f){Promise.resolve(f).then(function(d){a({value:d,done:b});},d);}h();if(!Symbol.rQ)throw new TypeError("Symbol.asyncIterator is not defined.");h();f=a[Symbol.rQ];h();n();h();return f?f.call(a):(a="function"===typeof A?A(a):a[Symbol.iterator](),k={},d("next"),d("throw"),d("return"),k[Symbol.rQ]=function(){return this;},k);}function D(a,d){Object.defineProperty?Object.defineProperty(a,"raw",{value:d}):a.raw=d;return a;}function U(a){var d;if(a&&a.Dja)return a;d={};if(null!=a)for(var b in a)Object.hasOwnProperty.call(a,b)&&(d[b]=a[b]);d["default"]=a;return d;}function Q(a){return a&&a.Dja?a:{"default":a};}a.r(c);a.d(c,"__extends",function(){return q;});a.d(c,"__assign",function(){return b;});a.d(c,"__rest",function(){return p;});a.d(c,"__decorate",function(){return d;});a.d(c,"__param",function(){return k;});a.d(c,"__metadata",function(){return m;});a.d(c,"__awaiter",function(){return t;});a.d(c,"__generator",function(){return u;});a.d(c,"__exportStar",function(){return y;});a.d(c,"__values",function(){return A;});a.d(c,"__read",function(){return K;});a.d(c,"__spread",function(){return x;});a.d(c,"__spreadArrays",function(){return G;});a.d(c,"__await",function(){return M;});a.d(c,"__asyncGenerator",function(){return R;});a.d(c,"__asyncDelegator",function(){return T;});a.d(c,"__asyncValues",function(){return l;});a.d(c,"__makeTemplateObject",function(){return D;});a.d(c,"__importStar",function(){return U;});a.d(c,"__importDefault",function(){return Q;});},function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});g=a(31);c.Wzb=g;g=a(1053);c.FF=g.FF;g=a(81);c.Tn=g.Tn;c.Gh=g.Gh;c.or=g.or;g=a(1037);c.Yca=g.Yca;c.ac=g.ac;g=a(1036);c.N=g.N;g=a(1035);c.OCa=g.OCa;g=a(1034);c.Hxa=g.Hxa;g=a(474);c.l=g.l;c.RY=g.RY;g=a(1033);c.optional=g.optional;g=a(1032);c.dh=g.dh;g=a(1031);c.hz=g.hz;g=a(1030);c.kM=g.kM;g=a(1029);c.oza=g.oza;g=a(476);c.$Y=g.$Y;g=a(103);c.id=g.id;g=a(88);c.Xu=g.Xu;g=a(471);c.xDa=g.xDa;c.PCa=g.PCa;c.Ixa=g.Ixa;c.CDa=g.CDa;g=a(138);c.nD=g.nD;a=a(1028);c.Fxa=a.Fxa;},function(g,c){var a,b;Object.defineProperty(c,"__esModule",{value:!0});(function(a){a[a.bj=7001]="UNKNOWN";a[a.kSa=7002]="UNHANDLED_EXCEPTION";a[a.RKa=7003]="INIT_COMPONENT_LOG_TO_REMOTE";a[a.bfa=7010]="INIT_ASYNCCOMPONENT";a[a.vfa=7011]="INIT_HTTP";a[a.PKa=7014]="INIT_BADMOVIEID";a[a.cLa=7016]="INIT_NETFLIXID_MISSING";a[a.bLa=7017]="INIT_NETFLIXID_INVALID";a[a.eLa=7018]="INIT_SECURENETFLIXID_MISSING";a[a.wfa=7020]="INIT_PLAYBACK_LOCK";a[a.xfa=7022]="INIT_SESSION_LOCK";a[a.dLa=7029]="INIT_POSTAUTHORIZE";a[a.pzb=7031]="INIT_HEADER_MEDIA";a[a.Tyb=7032]="HEADER_MISSING";a[a.Syb=7033]="HEADER_FRAGMENTS_MISSING";a[a.fLa=7034]="INIT_TIMEDTEXT_TRACK";a[a.qzb=7035]="INIT_LOAD_DOWNLOADED_MEDIA";a[a.rzb=7036]="INIT_STREAMS_NOT_AVAILABLE";a[a.MEa=7037]="ASE_SESSION_ERROR";a[a.LEa=7038]="ASE_SEEK_THREW";a[a.NEa=7039]="ASE_SKIPPED_THREW";a[a.ZKa=7041]="INIT_CORE_OBJECTS1";a[a.$Ka=7042]="INIT_CORE_OBJECTS2";a[a.aLa=7043]="INIT_CORE_OBJECTS3";a[a.mzb=7051]="INIT_COMPONENT_REQUESTQUOTA";a[a.gzb=7052]="INIT_COMPONENT_FILESYSTEM";a[a.nfa=7053]="INIT_COMPONENT_STORAGE";a[a.ofa=7054]="INIT_COMPONENT_STORAGELOCK";a[a.hzb=7055]="INIT_COMPONENT_LOGPERSIST";a[a.izb=7056]="INIT_COMPONENT_NRDDPI";a[a.kzb=7057]="INIT_COMPONENT_PEPPERCRYPTO";a[a.jfa=7058]="INIT_COMPONENT_MAINTHREADMONITOR";a[a.KY=7059]="INIT_COMPONENT_DEVICE";a[a.jzb=7062]="INIT_COMPONENT_NTBA";a[a.kfa=7063]="INIT_COMPONENT_MSL";a[a.ffa=7065]="INIT_COMPONENT_CONTROL_PROTOCOL";a[a.ifa=7066]="INIT_COMPONENT_LOGBLOBBATCHER";a[a.Pt=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";a[a.lzb=7068]="INIT_COMPONENT_PLAYBACKHEURISTICSRANDOM";a[a.cfa=7069]="INIT_COMPONENT_ACCOUNT";a[a.TKa=7070]="INIT_COMPONENT_NRDP_CONFIG_LOADER";a[a.VKa=7071]="INIT_COMPONENT_NRDP_ESN_PREFIX_LOADER";a[a.WKa=7072]="INIT_COMPONENT_NRDP_MEDIA";a[a.XKa=7073]="INIT_COMPONENT_NRDP_PREPARE_LOADER";a[a.YKa=7074]="INIT_COMPONENT_NRDP_REGISTRATION";a[a.SKa=7081]="INIT_COMPONENT_NRDP";a[a.UKa=7082]="INIT_COMPONENT_NRDP_DEVICE";a[a.ufa=7083]="INIT_COMPONENT_WEBCRYPTO";a[a.qfa=7084]="INIT_COMPONENT_VIDEO_PREPARER";a[a.ozb=7085]="INIT_CONGESTION_SERVICE";a[a.hfa=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";a[a.pfa=7087]="INIT_COMPONENT_TRACKING_LOG";a[a.efa=7088]="INIT_COMPONENT_BATTERY_MANAGER";a[a.dfa=7089]="INIT_COMPONENT_ASE_MANAGER";a[a.nzb=7090]="INIT_COMPONENT_VIDEO_CACHE";a[a.KA=7091]="INIT_COMPONENT_DRM_CACHE";a[a.QKa=7092]="INIT_COMPONENT_DRM";a[a.lfa=7093]="INIT_COMPONENT_PREFETCH_EVENTS";a[a.gfa=7094]="INIT_COMPONENT_FTL";a[a.mfa=7095]="INIT_COMPONENT_PREPARE_MODEL";a[a.rfa=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";a[a.sfa=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";a[a.tfa=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";a[a.MANIFEST=7111]="MANIFEST";a[a.XEa=7112]="AUTHORIZE_UNKNOWN";a[a.gMa=7117]="MANIFEST_VERIFY";a[a.Aia=7120]="START";a[a.Xw=7121]="LICENSE";a[a.CQa=7122]="SECURESTOP";a[a.Dia=7123]="STOP";a[a.Iyb=7124]="FPSAPPDATA";a[a.QY=7125]="KEEPALIVE";a[a.txb=7126]="DEACTIVATE";a[a.SCb=7127]="SYNC_DEACTIVATE_LINKS";a[a.Tvb=7130]="ACTIVATE";a[a.qOa=7131]="PING";a[a.Jga=7133]="NETFLIXID";a[a.lJa=7134]="ENGAGE";a[a.JLa=7135]="LOGIN";a[a.VQa=7136]="SWITCH_PROFILES";a[a.ILa=7137]="LOGBLOB";a[a.aOa=7138]="PAUSE";a[a.lQa=7139]="RESUME";a[a.yia=7140]="SPLICE";a[a.Exb=7141]="DOWNLOAD_EVENT";a[a.FFa=7142]="BIND";a[a.YNa=7143]="PAIR";a[a.GFa=7144]="BIND_DEVICE";a[a.tOa=7202]="PLAY_INIT_EXCEPTION";a[a.Rzb=7301]="MEDIA_DOWNLOAD";a[a.tBb=7330]="PLAY_MSE_EME_CREATE_KEYSESSION_FAILED";a[a.uBb=7331]="PLAY_MSE_EME_KEY_SESSION_UPDATE_EXCEPTION";a[a.iha=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";a[a.zOa=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";a[a.jha=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";a[a.AOa=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";a[a.oZ=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";a[a.lha=7351]="PLAY_MSE_NOTSUPPORTED";a[a.kha=7352]="PLAY_MSE_EME_NOTSUPPORTED";a[a.hha=7353]="PLAY_MSE_DECODER_TIMEOUT";a[a.pZ=7354]="PLAY_MSE_EME_TYPE_NOTSUPPORTED";a[a.rZ=7355]="PLAY_MSE_SOURCEADD";a[a.uOa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";a[a.EOa=7357]="PLAY_MSE_GENERATEKEYREQUEST";a[a.zBb=7358]="PLAY_MSE_PARSECHALLENGE";a[a.sBb=7359]="PLAY_MSE_ADDKEY";a[a.CBb=7360]="PLAY_MSE_UNEXPECTED_NEEDKEY";a[a.DOa=7361]="PLAY_MSE_EVENT_ERROR";a[a.qZ=7362]="PLAY_MSE_SETMEDIAKEYS";a[a.TN=7363]="PLAY_MSE_EVENT_KEYERROR";a[a.COa=7364]="PLAY_MSE_EME_SESSION_CLOSE";a[a.FOa=7365]="PLAY_MSE_GETCURRENTTIME";a[a.GOa=7367]="PLAY_MSE_SETCURRENTTIME";a[a.HOa=7371]="PLAY_MSE_SOURCEAPPEND";a[a.ABb=7373]="PLAY_MSE_SOURCEAPPEND_INIT";a[a.LOa=7375]="PLAY_MSE_UNEXPECTED_SEEKING";a[a.KOa=7376]="PLAY_MSE_UNEXPECTED_SEEKED";a[a.JOa=7377]="PLAY_MSE_UNEXPECTED_REWIND";a[a.BBb=7379]="PLAY_MSE_SOURCE_EOS";a[a.IOa=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";a[a.yBb=7385]="PLAY_MSE_KEYSESSION_UPDATE";a[a.vOa=7391]="PLAY_MSE_CREATE_MEDIASOURCE";a[a.wOa=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";a[a.xOa=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";a[a.wBb=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";a[a.BOa=7395]="PLAY_MSE_EME_MISSING_PSSH";a[a.vBb=7396]="PLAY_MSE_EME_MISSING_CERT";a[a.xBb=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";a[a.yOa=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";a[a.mha=7399]="PLAY_MSE_SET_LICENSE_ERROR";a[a.pJa=7400]="EXTERNAL";a[a.RN=7500]="PAUSE_TIMEOUT";a[a.CN=7502]="INACTIVITY_TIMEOUT";a[a.WEa=7510]="AUTHORIZATION_EXPIRED";a[a.vxb=7520]="DECRYPT_AUDIO";a[a.wia=7600]="SECURE_STOP_PROMISE_EXPIRED";a[a.DQa=7601]="SECURE_STOP_KEY_ERROR";a[a.wCb=7602]="SECURE_STOP_VIDEO_ERROR";a[a.hCb=7603]="SECURE_STOP_NCCP_ERROR";a[a.iCb=7604]="SECURE_STOP_NCCP_PARSE_PAYLOAD_ERROR";a[a.vCb=7605]="SECURE_STOP_STORAGE_REMOVE_ERROR";a[a.mCb=7620]="SECURE_STOP_PERSISTED_KEY_SESSION_NOT_AVAILABLE";a[a.EQa=7621]="SECURE_STOP_PERSISTED_NO_MORE_ERROR";a[a.nCb=7622]="SECURE_STOP_PERSISTED_MAX_ATTEMPTS_EXCEEDED";a[a.oCb=7623]="SECURE_STOP_PERSISTED_MSE_CREATE_MEDIASOURCE_OPEN";a[a.JZ=7624]="SECURE_STOP_PERSISTED_PLAY_MSE_GENERATEKEYREQUEST";a[a.jCb=7625]="SECURE_STOP_PERSISTED_CREATE_SESSION_WITH_KEY_RELEASE_FAILED";a[a.pCb=7626]="SECURE_STOP_PERSISTED_NCCP_FPSAPPDATA";a[a.sCb=7627]="SECURE_STOP_PERSISTED_PLIST_PARSE_ERROR";a[a.qCb=7628]="SECURE_STOP_PERSISTED_PENDING_KEY_ADDED_EXPIRED";a[a.lCb=7631]="SECURE_STOP_PERSISTED_KEY_ERROR";a[a.uCb=7632]="SECURE_STOP_PERSISTED_VIDEO_ERROR";a[a.rCb=7633]="SECURE_STOP_PERSISTED_PLAY_MSE_KEYSESSION_UPDATE";a[a.kCb=7634]="SECURE_STOP_PERSISTED_DRM_NOT_SUPPORTED";a[a.tCb=7635]="SECURE_STOP_PERSISTED_UNEXPECTED_MESSAGE_TYPE";a[a.gJa=7700]="EME_INVALID_KEYSYSTEM";a[a.oea=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";a[a.nea=7702]="EME_CREATE_MEDIAKEYS_FAILED";a[a.pea=7703]="EME_GENERATEREQUEST_FAILED";a[a.mN=7704]="EME_UPDATE_FAILED";a[a.Vxb=7705]="EME_KEYSESSION_ERROR";a[a.fyb=7706]="EME_NO_KEYMESSAGE";a[a.tea=7707]="EME_REMOVE_FAILED";a[a.iJa=7708]="EME_LOAD_FAILED";a[a.dJa=7709]="EME_CREATE_SESSION_FAILED";a[a.Xxb=7710]="EME_LDL_RENEWAL_ERROR";a[a.qea=7711]="EME_INVALID_INITDATA_DATA";a[a.rea=7712]="EME_INVALID_LICENSE_DATA";a[a.hJa=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";a[a.Yxb=7714]="EME_MEDIAKEYS_GENERIC_ERROR";a[a.sea=7715]="EME_INVALID_SECURESTOP_DATA";a[a.cJa=7716]="EME_CLOSE_FAILED";a[a.rOa=7800]="PLAYDATA_STORE_FAILURE";a[a.rBb=7801]="PLAYDATA_SEND_FAILURE";a[a.AF=7900]="BRANCH_PLAY_FAILURE";a[a.Mw=7901]="BRANCH_QUEUE_FAILURE";a[a.bda=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";a[a.GAb=8E3]="NRDP_REGISTRATION_ACTIVATE_FAILURE";a[a.HAb=8010]="NRDP_REGISTRATION_SSO_ACTIVATE_FAILURE";a[a.gOa=8100]="PBO_EVENTLOOKUP_FAILURE";a[a.SN=8200]="PLAYGRAPH_ADD_MANIFEST";a[a.sOa=8201]="PLAYGRAPH_SEGMENT_NOT_READY";}(a=c.I||(c.I={})));(function(a){a[a.bj=1001]="UNKNOWN";a[a.fh=1003]="EXCEPTION";a[a.iLa=1004]="INVALID_DI";a[a.QEa=1011]="ASYNCLOAD_EXCEPTION";a[a.REa=1013]="ASYNCLOAD_TIMEOUT";a[a.Uvb=1015]="ASYNCLOAD_BADCONFIG";a[a.OEa=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";a[a.PEa=1017]="ASYNCLOAD_COMPONENT_MISSING";a[a.JA=1101]="HTTP_UNKNOWN";a[a.HY=1102]="HTTP_XHR";a[a.TF=1103]="HTTP_PROTOCOL";a[a.SF=1104]="HTTP_OFFLINE";a[a.UF=1105]="HTTP_TIMEOUT";a[a.Ww=1106]="HTTP_READTIMEOUT";a[a.Ot=1107]="HTTP_ABORT";a[a.DY=1108]="HTTP_PARSE";a[a.Rea=1110]="HTTP_BAD_URL";a[a.IA=1111]="HTTP_PROXY";a[a.gga=1203]="MSE_AUDIO";a[a.hga=1204]="MSE_VIDEO";a[a.wMa=1250]="MSE_MEDIA_ERR_BASE";a[a.$zb=1251]="MSE_MEDIA_ERR_ABORTED";a[a.cAb=1252]="MSE_MEDIA_ERR_NETWORK";a[a.aAb=1253]="MSE_MEDIA_ERR_DECODE";a[a.dAb=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";a[a.bAb=1255]="MSE_MEDIA_ERR_ENCRYPTED";a[a.EA=1260]="EME_MEDIA_KEYERR_BASE";a[a.dyb=1261]="EME_MEDIA_KEYERR_UNKNOWN";a[a.Zxb=1262]="EME_MEDIA_KEYERR_CLIENT";a[a.cyb=1263]="EME_MEDIA_KEYERR_SERVICE";a[a.byb=1264]="EME_MEDIA_KEYERR_OUTPUT";a[a.ayb=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";a[a.$xb=1266]="EME_MEDIA_KEYERR_DOMAIN";a[a.eyb=1269]="EME_MEDIA_UNAVAILABLE_CDM";a[a.fJa=1280]="EME_ERROR_NODRMSESSSION";a[a.eJa=1281]="EME_ERROR_NODRMREQUESTS";a[a.Txb=1282]="EME_ERROR_INDIV_FAILED";a[a.Uxb=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";a[a.kJa=1284]="EME_TIMEOUT_MESSAGE";a[a.jJa=1285]="EME_TIMEOUT_KEYCHANGE";a[a.NX=1286]="EME_UNDEFINED_DATA";a[a.IF=1287]="EME_INVALID_STATE";a[a.Wxb=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";a[a.MX=1289]="EME_EMPTY_DATA";a[a.JF=1290]="EME_TIMEOUT";a[a.vAb=1303]="NCCP_METHOD_NOT_SUPPORTED";a[a.yAb=1305]="NCCP_PARSEXML";a[a.UOa=1309]="PROCESS_EXCEPTION";a[a.xAb=1311]="NCCP_NETFLIXID_MISSING";a[a.zAb=1312]="NCCP_SECURENETFLIXID_MISSING";a[a.sAb=1313]="NCCP_HMAC_MISSING";a[a.rAb=1315]="NCCP_HMAC_MISMATCH";a[a.qAb=1317]="NCCP_HMAC_FAILED";a[a.pAb=1321]="NCCP_CLIENTTIME_MISSING";a[a.oAb=1323]="NCCP_CLIENTTIME_MISMATCH";a[a.Nea=1331]="GENERIC";a[a.yNa=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";a[a.zNa=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";a[a.AAb=1341]="NCCP_TRANSACTION";a[a.tAb=1343]="NCCP_INVALID_DRMTYPE";a[a.uAb=1344]="NCCP_INVALID_LICENCE_RESPONSE";a[a.wAb=1345]="NCCP_MISSING_PAYLOAD";a[a.KBb=1346]="PROTOCOL_NOT_INITIALIZED";a[a.JBb=1347]="PROTOCOL_MISSING_FIELD";a[a.VOa=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";a[a.rp=1402]="STORAGE_NODATA";a[a.CCb=1403]="STORAGE_EXCEPTION";a[a.KCb=1405]="STORAGE_QUOTA_NOT_GRANTED";a[a.LCb=1407]="STORAGE_QUOTA_TO_SMALL";a[a.Fia=1411]="STORAGE_LOAD_ERROR";a[a.RQa=1412]="STORAGE_LOAD_TIMEOUT";a[a.Gia=1414]="STORAGE_SAVE_ERROR";a[a.UQa=1415]="STORAGE_SAVE_TIMEOUT";a[a.LZ=1417]="STORAGE_DELETE_ERROR";a[a.Eia=1418]="STORAGE_DELETE_TIMEOUT";a[a.JCb=1421]="STORAGE_FS_REQUESTFILESYSTEM";a[a.GCb=1423]="STORAGE_FS_GETDIRECTORY";a[a.ICb=1425]="STORAGE_FS_READENTRIES";a[a.DCb=1427]="STORAGE_FS_FILEREAD";a[a.FCb=1429]="STORAGE_FS_FILEWRITE";a[a.ECb=1431]="STORAGE_FS_FILEREMOVE";a[a.HCb=1432]="STORAGE_FS_PARSEJSON";a[a.TQa=1451]="STORAGE_NO_LOCALSTORAGE";a[a.SQa=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";a[a.NAb=1501]="NTBA_UNKNOWN";a[a.MAb=1502]="NTBA_EXCEPTION";a[a.IAb=1504]="NTBA_CRYPTO_KEY";a[a.KAb=1506]="NTBA_CRYPTO_OPERATION";a[a.JAb=1508]="NTBA_CRYPTO_KEYEXCHANGE";a[a.LAb=1515]="NTBA_DECRYPT_UNSUPPORTED";a[a.Kda=1553]="DEVICE_NO_ESN";a[a.BX=1555]="DEVICE_ERROR_GETTING_ESN";a[a.pha=1603]="PLUGIN_LOAD_MISSING";a[a.nha=1605]="PLUGIN_LOAD_ERROR";a[a.qha=1607]="PLUGIN_LOAD_TIMEOUT";a[a.oha=1609]="PLUGIN_LOAD_EXCEPTION";a[a.POa=1625]="PLUGIN_EXCEPTION";a[a.MOa=1627]="PLUGIN_CALLBACK_ERROR";a[a.NOa=1629]="PLUGIN_CALLBACK_TIMEOUT";a[a.OJa=1701]="FORMAT_UNKNOWN";a[a.Eea=1713]="FORMAT_XML";a[a.PJa=1715]="FORMAT_XML_CONTENT";a[a.NJa=1721]="FORMAT_BASE64";a[a.qN=1723]="FORMAT_DFXP";a[a.CKa=1801]="INDEXDB_OPEN_EXCEPTION";a[a.$ea=1802]="INDEXDB_NOT_SUPPORTED";a[a.BKa=1803]="INDEXDB_OPEN_ERROR";a[a.afa=1804]="INDEXDB_OPEN_NULL";a[a.AKa=1805]="INDEXDB_OPEN_BLOCKED";a[a.DKa=1807]="INDEXDB_OPEN_TIMEOUT";a[a.zKa=1808]="INDEXDB_INVALID_STORE_STATE";a[a.DN=1809]="INDEXDB_ACCESS_EXCEPTION";a[a.FMa=1901]="MSL_UNKNOWN";a[a.yMa=1911]="MSL_INIT_NO_MSL";a[a.lga=1913]="MSL_INIT_ERROR";a[a.zMa=1915]="MSL_INIT_NO_WEBCRYPTO";a[a.iga=1931]="MSL_ERROR";a[a.EMa=1933]="MSL_REQUEST_TIMEOUT";a[a.DMa=1934]="MSL_READ_TIMEOUT";a[a.xMa=1935]="MSL_ERROR_HEADER";a[a.bG=1936]="MSL_ERROR_ENVELOPE";a[a.jga=1937]="MSL_ERROR_MISSING_PAYLOAD";a[a.kga=1957]="MSL_ERROR_REAUTH";a[a.b_=2103]="WEBCRYPTO_MISSING";a[a.DSa=2105]="WEBCRYPTOKEYS_MISSING";a[a.ESa=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";a[a.Zwb=2200]="CACHEDDATA_PARSEJSON";a[a.jda=2201]="CACHEDDATA_UNSUPPORTED_VERSION";a[a.$wb=2202]="CACHEDDATA_UPGRADE_FAILED";a[a.Et=2203]="CACHEDDATA_INVALID_FORMAT";a[a.Rvb=3E3]="ACCOUNT_CHANGE_INFLIGHT";a[a.Svb=3001]="ACCOUNT_INVALID";a[a.Dxb=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";a[a.Cxb=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";a[a.Axb=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";a[a.Bxb=3201]="DOWNLOADED_LICENSE_UNUSEABLE";a[a.zxb=3202]="DOWNLOADED_LICENSE_EXCEPTION";a[a.MCb=3300]="STORAGE_VA_LOAD_ERROR";a[a.NCb=3301]="STORAGE_VA_LOAD_TIMEOUT";a[a.QCb=3302]="STORAGE_VA_SAVE_ERROR";a[a.RCb=3303]="STORAGE_VA_SAVE_TIMEOUT";a[a.OCb=3304]="STORAGE_VA_REMOVE_ERROR";a[a.PCb=3305]="STORAGE_VA_REMOVE_TIMEOUT";a[a.nZ=3077]="PBO_DEVICE_EOL_WARNING";a[a.bha=3078]="PBO_DEVICE_EOL_FINAL";a[a.nOa=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.bOa=5005]="PBO_ACCOUNT_ON_HOLD";a[a.fOa=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.cha=5007]="PBO_INCORRECT_PIN";a[a.lOa=5008]="PBO_MOBILE_ONLY";a[a.hOa=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";a[a.dOa=5059]="PBO_BLACKLISTED_IP";a[a.cOa=5070]="PBO_AGE_VERIFICATION_REQUIRED";a[a.eOa=5080]="PBO_CHOICE_MAP_ERROR";a[a.mOa=5090]="PBO_RESTRICTED_TO_TESTERS";a[a.jOa=5091]="PBO_MALFORMED_REQUEST";a[a.iOa=5092]="PBO_INVALID_SERVICE_VERSION";a[a.kOa=5093]="PBO_MDX_INVALID_CTICKET";a[a.yHa=5100]="DECODER_TIMEOUT_BUFFERING";a[a.zHa=5101]="DECODER_TIMEOUT_PRESENTING";a[a.uIa=5200]="DOWNLOADER_IO_ERROR";a[a.ada=5300]="BRANCHING_SEGMENT_NOTFOUND";a[a.LFa=5301]="BRANCHING_PRESENTER_UNINITIALIZED";a[a.mwb=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";a[a.lX=5303]="BRANCHING_ASE_UNINITIALIZED";a[a.HFa=5304]="BRANCHING_ASE_FAILURE";a[a.JFa=5305]="BRANCHING_MOMENT_FAILURE";a[a.IFa=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";a[a.lwb=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";a[a.MFa=5308]="BRANCHING_SEEK_THREW";a[a.kwb=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";a[a.KFa=5310]="BRANCHING_PLAY_TIMEDOUT";a[a.NFa=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";a[a.OFa=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";a[a.DEa=5400]="ADD_MANIFEST_STREAMING_SESSION_ERROR";a[a.Cca=5401]="ADD_MANIFEST_NO_STREAMING_SESSION";}(b=c.u||(c.u={})));(function(a){a[a.xwb=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.nwb=5005]="BR_ACCOUNT_ON_HOLD";a[a.rwb=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.uwb=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";a[a.qwb=5059]="BR_BLACKLISTED_IP";a[a.owb=5070]="BR_AGE_VERIFICATION_REQUIRED";a[a.vwb=2204]="BR_PLAYBACK_CONTEXT_CREATION";a[a.swb=2205]="BR_DRM_LICENSE_AQUISITION";a[a.wwb=2206]="BR_PLAYBACK_SERVICE_ERROR";a[a.twb=2207]="BR_ENDPOINT_ERROR";a[a.pwb=2208]="BR_AUTHORIZATION_ERROR";}(c.DJa||(c.DJa={})));c.IY={TFa:"400",xDb:"401",tha:"413"};c.aZ={Gyb:1,kDb:2,iyb:3,wDb:4,Izb:5,hyb:6,ZZ:7,oJa:8,$Bb:9,zCb:10};(function(a){a[a.ZNa=21]="PAIRING_CONTROLLER_CTICKET_EXPIRED";a[a.$Na=98]="PAIRING_UNKNOWN_ERROR";}(c.YY||(c.YY={})));c.pyb=function(a){return 7100<=a&&7200>a;};c.BJa=function(b){return b==a.RN||b==a.CN;};c.FJa=function(a){return 1100<=a&&1199>=a;};c.ryb=function(a){return 1300<=a&&1399>=a;};c.qyb=function(a){return 1900<=a&&1999>=a;};c.yea=function(a,b){return 1<=a&&9>=a?b+a:b;};c.GJa=function(a){return c.yea(a,b.wMa);};c.zea=function(a){return c.yea(a,b.EA);};c.Xn=function(a){var c,f,d;c={};f=a.errorExternalCode||a.Hc;d=a.errorDetails||a.Qa;c.ErrorSubCode=a.errorSubCode||a.Y||b.bj;f&&(c.ErrorExternalCode=f);d&&(c.ErrorDetails=d);return c;};},function(g,c,a){var q;function b(a){return q.iO.apply(this,arguments)||this;}function f(a){return new q.op(a,c.ma);}Object.defineProperty(c,"__esModule",{value:!0});q=a(470);ba(b,q.iO);c.pDb=b;c.wIb=function(a){return new q.op(a,c.QA);};c.gmb=function(a){return new q.op(a*c.Em.Oe,c.QA);};c.Db=f;c.Fg=function(a){return new q.op(a,c.Em);};c.f9=function(a){return new q.op(a,c.Cga);};c.tHb=function(a){return new q.op(a,c.tKa);};c.timestamp=function(a){return f(a);};c.QA=new b(1,"\u03bcs");c.ma=new b(1E3,"ms",c.QA);c.Em=new b(1E3*c.ma.Oe,"s",c.QA);c.Cga=new b(60*c.Em.Oe,"min",c.QA);c.tKa=new b(60*c.Cga.Oe,"hr",c.QA);c.Ff=f(0);},function(g,c,a){var b,f,q,p,d,k,m;Object.defineProperty(c,"__esModule",{value:!0});b=a(477);g=a(7);f=a(29);q=a(98);p=a(99);d=a(41);k=a(19);m=a(55);c.vm=b.Wc.get(q.rx);c.OW=c.vm.encode.bind(c.vm);c.AM=c.vm.decode.bind(c.vm);c.vh=b.Wc.get(p.Nw);c.FEb=c.vh.encode.bind(c.vh);c.EEb=c.vh.decode.bind(c.vh);c.Vna=c.vh.jJ.bind(c.vh);c.GEb=c.vh.nDa.bind(c.vh);c.re=b.Wc.get(d.Jj);c.as=function(a){a=k.Sd(a)?c.AM(a):a;return c.re.encode(a);};c.Mk=c.re.decode.bind(c.re);c.O_a=function(a){return c.OW(c.Mk(a));};c.zRa=a(517);c.hD=function(){return b.Wc.get(f.IX);};c.yf=b.Wc.get(g.ob);c.log=c.yf.lb("General");c.Lf=function(a,d){return c.yf.lb(a,void 0,d);};c.bg=function(a,d){return c.yf.lb(d,a,void 0);};c.rS=function(a,d,b,k){return c.yf.lb(a,void 0,k,d,b);};c.CZ=function(a,d){return b.Wc.get(m.vk)(a,d,void 0).Uba();};c.V=b.Wc;},function(g){g.T={JJ:function(c){for(var a in c)c.hasOwnProperty(a)&&(this[a]=c[a]);},reset:function(){}};},function(g){var c;c={pa:function(a){return"number"===typeof a;},Ze:function(a){return"object"===typeof a;},Sd:function(a){return"string"===typeof a;},R:function(a){return"undefined"===typeof a;},ueb:function(a){return"boolean"===typeof a;},Ob:function(a){return"function"===typeof a;},Ra:function(a){return null===a;},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a)&&!isNaN(parseFloat(a));},has:function(a,b){return null!==a&&"undefined"!==typeof a&&Object.prototype.hasOwnProperty.call(a,b);},zkb:function(a){var b,f;f=[];if(!c.Ze(a))throw new TypeError("Object.pairs called on non-object");for(b in a)a.hasOwnProperty(b)&&f.push([b,a[b]]);return f;}};c.dd=c.forEach=function(a,b,f){if(null===a||"undefined"===typeof a)return a;if(a.length===+a.length)for(var q=0,p=a.length;q<p;q++)b.call(f,a[q],q,a);else for(q in a)c.has(a,q)&&b.call(f,a[q],q,a);return a;};g.T=c;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=c.Jh||(c.Jh={});g[g.MJa=0]="FATAL";g[g.ERROR=1]="ERROR";g[g.a_=2]="WARN";g[g.JY=3]="INFO";g[g.Zia=4]="TRACE";g[g.zX=5]="DEBUG";c.Xfa="LogFieldBuilderFactorySymbol";c.ob="LoggerFactorySymbol";c.Sw={};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g="undefined"===typeof J?{}:J;c.tk=g.navigator||{};c.Oj=c.tk.userAgent;c.gZ=g.location;c.hr=g.screen;c.gr=g.performance;c.Nd=g.document||{};c.CAb=c.Nd.documentElement;c.Du=Array.prototype;c.sort=c.Du.sort;c.map=c.Du.map;c.slice=c.Du.slice;c.every=c.Du.every;c.reduce=c.Du.reduce;c.filter=c.Du.filter;c.forEach=c.Du.forEach;c.pop=c.Du.pop;c.kG=Object.create;c.RNa=Object.keys;c.jN=Date.now;c.vRa=String.fromCharCode;c.bx=Math.floor;c.RMa=Math.ceil;c.Lh=Math.round;c.Bm=Math.max;c.Zn=Math.min;c.dG=Math.random;c.cG=Math.abs;c.rga=Math.pow;c.SMa=Math.sqrt;c.fZ=g.escape;c.hZ=g.unescape;c.URL=g.URL||g.webkitURL;c.TA=g.MediaSource||g.WebKitMediaSource;c.hG=g.WebKitMediaKeys||g.MSMediaKeys||g.MediaKeys;c.Xt=g.nfCrypto||g.webkitCrypto||g.msCrypto||g.crypto;c.dn=c.Xt&&(c.Xt.webkitSubtle||c.Xt.subtle);c.eZ=g.nfCryptokeys||g.webkitCryptokeys||g.msCryptokeys||g.cryptokeys;try{c.indexedDB=g.indexedDB;}catch(a){c.CHb=a||"noex";}try{c.localStorage=g.localStorage;}catch(a){c.cwa=a||"noex";}},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.ne=function(){};c.mQa=function(){return!0;};c.yc={W:!0};c.Nj=1E3;c.fCb=86400;c.gCb=604800;c.Szb=1E4;c.Tzb=1E7;c.ADb=1.5;c.Gzb=.128;c.jwb=7.8125;c.zwb=128;c.Zw=145152E5;c.iMa=1E5;c.jZ="$netflix$player$order";c.XA=-1;c.kZ=1;c.HHa=["en-US"];c.Awb=8;c.jMa=65535;c.yCb=65536;c.SAb=Number.MAX_VALUE;c.LX="playready";c.iea="widevine";c.Sxb="fps";c.ZIa="clearkey";c.$w='audio/mp4; codecs="mp4a.40.5"';c.mMa='audio/mp4; codecs="mp4a.a6"';c.vl='video/mp4; codecs="avc1.640028"';c.Vzb='video/mp4; codecs="hev1.2.6.L153.B0"';c.Uzb='video/mp4; codecs="dvhe.01000000"';c.XIa="9A04F079-9840-4286-AB92-E65BE0885F95";c.Qxb="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";c.Rxb="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";c.Owb=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];c.fGa="A2394F52-5A9B-4F14-A244-6C427C648DF4";c.Pwb="4E657466-6C69-7846-7261-6D6552617465";c.Qwb="8974DBCE-7BE7-4C51-84F9-7148F9882554";c.Kwb="mp4a";c.dGa="enca";c.Hwb="ec-3";c.Fwb="avc1";c.eGa="encv";c.Jwb="hvcC";c.Iwb="hev1";c.Gwb="dvhe";c.Lwb="vp09";c.TY=0;c.aG=1;},function(g,c,a){var b,f,q,p;b=a(80);f=a(1004);q=a(240);p=a(1003);g=function(){function a(a){this.Ar=!1;a&&(this.Wf=a);}a.prototype.dg=function(d){var b;b=new a();b.source=this;b.L9=d;return b;};a.prototype.subscribe=function(a,d,b){var k;k=this.L9;a=f.itb(a,d,b);k?k.call(a,this.source):a.add(this.source||!a.nk?this.Wf(a):this.Z0(a));if(a.nk&&(a.nk=!1,a.bA))throw a.cA;return a;};a.prototype.Z0=function(a){try{return this.Wf(a);}catch(m){a.bA=!0;a.cA=m;a.error(m);}};a.prototype.forEach=function(a,d){var k;k=this;d||(b.root.jx&&b.root.jx.config&&b.root.jx.config.Promise?d=b.root.jx.config.Promise:b.root.Promise&&(d=b.root.Promise));if(!d)throw Error("no Promise impl found");return new d(function(d,b){var m;m=k.subscribe(function(d){if(m)try{a(d);}catch(x){b(x);m.unsubscribe();}else a(d);},b,d);});};a.prototype.Wf=function(a){return this.source.subscribe(a);};a.prototype[q.observable]=function(){return this;};a.prototype.vlb=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return 0===a.length?this:p.wlb(a)(this);};a.prototype.nM=function(){var a,d;d=this;a||(b.root.jx&&b.root.jx.config&&b.root.jx.config.Promise?a=b.root.jx.config.Promise:b.root.Promise&&(a=b.root.Promise));if(!a)throw Error("no Promise impl found");return new a(function(a,b){var k;d.subscribe(function(a){return k=a;},function(a){return b(a);},function(){return a(k);});});};a.create=function(d){return new a(d);};return a;}();c.Da=g;},function(g){g.T={Ma:{Nh:0,Ij:1,Yt:2,ad:3,$N:4,ZN:5,oi:6,name:"STARTING BUFFERING REBUFFERING PLAYING STOPPING STOPPED PAUSED".split(" ")},ywb:{$t:0,BCb:1,name:["STARTUP","STEADY"]},zN:{Nh:0,ACb:1,lSa:2,name:["STARTING","STABLE","UNSTABLE"]},L:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},Kh:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},Hf:{URL:0,lx:1,Ofa:2,fr:3,name:["URL","SERVER","LOCATION","NETWORK"]},Cd:{HAVE_NOTHING:0,Nt:1,lp:2,OF:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},Qe:{$ca:0,LJa:1,HBb:2,NEXT:3,gBb:4,iDb:5,Jyb:6,kMa:7,$t:8,ERROR:9,sZ:10,TOa:11,kX:12,HLa:13,GLa:14,HQa:15,GQa:16,name:"maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway".split(" ")},gyb:{fr:0,uxb:1,name:["NETWORK","DECODE"]},FQa:{Hda:"delayedSeamless",bzb:"hideLongTransition"}};},function(g,c,a){var q,p,d,k,m,t,u,y,A,K,h,G,M,R,T,l,n,U;function b(a){return(a=c.config.Utb[f(a)])?a:{};}function f(a){if(a){if(0<=a.indexOf("billboard"))return"billboard";if(0<=a.toLowerCase().indexOf("preplay"))return"preplay";if(0<=a.indexOf("embedded"))return"embedded";if(0<=a.indexOf("content-sampling"))return"content-sampling";if(0<=a.indexOf("video-merch-bob-horizontal"))return"video-merch-bob-horizontal";}}Object.defineProperty(c,"__esModule",{value:!0});q=a(9);p=a(28);d=a(4);k=a(51);m=a(14);a(19);t=a(33);u=a(29);y=a(66);A=a(18);a(7);K=a(8);h=a(26);G=a(16);M=a(213);R=a(39);T=a(58);l=a(137);n=a(35);U=a(3);c.c2a=function(a){var mb,E,C,Wa,Oc,Ra,Xa,dc,P;function b(a,d){A.Uc(a,function(a,k){G.Ob(k)?d[a]=k.call(void 0,d[a]):G.Ze(k)&&(d[a]=d[a]||{},b(k,d[a]));});}function f(a,d,b,k){for(var f=[],t=3;t<arguments.length;++t)f[t-3]=arguments[t];return function(k){G.Tb(k)&&(b=k);m.Ga(G.Ob(a));return a.apply(void 0,[].concat([d,b],da(f)));};}function g(a){a=a.toLowerCase();Wa.hasOwnProperty(a)&&(C[a]=Wa[a],Oc[a]=Wa[a]);return a;}function x(a,b,k){var f;a=a.toLowerCase();if(C.hasOwnProperty(a)){f=C[a];try{f=k?k(f):f;}catch(vd){f=void 0;}if(void 0!==f)return f;m.Ga(!1);d.log.error("Invalid configuration value. Name: "+a);}return b;}function W(a,d,b,k){return x(a,d,function(a){G.Sd(a)&&(a=A.Ud(a));if(G.Ceb(a,b,k))return a;});}function D(a,d,b,k){return x(a,d,function(a){G.Sd(a)&&(a=A.Ud(a));if(G.Cv(a,b,k))return a;});}function Q(a,d,b,k){return x(a,d,function(a){G.Sd(a)&&(a=parseFloat(a));if(G.pa(a,b,k))return a;});}function r(a,d,b){return x(a,d,function(a){if(b?b.test(a):G.Sd(a))return a;});}function N(a,d){return x(a,d,function(a){if("true"==a||!0===a)return!0;if("false"==a||!1===a)return!1;});}function ja(a,d){return x(a,d,function(a){if(G.Sd(a))return JSON.parse(K.hZ(a));if(G.Ze(a))return a;});}function ka(a,d,b,k,f,m){var t;a=a.toLowerCase();C.hasOwnProperty(a)&&(t=C[a]);if(!G.Tb(t))return d;if(G.Sd(t))if(t[0]!==b)t=k(t);else try{t=JSON.parse(K.hZ(t));}catch(Za){t=void 0;}if(void 0===t)return d;for(a=0;a<f.length;a++)if(!f[a](t))return d;return m?m(t):t;}function pa(a,d,b,k,f){return ka(a,d,"[",function(a){a=a.split("|");for(var d=a.length;d--;)a[d]=A.Ud(a[d]);return a;},[function(a){return G.isArray(a)&&0<a.length;},function(a){for(var d=a.length;d--;)if(!G.Cv(a[d],b,k))return!1;return!0;},function(a){return void 0===f||a.length>=f;}]);}function xa(a,d){return ka(a,d,"[",function(a){a=G.isArray(a)?a:a.split("|");for(var d=a.length;d--;)try{a[d]=JSON.parse(K.hZ(a[d]));}catch(vd){a=void 0;break;}return a;},[function(a){return G.isArray(a)&&0<a.length;},function(a){for(var d=a.length;d--;)if(!G.Tb(a[d])||!G.Ze(a[d]))return!1;return!0;}]);}function ma(a,d,b,k){return ka(a,d,"[",function(a){return G.isArray(a)?a:a.split("|");},[function(a){return G.isArray(a)&&0<a.length;},function(a){for(var d=a.length;d--;)if(b?!b.test(a[d]):!G.Sy(a[d]))return!1;return!0;},function(a){return void 0===k||a.length>=k;}]);}function Fa(a,d,b){return ka(a,d,"{",function(a){var d,k,f;d={};a=a.split(";");for(var b=a.length;b--;){k=a[b];f=k.indexOf(":");if(0>=f)return;d[k.substring(0,f)]=k.substring(f+1);}return d;},[function(a){return G.Ze(a)&&0<Object.keys(a).length;},function(a){if(b)for(var d in a)if(!b.test(a[d]))return!1;return!0;}],function(a){var b;b={};A.Wa(b,d);A.Wa(b,a);return b;});}function cc(a){var d;d=[];A.Uc(a,function(a,b){var k;try{k="videoapp"===a.toLowerCase()?"[object object]":JSON.stringify(b);}catch(bc){k="cantparse";}d.push(a+"="+k);});return d.join("\n");}mb=/^[0-9]+[%]?$/;E=/^[0-9]*$/;Oc={};Ra=d.V.get(k.zm);Xa=d.V.get(l.pG);(function(){var k;function b(a){a.split(",").forEach(function(a){var d;d=a.indexOf("=");0<d&&(C[a.substring(0,d).toLowerCase()]=a.substring(d+1));});}C={};A.Wa(C,t.fha);a&&a.length&&K.forEach.call(a,function(a){G.Sd(a)?b(a):G.Ze(a)&&A.Wa(C,a,{LD:!0});});Wa=A.Wa({},p.X5(),{LD:!0});k=p.knb().cadmiumconfig;k&&(d.log.info("Config cookie loaded",k),b(k));if(t.EEa||C.istestaccount)A.Wa(C,Wa),Oc=Wa;"clearkey"!=r("drmType")||C.keysystemid||(C.keysystemid=(J.WebKitMediaKeys||HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit-":HTMLVideoElement.prototype.msSetMediaKeys?"ms-":"")+"org.w3.clearkey");}());c.config={};dc={i4:f(N,g("enableDDPlus20"),!0),h4:f(N,g("enableDDPlus"),!0),NI:f(N,g("enableDDPlusAtmos"),!1),k4:f(N,g("enableHQAAC"),!1),t7a:f(N,g("enableLSSDH"),!0),p7a:f(N,g("enableHEVC"),!1),Fya:f(N,g("overrideEnableHEVC"),!1),o7a:f(N,g("enableHDR"),!1),Eya:f(N,g("overrideEnableHDR"),!1),FR:f(N,g("enableAVCHigh"),Xa.FR),OU:f(N,g("overrideEnableAVCHigh"),Xa.OU),D7a:f(N,g("enableVP9"),!1),Gya:f(N,g("overrideEnableVP9"),!1),l7a:f(N,g("enableAV1"),!1),N9:f(N,g("overrideEnableAV1"),!1),y7a:f(N,g("enablePRK"),!1),q7a:f(N,g("enableHWDRM"),!1),s7a:f(N,g("enableImageSubs"),!0),MH:f(ma,g("audioProfiles"),Xa.MH),fGb:f(N,g("disableHD"),!1),UW:f(D,"videoCapabilityDetectorType",u.Pj.Qw),N1:f(D,"audioCapabilityDetectorType",u.Lw.Qw),pF:f(ma,g("videoProfiles"),Xa.pF),YXa:f(ma,g("timedTextProfiles"),Xa.xt),xt:function(){return dc.YXa().filter(function(a){return a===y.xk.CX?dc.t7a():a===y.xk.SA?dc.s7a():!0;});},endpoint:f(N,g("endpoint"),!1),TBa:f(N,g("setMediaKeysEarly"),!1),TIb:f(N,g("nrdpPersistCookiesToIndexDB"),!1),dT:f(N,g("ignoreKeyStatusOutputNotAllowed"),!1),Aqa:f(N,g("doNotPerformLdlOnPlaybackCreate"),!1),Bqa:f(N,g("doNotPerformLdlOnPlaybackStart"),!1),bEa:f(N,g("useHdcpLevelOnCast"),!1),r7a:f(N,g("enableHdcp"),!1),En:f(N,g("prepareCadmium"),!1),FYa:f(N,g("acceptManifestOnPrepareItemParams"),!0),rza:f(ja,"ppmconfig",{maxNumberTitlesScheduled:1}),Tlb:f(N,g("playerPredictionModelV2"),!0),aM:f(N,g("supportsLimitedDurationLicense"),!1),o4:f(N,g("enableLdlPrefetch"),!1),GR:f(N,g("enableGetHeadersAndMediaPrefetch"),!1),AI:f(N,g("deleteCachedManifestOnPlayback"),!1),CI:f(N,g("deleteOtherManifestCacheOnCreate"),!1),BI:f(N,g("deleteOtherLdlCacheOnCreate"),!1),rlb:f(D,g("periodicPrepareLogsIntervalMilliseconds"),36E5),rmb:f(D,g("prepareManifestCacheMaxCount"),50),pmb:f(D,g("prepareLdlCacheMaxCount"),30),yza:f(D,g("prepareManifestExpiryMilliseconds"),12E5),qmb:f(D,g("prepareLdlExpiryMilliseconds"),78E4),omb:f(r,g("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),dvb:f(ja,"videoApp"),tw:f(ja,"storageRules"),U9a:f(N,"ftlEnabled",!0),U6:f(D,g("imageSubsResolution"),0),Qdb:f(D,g("imageSubsMaxBuffer"),Xa.rhb.ea(n.Un),0),fI:f(N,g("captureBatteryStatus"),!1),t$a:f(D,g("getBatteryApiTimeoutMilliseconds"),5E3),Td:f(r,g("keySystemId"),Xa.Td),Jva:f(ma,g("keySystemList"),void 0,void 0),Yhb:f(D,g("hdcpGlobalTimeout1"),1E4),Zhb:f(D,g("hdcpGlobalTimeout2"),1E4),xIb:f(D,g("hdcpQueryTimeout1"),1E3),yIb:f(D,g("hdcpQueryTimeout2"),1E3),$hb:f(D,g("hdcpQueryTimeout2"),100),aib:f(N,g("microsoftHwdrmRequiresHevc"),!1),Vhb:f(N,g("microsoftEnableDeviceInfo"),!1),Whb:f(N,g("microsoftEnableHardwareInfo"),!1),Xhb:f(N,g("microsoftEnableHardwareReset"),!1),wgb:f(N,"logMediaPipelineStatus",!1),lL:f(N,g("renderDomDiagnostics"),!0),jwa:function(){return-1;},ID:f(W,g("logDisplayMaxEntryCount"),Xa.ID,-1),Dgb:f(W,g("logToConsoleLevel"),-1),V_a:f(W,g("bladerunnerCmdHistorySize"),10),Up:function(){return Ra.Up;},Cub:f(N,"upgradeNetflixId",!0),b8:f(N,"logErrorIfEsnNotProvided",!0),s4:f(N,"enforceSinglePlayback",Xa.s4),KR:f(N,"enforceSingleSession",Xa.KR),H2:f(N,"closeOtherPlaybacks",!0),c_a:f(D,"asyncLoadTimeout",15E3,1),Qgb:f(D,"mainThreadMonitorPollRate",0),RIb:f(N,"nrdpAlwaysShowUIOverlay",!1),UIb:f(N,"nrdpValidateSSOTokens",!0),SIb:f(r,"nrdpConfigServiceApiPath","/cbp/cadmiumconfig-default"),oKb:f(N,"showNrdpDebugBadging",!1),WW:function(){return Ra.WW;},vv:function(){return Ra.vv;},lC:function(){return Ra.lC;},oA:function(){return Ra.oA;},jEa:f(D,g("verbosePlaybackInfoDenominator"),0),xV:f(N,"renderTimedText",!0),cmb:f(N,"preBufferTimedText",!0),R8a:f(N,"fatalOnTimedTextLoadError",!0),eDa:f(Fa,"timedTextStyleDefaults",{}),Rba:f(Fa,"timedTextStyleOverrides",{}),Qba:f(Fa,"timedTextFontFamilyMapping",Xa.Qba||{"default":"font-family:Arial,Helvetica;font-weight:bolder"}),fDa:f(D,g("timedTextTimeOverride"),0),dF:f(D,"timedTextSimpleFallbackThreshold",Xa.dF.ea(n.Un)),t3:f(r,g("customDfxpUrl")),C7a:f(N,g("enableSubtitleTrackerLogging"),!1),Rpb:f(N,g("sendSubtitleQoeLogblobOnMidplay"),!1),r2:f(pa,"cdnIdWhiteList",[]),q2:f(pa,"cdnIdBlackList",[]),W4:f(r,g("forceAudioTrack")),Nib:f(N,"muteVolumeOnPlaybackClose",!0),VIb:f(r,"nrdpVolumeControlType","VOLUME_STREAM"),Y4:f(r,g("forceTimedTextTrack")),Vwa:f(D,g("maxRetriesTimedTextDownload"),0),dDa:f(D,g("timedTextRetryInterval"),8E3),Vrb:f(r,"storageType","idb",/^(none|fs|idb|ls)$/),fwa:f(D,"lockExpiration",1E4),tgb:f(D,"lockRefresh",3E3),W0a:f(N,"captureUnhandledExceptions",!0),Pdb:f(N,"ignoreUnhandledExceptionDuringPlayback",!0),Ztb:f(N,"unhandledExceptionsArePlaybackErrors",!1),GDa:f(r,"unhandledExceptionSource",""),zmb:f(N,"preserveLastFrame",!1),lib:f(D,"minBufferingTimeInMilliseconds",4E3),Lmb:f(D,"progressBackwardsGraceTimeMilliseconds",4E3),Mmb:f(D,"progressBackwardsMinPercent",10),X_a:f(r,g("bookmarkIgnoreBeginning"),"0",mb),Y_a:f(r,g("bookmarkIgnoreEnd"),"5%",mb),Z_a:f(r,g("bookmarkIgnoreEndForBranching"),"60000",mb),PD:f(D,"maxParallelConnections",3),Y$:f(N,"reportThroughputInLogblobs",!0),WD:f(D,"minAudioMediaRequestDuration",16E3),jib:f(D,"minAudioMediaRequestDurationBranching",0),$D:f(D,"minVideoMediaRequestDuration",4E3),uib:f(D,"minVideoMediaRequestDurationAL1",0),vib:f(D,"minVideoMediaRequestDurationBranching",0),hU:f(D,"minAudioMediaRequestSizeBytes",0),pU:f(D,"minVideoMediaRequestSizeBytes",0),Y6a:f(N,"droppedFrameRateFilterEnabled",!1),Z6a:f(D,"droppedFrameRateFilterMaxObservation",60,10,1E3),a7a:f(function(a,d,b,k,f,m){return ka(a,d,"[",function(a){a=a.split(";");for(var d=a.length;d--;){a[d]=a[d].split("|");for(var b=a[d].length;b--;)a[d][b]=A.Ud(a[d][b]);}return a;},[function(a){return G.isArray(a)&&0<a.length;},function(a){for(var d=a.length;d--&&void 0!==a;){if(!G.isArray(a[d]))return!1;for(var f=a[d].length;f--;)if(!G.Cv(a[d][f],b,k))return!1;}return!0;},function(a){if(void 0!==f)for(var d=a.length;d--;)if(f!==a[d].length)return!1;return!0;},function(a){return void 0===m||a.length>=m;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),iGb:f(N,"droppedFrameRateFilterWithoutRebufferEnabled",!0),$6a:f(D,"droppedFrameRateFilterMinHeight",384),b7a:f(pa,"droppedFramesPercentilesList",[]),bib:f(N,"microsoftScreenSizeFilterEnabled",!1),Ttb:f(N,"uiLabelFilterEnabled",!0),Stb:f(ja,"uiLabelFilter",{}),M5a:f(D,g("defaultVolume"),100,0,100),vqa:f(N,"disableVideoRightClickMenu",!1),qib:f(D,"minDecoderBufferMilliseconds",1E3,0,q.Zw),M9:f(D,"optimalDecoderBufferMilliseconds",5E3,0,q.Zw),xya:f(D,"optimalDecoderBufferMillisecondsBranching",3E3,0,q.Zw),qU:f(D,"minimumTimeBeforeBranchDecision",3E3,0,q.Zw),TT:f(D,"maxDecoderBufferMilliseconds",Xa.TT.ea(U.ma),0,q.Zw),aqa:f(D,"decoderTimeoutMilliseconds",1E4,1),v6a:f(N,"disgardMediaOnAppend",!1),DZa:f(N,"appendMediaBeforeInit",!1),blb:f(D,"pauseTimeoutLimitMilliseconds",18E5),X6:f(D,"inactivityMonitorInterval",3E4,0),DYa:f(pa,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),SC:f(N,"enableTrickPlay",!1),oZa:f(pa,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),Jtb:f(D,"trickPlayHighResolutionBitrateThreshold",1E3),Ktb:f(D,"trickPlayHighResolutionThresholdMilliseconds",1E4),Ntb:f(Q,"trickplayBufferFactor",.5),Itb:f(D,"trickPlayDownloadRetryCount",1),z8:f(r,"marginPredictor","simple",/^(simple|scale|iqr|percentile)$/),jCa:f(D,"simplePercentilePredictorPercentile",25),hCa:f(r,"simplePercentilePredictorCalcToUse","simple",/^(simple|tdigest)$/),iCa:f(r,"simplePercentilePredictorMethod","simple",/^(simple|minimum)$/),yfa:f(ja,"IQRBandwidthFactorConfig",{iur:!0,minr:8E3,maxr:2E4,rlaf:60,flb:.1,fup:.95,fmind:.2,fmaxd:1,fmintp:.25,fmindp:.75}),p9:f(r,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),Wea:f(ja,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),Nwa:f(W,"maxIQRSamples",Infinity),txa:f(W,"minIQRSamples",5),fEa:f(N,"useResourceTimingAPI",!1),Ndb:f(N,"ignoreFirstByte",!0),Phb:f(N,"mediaRequestAsyncLoadStart",!0),Qub:f(N,"useXHROnLoadStart",!1),D4:f(pa,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),SQ:f(D,"connectTimeoutMilliseconds",8E3,500),v9:f(D,"noProgressTimeoutMilliseconds",8E3,500),Mub:f(N,"useOnLineApi",!1),cDa:f(D,"timedTextDownloadRetryCountBeforeCdnSwitch",3),Kxa:f(D,"netflixRequestExpiryTimeout",0),uvb:f(N,"webkitDecodedFrameCountIncorrectlyReported",!1),zpb:f(D,"seekBackOnAudioTrackChangeMilliseconds",8E3),$kb:f(N,"pausePlaybackOnAudioSwitch",!0),zba:f(ma,g("supportedAudioTrackTypes"),[],void 0,1),Rua:f(D,"initialLogFlushTimeout",5E3),jza:f(r,"playdataPersistKey",Ra.Up?"unsentplaydatatest":"unsentplaydata"),Jaa:f(N,"sendPersistedPlaydata",!0),Qlb:f(D,"playdataPersistIntervalMilliseconds",4E3),rJb:f(D,"playdataSendDelayMilliseconds",1E4),SV:f(N,"sendPlaydataBackupOnInit",!0),zgb:f(ma,"logPerformanceTiming","navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading".split(" ")),dib:f(N,"midplayEnabled",!0),oxa:f(D,"midplayIntervalMilliseconds",3E5),eib:f(pa,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),II:f(D,"downloadReportDenominator",0),G6a:f(D,"downloadReportInterval",3E5),iwa:f(D,"logConfigApplyDenominator",0),boa:f(Fa,g("bookmarkByMovieId"),{}),hJ:f(N,g("forceLimitedDurationLicense"),!1),Kv:f(D,g("licenseRenewalRequestDelay"),0),Y9:f(D,g("persistedReleaseDelay"),1E4),dIb:f(N,g("limitedDurationFlagOverride"),void 0),ji:f(N,g("secureStopEnabled"),!1),jKb:f(N,g("secureStopFromPersistedKeySession"),!1),sBa:f(D,"secureStopKeyMessageTimeoutMilliseconds",2E3,1),waa:f(D,"secureStopKeyAddedTimeoutMilliseconds",1E3,1),xpb:f(D,g("secureStopPersistedKeyMessageTimeoutMilliseconds"),2500,1),ypb:f(D,g("secureStopPersistedKeySessionRetries"),17,1),wpb:f(D,"secureStopPersistedKeyAddedTimeoutUnmatchedSession",1E3,1),mF:f(N,g("useCdmId"),!1),cBa:f(D,"safariPlayPauseWorkaroundDelay",100),Bvb:f(D,"workaroundValueForSeekIssue",1200),Avb:f(N,"workaroundSaio",!0),o2:f(N,g("callEndOfStream"),Xa.o2),plb:f(N,"performRewindCheck",!0),T8a:f(N,"fatalOnUnexpectedSeeking",!0),S8a:f(N,"fatalOnUnexpectedSeeked",!0),Kqb:f(N,g("setVideoElementSize")),E1a:f(N,g("clearVideoSrc"),!0),lqa:f(D,g("delayPlayPause"),0),G_a:f(N,g("avoidSBRemove"),!1),hp:f(N,g("useTypescriptEme"),!1),LI:f(r,g("drmPersistKey"),"unsentDrmData"),C$:f(N,g("promiseBasedEme"),!1),V0a:f(N,"captureKeyStatusData",!1),uD:f(N,"includeCapabilitiesInRequestMediaKeySystemAccess",!0),tjb:f(N,g("nudgeSourceBuffer"),!1),xaa:f(W,g("seekDelta"),1),UK:f(N,g("preciseSeeking"),!1),hmb:f(N,g("preciseSeekingOnTwoCoreDevice"),!1),kqa:f(Fa,g("delayErrorHandling")),rDa:f(N,"trackingLogEnabled",!1),sDa:f(function(a,d){var b;b=Fa(a,d,void 0);b&&Object.keys(b).forEach(function(a){var d;d=b[a];"true"===d?b[a]=!0:"false"===d&&(b[a]=!1);});return b;},"trackingLogEvents",{sso:!1,startup:!1,playback:!1,regpair:!1}),Yba:f(r,"trackingLogPath","/customerevents/track/debug"),ptb:f(pa,"trackingLogStallKeyPoints",[1E4,3E4,6E4,12E4]),Rg:f(r,"esn",""),zra:f(r,"fesn",""),j4:f(N,g("enableEmeVerboseLogging"),!1),u7a:f(N,"enableLastChunkLogging",!1),FH:f(r,"appId","",E),sessionId:f(r,"sessionId","",E),t2:f(r,"cdnProxyUrl"),Oub:f(N,"usePlayReadyHeaderObject",!1),Zra:f(D,"forceXhrErrorResponseCode",void 0),yh:{Dxa:f(r,"mslApiPath","/msl/"),Pqa:f(r,g("edgePath"),"/cbp/cadmium-29"),EJb:f(r,"proxyPath",""),kF:f(r,"uiVersion"),DW:f(r,"uiPlatform"),cFb:function(){return"0";},pE:f(ma,"preferredLanguages",q.HHa,/^[a-zA-Z-]{2,5}$/,1),D9a:f(r,g("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),usb:f(N,"supportPreviewContentPin",!0),wsb:f(N,"supportWatermarking",!0),grb:f(N,"showAllSubDubTracks",!1),K8a:f(N,g("failOnGuidMismatch"),!1)},lV:{enabled:f(N,"qcEnabled",!1),Bn:f(r,"qcPackageId","")},QH:f(r,"authenticationType",Ra.Up?Xa.s_a:Xa.QH),Rna:f(Fa,"authenticationKeyNames",A.Wa({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),Esb:f(r,"systemKeyWrapFormat"),Vdb:f(N,"includeNetflixIdUserAuthData",!0),drb:f(N,"shouldSendUserAuthData",!0),Laa:f(N,"sendUserAuthIfRequired",Xa.Laa),Zqb:f(N,"shouldClearUserData",!1),Jib:f(N,"mslDeleteStore",!1),Kib:f(N,"mslPersistStore",!0),z2a:f(N,"correctNetworkForShortTitles",!0),amb:f(N,"postplayHighInitBitrate",!1),w9a:f(N,"flushHeaderCacheOnAudioTrackChange",!0),Q8a:f(N,"fatalOnAseStreamingFailure",!0),Bsb:f(N,"supportsUnequalizedDownloadables",!0),Vpa:f(D,g("debugAseDenominator"),100),mQ:f(D,"aseAudioBufferSizeBytes",Xa.mQ.ea(n.Un)),pQ:f(D,"aseVideoBufferSizeBytes",Xa.pQ.ea(n.Un)),Ss:f(D,"minInitVideoBitrate",560),b9:f(D,"minHCInitVideoBitrate",560),Rv:f(D,"maxInitVideoBitrate",Infinity),uK:f(D,"minInitAudioBitrate",0),tK:f(D,"minHCInitAudioBitrate",0),iK:f(D,"maxInitAudioBitrate",65535),gU:f(D,"minAcceptableVideoBitrate",235),nU:f(D,"minRequiredBuffer",3E4),ai:f(D,"minPrebufSize",7800),P$:f(Q,"rebufferingFactor",1),Io:f(D,"maxBufferingTime",2600),rca:f(N,"useMaxPrebufSize",!0),az:f(D,"maxPrebufSize",45E3),K8:f(D,"maxRebufSize",Infinity),iT:f(xa,"initialBitrateSelectionCurve",null),Oua:f(D,"initSelectionLowerBound",560),Pua:f(D,"initSelectionUpperBound",1050),wW:f(D,"throughputPercentForAudio",15),T1:f(D,"bandwidthMargin",10),U1:f(N,"bandwidthMarginContinuous",!1),V1:f(xa,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),S2:f(D,"conservBandwidthMargin",20),Dba:f(N,"switchConfigBasedOnInSessionTput",!1),kI:f(D,"conservBandwidthMarginTputThreshold",0),T2:f(xa,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),MCa:f(N,"switchAlgoBasedOnHistIQR",!1),zw:f(r,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),J8:f(W,"maxPlayerStateToSwitchConfig",-1),l8:f(r,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),LY:f(Q,"IQRThreshold",.5),M6:f(r,"histIQRCalcToUse","simple"),Rs:f(D,"maxTotalBufferLevelPerSession",0),uua:f(D,"highWatermarkLevel",3E4),mDa:f(D,"toStableThreshold",3E4),AW:f(D,"toUnstableThreshold",Xa.AW.ea(U.ma)),kba:f(N,"skipBitrateInUpswitch",!0),yca:f(D,"watermarkLevelForSkipStart",8E3),F6:f(D,"highStreamRetentionWindow",9E4),m8:f(D,"lowStreamTransitionWindow",51E4),H6:f(D,"highStreamRetentionWindowUp",3E5),o8:f(D,"lowStreamTransitionWindowUp",3E5),G6:f(D,"highStreamRetentionWindowDown",6E5),n8:f(D,"lowStreamTransitionWindowDown",0),E6:f(Q,"highStreamInfeasibleBitrateFactor",.5),Ov:f(D,"lowestBufForUpswitch",15E3),NT:f(D,"lockPeriodAfterDownswitch",15E3),q8:f(D,"lowWatermarkLevel",25E3),Pv:f(D,"lowestWaterMarkLevel",2E4),s8:f(N,"lowestWaterMarkLevelBufferRelaxed",!1),V8:f(Q,"mediaRate",1),M8:f(D,"maxTrailingBufferLen",1E4),L1:f(D,"audioBufferTargetAvailableSize",262144),wca:f(D,"videoBufferTargetAvailableSize",1048576),Xwa:f(D,"maxVideoTrailingBufferSize",8388608),Jwa:f(D,"maxAudioTrailingBufferSize",393216),TR:f(Q,"fastUpswitchFactor",3),G4:f(Q,"fastDownswitchFactor",1),WT:f(D,"maxMediaBufferAllowed",24E4),nq:f(D,"maxVideoBufferAllowedInBytes",0),hba:f(N,"simulatePartialBlocks",!0),kCa:f(N,"simulateBufferFull",!0),U2:f(N,"considerConnectTime",!1),R2:f(Q,"connectTimeMultiplier",1),swa:f(D,"lowGradeModeEnterThreshold",12E4),twa:f(D,"lowGradeModeExitThreshold",9E4),Kwa:f(D,"maxDomainFailureWaitDuration",3E4),Hwa:f(D,"maxAttemptsOnFailure",18),ora:f(N,"exhaustAllLocationsForFailure",!0),Qwa:f(D,"maxNetworkErrorsDuringBuffering",20),E8:f(D,"maxBufferingTimeAllowedWithNetworkError",6E4),F4:f(D,"fastDomainSelectionBwThreshold",2E3),Mba:f(D,"throughputProbingEnterThreshold",4E4),YCa:f(D,"throughputProbingExitThreshold",34E3),ewa:f(D,"locationProbingTimeout",1E4),Bra:f(D,"finalLocationSelectionBwThreshold",1E4),WCa:f(Q,"throughputHighConfidenceLevel",.75),XCa:f(Q,"throughputLowConfidenceLevel",.4),RC:f(N,"enablePerfBasedLocationSwitch",!1),Ro:f(N,"probeServerWhenError",!0),x$:f(D,"probeRequestTimeoutMilliseconds",8E3),Wr:f(N,"allowSwitchback",!0),Az:f(D,"probeDetailDenominator",100),UT:f(D,"maxDelayToReportFailure",300),Y7:f(D,"locationStatisticsUpdateInterval",6E4),spa:f(N,"countGapInBuffer",!1),$B:f(N,"allowReissueMediaRequestAfterAbort",!1),w1:f(N,"allowCallToStreamSelector",!0),b2:f(D,"bufferThresholdForAbort",1E4),b$:f(D,"pipelineScheduleTimeoutMs",2),Sv:f(D,"maxPartialBuffersAtBufferingStart",2),c9:f(D,"minPendingBufferLen",6E3),Tv:f(D,"maxPendingBufferLen",12E3),vhb:f(D,"maxPendingBufferLenAL1",3E4),L8:f(D,"maxStreamingSkew",4E3),I8:f(D,"maxPendingBufferPercentage",10),bz:f(D,"maxRequestsInBuffer",60),Swa:f(D,"maxRequestsInBufferAL1",240),Twa:f(D,"maxRequestsInBufferBranching",120),WS:f(D,"headerRequestSize",4096),iU:f(D,"minBufferLenForHeaderDownloading",1E4),CV:f(D,"reserveForSkipbackBufferMs",1E4),E9:f(D,"numExtraFragmentsAllowed",2),Cn:f(N,"pipelineEnabled",!1),nCa:f(D,"socketReceiveBufferSize",0),tQ:f(D,"audioSocketReceiveBufferSize",32768),rF:f(D,"videoSocketReceiveBufferSize",65536),C6:f(D,"headersSocketReceiveBufferSize",32768),HW:f(D,"updatePtsIntervalMs",1E3),d2:f(D,"bufferTraceDenominator",100),hC:f(D,"bufferLevelNotifyIntervalMs",2E3),HH:f(D,"aseReportDenominator",0),I1:f(D,"aseReportIntervalMs",3E5),Vqa:f(N,"enableAbortTesting",!1),Jma:f(D,"abortRequestFrequency",8),wba:f(D,"streamingStatusIntervalMs",2E3),nE:f(D,"prebufferTimeLimit",24E4),jU:f(D,"minBufferLevelForTrackSwitch",2E3),V9:f(D,"penaltyFactorForLongConnectTime",2),i8:f(D,"longConnectTimeThreshold",200),s1:f(D,"additionalBufferingLongConnectTime",2E3),t1:f(D,"additionalBufferingPerFailure",8E3),iL:f(D,"rebufferCheckDuration",6E4),Yqa:f(N,"enableLookaheadHints",!1),pwa:f(D,"lookaheadFragments",2),Sp:f(N,"enableOCSideChannel",!0),QN:f(ja,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),NDa:f(N,"updateDrmRequestOnNetworkFailure",!1),jqa:f(N,"deferAseScheduling",!1),VT:f(D,"maxDiffAudioVideoEndPtsMs",16E3),nF:f(N,"useHeaderCache",!0),hR:f(D,"defaultHeaderCacheSize",4),I3:f(D,"defaultHeaderCacheDataPrefetchMs",8E3),z6:f(D,"headerCacheMaxPendingData",6),q9:f(N,"neverWipeHeaderCache",!0),A6:f(D,"headerCachePriorityLimit",5),SI:f(N,"enableUsingHeaderCount",!1),rua:f(N,"headerCacheTruncateHeaderAfterParsing",!0),v9a:f(N,g("flushHeaderCacheBeforePlayback"),!1),o9:f(D,"networkFailureResetWaitMs",2E3),n9:f(D,"networkFailureAbandonMs",6E4),$T:f(D,"maxThrottledNetworkFailures",3),vW:f(D,"throttledNetworkFailureThresholdMs",200),Rr:f(N,"abortUnsentBlocks",!1),N8:f(D,"maxUnsentBlocks",2),h1:f(D,"abortStreamSelectionPeriod",2E3),p8:f(W,"lowThroughputThreshold",400),x4:f(N,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),Axa:f(N,"mp4ParsingInNative",!1),oCa:f(N,"sourceBufferInOrderAppend",!0),Gn:f(N,"requireAudioStreamToEncompassVideo",!0),jna:f(N,"allowAudioToStreamPastVideo",!0),kf:f(N,"enableManagerDebugTraces",!1),Bwa:f(D,"managerDebugMessageInterval",1E3),Awa:f(D,"managerDebugMessageCount",20),Zxa:f(N,"notifyManifestCacheEom",!1),xQ:f(D,"bufferThresholdToSwitchToSingleConnMs",18E4),c2:f(D,"bufferThresholdToSwitchToParallelConnMs",12E4),WU:f(D,"periodicHistoryPersistMs",3E5),LV:f(D,"saveVideoBitrateMs",18E4),vna:f(N,"appendMediaRequestOnComplete",!0),XW:f(N,"waitForDrmToAppendMedia",!1),V4:f(N,g("forceAppendHeadersAfterDrm"),!1),hL:f(N,g("reappendRequestsOnSkip"),!0),Qib:f(D,"netIntrStoreWindow",36E3),sib:f(D,"minNetIntrDuration",8E3),N8a:f(D,"fastHistoricBandwidthExpirationTime",10368E3),J_a:f(D,"bandwidthExpirationTime",5184E3),L8a:f(D,"failureExpirationTime",86400),vdb:f(D,"historyTimeOfDayGranularity",4),D8a:f(N,"expandDownloadTime",!1),Bib:f(D,"minimumMeasurementTime",500),Aib:f(D,"minimumMeasurementBytes",131072),Qsb:f(D,"throughputMeasurementTimeout",2E3),eeb:f(D,"initThroughputMeasureDataSize",262144),Rsb:f(r,"throughputPredictor","ewma"),Psb:f(D,"throughputMeasureWindow",5E3),Tsb:f(D,"throughputWarmupTime",5E3),Osb:f(D,"throughputIQRMeasureWindow",5E3),oLa:f(D,"IQRBucketizerWindow",15E3),d2a:f(D,"connectTimeHalflife",10),Pob:f(D,"responseTimeHalflife",10),udb:f(D,"historicBandwidthUpdateInterval",2E3),zib:f(D,"minimumBufferToStopProbing",1E4),uaa:f(r,"secondThroughputEstimator","none"),pBa:f(W,"secondThroughputMeasureWindowInMs",Infinity),n7a:f(ma,"enableFilters","throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy".split(" ")),a9a:f(ja,"filterDefinitionOverrides",{}),I5a:f(r,"defaultFilter","throughput-ewma"),spb:f(r,"secondaryFilter","none"),J5a:f(ja,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),yK:f(N,"needMinimumNetworkConfidence",!0),X1:f(N,"biasTowardHistoricalThroughput",!0),fQ:f(N,"addHeaderDataToNetworkMonitor",!1),qba:f(N,"startMonitorOnLoadStart",!1),X$:f(N,"reportFailedRequestsToNetworkMonitor",!1),G8:f(W,"maxFastPlayBufferInMs",Infinity),F8:f(W,"maxFastPlayBitThreshold",Infinity),B1:f(N,"appendFirstHeaderOnComplete",!0),PZa:f(r,"ase_stream_selector","optimized"),f7:f(r,"initBitrateSelectorAlgorithm","default"),f2:f(r,"bufferingSelectorAlgorithm","default"),y3:f(r,"ase_ls_failure_simulation",""),w3:f(N,"ase_dump_fragments",!1),x3:f(D,"ase_location_history",0),z3:f(D,"ase_throughput",0),Xpa:f(N,"ase_simulate_verbose",!1),Ylb:f(D,"pollingPeriod",150),bwa:f(D,"loadTimeMs",18E4),Fwa:f(D,"marginTimeMs",1E4),Fw:f(N,"useMediaCache",!1),Yu:f(D,"diskCacheSizeLimit",52428800),cU:f(D,"mediaCachePrefetchMs",8E3),R8:f(Fa,"mediaCachePartitionConfig",{partitions:[{key:"billboard",capacity:31457280,owner:"browser-player@netflix.com",evictionPolicy:"FIFO"}]}),lJ:f(N,"generateHardwareDeviceId",!1),w5:f(N,"getDeviceIdFromBindDevice",!1),p1:f(N,"addFailedLogBlobsToQueue",!0),brb:f(N,"shouldSaveLogs",!1),e8:f(ma,"logTypesToSave","startup startplay endplay debug subtitleqoe playbackaborted".split(" ")),Utb:{"content-sampling":{Io:f(D,"contentSamplingMaxBufferingTime",3E3),HE:f(r,"contentSamplingSelectStartingVMAFMethod","fallback"),xH:f(N,"contentSamplingActivateSelectStartingVMAF",!0),ZD:f(D,"contentSamplingMinStartingVideoVMAF",80)},billboard:{Ss:f(D,"billboardMinInitVideoBitrate",1050),Rv:f(D,"billboardMaxInitVideoBitrate",null),ai:f(D,"billboardMinPrebufSize",null),az:f(D,"billboardMaxPrebufSize",null),Io:f(D,"billboardMaxBufferingTime",null),Sv:f(D,"billboardMaxPartialBuffersAtBufferingStart",null),Pv:f(D,"billboardLowestWaterMarkLevel",6E3),Ov:f(D,"billboardLowestBufForUpswitch",25E3),zw:f(r,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{Ss:f(D,"preplayMinInitVideoBitrate",1050),Rv:f(D,"preplayMaxInitVideoBitrate",null),ai:f(D,"preplayMinPrebufSize",null),az:f(D,"preplayMaxPrebufSize",null),Io:f(D,"preplayMaxBufferingTime",null),Sv:f(D,"preplayMaxPartialBuffersAtBufferingStart",null),Pv:f(D,"preplayLowestWaterMarkLevel",6E3),Ov:f(D,"preplayLowestBufForUpswitch",25E3)},embedded:{Ss:f(D,"embeddedMinInitVideoBitrate",1050),Rv:f(D,"embeddedMaxInitVideoBitrate",null),ai:f(D,"embeddedMinPrebufSize",null),az:f(D,"embeddedMaxPrebufSize",null),Io:f(D,"embeddedMaxBufferingTime",null),Sv:f(D,"embeddedMaxPartialBuffersAtBufferingStart",null),Pv:f(D,"embeddedLowestWaterMarkLevel",6E3),Ov:f(D,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{Ss:f(D,"videoMerchBobHorizontalMinInitVideoBitrate",null),Rv:f(D,"videoMerchBobHorizontalMaxInitVideoBitrate",null),ai:f(D,"videoMerchBobHorizontalMinPrebufSize",null),az:f(D,"videoMerchBobHorizontalMaxPrebufSize",null),Io:f(D,"videoMerchBobHorizontalMaxBufferingTime",null),Sv:f(D,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),Pv:f(D,"videoMerchBobHorizontalLowestWaterMarkLevel",null),Ov:f(D,"videoMerchBobHorizontalLowestBufForUpswitch",null)}},E7a:f(N,"enableVerbosePlaydelayLogging",!1),B7a:f(N,"enableSeamless",!1),L6:f(D,"hindsightDenominator",0),K6:f(D,"hindsightDebugDenominator",0),YS:f(ja,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),RI:f(N,"enableSessionHistoryReport",!1),g4:f(D,"earlyStageEstimatePeriod",1E4),Ova:f(D,"lateStageEstimatePeriod",3E4),XT:f(D,"maxNumSessionHistoryStored",30),oU:f(D,"minSessionHistoryDuration",3E4),QI:f(N,"enableInitThroughputEstimate",!1),E1:f(N,"applyInitThroughputEstimate",!1),Qua:f(ja,"initThroughputPredictor",{bwThreshold:4E3,lrWeights:{}}),lq:f(D,"maxActiveRequestsPerSession",3),ST:f(D,"maxActiveRequestsSABCell100",2),YT:f(D,"maxPendingBufferLenSABCell100",500),U7:f(N,"limitAudioDiscountByMaxAudioBitrate",!0),Lp:f(ja,"browserInfo",{}),q0a:f(D,g("busyGracePeriod"),199),Spb:f(N,g("sendTransitionLogblob"),!0),jn:f(N,g("editAudioFragments"),!1),ys:f(N,g("editVideoFragments"),!1),g7a:f(N,g("editAudioFragmentsBranching"),!0),Qqa:f(N,g("editVideoFragmentsBranching"),!0),CR:f(N,g("earlyAppendSingleChildBranch"),!0),Wdb:f(N,g("includeSegmentInfoOnLogblobs"),!0),G8a:f(N,"exposeTestData",!1),A3:f(N,"declareBufferingCompleteAtSegmentEnd",!0),Sx:f(N,"applyProfileTimestampOffset",!1),io:f(N,"applyProfileStreamingOffset",!1),xZa:f(N,g("allowSmallSeekDelta"),!1),qrb:f(D,g("smallSeekDeltaThresholdMilliseconds"),M.KZ),m7a:f(N,"enableCDMAttestedDescriptors",!1),baa:f(N,"requireDownloadDataAtBuffering",!1),caa:f(N,"requireSetupConnectionDuringBuffering",!1),Q$:f(N,"recordFirstFragmentOnSubBranchCreate",!1),d0a:f(N,"branchingAudioTrackFrameDropSmallSeekFix",!0),Yra:f(N,"forceL3WidevineCdm",!1),Lub:f(N,"useMobileVMAF",!1),f6a:f(r,"desiredVMAFTypeMobile","phone_plus_exp"),g6a:f(r,"desiredVMAFTypeNonMobile","plus_lts"),xH:f(N,"activateSelectStartingVMAF",!1),ZD:f(D,"minStartingVideoVMAF",1)};P=!0;c.hpa=function(a){var k,f;if(0<c.config.iwa&&0===h.Ifa%c.config.iwa)try{k=d.V.get(R.Mj);f=d.V.get(T.Yn).Pl("config","info",{params:a});k.vc(f);}catch(rc){d.log.error("Failed to log config$apply",rc);}J._cad_global.config=c.config;J._cad_global.platformExtraInfo=t.$n;m.Ga(a);a&&(C=A.Wa({},a,{LD:!0}),A.Wa(C,Oc,{LD:!0}),b(dc,c.config),C.istestaccount&&d.log.trace("Config applied for",cc(P?C:a)),P=!1);};c.hpa(C);};c.qFb=function(a,d){return G.Sd(a)&&"%"==a[a.length-1]?K.Lh(parseFloat(a)*d/100):a|0;};c.b2a=function(a){return a?(a=A.Wa({},c.config),A.Wa(a,{M9:c.config.xya},{uq:!0})):c.config;};c.rFb=function(a){var d;d=A.Wa({},c.config);return A.Wa(d,b(a),{uq:!0});};c.jpa=function(d){d=b(d);return A.Wa({},a(150)(d),{uq:!0});};c.ipa=function(d,b,k){k=!!k&&(0<=k.indexOf("h264hpl")||0<=k.indexOf("vp9"));d={WD:d?c.config.jib:c.config.WD,$D:d?c.config.vib:k?c.config.uib:c.config.$D,$B:d?!1:c.config.$B,bz:d&&k?Math.max(c.config.Twa,c.config.Swa):d?c.config.Twa:k?c.config.Swa:c.config.bz,Tv:k?c.config.vhb:c.config.Tv,jn:c.config.jn||d&&c.config.g7a,ys:c.config.ys||d&&c.config.Qqa,CR:!b};return A.Wa({},a(150)(d),{uq:!0});};c.tFb=b;c.sFb=f;c.pFb="";},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);return f;}(Error);c.assert=function(a,b){if(!a)throw new f(b||"Assertion failed");};},function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});g=a(4);a=a(86);c.CFa=function(){c.Ga();};c.RFb=!0;c.Te=g.V.get(a.Gt);c.Ga=c.Te.assert.bind(c.Te);c.MFb=c.Te.SZa.bind(c.Te);c.NFb=c.Te.TZa.bind(c.Te);c.$4a=c.Te.YZa.bind(c.Te);c.yI=c.Te.a_a.bind(c.Te);c.QFb=c.Te.ZZa.bind(c.Te);c.OFb=c.Te.WZa.bind(c.Te);c.dR=c.Te.VZa.bind(c.Te);c.xI=c.Te.$Za.bind(c.Te);c.PFb=c.Te.XZa.bind(c.Te);c.LFb=c.Te.QZa.bind(c.Te);c.Upa=c.Te.UZa.bind(c.Te);c.SFb=c.Te.peb.bind(c.Te);},function(g,c){function a(){}function b(){}function f(){}function q(){}function p(){}Object.defineProperty(c,"__esModule",{value:!0});c.qb=p;p.pgb="loadedtracks";p.ogb="loadedmetadata";p.loaded="loaded";p.error="error";p.closed="closed";p.en="currenttimechanged";p.joa="bufferedtimechanged";p.c7a="durationchanged";p.jvb="videosizechanged";p.clb="pausedchanged";p.Xlb="playingchanged";p.j8a="endedchanged";p.j2="busychanged";p.Ona="audiotracklistchanged";p.OH="audiotrackchanged";p.hA="timedtexttracklistchanged";p.eF="timedtexttrackchanged";p.rM="trickplayframeschanged";p.Oib="mutedchanged";p.nvb="volumechanged";p.hrb="showsubtitle";p.job="removesubtitle";p.svb="watermark";p.v7="isReadyToTransition";p.tD="inactivated";p.Gpb="segmentmaploaded";p.Hpb="segmentpresenting";p.v_a="autoplaywasallowed";p.w_a="autoplaywasblocked";c.Efa=q;q.HBa="serverTimeChanged";c.sG=f;f.zL="playgraphsegmenttransition";(function(a){a.dC="aseException";a.eC="aseReport";a.t_a="authorized";a.Q1="autoplayWasAllowed";a.jj="autoplayWasBlocked";a.N_a="bandwidthMeterAggregateUpdate";a.ko="bufferUnderrun";a.closed="closed";a.Ue="closing";a.en="currentTimeChanged";a.Zu="downloadComplete";a.tD="inactivated";a.Qva="licenseAdded";a.cK="licensed";a.iq="locationSelected";a.OD="manifestClosing";a.bl="manifestPresenting";a.oIb="manifestSelected";a.bU="mediaBufferChanged";a.m9="needLicense";a.AU="nextSegmentChosen";a.wj="playbackStart";a.Fn="repositioned";a.Kz="repositioning";a.dBa="safePlayRequested";a.Apb="segmentAborted";a.yL="segmentPresenting";a.kKb="segmentComplete";a.Cpb="segmentLastPts";a.Fpb="segmentStarting";a.ME="serverSwitch";a.eCa="shouldUpdateVideoDiagInfo";a.Ri="skipped";a.YE="subtitleError";a.Kba="throttledMediaTimeChanged";a.cF="timedTextRebuffer";a.hA="timedTextTrackListChanged";a.rM="trickPlayFramesChanged";a.tM="tryRecoverFromStall";a.Qn="updateNextSegmentWeights";a.Vub="userInitiatedPause";a.hEa="userInitiatedResume";}(c.S||(c.S={})));c.jb=b;b.UA=0;b.LOADING=1;b.$c=2;b.CLOSING=3;b.CLOSED=4;c.qf=a;a.$c=1;a.Ij=2;a.zia=3;(function(a){a[a.Tf=1]="WAITING";a[a.ad=2]="PLAYING";a[a.oi=3]="PAUSED";a[a.ar=4]="ENDED";}(c.hb||(c.hb={})));(function(a){a[a.VF=0]="INITIAL";a[a.kx=1]="SEEK";a[a.bO=2]="TRACK_CHANGED";a[a.bB=3]="SEGMENT_CHANGED";}(c.ng||(c.ng={})));},function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});g=a(139);c.is=g.Rt;c.Tb=function(a){return c.is.Fd(a);};c.Ze=function(a){return c.is.Qx(a);};c.Zeb=function(a){return c.is.g1(a);};c.isArray=function(a){return c.is.Xr(a);};c.xva=function(a){return c.is.nna(a);};c.pa=function(a,f,q){return c.is.Xf(a,f,q);};c.Ceb=function(a,f,q){return c.is.x1(a,f,q);};c.Cv=function(a,f,q){return c.is.Hp(a,f,q);};c.ova=function(a){return c.is.wH(a);};c.KHb=function(a){return c.is.yYa(a);};c.NHb=function(a){return c.is.zYa(a);};c.yva=function(a){return c.is.ona(a);};c.Sd=function(a){return c.is.Ci(a);};c.Sy=function(a){return c.is.Ik(a);};c.ava=function(a){return c.is.uH(a);};c.Ob=function(a){return c.is.vH(a);};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.ld="ConfigSymbol";},function(g,c,a){var b,f,q,p;Object.defineProperty(c,"__esModule",{value:!0});b=a(14);f=a(19);q=a(8);p=a(16);c.Uc=function(a,b){for(var d in a)a.hasOwnProperty(d)&&b(d,a[d]);};c.Wa=c.Wa||function(a,b,m){var d,k,y;if(b)if(m){d=m.LD;k=m.prefix;y=m.uq;c.Uc(b,function(b,m){if(!y||f.Tb(m))a[(k||"")+(d?b.toLowerCase():b)]=m;});}else c.Uc(b,function(d,b){a[d]=b;});return a;};c.O0a=function(a,b,f,t){var d;if(a){d=a[b];p.Ob(d)&&(f=d.apply(a,q.slice.call(arguments,3)));}};c.LZa=function(){for(var a=["info","warn","trace","error"],b={},f=a.length;f--;)b[a[f]]=!0;return b;};c.Ud=c.Ud||function(a){return parseInt(a,10);};c.fJb=function(a){return/^true$/i.test(a);};c.Tza=function(a,b){return q.Lh(a+q.dG()*(b-a));};c.rW=function(a){return JSON.stringify(a,null,"  ");};c.O6=function(){var k,f;function a(a){b.Ga(void 0!==k[a]);return k[a];}k={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};f=/[&'"<>]/g;return function(d){return d.replace(f,a);};}();c.trim=function(){var a;a=/^\s+|\s+$/gm;return function(d){return d.replace(a,"");};}();c.w8=function(a){return Array.isArray(a)?a:[a];};c.ud=c.ud||function(a){var d,b,f;if(a){d=a.stack;b=a.number;f=a.message;f||(f=""+a);d?(a=""+d,0!=a.indexOf(f)&&(a=f+"\n"+a)):a=f;b&&(a+="\nnumber:"+b);return a;}};c.Wl=function(a){return p.pa(a)?a.toFixed(0):"";};c.sy=function(a){return p.pa(a)?(a/1E3).toFixed(0):"";};c.H9a=function(a){return p.pa(a)?a.toFixed():"";};c.w2a=function(a){for(var d=[],b=0;b<a.length;b++)d[b]=a[b];return d;};},function(g,c,a){var p,d;function b(a){return null!==a&&void 0!==a;}function f(a){return typeof a==c.FRa;}function q(a,f,t){var k,m,c;if(f)if(t){k=t.LD;m=t.prefix;c=t.uq;d.Uc(f,function(d,f){if(!c||b(f))a[(m||"")+(k?d.toLowerCase():d)]=f;});}else d.Uc(f,function(d,b){a[d]=b;});return a;}Object.defineProperty(c,"__esModule",{value:!0});p=a(8);d=a(18);c.ne=function(){};c.Nj=1E3;c.kG=Object.create;c.RNa=Object.keys;c.jN=Date.now;c.bx=Math.floor;c.RMa=Math.ceil;c.Lh=Math.round;c.Bm=Math.max;c.Zn=Math.min;c.dG=Math.random;c.cG=Math.abs;c.rga=Math.pow;c.Vi="$attributes";c.aX="$children";c.bX="$name";c.Vq="$text";c.AEa="$parent";c.wF="$sibling";c.FRa="string";c.mDb="number";c.lDb="function";c.ERa="object";c.Tb=b;c.Ze=function(a){return typeof a==c.ERa;};c.Sd=f;c.Sy=function(a){return f(a)&&a;};c.Ud=function(a){return parseInt(a,10);};c.ir=function(a,d,b){return a>=d?a<=b?a:b:d;};c.Wa=q;c.JL=function(a){return q({},a);};c.I2=function(a){var f;for(var d=0;d<arguments.length;++d);for(var d=0,k=arguments.length;d<k;){f=arguments[d++];if(b(f))return f;}};c.KZa=function(a){for(var d,b=!0,k;b;)for(b=!1,d=a.length;--d;)k=a[d],k.startTime<a[d-1].startTime&&(a[d]=a[d-1],a[d-1]=k,b=!0);};c.Su=function(a,d){if(a.length==d.length){for(var b=a.length;b--;)if(a[b]!=d[b])return!1;return!0;}return!1;};c.createElement=function(a,b,f,c){var k;k=p.Nd.createElement(a);b&&(k.style.cssText=b);f&&(k.innerHTML=f);c&&d.Uc(c,function(a,d){k.setAttribute(a,d);});return k;};c.oI=function(a){var b;b="";d.Uc(a,function(a,d){b+=(b?";":"")+a+":"+d;});return b;};c.dS=function(a,d,b){var k;a/d>b?(k=c.Lh(d*b),a=d):(k=a,a=c.Lh(a/b));return{width:k,height:a};};c.O6=function(){var d,b;function a(a){return d[a];}d={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};b=/[&'"<>]/g;return function(d){return d.replace(b,a);};}();c.ud=function(a){var d,b;if(a){d=a.stack;b=a.number;a=""+a;d?(d=""+d,0!=d.indexOf(a)&&(d=a+"\n"+d)):d=a;b&&(d+="\nnumber:"+b);return d;}};c.u={bj:1001,fh:1003,OJa:1701,Eea:1713,PJa:1715,NJa:1721,qN:1723};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.He="AsyncComponentLoaderSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.we="IsTypeSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.df="UtilitiesSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Pe="ApplicationSymbol";},function(g,c,a){g.T={XJa:a(763),na:a(74).na,nC:a(74).nC,$m:a(74).$m,ND:a(74).ND,xL:a(74).xL,lZ:a(762).lZ,xZ:a(208),ISa:a(761)};},function(g,c,a){g.T={EventEmitter:a(768),Uw:a(767)};},function(g,c,a){var f,q,p,d;function b(){return c.sO.Vy.ea(d.ma);}Object.defineProperty(c,"__esModule",{value:!0});g=a(477);f=a(42);q=a(23);p=a(116);d=a(3);c.Zja=g.Wc.get(f.Kj);c.sO=g.Wc.get(q.Pe);c.MUa=g.Wc.get(p.NA);c.Ifa=c.sO.id;c.Yf=function(){return c.sO.Xb().ea(d.ma);};c.NQ=function(){return c.Zja.Xe.ea(d.Em);};c.iFb=function(){return c.sO.Vy.ea(d.Em);};c.G1a=function(){return c.MUa.tC();};c.H1a=b;c.F2=function(){return c.Zja.Xe.ea(d.ma);};c.jFb=function(){return b();};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.xX="ConfigurableInputsSymbol";c.cj="ValidatingConfigurableInputsSymbol";c.BA="ConfigNameSymbol";c.FN="InitParamsSymbol";},function(g,c,a){var t,u,y,A,K,h,G;function b(){var a,d;if(a=c.X5.bma)return a;a=h.gZ.search.substr(1);d=a.indexOf("#");0<=d&&(a=a.substr(0,d));a=f(a);return c.X5.bma=a;}function f(a){for(var d=/[+]/g,b=(a||"").split("&"),k={},f,m=0;m<b.length;m++)a=A.trim(b[m]),f=a.indexOf("="),0<=f?k[decodeURIComponent(a.substr(0,f).replace(d,"%20")).toLowerCase()]=decodeURIComponent(a.substr(f+1).replace(d,"%20")):k[a.toLowerCase()]=null;return k;}function q(a){return(a=/function (.{1,})\(/.exec(a.toString()))&&1<a.length?a[1]:"";}function p(a){return q(a.constructor);}function d(a){return h.sort.call(a,function(a,d){return a-d;});}function k(a){for(var d=0,b=a.length;b--;)d+=a[b];return d;}function m(){return G.Ob(h.tk.requestMediaKeySystemAccess);}Object.defineProperty(c,"__esModule",{value:!0});t=a(9);u=a(14);y=a(4);A=a(18);K=a(19);h=a(8);G=a(16);c.$oa=function(a,d){if(a===d)return!0;if(!a||!d)return!1;for(var b in a)if(a.hasOwnProperty(b)&&(!d.hasOwnProperty(b)||a[b]!==d[b]))return!1;return!0;};c.Su=c.Su||function(a,d){if(a.length==d.length){for(var b=a.length;b--;)if(a[b]!=d[b])return!1;return!0;}return!1;};c.FJb=function(a){var d;if(a){d=a.length;if(d)return d=A.Tza(0,d-1),a[d];}};c.j2a=function(a,d){if(a.length!=d.length)return!1;a.sort();d.sort();for(var b=a.length;b--;)if(a[b]!==d[b])return!1;return!0;};c.hZa=function(a,d){function b(){a.removeEventListener("loadedmetadata",b);d.apply(this,arguments);}a.addEventListener("loadedmetadata",b);};c.knb=function(){var a,d,b,k,f,m;a=h.Nd.cookie.split("; ");d=a.length;m={};for(b=0;b<d;b++)if(k=A.trim(a[b]))f=k.indexOf("="),0<f&&(m[k.substr(0,f)]=k.substr(f+1));return m;};c.eHb=b;c.X5=Object.assign(b,{bma:void 0});c.RU=f;c.DK=function(a){var d;d="";A.Uc(a,function(a,b){d&&(d+="&");u.Ga(K.Sd(b)||G.pa(b)||G.ava(b));d+=encodeURIComponent(a)+"="+encodeURIComponent(b);});return d;};c.getFunctionName=q;c.Lsa=p;c.iya=function(a){var d;d="";G.isArray(a)||G.xva(a)?d=h.reduce.call(a,function(a,d){return a+(32<=d&&128>d?h.vRa(d):".");},""):K.Sd(a)?d=a:A.Uc(a,function(a,b){d+=(d?", ":"")+"{"+a+": "+(G.Ob(b)?q(b)||"function":b)+"}";});return"["+p(a)+" "+d+"]";};c.xJb=function(a,d){a.firstChild?a.insertBefore(d,a.firstChild):a.appendChild(d);};c.oI=c.oI||function(a){var d;d="";A.Uc(a,function(a,b){d+=(d?";":"")+a+":"+b;});return d;};c.GHb=function(a,d){var b;b=a[0];if(d<=b[0])return b.slice(1);for(var k=1,f;f=a[k++];){if(d<=f[0]){a=(d-b[0])/(f[0]-b[0]);d=[];for(k=1;k<b.length;k++)d.push((b[k]||0)+a*((f[k]||0)-(b[k]||0)));return d;}b=f;}return b.slice(1);};c.awb=function(a,d){var f;for(var b={},k=0;k<d.length;k++){f=d[k];if("string"!=typeof f&&"number"!=typeof f)return!1;b[d[k]]=1;}for(k=0;k<a.length;k++)if(f=a[k],!b[f])return!1;return!0;};c.kFa=function(a,d){0>a.indexOf(d)&&a.push(d);};c.dX=d;c.cwb=k;c.Tca=function(a,d){var b,k,f,m;b=-1;k=a.length;if(1===arguments.length){for(;++b<k&&!(null!=(f=a[b])&&f<=f);)f=void 0;for(;++b<k;)null!=(m=a[b])&&m>f&&(f=m);}else{for(;++b<k&&!(null!=(f=d.call(a,a[b],b))&&f<=f);)f=void 0;for(;++b<k;)null!=(m=d.call(a,a[b],b))&&m>f&&(f=m);}return f;};c.bwb=function(a,d){var b,k,f,m;b=-1;k=a.length;if(1===arguments.length){for(;++b<k&&!(null!=(f=a[b])&&f<=f);)f=void 0;for(;++b<k;)null!=(m=a[b])&&f>m&&(f=m);}else{for(;++b<k&&!(null!=(f=d.call(a,a[b],b))&&f<=f);)f=void 0;for(;++b<k;)null!=(m=d.call(a,a[b],b))&&f>m&&(f=m);}return f;};c.eE=function(a){return G.Ob(a.then)?a:new Promise(function(d,b){a.oncomplete=function(){d(a.result);};a.onerror=function(){b(a.error);};});};c.EGb=function(a,b){var k,m,t,c,u,y;function f(a){0>k.indexOf(a)&&G.pa(a)&&k.push(a);}a=a.slice();d(a);k=[];if(!b||!b.length)return a;if(!a.length)return[];m=b.length;try{for(;m--;){u=""+b[m];y=K.Ud(u);switch(u[u.length-1]){case"-":for(t=a.length;t--;)if(c=a[t],c<y){f(c);break;}break;case"+":for(t=0;t<a.length;t++)if(c=a[t],c>y){f(c);break;}break;default:0<=a.indexOf(y)&&f(y);}}}catch(ea){}k.length||k.push(a[0]);d(k);return k;};c.dS=c.dS||function(a,d,b){var f;a/d>b?(f=h.Lh(d*b),a=d):(f=a,a=h.Lh(a/b));return{width:f,height:a};};c.oFb=function(a,d,b){for(var f=[],m=0;m<d;m++)f.push(h.rga(a[m]-b,2));return h.SMa(k(f)/f.length);};c.Ml=function(a,d){var b;b=a.length;d=(b-1)*d+1;if(1===d)return a[0];if(d==b)return a[b-1];b=h.bx(d);return a[b-1]+(d-b)*(a[b]-a[b-1]);};c.GGb=function(a,d){if(!G.isArray(a))throw Error("boxes is not an array");if(0>=a.length)throw Error("There are no boxes in boxes");d=G.isArray(d)?d:[d];for(var b=a.length,f=0;f<b;f++)for(var k=0;k<d.length;k++)if(a[f].type==d[k])return a[f];throw Error("Box not found "+d);};c.Nwb=function(a){return a.nv("trak/mdia/minf/stbl/stsd/"+t.dGa+"|"+t.eGa).children.filter(function(a){return"sinf"==a.type&&"cenc"==a.O4.schm.kpb;})[0].nv("schi/tenc").Gv;};c.Mwb=function(a){var b;function d(a,d){var f;f=b[a];b[a]=b[d];b[d]=f;}b=new Uint8Array(a);d(0,3);d(1,2);d(4,5);d(6,7);return b;};c.qva=m;c.t7=function(a){return m()||a.aM;};c.sJb=function(a){return function(d){return d&&d[a];};};G.Ob(ArrayBuffer.prototype.slice)||(ArrayBuffer.prototype.slice=function(a,d){var b,f;void 0===a&&(a=0);void 0===d&&(d=this.byteLength);a=Math.floor(a);d=Math.floor(d);0>a&&(a+=this.byteLength);0>d&&(d+=this.byteLength);a=Math.min(Math.max(0,a),this.byteLength);d=Math.min(Math.max(0,d),this.byteLength);if(0>=d-a)return new ArrayBuffer(0);b=new ArrayBuffer(d-a);f=new Uint8Array(b);a=new Uint8Array(this,a,d-a);f.set(a);return b;});c.z7=function(a){return a&&0==a.toLowerCase().indexOf("https");};c.lab=function(){var a,d;a=new ArrayBuffer(4);d=new Uint8Array(a);a=new Uint32Array(a);d[0]=161;d[1]=178;d[2]=195;d[3]=212;return 3569595041==a[0]?"LE":2712847316==a[0]?"BE":"undefined";};c.ES=function(){var a,d,b;try{a=/playercore.*js/;d=h.gr.getEntries("resource").filter(function(d){return null!==a.exec(d.name);});if(d&&0<d.length){b=h.Lh(d[0].duration);return JSON.stringify(b);}}catch(W){}};c.tJb=function(a,d,b){if(a&&a.length)if(b&&b.u1a)try{a.forEach(function(a,f){var k;k=(f=b.u1a[f])&&f.media;k&&K.Sd(k)?(k=y.Mk(k).buffer,a.media={arrayBuffer:k,length:k.byteLength,stream:d,Wb:f.cdn}):y.log.warn("chunk not in cache",a.eg);});}catch(W){y.log.error("error reading cached chunks",W);}else y.log.warn("chunks not available in cached stream",b.type);else y.log.warn("chunks not available in mediabuffer",b.type);};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});(function(a){a[a.Audio=0]="Audio";a[a.tja=1]="Video";}(c.gG||(c.gG={})));(function(a){a[a.Qw=0]="Default";a[a.dx=1]="Microsoft";}(c.Lw||(c.Lw={})));(function(a){a[a.Qw=0]="Default";a[a.tX=1]="Cast";a[a.vX=2]="Chrome";a[a.dx=3]="Microsoft";a[a.Jia=4]="Safari";}(c.Pj||(c.Pj={})));(function(a){a[a.uG=0]="SD";a[a.sN=1]="HD";a[a.hO=2]="UHD";a[a.Zq=3]="DV";a[a.cr=4]="HDR10";a[a.wA=5]="AVCHigh";a[a.au=6]="VP9";a[a.Eh=7]="AV1";}(c.od||(c.od={})));(function(a){a[a.mp=0]="Level_1_4";a[a.Yw=1]="Level_2_2";}(c.Ih||(c.Ih={})));c.EDb=function(){};(function(a){a[a.QBb=0]="Platform";a[a.rxb=1]="CurrentTitle";}(c.xSa||(c.xSa={})));c.IX="DeviceCapabilitiesSymbol";c.Mxb=function(){};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.pg="SchedulerSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Wt="named";c.KN="name";c.xG="unmanaged";c.Vga="optional";c.WF="inject";c.ax="multi_inject";c.Tia="inversify:tagged";c.Uia="inversify:tagged_props";c.mZ="inversify:paramtypes";c.PHa="design:paramtypes";c.mG="post_construct";},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(13);c.zX=!1;g=function(){function a(a,b,d,k,f){this.Ua=a;this.type=b;this.byteOffset=d;this.byteLength=k;this.parent=f;this.Fc={};this.tz=k;}a.qy=function(a,b){var k,t;function d(a){a&&a.qy&&(a=a.qy(b),a.length&&(k=k.concat(a)));}k=[];a.type===b&&k.push(a);if(a.Fc)for(var f in a.Fc){t=a.Fc[f];Array.isArray(t)&&t.forEach(d);}return k;};a.zH=function(a,b){void 0===a.Fc[b.type]&&(a.Fc[b.type]=[]);a.Fc[b.type].push(b);};a.ry=function(b,f){return a.qy(b,f)[0];};Object.defineProperties(a.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{J:{get:function(){return this.Ua;},enumerable:!0,configurable:!0}});a.prototype.pf=function(){var a;a=this.Ua.ub();this.version=a>>24;this.Ke=a&16777215;};a.prototype.zH=function(b){a.zH(this,b);};a.prototype.qy=function(b){return a.qy(this,b);};a.prototype.ry=function(b){return a.ry(this,b);};a.prototype.parse=function(){return!0;};a.prototype.py=function(){return!0;};a.prototype.ep=function(a){if((a=this.Fc[a])&&Array.isArray(a)&&1===a.length)return a[0];};a.prototype.Aj=function(a,f){f=void 0===f?this.Ua.offset:f;b.assert(f>=this.startOffset+8&&f+a<=this.startOffset+this.tz,"Removal range [0x"+f.toString(16)+"-0x"+(f+a).toString(16)+") must be in box [0x"+this.startOffset.toString(16)+"-0x"+(this.startOffset+this.tz).toString(16)+")");this.byteLength-=a;this.Ua.xm(this.byteLength,!1,this.startOffset);this.parent?this.parent.Aj(a,f):this.Ua.Aj(a,f);};a.prototype.mL=function(a,f,d){d=void 0===d?this.Ua.offset:d;b.assert(d>=this.startOffset+8&&d+a<=this.startOffset+this.tz,"Removal range [0x"+d.toString(16)+"-0x"+(d+a).toString(16)+") must be in box [0x"+this.startOffset.toString(16)+"-0x"+(this.startOffset+this.tz).toString(16)+")");this.byteLength+=(f?f.byteLength:0)-a;this.Ua.xm(this.byteLength,!1,this.startOffset);this.parent?this.parent.mL(a,f,d):this.Ua.mL(a,f,d);};a.prototype.eAa=function(a,b,d){if(1<d){for(var f=[];0<d--;)f.push(this.dma(a,b));return f;}return this.dma(a,b);};a.prototype.Dq=function(a){var b,d;d=this;void 0===b&&(b={});a.forEach(function(a){var f,k;if("offset"===a.type){f=a.offset;if(0<f%8)throw Error("Requested offset "+a.offset+"is not an even byte multiple");d.Ua.offset+=f/8;}else for(f in a){k=a[f];b[f]="string"===typeof k?d.eAa(k):d.eAa(k.type,k.length,k.JZa);}});return b;};a.prototype.dma=function(a,b){var d;d=this.byteLength-this.Ua.offset+this.startOffset;"undefined"===typeof b&&(b=d);switch(a){case"int8":a=this.Ua.je();break;case"int64":a=this.Ua.hi();break;case"int32":a=this.Ua.ub();break;case"int16":a=this.Ua.Pf();break;case"string":a=this.Ua.jnb(Math.min(b,d));break;default:throw Error("Invalid type: "+a);}return a;};a.Sb=!1;return a;}();c.Hh=g;},function(g,c,a){var d,k,m,t,u,y,A,h,x;function b(a,d){var b,f,k;try{b=m.tk.plugins;f=b.length;for(k=0;k<f;k++)if(d.test(b[k][a]))return b[k];return!1;}catch(D){}}function f(){var a,d;a=b("filename",/widevinecdm/i);if(a){try{d=a.description.match(/version: ([0-9.]+)/);if(d&&d[1])return d[1];}catch(R){}return"true";}return"false";}function q(){var a;a=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:d.vl,robustness:"HW_SECURE_DECODE"},{contentType:d.vl,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:d.$w,robustness:"SW_SECURE_CRYPTO"}]}];try{m.tk.requestMediaKeySystemAccess("com.widevine.alpha",a).then(function(a){var d;d=a.getConfiguration();a=d.videoCapabilities;(d=d.audioCapabilities)&&d.length&&(d=p(d),0<=d.indexOf("SW_SECURE_CRYPTO")&&(c.$n.cptheaacwv_sw_cryp=!0));a&&a.length?(c.$n.cpth264wv=!0,d=p(a),0<=d.indexOf("SW_SECURE_DECODE")&&(c.$n.cpth264wv_sw_dec=!0),0<=d.indexOf("HW_SECURE_DECODE")&&(c.$n.cpth264wv_hw_dec=!0)):c.$n.cpth264wv=!1;})["catch"](function(){c.$n.cpth264wv=!1;});}catch(M){}}function p(a){return a.map(function(a){return a.robustness;});}Object.defineProperty(c,"__esModule",{value:!0});a(0).__exportStar(a(771),c);d=a(9);g=a(28);k=a(19);m=a(8);t=a(29);u=a(4);a=a(427);c.MHb=/CrOS/.test(m.Oj);c.nia=/CrOS/.test(m.Oj);c.fha={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,captureKeyStatusData:!0,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,doNotPerformLdlOnPlaybackStart:!0,captureBatteryStatus:!0,enableGetHeadersAndMediaPrefetch:!0,enableUsingHeaderCount:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:t.Pj.vX,preciseSeeking:!0,editAudioFragments:!0,editVideoFragments:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0};u.V.get(a.kja).GZa(c.fha);c.oBb=function(){return{};};c.pBb=b;c.qBb=f;c.gha=f();a=c.gha;if(!(t=c.gha))a:{try{m.tk.plugins.refresh();t=f();break a;}catch(G){}t=void 0;}u=!!b("name",/Chrome Remote Desktop Viewer/i);y=!!b("name",/Chromoting Viewer/i);a:{try{A=MediaSource.isTypeSupported(d.vl);break a;}catch(G){}A=void 0;}a:{try{h=k.createElement("VIDEO").canPlayType(d.vl);break a;}catch(G){}h=void 0;}a:{try{if(g.qva())q();else{x=k.createElement("VIDEO").canPlayType(d.vl,"com.widevine.alpha");break a;}}catch(G){}x=void 0;}c.$n={wvp:a,wvp2:t,crdvp:u,cvp:y,itsh264:A,cpth264:h,cpth264wv:x};c.gFb=q;c.fHb=p;},function(g,c,a){var p,d,k;function b(a){return function(d,b){return d.N$(b,a);};}function f(a,d){return a.mV.bnb[d]||q(a,d);}function q(a,d){a=a.Ns.data[d];switch(typeof a){case"undefined":break;case"string":case"number":case"boolean":return a.toString();default:return JSON.stringify(a);}}Object.defineProperty(c,"__esModule",{value:!0});p=a(35);d=a(3);k=a(134);c.config=function(a,d){return function(b,m,t){var c,u;c=void 0!==d?d:m;u=t.get;void 0!==u&&(t.get=function(){var d;if(!this.Oeb(m))return this.Lbb(m);a:{d=(this.wZa?f:q)(this,c.toString());if(void 0!==d)if(d=a(this.CK,d),d instanceof k.Cm)this.bsa(c,d);else break a;d=u.bind(this)();}this.Oob(m,d);return d;});return t;};};c.j7=function(a,d){return a.aAa(d);};c.$d=function(a,d){return a.K$(d);};c.Ew=function(a,d){return a.Na(d);};c.string=function(a,d){return a.N$(d);};c.xba=function(a,d){return a.wd(d,c.string);};c.HHb=function(a,d){return a.wd(d,c.j7);};c.DDa=function(a,d){return a.wd(d,c.Ew);};c.Xg=function(a,b){a=a.Na(b);return a instanceof k.Cm?a:d.Db(a);};c.aa=function(a,d){a=a.Na(d);return a instanceof k.Cm?a:p.aa(a);};c.url=b(/^\S+$/);c.sGb=function(a){return function(d,b){return d.$za(b,a);};};c.object=function(){return function(a,d){return a.bAa(d);};};c.rAa=b;c.Jp=function(a,d){return function(b,f){return b.wd(f,a,d);};};},function(g,c,a){var q;function b(a){return q.iO.apply(this,arguments)||this;}function f(a){return new q.op(a,c.yA);}Object.defineProperty(c,"__esModule",{value:!0});q=a(470);ba(b,q.iO);c.Xwb=b;c.uQ=f;c.aa=function(a){return new q.op(a,c.Un);};c.$Hb=function(a){return new q.op(a,c.Mfa);};c.uIb=function(a){return new q.op(a,c.gNa);};c.yA=new b(1,"b");c.Un=new b(8*c.yA.Oe,"B",c.yA);c.Mfa=new b(1024*c.Un.Oe,"KB",c.yA);c.gNa=new b(1024*c.Mfa.Oe,"MB",c.yA);c.Ff=f(0);},function(g,c,a){var q,p,d,k;function b(a,d){var b;b=k.call(this,a,d)||this;b.kpa=d;b.debug=a.debug;b.ia=a.yf.lb(b.kpa);return b;}function f(a,d){this.kpa=d;this.D$={};this.Ns=a.Ns;this.CK=a.CK;this.mV=a.mV;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);q=a(1018);p=a(1);d=a(134);c.DRa="isTestAccount";f.prototype.bsa=function(){};f.prototype.Oob=function(a,d){this.D$[a]=[d,this.Ns.WAa];};f.prototype.Oeb=function(a){return q.Zga.of(this.D$[a]).map(function(a){return a[1];}).Aya(-1)<this.Ns.WAa;};f.prototype.Lbb=function(a){return q.Zga.of(this.D$[a]).map(function(a){return a[0];}).Aya(function(){throw Error("Invalid State Error");});};oa.Object.defineProperties(f.prototype,{wZa:{configurable:!0,enumerable:!0,get:function(){var a,b;if(this&&this.Ns&&this.Ns.data){a=this.Ns.data[c.DRa];"undefined"!==typeof a&&(b=a.toString());a=this.CK.K$(b);a=a instanceof d.Cm?!1:a;}else a=!1;return a;}}});k=f;k=g.__decorate([p.N(),g.__param(0,p.dh()),g.__param(1,p.dh())],k);c.VM=k;ba(b,k);b.prototype.bsa=function(a,d){this.ia.error("Invalid configuration value.",{name:a},d);this.debug.assert(!1);};a=b;a=g.__decorate([g.__param(0,p.dh()),g.__param(1,p.dh())],a);c.ze=a;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.xja="WindowTimersSymbol";c.St="JSONSymbol";c.WA="NavigatorSymbol";c.eNa="MediaSourceSymbol";c.Tfa="LocationSymbol";c.Uda="DateSymbol";c.yZ="PerformanceSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Oh={nwa:"logblob",Ja:"manifest",Mf:"license",events:"events",bind:"bind",Jya:"pair",ping:"ping"};g=c.og||(c.og={});g[g.dr=20]="High";g[g.ZY=10]="Medium";g[g.PA=0]="Low";c.IZ={og:"reqPriority",vQa:"reqAttempt",wQa:"reqName"};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.SY="LogBatcherConfigSymbol";c.Mj="LogBatcherSymbol";c.Ufa="LogBatcherProviderSymbol";},function(g,c){var f;function a(a,b,d,f){var k;Object.getOwnPropertyNames(a).filter(function(a){return(!f||f(a))&&(d||!Object.prototype.hasOwnProperty.call(b,a));}).forEach(function(d){k=Object.getOwnPropertyDescriptor(a,d);void 0!==k&&Object.defineProperty(b,d,k);});}function b(f,c,d){var k,m;k=d?[]:Object.keys(c);m=Object.getPrototypeOf(f);null!==m&&m!==Object.prototype&&b(m,c,d);a(f,c,!0,function(a){return"constructor"!==a&&-1===k.indexOf(a);});}Object.defineProperty(c,"__esModule",{value:!0});f=Object.getOwnPropertyNames(Function);c.mi=function(c,p,d){void 0===d&&(d=!0);c.prototype?(b(c.prototype,p.prototype,d),a(c,p,d,function(a){return-1===f.indexOf(a);})):a(c,p.prototype,d,function(a){return-1===f.indexOf(a);});};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Jj="Base64EncoderSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Kj="ClockSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.uk="PboCommandContextSymbol";},function(g,c,a){var p,d;function b(a){return a&&a.mf&&a.inRange&&!a.Tg&&!1!==a.gv;}function f(a,d,b){return!p.pa(a)||a<d?d:a>b?b:a;}function q(a){if(!(this instanceof q))return new q(a);this.yd=p.pa(a)?a:void 0;}p=a(6);d=new(a(5)).Console("ASEJS_STREAM_SELECTOR","media|asejs");g.T={console:d,debug:!1,assert:function(a,b){if(!a)throw a=b?" : "+b:"",d.error("Assertion failed"+a),Error("ASEJS_STREAM_SELECTOR assertion failed"+a);},Ry:b,M4:function(a,d,b){var m,t,c,q;function k(d){var f;f=a[d];if(!f.mf||!f.inRange||f.Tg||b&&!b(f,d))return!1;q=d;return!0;}m=a.length;t=0;c=m;p.isArray(d)&&(t=f(d[0],0,m),c=f(d[1],0,m),d=d[2]);d=f(d,t-1,c);for(m=d-1;m>=t;--m)if(k(m))return q;for(m=d+1;m<c;++m)if(k(m))return q;return-1;},Gib:function(a,d){return Math.floor(a/(125*d)*1E3);},r0a:function(a,d){return Math.ceil(a/1E3*d*125);},OHb:function(a,d){return!a.slice(d+1).some(b);},sp:q,Cna:function(a,d){var b;return a.some(function(a,f,k){b=a;return d(a,f,k);})?b:void 0;},cC:function(a,d){var b;return a.some(function(a,f,k){b=f;return d(a,f,k);})?b:-1;},nC:f};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Ab=function(a){return setTimeout(a,0);};},function(g,c,a){var b,f,q,p,d,k;b=this&&this.__extends||function(a,d){function b(){this.constructor=a;}for(var f in d)d.hasOwnProperty(f)&&(a[f]=d[f]);a.prototype=null===d?Object.create(d):(b.prototype=d.prototype,new b());};f=a(463);g=a(71);q=a(242);p=a(241);d=function(a){function f(b,f,m){var t;a.call(this);this.cA=null;this.$e=this.nk=this.bA=!1;switch(arguments.length){case 0:this.destination=q.empty;break;case 1:if(!b){this.destination=q.empty;break;}if("object"===typeof b){if(b instanceof d||"syncErrorThrowable"in b&&b[p.Sz]){t=b[p.Sz]();this.nk=t.nk;this.destination=t;t.add(this);}else this.nk=!0,this.destination=new k(this,b);break;}default:this.nk=!0,this.destination=new k(this,b,f,m);}}b(f,a);f.prototype[p.Sz]=function(){return this;};f.create=function(a,d,b){a=new f(a,d,b);a.nk=!1;return a;};f.prototype.next=function(a){this.$e||this.ph(a);};f.prototype.error=function(a){this.$e||(this.$e=!0,this.bd(a));};f.prototype.complete=function(){this.$e||(this.$e=!0,this.ic());};f.prototype.unsubscribe=function(){this.closed||(this.$e=!0,a.prototype.unsubscribe.call(this));};f.prototype.ph=function(a){this.destination.next(a);};f.prototype.bd=function(a){this.destination.error(a);this.unsubscribe();};f.prototype.ic=function(){this.destination.complete();this.unsubscribe();};f.prototype.hYa=function(){var a,d;a=this.Pm;d=this.Cx;this.Cx=this.Pm=null;this.unsubscribe();this.$e=this.closed=!1;this.Pm=a;this.Cx=d;};return f;}(g.wk);c.ri=d;k=function(a){function d(d,b,k,m){var t;a.call(this);this.fH=d;d=this;f.Ob(b)?t=b:b&&(t=b.next,k=b.error,m=b.complete,b!==q.empty&&(d=Object.create(b),f.Ob(d.unsubscribe)&&this.add(d.unsubscribe.bind(d)),d.unsubscribe=this.unsubscribe.bind(this)));this.ti=d;this.ph=t;this.bd=k;this.ic=m;}b(d,a);d.prototype.next=function(a){var d;if(!this.$e&&this.ph){d=this.fH;d.nk?this.d_(d,this.ph,a)&&this.unsubscribe():this.e_(this.ph,a);}};d.prototype.error=function(a){var d;if(!this.$e){d=this.fH;if(this.bd)d.nk?this.d_(d,this.bd,a):this.e_(this.bd,a),this.unsubscribe();else if(d.nk)d.cA=a,d.bA=!0,this.unsubscribe();else throw this.unsubscribe(),a;}};d.prototype.complete=function(){var a,d,b;a=this;if(!this.$e){d=this.fH;if(this.ic){b=function(){return a.ic.call(a.ti);};d.nk?this.d_(d,b):this.e_(b);}this.unsubscribe();}};d.prototype.e_=function(a,d){try{a.call(this.ti,d);}catch(A){throw this.unsubscribe(),A;}};d.prototype.d_=function(a,d,b){try{d.call(this.ti,b);}catch(K){return a.cA=K,a.bA=!0;}return!1;};d.prototype.Or=function(){var a;a=this.fH;this.fH=this.ti=null;a.unsubscribe();};return d;}(d);},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.xjb=function(a,b){return a-b;};c.uKb=function(a,b){return a.localeCompare(b);};c.al=function(a,b){var f;f=Object.getOwnPropertyDescriptor(a,b);f&&Object.defineProperty(a,b,{configurable:f.configurable,enumerable:!1,value:f.value,writable:f.writable});};},function(g){g.T=function(c,a){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);return a;};},function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});a(0).__exportStar(a(383),c);c.Rgb=function(b){c.platform.JJ(b);return a(769).IMa;};c.VGb=function(){return a(351);};c.HIb=function(){return a(202);};g=a(11);c.tc=g;g=a(663);c.gn=g.gn;g=a(5);c.platform=g;},function(g,c,a){var b,f;b=a(110);f=a(158);g.T=function(a){return function d(k,m){switch(arguments.length){case 0:return d;case 1:return f(k)?d:b(function(d){return a(k,d);});default:return f(k)&&f(m)?d:f(k)?b(function(d){return a(d,m);}):f(m)?b(function(d){return a(k,d);}):a(k,m);}};};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=c.Lt||(c.Lt={});g[g.$ia=0]="Test";g[g.Dfa=1]="Int";g[g.oRa=2]="Staging";g[g.cQa=3]="Prod";c.zm="GeneralConfigSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.vIa="Cannot apply @injectable decorator multiple times.";c.wIa="Metadata key was used more than once in a parameter:";c.iG="NULL argument";c.Kfa="Key Not Found";c.GEa="Ambiguous match found for serviceIdentifier:";c.qGa="Could not unbind serviceIdentifier:";c.CNa="No matching bindings found for serviceIdentifier:";c.tMa="Missing required @injectable annotation in:";c.uMa="Missing required @inject or @multiInject annotation in:";c.jSa=function(a){return"@inject called with undefined this could mean that the class "+a+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};c.tGa="Circular dependency found:";c.EAb="Sorry, this feature is not fully implemented yet.";c.gLa="Invalid binding type:";c.DNa="No snapshot available to restore.";c.jLa="Invalid return type in middleware. Middleware must return!";c.szb="Value provided to function binding must be a function!";c.lLa="The toSelf function can only be applied when a constructor is used as service identifier";c.hLa="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";c.HEa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"The number of constructor arguments in the derived class "+(a[0]+" must be >= than the number of constructor arguments of its base class.");};c.IGa="Invalid Container constructor argument. Container options must be an object.";c.GGa="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";c.FGa="Invalid Container option. Auto bind injectable must be a boolean";c.HGa="Invalid Container option. Skip base check must be a boolean";c.HMa="Cannot apply @postConstruct decorator multiple times in the same class";c.QOa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"@postConstruct error in class "+a[0]+": "+a[1];};c.uGa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"It looks like there is a circular dependency "+("in one of the '"+a[0]+"' bindings. Please investigate bindings with")+("service identifier '"+a[1]+"'.");};c.OQa="Maximum call stack size exceeded";},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});g=a(68);b=a(45);f=a(8);c.Ee=new g.Lj();c.Yk=1;c.Gy=2;c.s6=3;c.wJ=4;c.r6=5;b.Ab(function(){var b,d,k;function a(a,b){if(d)d.on(a,b);else J.addEventListener(a,b);}b=J.jQuery;d=b&&b(J);b=(b=J.netflix)&&b.cadmium&&b.cadmium.addBeforeUnloadHandler;k=f.Nd.hidden;b?b(function(a){c.Ee.Jb(c.Yk,a);}):a("beforeunload",function(a){c.Ee.Jb(c.Yk,a);});a("keydown",function(a){c.Ee.Jb(c.Gy,a);});a("resize",function(){c.Ee.Jb(c.s6);});f.Nd.addEventListener("visibilitychange",function(){k!==f.Nd.hidden&&(k=f.Nd.hidden,c.Ee.Jb(c.wJ));});});(function(){J.addEventListener("error",function(a){c.Ee.Jb(c.r6,a);return!0;});}());},function(g){g.T=function a(b,f){var q;b.__proto__&&b.__proto__!==Object.prototype&&a(b.__proto__,f);Object.getOwnPropertyNames(b).forEach(function(a){q=Object.getOwnPropertyDescriptor(b,a);void 0!==q&&Object.defineProperty(f,a,q);});};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.vk="PlayerErrorFactorySymbol";},function(g,c,a){var f;function b(a,b,d,k,m,t,c,y,A,g,h){this.code=void 0===a?f.I.bj:a;this.Jc=b;this.wg=d;this.ky=k;this.qq=m;this.message=t;this.EC=c;this.data=y;this.kn=A;this.Nlb=g;this.alert=h;this.W=!1;}Object.defineProperty(c,"__esModule",{value:!0});f=a(2);b.ud=function(a){var b,d,f;if(a){b=a.stack;d=a.number;f=a.message;f||(f=""+a);b?(a=""+b,0!==a.indexOf(f)&&(a=f+"\n"+a)):a=f;d&&(a+="\nnumber:"+d);return a;}return"";};b.prototype.FI=function(a){this.EC=b.ud(a);this.data=a;};b.prototype.toString=function(){return JSON.stringify(this.toJSON);};b.prototype.toJSON=function(){return{code:this.code,subCode:this.Jc,extCode:this.wg,edgeCode:this.ky,mslCode:this.qq,message:this.message,details:this.EC,data:this.data,errorDisplayMessage:this.kn,playbackServiceError:this.Nlb};};b.nS=function(a,c){return new b(a,f.u.fh,void 0,void 0,void 0,void 0,c.message,c.stack);};c.Qc=b;},function(g,c,a){var f,q;function b(a,d){var k;k=c.mr[0];k==d&&(k=c.mr[1]);k?k.close(function(){b(a,d);}):a&&a(f.yc);}Object.defineProperty(c,"__esModule",{value:!0});f=a(9);q=a(14);c.Sha=b;c.Vha=function(a,d){switch(a){case c.Qha:c.Tha.push(d);return;case c.Rha:c.Uha.push(d);return;}q.Ga(!1);};c.mr=[];c.Tha=[];c.Uha=[];c.Qha=1;c.Rha=3;c.rG={index:0,Fib:void 0,R4:void 0};c.Pha="network";c.Oha="media";c.zPa="timedtext";c.APa="playback";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Yn="LogMessageFactorySymbol";},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(13);c.MG=function(a){b.assert("number"===typeof a);return String.fromCharCode(a>>>24&255)+String.fromCharCode(a>>>16&255)+String.fromCharCode(a>>>8&255)+String.fromCharCode(a&255);};c.cka=function(a){return a.charCodeAt(3)+(a.charCodeAt(2)<<8)+(a.charCodeAt(1)<<16)+(a.charCodeAt(0)<<24);};c.XDb=function(a,b){return Math.floor(1E3*a/b);};},function(g,c){function a(a,c){return"number"!==typeof a||"number"!==typeof c?!1:a&&c?Math.abs(a*c/b(a,c)):0;}function b(a,b){var f;a=Math.abs(a);for(b=Math.abs(b);b;){f=b;b=a%b;a=f;}return a;}Object.defineProperty(c,"__esModule",{value:!0});g=function(){function f(a,b){"object"===typeof a?(this.QP=a.Ad,this.Nr=a.ga):(this.QP=a,this.Nr=b);}f.$Ib=function(a){return new f(1,a);};f.P9a=function(a){return new f(a,1E3);};f.kDa=function(a,b){return Math.floor(1E3*a/b);};f.Cxa=function(a,b){return Math.floor(a*b/1E3);};f.max=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.reduce(function(a,b){return a.greaterThan(b)?a:b;});};f.min=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.reduce(function(a,b){return a.lessThan(b)?a:b;});};f.W9a=function(c,p){var d;if(c.ga===p.ga)return new f(b(c.Ad,p.Ad),c.ga);d=a(c.ga,p.ga);return f.W9a(c.qm(d),p.qm(d));};Object.defineProperties(f.prototype,{Ad:{get:function(){return this.QP;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{ga:{get:function(){return this.Nr;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{zf:{get:function(){return 1E3*this.QP/this.Nr;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Fg:{get:function(){return this.QP/this.Nr;},enumerable:!0,configurable:!0}});f.prototype.qm=function(a){a/=this.ga;return new f(Math.floor(this.Ad*a),Math.floor(this.ga*a));};f.prototype.add=function(b){var c;if(this.ga===b.ga)return new f(this.Ad+b.Ad,this.ga);c=a(this.ga,b.ga);return this.qm(c).add(b.qm(c));};f.prototype.me=function(a){return this.add(new f(-a.Ad,a.ga));};f.prototype.l9=function(a){return new f(this.Ad*a,this.ga);};f.prototype.LC=function(b){var f;if(this.ga===b.ga)return this.Ad/b.Ad;f=a(this.ga,b.ga);return this.qm(f).LC(b.qm(f));};f.prototype.mcb=function(b){return a(this.ga,b);};f.prototype.znb=function(){return new f(this.ga,this.Ad);};f.prototype.compare=function(b,f){var d;if(this.ga===f.ga)return b(this.Ad,f.Ad);d=a(this.ga,f.ga);return b(this.qm(d).Ad,f.qm(d).Ad);};f.prototype.equal=function(a){return this.compare(function(a,d){return a===d;},a);};f.prototype.Vxa=function(a){return this.compare(function(a,d){return a!==d;},a);};f.prototype.lessThan=function(a){return this.compare(function(a,d){return a<d;},a);};f.prototype.greaterThan=function(a){return this.compare(function(a,d){return a>d;},a);};f.prototype.Gfb=function(a){return this.compare(function(a,d){return a<=d;},a);};f.prototype.t6=function(a){return this.compare(function(a,d){return a>=d;},a);};f.prototype.toJSON=function(){return{ticks:this.Ad,timescale:this.ga};};f.prototype.toString=function(){return this.Ad+"/"+this.ga;};f.Ff=new f(0,1);f.GK=new f(1,1E3);return f;}();c.gc=g;},function(g,c,a){var d;function b(){}function f(){}function q(){}function p(){}Object.defineProperty(c,"__esModule",{value:!0});a=a(112);(function(a){a[a.Dm=0]="STANDARD";a[a.Tt=1]="LIMITED";a[a.GBb=2]="PREVIEW";}(d||(d={})));c.xe=p;p.pda="created";p.Bia="started";p.Hia="succeeded";p.Mt="failed";p.zA="cancelled";p.$M="cancelled_on_create";p.BF="cancelled_on_start";p.ZM="cancelled_not_encrypted";q.vDb="uirequest";q.FBb="prefetch_start";q.DBb="prefetch_complete";q.EBb="prefetch_delete";q.pOa="periodic_update";(function(a){a[a.sha=0]="PRE_FETCH";a[a.lia=1]="QC";a[a.Dm=2]="STANDARD";a[a.Iia=3]="SUPPLEMENTAL";a[a.tIa=4]="DOWNLOAD";}(g=c.ao||(c.ao={})));a={manifest:a.ye.Wi.Gca,ldl:a.ye.Wi.Xw,getHeaders:a.ye.Wi.PF,getMedia:a.ye.Wi.MEDIA};c.si=f;f.UEa="asl_start";f.SEa="asl_comp";f.Vvb="asl_exc";f.TEa="asl_fail";f.QQa="stf_creat";f.HKa="idb_open";f.EKa="idb_block";f.OKa="idb_upgr";f.NKa="idb_succ";f.FKa="idb_error";f.GKa="idb_invalid_state";f.JKa="idb_open_timeout";f.LKa="idb_open_wrkarnd";f.MKa="idb_storelen_exc";f.IKa="idb_open_exc";f.KKa="idb_timeout_invalid_storelen";f.AMa="msl_load_data";f.CMa="msl_load_no_data";f.BMa="msl_load_failed";c.Zc=b;b.Kzb=d;b.qpa=function(a){return["STANDARD","LIMITED","PREVIEW"][a];};b.xe=p;b.ROa=q;b.ao=g;b.u2a=function(a){return["PRE_FETCH","QC","STANDARD","SUPPLEMENTAL","DOWNLOAD"][a];};b.nG=a;b.si=f;},function(g,c){function a(a){var b;b=Error.call(this,"TimeoutError");this.message=b.message;"stack"in b&&(this.stack=b.stack);this.interval=a;}Object.defineProperty(c,"__esModule",{value:!0});ba(a,Error);c.Fm=a;c.hx="PromiseTimerSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Pia="StorageValidatorSymbol";c.jp="AppStorageFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Wn="EmeConfigSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Qca="AccountManagerSymbol";c.Xq="AccountManagerProviderSymbol";},function(g,c){function a(){}function b(){}function f(){}Object.defineProperty(c,"__esModule",{value:!0});c.ca=f;f.YX="playready-h264mpl30-dash";f.rN="playready-h264mpl31-dash";f.ZX="playready-h264mpl40-dash";f.$Ja="playready-h264hpl22-dash";f.VX="playready-h264hpl30-dash";f.WX="playready-h264hpl31-dash";f.XX="playready-h264hpl40-dash";f.wY="hevc-main-L30-dash-cenc";f.xY="hevc-main-L31-dash-cenc";f.yY="hevc-main-L40-dash-cenc";f.zY="hevc-main-L41-dash-cenc";f.AY="hevc-main-L50-dash-cenc";f.BY="hevc-main-L51-dash-cenc";f.iY="hevc-main10-L30-dash-cenc";f.lY="hevc-main10-L31-dash-cenc";f.oY="hevc-main10-L40-dash-cenc";f.rY="hevc-main10-L41-dash-cenc";f.QF="hevc-main10-L50-dash-cenc";f.RF="hevc-main10-L51-dash-cenc";f.jY="hevc-main10-L30-dash-cenc-prk";f.mY="hevc-main10-L31-dash-cenc-prk";f.pY="hevc-main10-L40-dash-cenc-prk";f.sY="hevc-main10-L41-dash-cenc-prk";f.kY="hevc-main10-L30-dash-cenc-prk-do";f.nY="hevc-main10-L31-dash-cenc-prk-do";f.qY="hevc-main10-L40-dash-cenc-prk-do";f.tY="hevc-main10-L41-dash-cenc-prk-do";f.uY="hevc-main10-L50-dash-cenc-prk-do";f.vY="hevc-main10-L51-dash-cenc-prk-do";f.Yyb="hevc-main-L30-L31-dash-cenc-tl";f.Zyb="hevc-main-L31-L40-dash-cenc-tl";f.$yb="hevc-main-L40-L41-dash-cenc-tl";f.azb="hevc-main-L50-L51-dash-cenc-tl";f.Uyb="hevc-main10-L30-L31-dash-cenc-tl";f.Vyb="hevc-main10-L31-L40-dash-cenc-tl";f.Wyb="hevc-main10-L40-L41-dash-cenc-tl";f.Xyb="hevc-main10-L50-L51-dash-cenc-tl";f.eN="hevc-dv5-main10-L30-dash-cenc-prk";f.fN="hevc-dv5-main10-L31-dash-cenc-prk";f.gN="hevc-dv5-main10-L40-dash-cenc-prk";f.hN="hevc-dv5-main10-L41-dash-cenc-prk";f.iN="hevc-dv5-main10-L50-dash-cenc-prk";f.EX="hevc-dv5-main10-L51-dash-cenc-prk";f.$X="hevc-hdr-main10-L30-dash-cenc";f.aY="hevc-hdr-main10-L31-dash-cenc";f.bY="hevc-hdr-main10-L40-dash-cenc";f.cY="hevc-hdr-main10-L41-dash-cenc";f.dY="hevc-hdr-main10-L50-dash-cenc";f.fY="hevc-hdr-main10-L51-dash-cenc";f.tN="hevc-hdr-main10-L30-dash-cenc-prk";f.uN="hevc-hdr-main10-L31-dash-cenc-prk";f.vN="hevc-hdr-main10-L40-dash-cenc-prk";f.wN="hevc-hdr-main10-L41-dash-cenc-prk";f.eY="hevc-hdr-main10-L50-dash-cenc-prk";f.gY="hevc-hdr-main10-L51-dash-cenc-prk";f.sja="vp9-profile0-L21-dash-cenc";f.AG="vp9-profile0-L30-dash-cenc";f.BG="vp9-profile0-L31-dash-cenc";f.CG="vp9-profile0-L40-dash-cenc";f.nja="vp9-profile2-L30-dash-cenc-prk";f.oja="vp9-profile2-L31-dash-cenc-prk";f.pja="vp9-profile2-L40-dash-cenc-prk";f.qja="vp9-profile2-L50-dash-cenc-prk";f.rja="vp9-profile2-L51-dash-cenc-prk";f.Hca="av1-main-L20-dash-cbcs-prk";f.Ica="av1-main-L21-dash-cbcs-prk";f.Jca="av1-main-L30-dash-cbcs-prk";f.Kca="av1-main-L31-dash-cbcs-prk";f.Lca="av1-main-L40-dash-cbcs-prk";f.Mca="av1-main-L41-dash-cbcs-prk";f.Nca="av1-main-L50-dash-cbcs-prk";f.Oca="av1-main-L51-dash-cbcs-prk";f.BQa=[f.YX];f.eKa=[f.rN,f.ZX];f.gSa=[f.wY,f.xY,f.yY,f.zY,f.AY,f.BY];f.iSa=[f.iY,f.lY,f.oY,f.rY,f.QF,f.RF];f.hSa=[f.jY,f.mY,f.pY,f.sY,f.QF,f.RF];f.tDb=[f.kY,f.nY,f.qY,f.tY,f.uY,f.vY];f.dKa=[f.$X,f.aY,f.bY,f.cY,f.dY,f.fY];f.cKa=[f.tN,f.uN,f.vN,f.wN,f.eY,f.gY];f.xIa=[f.eN,f.gN,f.iN,f.fN,f.hN,f.EX];f.Fxb=[f.eN,f.fN,f.gN,f.iN,f.hN];f.Xvb=[f.VX,f.WX,f.XX];f.DDb=[f.AG,f.BG,f.CG];f.au=[f.sja,f.AG,f.BG,f.CG,f.nja,f.oja,f.pja,f.qja,f.rja];f.ZEa=[f.Hca,f.Ica,f.Jca];f.YEa=[f.Kca,f.Lca,f.Mca];f.$Ea=[f.Nca,f.Oca];f.Eh=[].concat(f.ZEa,f.YEa,f.$Ea);f.ZJa=f.BQa.concat(f.eKa);f.bKa=f.gSa;f.aKa=f.iSa;f.eFa=[].concat(f.ZJa,f.bKa,f.aKa,f.hSa,f.dKa,f.cKa,f.xIa,f.au,f.Eh);c.Xi=b;b.xN="heaac-2-dash";b.yN="heaac-2hq-dash";b.cN="ddplus-2.0-dash";b.yX="ddplus-5.1-dash";b.dN="ddplus-atmos-dash";b.hY="playready-heaac-2-dash";b.gKa="heaac-2-dash-enc";b.tHa="ddplus-2.0-dash-enc";b.uHa="ddplus-5.1-dash-enc";b.fKa="playready-heaac-2-dash-enc";b.eFa=[b.xN,b.yN,b.cN,b.yX,b.dN,b.hY,b.gKa,b.tHa,b.uHa,b.fKa];c.xk=a;a.LQa="simplesdh";a.CX="dfxp-ls-sdh";a.SA="nflx-cmisc";a.xCb="simplesdh-enc";a.yxb="dfxp-ls-sdh-enc";a.NN="nflx-cmisc-enc";},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(31);g=function(){function a(a,b){this.key=a;this.value=b;}a.prototype.toString=function(){return this.key===b.Wt?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }";};return a;}();c.Metadata=g;},function(g,c,a){var f,q;function b(){var a,d;a=this;this.co={};this.on=function(d,b,f){a.addListener(d,b,f);};this.addListener=function(d,b,f){a.co&&(a.co[d]=a.co[d]||new q.hia(!0)).add(b,f);};this.removeListener=function(d,b){a.co&&a.co[d]&&a.co[d].removeAll(b);};this.A5=function(d){return a.co&&a.co[d]?a.co[d].u9a():[];};d=this;this.Jb=function(a,b,t){var k;if(d.co){k=d.A5(a);for(a={Ji:0};a.Ji<k.length;a={Ji:a.Ji},a.Ji++)t?function(a){return function(){var d;d=k[a.Ji];f.Ab(function(){d(b);});};}(a)():k[a.Ji].call(this,b);}};}Object.defineProperty(c,"__esModule",{value:!0});f=a(45);q=a(431);b.prototype.KC=function(){this.co=void 0;};c.Lj=b;},function(g,c,a){var t,u,y,A,h,x,G,M,R,T,l,D,n,Q,r,Z;function b(a){var d,b,f,k;d=a.url.split("?");b=d[0];f="sc="+a.mpb;k=a.ooa?"random="+(1E17*l.dG()).toFixed(0):"";b=d[1]?b+("?"+d[1]+"&"+f):b+("?"+f);b=b+(k?"&"+k:"");a.Wb&&!A.z7(b)&&(a=u.config&&u.config.t2)&&(b=a.replace("{URL}",b).replace("{EURL}",encodeURIComponent(b)));return b;}function f(a){var d,b,f,k;d=a.url.split("?");b=d[0];f="bb_reason="+a.reason;k=a.ooa?"random="+(1E17*l.dG()).toFixed(0):"";b=d[1]?b+("?"+d[1]+"&"+f):b+("?"+f);b=b+(k?"&"+k:"");a.Wb&&!A.z7(b)&&(a=u.config&&u.config.t2)&&(b=a.replace("{URL}",b).replace("{EURL}",encodeURIComponent(b)));return b;}function q(a,d){var b,f,k,m;b=a.url.split("?");f=b[0];k=p(a);k&&(d.Bq=k,(void 0===a.yM?0:a.yM)?(a.headers=a.headers||{},a.headers.Range="bytes="+k):(d.Bq=k,f="/"==f[f.length-1]?f+"range/":f+"/range/",f+=k));k=a.ooa?"random="+(1E17*l.dG()).toFixed(0):"";u.config.Sp&&a.$V&&(m="sc="+a.$V,k=m+(k?"&"+k:""));f=b[1]?f+("?"+b[1]+(k?"&"+k:"")):f+(k?"?"+k:"");a.Wb&&!A.z7(f)&&(a=u.config&&u.config.t2)&&(f=a.replace("{URL}",f).replace("{EURL}",encodeURIComponent(f)));d.url=f;}function p(a){var d;d=a.offset;if(void 0!==d)return R.dR(d),void 0!==a.length?(a=a.offset+a.length-1,R.dR(a),R.Ga(d<=a),d+"-"+a):d+"-";}function d(){return!1!==l.tk.onLine;}function k(a,d,b,f){var k,m;k=f.m$;m=f.headers;a.open(k?"POST":"GET",d,!b);switch(f.responseType){case c.$S:a.responseType="arraybuffer";break;case c.yua:T.O0a(a,"overrideMimeType",void 0,"text/xml");}k&&(d={"Content-Type":x.Sd(k)?"text/plain":"application/x-octet-stream"},m=m?x.Wa(d,m):d);m&&T.Uc(m,function(d,b){a.setRequestHeader(d,b);});f.withCredentials&&(a.withCredentials=!0);void 0!==a.msCaching&&(a.msCaching="disabled");k?a.send(k):a.send();}function m(a,d){switch(d.type){case c.$S:return a.response||new ArrayBuffer(0);case c.yua:return a.responseXML;default:return a.responseText;}}Object.defineProperty(c,"__esModule",{value:!0});t=a(68);u=a(12);y=a(9);A=a(28);h=a(26);x=a(19);G=a(2);M=a(4);R=a(14);T=a(18);l=a(8);D=a(45);n=a(16);Q=a(20);r={UZ:1,IDb:2,EFa:3};c.Jd=function(){var g,K,T,l;function a(a){var d;try{d=a.url;n.yva(d)?0===d.indexOf("https")?l.ssl++:0===d.indexOf("http")?l["non-ssl"]++:l.invalid++:l.invalid++;}catch(pa){}}function A(){K.Jb(c.Ddb);K.Jb(c.zua);}function p(){K.Jb(c.Q6);K.Jb(c.zua);}g=M.Lf("Http");K=new t.Lj();T=0;l={ssl:0,"non-ssl":0,invalid:0};M.V.get(Q.He).register(G.I.vfa,function(a){u.config.Mub&&(J.addEventListener("online",A),J.addEventListener("offline",p),c.P6=d);a(y.yc);});return{addEventListener:K.addListener,removeEventListener:K.removeListener,download:function(d,b){var O,U,r,ia,ca,ka,X,N,ja,ea,wa;function f(){var a;f=x.ne;wa&&(clearTimeout(wa),wa=null);K.removeListener(c.Q6,p);ja&&(ja.onloadstart=null,ja.onreadystatechange=null,ja.onprogress=null,ja.onerror=null,ja.onload=null,ja=ja.onabort=null);N.W||(N.Y!=G.u.Ot?O.warn("Download failed",U,G.Xn(N)):O.trace("Download aborted",U));a=r;r=void 0;for(var d=a.length;d--;)(function(){var b;b=a[d];D.Ab(function(){b(N);});}());K.Jb(c.Bdb,N,!0);}function t(){wa&&(clearTimeout(wa),wa=null);wa=setTimeout(l,ea?X:ka);}function y(a,d,b,k){var m,t;N.W=!1;N.Y=a;m=h.Yf();t=N.rj;t.gg=t.gg||m;t.ol=t.ol||m;0<d&&(N.Wh=N.Hc=d);b&&(N.Qa=b);k&&(N.Cj=k);a!==G.u.SF&&a!==G.u.Ww&&a!==G.u.UF||!ja||(ja.onabort=null,W());f();}function A(a){var d,b;try{b=a.getResponseHeader("X-Netflix.Retry.Server.Policy");b&&(d=JSON.parse(b));}catch(wd){}return d;}function p(){c.P6()||y(G.u.SF);}function l(){y(ea?G.u.Ww:G.u.UF);}function W(){try{ja&&ja.abort();}catch(bc){}}function Q(){y(G.u.Ot);}R.Ga(b);O=d.j&&d.j.log&&M.bg(d.j,"Http")||g;U={Num:T++};r=[b];ia={};ka=d.SQ||u.config.SQ;X=d.v9||u.config.v9;a(d);N=function(){var a,b,k;a=x.ne;b=x.ne;k=x.ne;return{request:d,type:d.responseType,rj:ia,abort:W,timeout:l,Kma:function(a){f!==x.ne&&(R.Ga(r,"Callback should be added before download starts."),r&&r.unshift(a));},HU:function(a){k(a);},JU:function(d){a(d);},cE:function(a){b(a);},uqb:function(a){k=a;},Dqb:function(d){a=d;},pqb:function(a){b=a;}};}();D.Ab(function(){var a,b;if(n.yva(d.url))try{if(q(d,N),ca=N.url,R.yI(ca),U.Url=ca,c.P6()){ja=new XMLHttpRequest();a=u.config.Qub&&"undefined"!=typeof ja.onloadstart;a&&(ja.onloadstart=function(){var a;a=h.Yf();ia.requestTime=a;N.HU({mediaRequest:d,timestamp:a});});ja.onreadystatechange=function(){if(2==ja.readyState){ea=!0;ia.gg=h.Yf();ja.onreadystatechange=null;t();for(var a=N,b=ja.getAllResponseHeaders().split("\n"),f=b.length,k,m,c={};f--;)if(k=b[f])m=k.indexOf(": "),1<=m&&m<k.length-1&&(c[k.substr(0,m)]=k.substr(m+2));a.headers=c;N.JU({timestamp:ia.gg,connect:!0,mediaRequest:d,start:ia.requestTime,rt:[ia.gg-ia.requestTime]});}};ja.onprogress=function(a){ea=!0;ia.Uu=a.loaded;t();a={mediaRequest:d,bytes:a.loaded,tempstamp:h.Yf(),bytesLoaded:a.loaded};N.JU(a);};ja.onload=function(){var a;if(f!==x.ne){R.Ga(void 0===ia.ol);ia.ol=h.Yf();ia.gg=ia.gg||ia.ol;if(200<=ja.status&&299>=ja.status)if(a=m(ja,N),d.ei)try{N.content=d.ei(a,N);N.W=!0;N.parsed=!0;N.raw=a;}catch(wd){O.warn("Exception parsing response",wd,U);y(G.u.DY,void 0,x.ud(wd));}else N.parsed=!1,N.content=a,N.W=!0;else ja.status==Z?y(G.u.IA,ja.status):y(G.u.TF,ja.status,ja.response,A(ja));f();}};ja.onabort=Q;ja.onerror=function(){var a,d;a=ja.status;"undefined"!==typeof u.config.Zra&&(a=u.config.Zra);if(0<a)if(a==Z)y(G.u.IA,a);else{try{d=ja.responseText;}catch(Ke){}y(G.u.TF,a,d,A(ja));}else y(G.u.JA);};b=h.Yf();k(ja,ca,!1,d);K.Jb(c.Cdb,N,!0);a||(ia.requestTime=b,N.HU({mediaRequest:d,timestamp:b}));t();K.addListener(c.Q6,p);}else D.Ab(y.bind(void 0,G.u.SF));}catch(Za){O.error("Exception starting download",Za,U);y(G.u.HY,void 0,x.ud(Za));}else y(G.u.Rea);});return N;},Lb:l,PIb:function(a){var d;d=new XMLHttpRequest();a=f(a);d.open("HEAD",a);d.onreadystatechange=function(){};d.send();},jrb:function(a){var d;d=new XMLHttpRequest();a=b(a);d.open("HEAD",a);d.onreadystatechange=function(){};d.send();},Gmb:function(a){var d,b,f;d=new XMLHttpRequest();b=a.url;f=a.Dmb;d.open("HEAD",b);d.timeout=Math.max(2*f.rgb,u.config.x$);d.onreadystatechange=function(){2==d.readyState&&f&&f.fl({url:b});};d.ontimeout=d.onerror=function(){f&&f.C9({url:b});};d.send();},kQa:r};}();c.xHb=b;c.uHb=f;c.wHb=q;c.vHb=p;c.P6=y.mQa;c.yHb=d;c.KDb=k;c.JDb=m;c.Cdb=1;c.Bdb=2;c.Ddb=3;c.Q6=4;c.zua=5;c.xua=1;c.yua=2;c.$S=3;Z=420;J._cad_global.http=c.Jd;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.pN="EventSourceSymbol";c.UX="GlobalEventSourceSymbol";c.GF="DebugEventSourceSymbol";},function(g,c,a){var f,q,p,d,k,m;function b(a){return a.reduce(function(a,d){return a.concat(d instanceof m.jO?d.YI:d);},[]);}f=a(101);q=a(464);p=a(463);d=a(1006);k=a(462);m=a(1005);g=function(){function a(a){this.closed=!1;this.TB=this.Cx=this.Pm=null;a&&(this.Or=a);}a.prototype.unsubscribe=function(){var a,t,c,g,h,G;a=!1;if(!this.closed){c=this.Pm;g=this.Cx;h=this.Or;G=this.TB;this.closed=!0;this.TB=this.Cx=this.Pm=null;for(var M=-1,R=g?g.length:0;c;)c.remove(this),c=++M<R&&g[M]||null;p.Ob(h)&&(c=d.zDa(h).call(this),c===k.dv&&(a=!0,t=t||(k.dv.e instanceof m.jO?b(k.dv.e.YI):[k.dv.e])));if(f.isArray(G))for(M=-1,R=G.length;++M<R;)c=G[M],q.Ze(c)&&(c=d.zDa(c.unsubscribe).call(c),c===k.dv&&(a=!0,t=t||[],c=k.dv.e,c instanceof m.jO?t=t.concat(b(c.YI)):t.push(c)));if(a)throw new m.jO(t);}};a.prototype.add=function(d){var b;if(!d||d===a.EMPTY)return a.EMPTY;if(d===this)return this;b=d;switch(typeof d){case"function":b=new a(d);case"object":if(b.closed||"function"!==typeof b.unsubscribe)return b;if(this.closed)return b.unsubscribe(),b;"function"!==typeof b.Ija&&(d=b,b=new a(),b.TB=[d]);break;default:throw Error("unrecognized teardown "+d+" added to Subscription.");}(this.TB||(this.TB=[])).push(b);b.Ija(this);return b;};a.prototype.remove=function(a){var d;d=this.TB;d&&(a=d.indexOf(a),-1!==a&&d.splice(a,1));};a.prototype.Ija=function(a){var d,b;d=this.Pm;b=this.Cx;d&&d!==a?b?-1===b.indexOf(a)&&b.push(a):this.Cx=[a]:this.Pm=a;};a.EMPTY=function(a){a.closed=!0;return a;}(new a());return a;}();c.wk=g;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.pp="PlatformSymbol";},function(g,c,a){var f,q,p,d;function b(a,d,b,f,c,q){this.context=a;this.errorCode=d;this.Sob=b;this.$$=c;this.Z$=q;this.name=f;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);q=a(293);p=a(3);d=a(56);b.prototype.send=function(a,d,b,f,c,q,p){var k;k=this;return this.aab(a,d,b,f,c,q,p).then(function(a){return k.context.x6a.send(a.context,a.request);});};b.prototype.aab=function(a,d,b,f,c,p,g){var k,m;try{k=q.n0a(this.context.yv.tC(),b,this.context.gl,f,c);m=this.l0a(a,d,p,g);return Promise.resolve({context:m,request:k});}catch(M){return Promise.reject(M);}};b.prototype.l0a=function(a,d,b,f){return{Jd:this.context.Jd,log:a,Qk:this.name,url:this.context.Hub(q.o0a(this.context.Kf,this.context.gl,this.name)),profile:d,jaa:this.Sob,timeout:p.Fg(59),headers:{"Content-Type":"text/plain"},Z$:this.Z$,$$:void 0!==b?b:this.$$,U_a:f};};b.prototype.pn=function(a){return a instanceof d.Qc?a:q.pn(this.errorCode,a);};b.prototype.Goa=function(a){var d;d=this;a.forEach(function(a){if(d.q7(a))throw a.error;});};b.prototype.q7=function(a){return void 0!==a.error;};a=b;a=g.__decorate([f.N(),g.__param(0,f.dh()),g.__param(1,f.dh()),g.__param(2,f.dh()),g.__param(3,f.dh()),g.__param(4,f.dh()),g.__param(5,f.dh())],a);c.Fh=a;},function(g,c,a){var u;function b(a,b){if(a.length==b.length&&1<a.length){for(var f=a.length,k=0,m=d(a),c=d(b),t=0;t<f;t++)k+=a[t]*b[t];return(k-m*c/f)/f;}return!1;}function f(a){if(!Array.isArray(a)||2>a.length)return!1;a=q(a);return Math.sqrt(a);}function q(a){var b;if(!Array.isArray(a)||2>a.length)return!1;b=p(a);return d(a.map(function(a){return(a-b)*(a-b);}))/(a.length-1);}function p(a){return Array.isArray(a)&&a.length?d(a)/a.length:!1;}function d(a){return Array.isArray(a)?a.reduce(function(a,d){return a+d;},0):!1;}function k(a,d,b){return Math.max(Math.min(a,b),d);}function m(a,d){return"number"===typeof a?a:d;}function t(a){return 1/(1+Math.exp(-a));}u=a(6);g.T={na:function(a,d,b){try{a.na(d,b);}catch(x){a.bd("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",x,"Event:",b);}},$m:function(){var a,d,b;a=Array.prototype.concat.apply([],arguments);d=a.reduce(function(a,d){return a+d.byteLength;},0);b=new Uint8Array(d);a.reduce(function(a,d){b.set(new Uint8Array(d),a);return a+d.byteLength;},0);return b.buffer;},nC:k,x1a:function(a,d,b,f){return{min:k(m(a.min,d),b,f),max:k(m(a.max,d),b,f),ms:k(a.ms||6E4,0,6E5),Coa:k(a.Coa||0,-3E5,3E5),scale:k(a.scale||6E4,0,3E5),kBa:k(a.kBa||0,-3E5,3E5),gamma:k(a.gamma||1,.1,10)};},Uc:function(a,d){void 0!==a&&u.zkb(a).forEach(function(a){d(a[0],a[1]);});},v8a:function(a,d,b){return a.min+(a.max-a.min)*(1-Math.pow(t(6*(d-(a.ms+(a.Coa||0)*(1-b)))/(a.scale+(a.kBa||0)*(1-b))),a.gamma));},w8a:function(a,d){return a.min+(a.max-a.min)*Math.pow(t(6*(d-a.ms)/a.scale),a.gamma);},jHb:d,n$a:p,xcb:q,hHb:f,PGb:b,OGb:function(a,d){var k;if(a.length==d.length){k=b(a,d);a=f(a);d=f(d);if(0<a&&0<d)return k/(a*d);}return!1;},ND:function(a,d,b){return d.Epa?d.Epa(b):new a.Console("ASEJS","media|asejs",b);},xL:function(a){return a.length?"{"+a+"} ":"";},hpb:function(a,d,b){return{min:a.min*b+(1-b)*d.min,max:a.max*b+(1-b)*d.max,ms:a.ms*b+(1-b)*d.ms,scale:a.scale*b+(1-b)*d.scale,gamma:a.gamma*b+(1-b)*d.gamma};},tanh:Math.tanh||function(a){var d;d=Math.exp(+a);a=Math.exp(-a);return Infinity==d?1:Infinity==a?-1:(d-a)/(d+a);},eba:t};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.mg={audio:"audio",video:"video",yW:"timedtext",cca:"trickplay"};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.ul={start:"start",stop:"stop",WJ:"keepAlive",TI:"engage",splice:"splice"};c.RX="EventPboCommandFactorySymbol";c.Nia="StartEventPboCommandSymbol";c.Oia="StopEventPboCommandSymbol";c.Lfa="KeepAliveEventPboCommandSymbol";c.Lia="SpliceEventPboCommandSymbol";c.xea="EngageEventPboCommandSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});(function(a){a[a.Dm=0]="STANDARD";a[a.Tt=1]="LIMITED";}(c.Zi||(c.Zi={})));c.Uva=function(a){return["STANDARD","LIMITED"][a];};},function(g,c,a){var b,f,q,p,d,k,m,t;b=a(80);f=a(453);q=a(452);p=a(464);d=a(10);k=a(165);m=a(988);t=a(240);c.vt=function(a,c,g,h){var u;u=new m.Cfa(a,g,h);if(u.closed)return null;if(c instanceof d.Da)if(c.Ar)u.next(c.value),u.complete();else return u.nk=!0,c.subscribe(u);else if(f.Zua(c)){a=0;for(g=c.length;a<g&&!u.closed;a++)u.next(c[a]);u.closed||u.complete();}else{if(q.pva(c))return c.then(function(a){u.closed||(u.next(a),u.complete());},function(a){return u.error(a);}).then(null,function(a){b.root.setTimeout(function(){throw a;});}),u;if(c&&"function"===typeof c[k.iterator]){c=c[k.iterator]();do{a=c.next();if(a.done){u.complete();break;}u.next(a.value);if(u.closed)break;}while(1);}else if(c&&"function"===typeof c[t.observable])if(c=c[t.observable](),"function"!==typeof c.subscribe)u.error(new TypeError("Provided object does not correctly implement Symbol.observable"));else return c.subscribe(new m.Cfa(a,g,h));else c="You provided "+(p.Ze(c)?"an invalid object":"'"+c+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.",u.error(new TypeError(c));}return null;};},function(g,c,a){var b;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};g=function(a){function f(){a.apply(this,arguments);}b(f,a);f.prototype.nz=function(a,d){this.destination.next(d);};f.prototype.z9=function(a){this.destination.error(a);};f.prototype.fl=function(){this.destination.complete();};return f;}(a(46).ri);c.kr=g;},function(g,c,a){g=a(250);a="undefined"!==typeof self&&"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self;g="undefined"!==typeof J&&J||"undefined"!==typeof g&&g||a;c.root=g;if(!g)throw Error("RxJS could not find any global context (window, self, global)");},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Tn={Request:"Request",OZ:"Singleton",fO:"Transient"};c.Gh={zda:"ConstantValue",Ada:"Constructor",mea:"DynamicValue",TX:"Factory",Function:"Function",NY:"Instance",ALa:"Invalid",kia:"Provider"};c.or={wda:"ClassProperty",Bda:"ConstructorArgument",$Z:"Variable"};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=c.ResponseType||(c.ResponseType={});g[g.Text=0]="Text";g[g.LDb=1]="Xml";g[g.Ewb=2]="Binary";c.ezb="HttpClientSymbol";c.Ut="LegacyHttpSymbol";},function(g){var c;c=function(){function a(a){this.Jf=a;}a.prototype.Eqb=function(a){this.Jf=a;};a.prototype.Moa=function(){this.Jf=void 0;};a.prototype.uy=function(a){this.Jf&&this.Jf.qz&&this.Jf.qz(a);};a.prototype.ty=function(a){this.Jf&&this.Jf.aw&&this.Jf.aw(a);};a.prototype.eD=function(a){this.Jf&&this.Jf.HK&&this.Jf.HK(a);};a.prototype.hv=function(a){this.Jf&&this.Jf.ci&&this.Jf.ci(a);};a.prototype.jS=function(a){this.Jf&&this.Jf.dE&&this.Jf.dE(a);};a.prototype.iS=function(a,f){this.Jf&&this.Jf.KU&&this.Jf.KU(a,f);};return a;}();c.prototype.qz=c.prototype.uy;c.prototype.aw=c.prototype.ty;c.prototype.HK=c.prototype.eD;c.prototype.ci=c.prototype.hv;c.prototype.dE=c.prototype.jS;c.prototype.KU=c.prototype.iS;g.T=c;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});(function(a){a[a.Jqa=0]="downloading";a[a.M6a=1]="downloaded";a[a.Rh=2]="appended";a[a.buffered=3]="buffered";a[a.PJb=4]="removed";a[a.RKb=5]="unused";}(c.Vca||(c.Vca={})));(function(a){a[a.waiting=1]="waiting";a[a.YIb=2]="ondeck";a[a.Jqa=4]="downloading";a[a.M6a=8]="downloaded";a[a.OJ=6]="inprogress";}(c.Uca||(c.Uca={})));c.dwb="AseBufferViewSymbol";c.eX="AseBufferAccountingSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Dt="ApiInfoSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Vda="DebugConfigSymbol";c.Gt="DebugSymbol";},function(g,c,a){var f,q;function b(a,d,b,c,t){a=void 0===a?f.I.bj:a;return q.Qc.call(this,a,d,b,void 0,void 0,c,q.Qc.ud(t),t)||this;}Object.defineProperty(c,"__esModule",{value:!0});f=a(2);q=a(56);ba(b,q.Qc);c.Gf=b;},function(g,c,a){var q,p;function b(a,b,f,c,u){var d,k,t;d={};k="number"===typeof u;u=void 0!==u&&k?u.toString():f;if(k&&void 0!==f)throw Error(q.hLa);Reflect.y6(a,b)&&(d=Reflect.getMetadata(a,b));f=d[u];if(Array.isArray(f))for(var k=0,m=f;k<m.length;k++){t=m[k];if(t.key===c.key)throw Error(q.wIa+" "+t.key.toString());}else f=[];f.push(c);d[u]=f;Reflect.L3(a,d,b);}function f(a,b){return function(d,f){b(d,f,a);};}Object.defineProperty(c,"__esModule",{value:!0});q=a(52);p=a(31);c.dA=function(a,f,c,t){b(p.Tia,a,f,t,c);};c.iM=function(a,f,c){b(p.Uia,a.constructor,f,c);};c.Xu=function(a,b,c){"number"===typeof c?Reflect.Xu([f(c,a)],b):"string"===typeof c?Reflect.Xu([a],b,c):Reflect.Xu([a],b);};},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(15);c.fNa=function(a,q){var d;function f(){}d=[];this.st=function(a){var k;for(var b=[],f=d.length;f--;){k=d[f];k.st(a)&&b.push(k.cJ);}if(b.length)return b;};c.zga.forEach(function(b){(b=b(a,q))&&d.push(b);});0<d.length&&a.addEventListener(b.S.wj,f);};c.fG=function(a){c.zga.push(a);};c.zga=[];},function(g,c,a){var b,f,q,p,d,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(12);f=a(9);q=a(14);g=a(2);p=a(4);d=a(65);k=a(33);a=a(20);p.V.get(a.He).register(g.I.cfa,function(a){q.Ga(b.config);k.VY&&q.Ga(J._cad_global.msl.Yg);p.V.get(d.Xq)().then(function(d){c.hj=d;a(f.yc);})["catch"](function(d){a(d);});});},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.gx="PboConfigSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Rw="DeviceFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.cZ="6674654e-696c-5078-6966-665374726d21";c.dZ="6674654e-696c-4878-6165-6465722e7632";c.Kga="6674654e-696c-5078-6966-66496e646578";c.MN="6674654e-696c-4d78-6f6f-6653697a6573";c.LN="6674654e-696c-5378-6565-6b506f696e74";c.eha="cedb7489-e77b-514c-84f9-7148f9882554";c.dha="524f39a2-9b5a-144f-a244-6c427c648df4";c.bZ="6674654e-696c-4678-7261-6d6552617465";},function(g,c,a){var b,f,q,p,d,k,m;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);a(13);f=a(11);q=a(54);p=a(60);g=a(40);d=a(156);k=a(212);a=a(155);m=function(a){function c(d,b){var f;f=a.call(this,d,b)||this;f.wi=b.index;f.uB=b.$a;f.qr=b.wb;f.tYa=b.xc?b.xc:d.xc;f.$la=b.Vo||0;f.fla=!!b.hq;f.$f=void 0===b.a5||void 0===b.Z4||b.a5===b.$a&&b.Z4===b.wb?f:new k.zF(f,{$a:b.a5,wb:b.Z4});f.yVa=b.j9;f.NSa=b.rg;f.ur=b.Ta?f.Uxa(b.Ta):void 0;f.uma=b.Aw;f.Rh=!1;return f;}b.__extends(c,a);Object.defineProperties(c.prototype,{Ny:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{index:{get:function(){return this.wi;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{xc:{get:function(){return this.tYa;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{$a:{get:function(){return this.uB;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{wb:{get:function(){return this.qr;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Vo:{get:function(){return this.$la;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{hq:{get:function(){return this.fla;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{j9:{get:function(){return this.yVa;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{rg:{get:function(){return this.NSa;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ta:{get:function(){return this.ur;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Aw:{get:function(){return this.uma;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{a5:{get:function(){return this.$f.$a;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Z4:{get:function(){return this.$f.wb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{K9a:{get:function(){return this.$f.Rl;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{esa:{get:function(){return this.$f.RK;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{jv:{get:function(){return this.$f.Ic;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{kS:{get:function(){return this.$f.ge;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{dsa:{get:function(){return this.$f.duration;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{csa:{get:function(){return this.$f.Oc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{iJ:{get:function(){return this.K9a/this.stream.Ia.Ad;},enumerable:!0,configurable:!0}});c.prototype.VBa=function(a){this.$la=a.qm(this.ga).Ad;};c.prototype.A8=function(){this.fla=!0;};c.prototype.HL=function(a){this.uma=a;};c.prototype.Ej=function(a){var d,b;void 0===a&&(a={});d=this.stream.Ia.Ad;b=this.ur||{start:0,end:this.iJ};a=this.Uxa(a);this.$f&&this.$f!==this||(this.$f=new k.zF(this,this));a.start>b.start&&(this.uB=this.$f.$a+a.start*d);a.end<b.end&&(this.qr=this.$f.$a+a.end*d);this.ur=a;};c.prototype.Lqa=function(){this.ur?this.Ej({start:this.ur.start+1,end:this.ur.end}):this.Ej({start:1});};c.prototype.W6a=function(){this.ur?this.Ej({start:this.ur.start,end:(this.ur.end||0)-1}):this.Ej({start:0,end:-1});};c.prototype.n9a=function(a){var b;if(!(a<this.U||a>=this.ha)&&this.rg&&this.rg.length){a=new p.gc(a+1-this.U,1E3).LC(this.stream.Ia);for(var d=this.rg.length-1;0<=d;--d){b=this.rg[d];if(b.km<=a)return b;}return{km:0,Kd:this.jv};}};c.prototype.m9a=function(a){var b;if(!(a<this.U||a>=this.ha)&&this.rg&&this.rg.length){a=new p.gc(a+1-this.U,1E3).LC(this.stream.Ia);for(var d=this.rg.length-1;0<=d;--d){b=this.rg[d];if(b.km<=a)return b;}return{km:0,Kd:this.jv};}};c.prototype.Dra=function(a,d){var b,f,k;if(!(a<this.U||a>=this.ha)){b=this.Ia.Ad;f=this.Ia.ga;k=Math.floor(this.Rl/b);a=Math.min((d?Math.ceil:Math.floor)((p.gc.Cxa(a,f)-this.$a+(d?-1:1)*(f/1E3-1))/b),k);b=p.gc.kDa(this.$a+a*b,f);return a===k?void 0:{km:a,Kd:b};}};c.prototype.YR=function(a){return this.O===f.L.VIDEO?this.n9a(a):this.Dra(a,!1);};c.prototype.k9a=function(a){return this.O===f.L.VIDEO?this.m9a(a):this.Dra(a,!0);};c.prototype.v1=function(a){this.Vb+=a.aa;this.qr=a.wb;};c.prototype.toString=function(){return"["+this.za+", "+this.P+"kbit/s, "+("c:"+this.Oc+"-"+this.Ve+",")+("p:"+this.Ic+"-"+this.ge+",d:"+this.duration+"]");};c.prototype.toJSON=function(){var a;a=d.Kw.prototype.toJSON.call(this);q({index:this.index,startPts:this.U,endPts:this.ha,contentStartPts:this.Oc,contentEndPts:this.Ve,fragmentStartPts:this.jv!==this.U?this.jv:void 0,fragmentEndPts:this.kS!==this.ha?this.kS:void 0,edit:this.Ta},a);return a;};c.prototype.Lra=function(a){var d;if(this.rg)for(var b=0;b<this.rg.length;++b)this.rg[b].km===a&&(d=this.rg[b].offset);return d;};c.prototype.Uxa=function(a){return{start:a.start||0,end:(void 0!==a.end&&0<=a.end?0:this.iJ)+(a.end||0)};};return c;}(d.Kw);c.qk=m;g.mi(a.TM,m);},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.OA="LoggerSinksSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.dB="ThrottleFactorySymbol";},function(g,c,a){var f;function b(){}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.format=function(a,b){var f;for(var d=1;d<arguments.length;++d);f=Array.prototype.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,d){return"undefined"!=typeof f[d]?f[d]:a;});};b.prototype.dsb=function(a){for(var b=a.length,d=new Uint16Array(b),f=0;f<b;f++)d[f]=a.charCodeAt(f);return d.buffer;};b.prototype.rW=function(a){return JSON.stringify(a,null,"  ");};f=b;f=g.__decorate([a.N()],f);c.ox=f;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.rx="Utf8EncoderSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Nw="Base16EncoderSymbol";},function(g,c,a){var b,f,q,p;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};g=a(10);f=a(236);q=a(132);p=a(117);a=function(a){function d(d,b){a.call(this);this.Jp=d;(this.ka=b)||1!==d.length||(this.Ar=!0,this.value=d[0]);}b(d,a);d.create=function(a,b){return new d(a,b);};d.of=function(){var k;for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];b=a[a.length-1];p.Qy(b)?a.pop():b=null;k=a.length;return 1<k?new d(a,b):1===k?new f.MZ(a[0],b):new q.LF(b);};d.Ab=function(a){var d,b,f;d=a.Jp;b=a.index;f=a.Cf;b>=a.count?f.complete():(f.next(d[b]),f.closed||(a.index=b+1,this.Kb(a)));};d.prototype.Wf=function(a){var b,f,k;b=this.Jp;f=b.length;k=this.ka;if(k)return k.Kb(d.Ab,0,{Jp:b,index:0,count:f,Cf:a});for(k=0;k<f&&!a.closed;k++)a.next(b[k]);a.complete();};return d;}(g.Da);c.Iw=a;},function(g,c){c.isArray=Array.isArray||function(a){return a&&"number"===typeof a.length;};},function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});g=a(71);c.pLa=g.pLa;g=a(10);c.Da=g.Da;g=a(166);c.aj=g.aj;g=a(459);c.WN=g.WN;g=a(457);c.yda=g.yda;g=a(995);c.aja=g.aja;a(991);a(987);a(981);a(979);a(976);a(972);a(969);a(965);a(962);a(960);a(958);a(956);a(953);a(949);a(946);a(945);a(942);a(938);a(935);a(934);a(932);a(930);a(927);a(925);a(924);a(922);a(919);a(916);a(913);a(910);a(909);g=a(242);c.UNa=g.UNa;a=a(71);c.wk=a.wk;},function(g,c){var a;Object.defineProperty(c,"__esModule",{value:!0});a=0;c.id=function(){return a++;};},function(g,c,a){var b,f,q,p,d,k,m,t;Object.defineProperty(c,"__esModule",{value:!0});b=a(9);f=a(12);g=a(2);q=a(14);p=a(4);d=a(336);k=a(33);m=a(8);a=a(20);t=p.V.get(a.He);t.register(g.I.KY,function(a){var u,g;q.Ga(f.config);q.Ga(m.Xt&&m.Xt.getDeviceId||m.eZ||k.Mea);u=p.V.get(d.aea);g=p.Lf("Device");t.Pc("devs");u.create({deviceId:f.config.deviceId,h5:k.Mea,rR:"deviceid",Rg:f.config.Rg,ln:k.Jg.OX,uqa:k.Lda,userAgent:m.Oj,b8:f.config.b8,w5:f.config.w5,l6a:k.Jg.Jda,r_a:f.config.Rna.e,k6a:k.Jg.QHa,lJ:f.config.lJ,cua:f.config.dvb,Lib:f.config.Up?"mslstoretest":"mslstore"}).then(function(d){c.xh=d;J._cad_global.device=c.xh;g.info("Esn source: "+c.xh.ZC);t.Pc("devdone");a(b.yc);})["catch"](function(d){d.W=void 0;a(d);});});},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(16);c.ir=c.ir||function(a,b,c){return a>=b?a<=c?a:c:b;};c.TAb=function(a,b,c,d,k){return(a-b)*(k-d)/(c-b)+d;};c.ih=function(a){if(b.pa(a))return(a/1E3).toFixed(3);};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=c.er||(c.er={});g[g.Cwb=8]="Backspace";g[g.Tab=9]="Tab";g[g.myb=13]="Enter";g[g.YCb=16]="Shift";g[g.qxb=17]="Ctrl";g[g.Zvb=18]="Alt";g[g.NBb=19]="PauseBreak";g[g.gxb=20]="CapsLock";g[g.syb=27]="Escape";g[g.$Cb=32]="Space";g[g.MBb=33]="PageUp";g[g.LBb=34]="PageDown";g[g.lyb=35]="End";g[g.czb=36]="Home";g[g.Mzb=37]="LeftArrow";g[g.yDb=38]="UpArrow";g[g.cCb=39]="RightArrow";g[g.Pxb=40]="DownArrow";g[g.Czb=45]="Insert";g[g.Ixb=46]="Delete";g[g.ODb=48]="Zero";g[g.jBb=49]="One";g[g.rDb=50]="Two";g[g.nDb=51]="Three";g[g.Nyb=52]="Four";g[g.Lyb=53]="Five";g[g.ZCb=54]="Six";g[g.XCb=55]="Seven";g[g.kyb=56]="Eight";g[g.PAb=57]="Nine";g[g.Pvb=65]="A";g[g.fwb=66]="B";g[g.Ywb=67]="C";g[g.sHa=68]="D";g[g.E=69]="E";g[g.tyb=70]="F";g[g.Oyb=71]="G";g[g.Ryb=72]="H";g[g.wKa=73]="I";g[g.Dzb=74]="J";g[g.PY=75]="K";g[g.ELa=76]="L";g[g.Qzb=77]="M";g[g.xNa=78]="N";g[g.dBb=79]="O";g[g.lBb=80]="P";g[g.Q=81]="Q";g[g.XBb=82]="R";g[g.zQa=83]="S";g[g.CRa=84]="T";g[g.sDb=85]="U";g[g.zDb=86]="V";g[g.FDb=87]="W";g[g.c_=88]="X";g[g.MDb=89]="Y";g[g.NDb=90]="Z";g[g.Nzb=91]="LeftWindowKey";g[g.dCb=92]="RightWindowKey";g[g.VCb=93]="SelectKey";g[g.UAb=96]="Numpad0";g[g.VAb=97]="Numpad1";g[g.WAb=98]="Numpad2";g[g.XAb=99]="Numpad3";g[g.YAb=100]="Numpad4";g[g.ZAb=101]="Numpad5";g[g.$Ab=102]="Numpad6";g[g.aBb=103]="Numpad7";g[g.bBb=104]="Numpad8";g[g.cBb=105]="Numpad9";g[g.nAb=106]="Multiply";g[g.Yvb=107]="Add";g[g.gDb=109]="Subtract";g[g.Hxb=110]="DecimalPoint";g[g.Oxb=111]="Divide";g[g.uyb=112]="F1";g[g.yyb=113]="F2";g[g.zyb=114]="F3";g[g.Ayb=115]="F4";g[g.Byb=116]="F5";g[g.Cyb=117]="F6";g[g.Dyb=118]="F7";g[g.Eyb=119]="F8";g[g.Fyb=120]="F9";g[g.vyb=121]="F10";g[g.wyb=122]="F11";g[g.xyb=123]="F12";g[g.RAb=144]="NumLock";g[g.TCb=145]="ScrollLock";g[g.WCb=186]="SemiColon";g[g.oyb=187]="Equals";g[g.mxb=188]="Comma";g[g.Gxb=189]="Dash";g[g.PBb=190]="Period";g[g.Myb=191]="ForwardSlash";g[g.oDb=192]="Tilde";g[g.kBb=219]="OpenBracket";g[g.Bwb=220]="BackSlash";g[g.kxb=221]="CloseBracket";g[g.WBb=222]="Quote";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.fB="VideoPreparerSymbol";},function(g,c,a){var d,k;function b(a){return a instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(a);}function f(a){return d.Sd(a);}function q(a){return d.pa(a);}function p(a){return!b(a)&&!f(a)&&!q(a)&&!Array.isArray(a)&&d.Ze(a);}d=a(6);k={Pw:0,aO:1,FNa:2,OBJECT:3,bj:4};g.T={o6:function(a){return b(a)?k.Pw:f(a)?k.aO:q(a)?k.FNa:p(a)?k.OBJECT:k.bj;},qT:b,Sd:f,pa:q,Ze:p,Am:k};},function(g){var c;c={JJ:function(a){for(var b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);}};g.T=c;},function(g,c,a){var b;b=a(158);g.T=function(a){return function p(d){return 0===arguments.length||b(d)?p:a.apply(this,arguments);};};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.RA="MslSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});(function(a){function b(){}function f(){}function c(){}c.oGa="cache_start";c.pGa="cache_success";c.lGa="cache_abort";c.nGa="cache_fail";c.mGa="cache_evict";c.oOa="pb_request";c.PQa="start_playback";a.Tw=c;f.Gca="auth";f.Xw="ldl";f.PF="hdr";f.MEDIA="media";a.Wi=f;b.YM="cached";b.LOADING="loading";b.oJa="expired";a.PM=b;}(c.ye||(c.ye={})));c.eia="PrefetchEventsFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.cB="SourceBufferTypeProviderSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.qx="TimingApiSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Sia="SystemRandomSymbol";c.tG="RandomGeneratorSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.NA="IdProviderSymbol";},function(g,c){c.Qy=function(a){return a&&"function"===typeof a.Kb;};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.cx="MediaKeySystemAccessServicesSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.hea="DrmServicesSymbol";c.lN="DrmServicesProviderSymbol";},function(g,c,a){var f,q,p,d,k,m,t,u,y,A,h,x,G,M,R,T,l;function b(a){var c;c=this;this.createPlayer=function(a,b){var f,k;b=void 0===b?{}:b;b="number"===typeof b?{bh:b}:b;f=b.manifest;if(f&&f.runtime)f.clientGenesis=f.clientGenesis||h.F2(),f=d.V.get(A.XY).decode(f);else if(f){k=d.V.get(R.oG)();k.gQ(f.links);f.xf=k;}a=d.V.get(G.DZ).D4a(a);return d.V.get(x.EZ).create(a,b,f).mEa;};this.createPlaygraphPlayer=function(a,b,f){var k;k=d.V.get(M.aia);return d.V.get(x.EZ).create(k.ztb(a),b,f).mEa;};this.closeAllPlayers=function(a){p.Sha(void 0===a?function(){}:a);};this.init=function(a){a=void 0===a?function(){}:a;c.qQ.dK(function(k){k.W?(q.config.SV?c.Mpb().then(function(){f.wPa();})["catch"](function(a){d.log.error("Unable to initialize the playdata services",a);}):Promise.resolve()).then(function(){Object.assign(c,b.IH);a(Object.assign({success:!0},b.IH));}):a({success:!1,error:d.CZ(k.errorCode||m.I.bfa,k)});});};this.applyConfig=function(a){c.QDa(a);q.hpa(a);};this.prepare=function(a,b){var f;a=c.r$.pqa(a)||[];f=new Set();a=a.filter(function(a){var d;d=f.has(a.M);f.add(a.M);return!d;});if(q.config.En&&c.Kc())try{c.Kc().iw(a,b);}catch(ea){d.log.warn("Prepare call failed",ea);}};this.predownload=function(a,b){if((a=c.r$.pqa(a))&&q.config.Fw&&c.Kc())try{c.Kc().jmb(a,b);}catch(Z){d.log.warn("Predownload call failed",Z);}};this.lookupPredownloaded=function(){return q.config.Fw&&c.Kc()?c.Kc().Yy():Promise.resolve([]);};this.ppmUpdate=function(a){J._cad_global.playerPredictionModel?((a=c.r$.e6a(a))&&J._cad_global.playerPredictionModel.update(a),J._cad_global.prefetchEvents&&J._cad_global.prefetchEvents.update(a)):d.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(a){var b;try{b=d.hD().$L();a(b);}catch(Z){a(!1);}};this.supportsUltraHd=function(a){d.hD().bM().then(a)["catch"](function(){return a(!1);});};this.supportsDolbyAtmos=function(a){var b;try{b=d.hD().XL();a(b);}catch(Z){a(!1);}};this.supportsDolbyVision=function(a){var b;try{b=d.hD().YL();a(b);}catch(Z){a(!1);}};this.close=function(){};this.deviceThroughput=function(){var a;a=d.V.get(u.PN).g3();return a?Promise.resolve(a.Xk()):Promise.resolve(void 0);};this.deviceThroughputNiqr=function(){var a;a=d.V.get(u.PN).g3();return a?Promise.resolve(a.mbb()):Promise.resolve(void 0);};this.isSeamlessEnabled=function(){return q.config.B7a;};this.r$=d.V.get(k.zZ);this.qQ=d.V.get(l.He);this.Kc=d.V.get(T.fB);this.QDa(a);q.c2a([a]);d.hD().bM();}Object.defineProperty(c,"__esModule",{value:!0});f=a(181);q=a(12);p=a(57);d=a(4);k=a(183);m=a(2);t=a(27);u=a(190);y=a(146);A=a(160);h=a(26);x=a(263);G=a(172);M=a(257);R=a(123);T=a(107);l=a(20);b.prototype.QDa=function(a){d.V.get(t.FN).Thb(a);};b.prototype.Mpb=function(){return d.V.get(y.UN)()["catch"](function(a){d.log.error("Unable to initialize the playdata services",a);throw a;}).then(function(a){return a.send(Infinity);})["catch"](function(a){d.log.error("Unable to send deferred playdata",a);});};c.kO=b;b.IH={};},function(g,c,a){var f,q,p;function b(a,b,f,c,u){b=p.Fh.call(this,a,b,c,q.Oh.events,u,q.Oh.events+"/"+f)||this;b.context=a;b.x8a=f;return b;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);q=a(38);p=a(73);a(149);ba(b,p.Fh);b.prototype.Ye=function(a,b,f){var d,k;d=this;k=this.zQ(f);return this.send(a,b,f.href,k).then(function(){return f;})["catch"](function(a){throw d.pn(a);});};b.prototype.nn=function(a,b,f,c){var d,k;d=this;k=this.zQ(c);return this.send(a,b,f.L5("events").href,k).then(function(a){f.gQ(a.result.links);return c;})["catch"](function(a){throw d.pn(a);});};b.prototype.zQ=function(a){return{event:this.x8a,xid:a.oa,position:a.position||0,clientTime:a.hI,sessionStartTime:a.EL,mediaId:a.cz,trackId:a.eb,sessionId:a.sessionId,appId:a.FH,playTimes:this.p0a(a.NK),sessionParams:a.lm,mdxControllerEsn:a.P8};};b.prototype.h2=function(a){return{downloadableId:a.Tc,duration:a.duration};};b.prototype.p0a=function(a){return{total:a.total,audio:a.audio.map(this.h2),video:a.video.map(this.h2),text:a.text.map(this.h2)};};a=b;a=g.__decorate([f.N(),g.__param(0,f.dh()),g.__param(1,f.dh()),g.__param(2,f.dh()),g.__param(3,f.dh()),g.__param(4,f.dh())],a);c.Sn=a;},function(g,c,a){var b,f,q,p,d,k,m,t,u,y,A,h,x,G;Object.defineProperty(c,"__esModule",{value:!0});b=a(49);f=a(296);q=a(571);p=a(140);d=a(12);k=a(9);m=a(145);t=a(281);u=a(26);g=a(2);y=a(4);A=a(190);h=a(8);x=a(141);G=a(20);y.V.get(G.He).register(g.I.dfa,function(g){var K,G,M,l,n,Q,r;K=y.V.get(A.PN).g3();G=y.V.get(m.eea).DA;M=y.V.get(f.xga).sk;l={wz:y.rS("ASE"),NZa:y.rS("JS-ASE",void 0,"Platform"),Lf:y.rS,storage:x.storage,ro:x.ro,nbb:h.jN,getTime:u.Yf,FD:{},sk:M,nr:q.nr,DA:G,MediaSource:t.cNa,SourceBuffer:p.vga,qta:function(){return[d.config.mQ,d.config.pQ];},XGb:function(){}};G=new Promise(function(a){x.storage.load("nh",function(d){l.FD.nh=d.W?d.data:void 0;a();});});M=new Promise(function(a){x.storage.load("lh",function(d){l.FD.lh=d.W?d.data:void 0;a();});});n=new Promise(function(a){x.storage.load("gh",function(d){l.FD.gh=d.W?d.data:void 0;a();});});Q=new Promise(function(a){x.storage.load("sth",function(d){l.FD.sth=d.W?d.data:void 0;a();});});r=new Promise(function(a){x.storage.load("vb",function(d){l.FD.vb=d.W?d.data:void 0;a();});});Promise.all([G,M,r,Q,n]).then(function(){var f;f=a(569)(l);c.Nb=a(280);c.Nb.declare(b.gn);c.Nb.declare({Fw:["useMediaCache",!1],Yu:["diskCacheSizeLimit",0],HFb:["dailyDiskCacheWriteLimit",0],cU:["mediaCachePrefetchMs",8E3],R8:["mediaCachePartitionConfig",{}]});c.Nb.set(a(150)(d.config),!0,y.rS("ASE"));f=b.Rgb(f);c.Lk=new f(c.Nb,K);c.Lk.Bc(d.config.mQ,d.config.pQ,{wz:l.wz},d.config.CV);g(k.yc);})["catch"](function(a){l.wz.error("Exception loading location history from local storage",a);});});},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Bha="PboLinksManagerSymbol";c.oG="PboLinksManagerFactorySymbol";},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(18);f=a(14);c.Vi="$attributes";c.aX="$children";c.bX="$name";c.Vq="$text";c.AEa="$parent";c.wF="$sibling";c.jJb=/^\s*\<\?xml.*\?\>/i;c.X$a=function(a,b,d){for(var f=2;f<arguments.length;++f);for(f=1;(b=arguments[f++])&&(a=a[b]););return a;};c.gJb=function(a,g){var d;a?d=b.Ud(a[c.Vq]):void 0!==g&&(d=g);f.dR(d);return d;};c.Vkb=function(a){var b;a&&(b=a[c.Vq]);f.$4a(b);return b;};c.nIb=function(a,b){var d;d={};d[c.Vi]=a;d[c.Vq]=b;return d;};},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(206);g=function(){function a(a,b,d){this.tag=a;this.view=b;this.J=d;this.startOffset=d.offset;}a.Yza=function(f,c){var d,k;d=f.je();k=f.mnb();f=new(b.DC[d]||a)(d,f.T$a(k),f);f.parse(c);return f;};Object.defineProperties(a.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});a.prototype.parse=function(){this.J.offset=this.startOffset+this.length;this.J.iz=0;return!0;};a.prototype.Era=function(a){var b;b=[];this.tag===a&&b.push(this);if(this.DC)for(var d=0;d<this.DC.length;d++)b=b.concat(this.DC[d].Era(a));return b;};a.prototype.ry=function(a){for(a=this.Era(a);0<a.length;)return a[0];};a.prototype.cma=function(){for(this.DC=[];this.J.offset<this.startOffset+this.length;)this.DC.push(a.Yza(this.J,this));};return a;}();c.HX=g;g.prototype.skip=g.prototype.parse;},function(g){var b,f;function c(){var c,g;if(DataView.prototype&&DataView.prototype.Ey&&!f){try{c=new ArrayBuffer(4);g=new DataView(c);g.oD(0,4,1);}catch(d){return;}try{c=new ArrayBuffer(4);g=new DataView(c);g.oD(1,2,2);}catch(d){DataView.prototype.oD=a(DataView.prototype.oD,DataView.prototype.getUint8,Uint8Array);DataView.prototype.MS=a(DataView.prototype.MS,DataView.prototype.getUint16,Uint16Array);DataView.prototype.Ey=a(DataView.prototype.Ey,DataView.prototype.getUint32,Uint32Array);DataView.prototype.H5=a(DataView.prototype.H5,DataView.prototype.getInt8,Int8Array);DataView.prototype.F5=a(DataView.prototype.F5,DataView.prototype.getInt16,Int16Array);DataView.prototype.G5=a(DataView.prototype.G5,DataView.prototype.getInt32,Int32Array);}b.tcb=function(a,b,f,c,u){return a.oD(b,f,c||1,u);};b.scb=function(a,b,f,c,u){return a.MS(b,f,c||2,u);};b.Rta=function(a,b,f,c,u){return a.Ey(b,f,c||4,u);};b.TGb=function(a,b,f,c,u){return a.H5(b,f,c||1,u);};b.RGb=function(a,b,f,c,u){return a.F5(b,f,c||2,u);};b.SGb=function(a,b,f,c,u){return a.G5(b,f,c||4,u);};f=!0;}}function a(a,b,d){return function(f,c,t,u){var k;t=t||d.BYTES_PER_ELEMENT;if(f+c*t>this.byteLength){k=new d(c);k.set(a.call(this,f,c-1,t,u));k[c-1]=b.call(this,f+(c-1*t),u);return k;}return a.call(this,f,c,t,u);};}b={oD:function(a,b,d,f,c){var k;k=new Uint8Array(d);f=f||1;for(var m=0;m<d;++m,b+=f)k[m]=a.getUint8(b,c);return k;},MS:function(a,b,d,f,c){var k;k=new Uint16Array(d);f=f||2;for(var m=0;m<d;++m,b+=f)k[m]=a.getUint16(b,c);return k;},Ey:function(a,b,d,f,c){var k;k=new Uint32Array(d);f=f||4;for(var m=0;m<d;++m,b+=f)k[m]=a.getUint32(b,c);return k;},H5:function(a,b,d,f,c){var k;k=new Int8Array(d);f=f||1;for(var m=0;m<d;++m,b+=f)k[m]=a.getInt8(b,c);return k;},F5:function(a,b,d,f,c){var k;k=new Int16Array(d);f=f||2;for(var m=0;m<d;++m,b+=f)k[m]=a.getInt16(b,c);return k;},G5:function(a,b,d,f,c){var k;k=new Int32Array(d);f=f||4;for(var m=0;m<d;++m,b+=f)k[m]=a.getInt32(b,c);return k;},BGb:c};f=!1;b.Z$a=function(){return f;};c();g.T=b;},function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});g=a(802);a=a(799);c.Uhb=g;c.Zs=a;},function(g,c,a){var f,q,p,d;function b(a,b,c){var k;k=p.bN.call(this,a,b,f.gG.tja)||this;k.config=a;k.W8=b;k.is=c;k.type=f.Pj.Qw;k.sF=d.Md.Fpa();return k;}Object.defineProperty(c,"__esModule",{value:!0});f=a(29);q=a(66);p=a(413);g=a(97);d=a(129);new g.ox();ba(b,p.bN);b.prototype.Jq=function(){return Promise.resolve(!1);};b.prototype.jD=function(){return Promise.resolve("");};b.prototype.$L=function(){return!1;};b.prototype.YL=function(){return!1;};b.prototype.bM=function(){return Promise.resolve(!1);};b.prototype.XL=function(){return!1;};b.prototype.vS=function(a){return this.sF[a];};b.prototype.o1=function(a){return a;};b.prototype.Dwa=function(a){switch(a){case f.Ih.mp:return"1.4";case f.Ih.Yw:return"2.2";}};b.prototype.fy=function(){var a;a={};a[q.ca.YX]="avc1.4D401E";a[q.ca.rN]="avc1.4D401F";a[q.ca.ZX]="avc1.4D4028";a[q.ca.wY]="hev1.1.6.L90.B0";a[q.ca.xY]="hev1.1.6.L93.B0";a[q.ca.yY]="hev1.1.6.L120.B0";a[q.ca.zY]="hev1.1.6.L123.B0";a[q.ca.AY]="hev1.1.6.L150.B0";a[q.ca.BY]="hev1.1.6.L153.B0";a[q.ca.iY]="hev1.2.6.L90.B0";a[q.ca.lY]="hev1.2.6.L93.B0";a[q.ca.oY]="hev1.2.6.L120.B0";a[q.ca.rY]="hev1.2.6.L123.B0";a[q.ca.QF]="hev1.2.6.L150.B0";a[q.ca.RF]="hev1.2.6.L153.B0";a[q.ca.jY]="hev1.2.6.L90.B0";a[q.ca.mY]="hev1.2.6.L93.B0";a[q.ca.pY]="hev1.2.6.L120.B0";a[q.ca.sY]="hev1.2.6.L123.B0";a[q.ca.$X]="hev1.2.6.L90.B0";a[q.ca.aY]="hev1.2.6.L93.B0";a[q.ca.bY]="hev1.2.6.L120.B0";a[q.ca.cY]="hev1.2.6.L123.B0";a[q.ca.dY]="hev1.2.6.L150.B0";a[q.ca.fY]="hev1.2.6.L153.B0";a[q.ca.tN]="hev1.2.6.L90.B0";a[q.ca.uN]="hev1.2.6.L93.B0";a[q.ca.vN]="hev1.2.6.L120.B0";a[q.ca.wN]="hev1.2.6.L123.B0";a[q.ca.eN]=d.Md.DX;a[q.ca.fN]=d.Md.Pda;a[q.ca.gN]=d.Md.Qda;a[q.ca.hN]=d.Md.Rda;a[q.ca.iN]=d.Md.Sda;a[q.ca.EX]=d.Md.Tda;a[q.ca.$Ja]="avc1.640016";a[q.ca.VX]="avc1.64001E";a[q.ca.WX]="avc1.64001F";a[q.ca.XX]="avc1.640028";a[q.ca.sja]=d.Md.zG;a[q.ca.AG]=d.Md.zG;a[q.ca.BG]=d.Md.zG;a[q.ca.CG]=d.Md.zG;a[q.ca.nja]=d.Md.yG;a[q.ca.oja]=d.Md.yG;a[q.ca.pja]=d.Md.yG;a[q.ca.qja]=d.Md.yG;a[q.ca.rja]=d.Md.yG;a[q.ca.Hca]=d.Md.Eh;a[q.ca.Ica]=d.Md.Eh;a[q.ca.Jca]=d.Md.Eh;a[q.ca.Kca]=d.Md.Eh;a[q.ca.Lca]=d.Md.Eh;a[q.ca.Mca]=d.Md.Eh;a[q.ca.Nca]=d.Md.Eh;a[q.ca.Oca]=d.Md.Eh;return a;};b.prototype.zta=function(){return this.config().pF;};b.prototype.mD=function(){return Promise.resolve(void 0);};b.prototype.uJ=function(){return Promise.resolve(void 0);};b.prototype.rI=function(a){var d;d=[];this.is.Fd(a)&&d.push(this.Dwa(a));return[{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:d,isHdcpEngaged:!!d.length}];};c.ym=b;b.jF="video/mp4;codecs={0};";},function(g,c,a){var f;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(29);b.Fpa=function(a){var c;c={};c[f.od.uG]=b.MF;c[f.od.sN]=b.MF;c[f.od.hO]=b.NF;c[f.od.cr]=b.cr;c[f.od.Zq]=a||b.Zq;c[f.od.wA]=b.MF;c[f.od.au]=b.zG;c[f.od.Eh]=b.Eh;return c;};c.Md=b;b.MF="avc1.640028";b.NF="hev1.1.6.L93.B0";b.DX="dvhe.05.01";b.Pda="dvhe.05.04";b.Qda="dvhe.05.05";b.Rda="dvhe.05.06";b.Sda="dvhe.05.07";b.Tda="dvhe.05.09";b.Zq=b.DX;b.cr=b.NF;b.cX="mp4a.40.2";b.sxb="ec-3";b.CDb="vp9";b.zG="vp09.00.11.08.02";b.yG="vp09.02.31.10.01";b.Eh="av01.0.04M.08";b.RGa=[b.Tda,b.Sda,b.Rda,b.Qda,b.Pda,b.DX];},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.eB="TimeoutMonitorFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=function(){function a(a){this.buffer=a;this.position=0;}a.prototype.seek=function(a){this.position=a;};a.prototype.skip=function(a){this.position+=a;};a.prototype.oj=function(){return this.buffer.length-this.position;};a.prototype.ke=function(){return this.buffer[this.position++];};a.prototype.wd=function(a){var b;b=this.position;this.position+=a;return this.Veb(this.buffer)?this.buffer.subarray(b,this.position):this.buffer.slice(b,this.position);};a.prototype.Veb=function(a){return void 0!==a.subarray;};a.prototype.mc=function(a){for(var b=0;a--;)b=256*b+this.buffer[this.position++];return b;};a.prototype.Cq=function(a){for(var b="";a--;)b+=String.fromCharCode(this.buffer[this.position++]);return b;};a.prototype.L$=function(){for(var a="",f;f=this.ke();)a+=String.fromCharCode(f);return a;};a.prototype.Bb=function(){return this.mc(2);};a.prototype.Na=function(){return this.mc(4);};a.prototype.Qf=function(){return this.mc(8);};a.prototype.qV=function(){return this.mc(2)/256;};a.prototype.fL=function(){return this.mc(4)/65536;};a.prototype.cf=function(a){for(var b,c="";a--;)b=this.ke(),c+="0123456789ABCDEF"[b>>>4]+"0123456789ABCDEF"[b&15];return c;};a.prototype.kw=function(){return this.cf(4)+"-"+this.cf(2)+"-"+this.cf(2)+"-"+this.cf(2)+"-"+this.cf(6);};a.prototype.gL=function(a){for(var b=0,c=0;c<a;c++)b+=this.ke()<<(c<<3);return b;};a.prototype.Gz=function(){return this.gL(4);};a.prototype.vF=function(a){this.Tq(a,2);};a.prototype.Uq=function(a){this.Tq(a,4);};a.prototype.MM=function(a){this.buffer[this.position++]=a;};a.prototype.Tq=function(a,f){this.position+=f;for(var b=1;b<=f;b++)this.buffer[this.position-b]=a&255,a=Math.floor(a/256);};a.prototype.Sq=function(a){for(var b=0;b<a.length;b++)this.buffer[this.position++]=a.charCodeAt(b);};a.prototype.uA=function(a){for(var b=a.length,c=0;c<b;c++)this.buffer[this.position++]=a[c];};a.prototype.vA=function(a,f){this.uA(a.wd(f));};a.prototype.yEa=function(b){b=new a(b);for(var f,c;;)if(f=b.oj(),c=f>>>14)c=Math.min(4,c),this.MM(192|c),this.vA(b,16384*c);else{128>f?this.MM(f):this.Tq(f|32768,2);this.vA(b,f);break;}};a.prototype.Vza=function(){var c;for(var b=[],f=new a(b);;){c=this.ke();if(c&128)if(128==(c&192))c&=63,c=(c<<8)+this.ke(),f.vA(this,c);else if(c&=63,0<c&&4>=c){f.vA(this,16384*c);continue;}else throw Error("bad asn1");else f.vA(this,c);break;}return new Uint8Array(b);};return a;}();c.CA=g;},function(g,c,a){var b;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};g=function(a){function f(b){a.call(this);this.ka=b;}b(f,a);f.create=function(a){return new f(a);};f.Ab=function(a){a.Cf.complete();};f.prototype.Wf=function(a){var d;d=this.ka;if(d)return d.Kb(f.Ab,0,{Cf:a});a.complete();};return f;}(a(10).Da);c.LF=g;},function(g,c,a){var b,f,q,p;b=a(117);f=a(451);q=a(450);p=a(447);c.concat=function(){for(var a=[],k=0;k<arguments.length;k++)a[k-0]=arguments[k];return 1===a.length||2===a.length&&b.Qy(a[1])?q.from(a[0]):p.jI()(f.of.apply(void 0,a));};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Cm=function(){};c.RZ="StringObjectReaderSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.eG="MediaKeysStorageFactorySymbol";},function(g,c,a){var f,q,p;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(168);q=a(56);p=a(2);b.x5=function(a){if(a){if(a.includes(c.HF.yz))return f.Vn.yz;if(a.includes("fps"))return f.Vn.bD;if(a.includes(c.HF.ZW))return f.Vn.ZW;}throw new q.Qc(p.I.gJa,void 0,void 0,void 0,void 0,"Invalid KeySystem: "+a);};b.Ssa=function(a){switch(a){case f.Vn.yz:return c.HF.yz;case f.Vn.bD:return c.HF.bD;default:return c.HF.ZW;}};c.ib=b;b.qp="com.microsoft.playready";b.md="com.microsoft.playready.hardware";b.qG="com.microsoft.playready.software";b.RBb="com.chromecast.playready";b.SBb="org.chromium.external.playready";b.Kyb="com.apple.fps.2_0";b.GSa="com.widevine.alpha";b.TBb="com.microsoft.playready.recommendation";b.UBb="com.microsoft.playready.recommendation.3000";b.VBb="com.microsoft.playready.recommendation.2000";c.HF={bD:"fairplay",ZW:"widevine",yz:"playready"};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.pG="PlatformConfigDefaultsSymbol";},function(g,c,a){var k;function b(a){return"function"===typeof a?a.name:"symbol"===typeof a?a.toString():a;}function f(a,d){return null===a.Ys?!1:a.Ys.Ne===d?!0:f(a.Ys,d);}function q(a){function d(a,f){void 0===f&&(f=[]);f.push(b(a.Ne));return null!==a.Ys?d(a.Ys,f):f;}return d(a).reverse().join(" --\x3e ");}function p(a){a.y2.forEach(function(a){if(f(a,a.Ne))throw a=q(a),Error(k.tGa+" "+a);p(a);});}function d(a){var d;if(a.name)return a.name;a=a.toString();d=a.match(/^function\s*([^\s(]+)/);return d?d[1]:"Anonymous function: "+a;}Object.defineProperty(c,"__esModule",{value:!0});k=a(52);c.nD=b;c.Yva=function(a,b,f){var k;k="";a=f(a,b);0!==a.length&&(k="\nRegistered bindings:",a.forEach(function(a){var b;b="Object";null!==a.pj&&(b=d(a.pj));k=k+"\n "+b;a.dy.lxa&&(k=k+" - "+a.dy.lxa);}));return k;};c.w1a=p;c.Ifb=function(a,d){var b,f;if(d.x7()||d.u7()){b="";f=d.jbb();d=d.S$a();null!==f&&(b+=f.toString()+"\n");null!==d&&d.forEach(function(a){b+=a.toString()+"\n";});return" "+a+"\n "+a+" - "+b;}return" "+a;};c.getFunctionName=d;},function(g,c){var b;function a(){}Object.defineProperty(c,"__esModule",{value:!0});b=/^\S+$/;a.prototype.Ql=function(a){return void 0!==a;};a.prototype.Fd=function(a){return null!==a&&void 0!==a;};a.prototype.Qx=function(b){return a.mna(b);};a.prototype.g1=function(b){return!(!b||!a.mna(b));};a.prototype.Xr=function(a){return Array.isArray(a);};a.prototype.nna=function(a){return!(!a||a.constructor!=Uint8Array);};a.prototype.Xf=function(b,c,g){return a.Hma(b,c,g);};a.prototype.f1=function(b){return a.f1(b);};a.prototype.x1=function(b,c,g){return a.iQ(b,c,g)&&0===b%1;};a.prototype.Hp=function(b,c,g){return a.iQ(b,c||0,g);};a.prototype.wH=function(b){return a.iQ(b,1);};a.prototype.yYa=function(b){return a.iQ(b,0,255);};a.prototype.zYa=function(a){return a===+a&&(0===a||a!==(a|0))&&!0&&!0;};a.prototype.ona=function(a){return!(!a||!b.test(a));};a.prototype.Ci=function(b){return a.Ima(b);};a.prototype.Ik=function(b){return!(!a.Ima(b)||!b);};a.prototype.uH=function(a){return!0===a||!1===a;};a.prototype.vH=function(a){return"function"==typeof a;};a.Ima=function(a){return"string"==typeof a;};a.Hma=function(a,b,c){return"number"==typeof a&&!isNaN(a)&&isFinite(a)&&(void 0===b||a>=b)&&(void 0===c||a<=c);};a.f1=function(a){return"number"==typeof a&&isNaN(a);};a.iQ=function(b,c,g){return a.Hma(b,c,g)&&0===b%1;};a.mna=function(a){return"object"==typeof a;};c.Rt=new a();},function(g,c,a){var q,p,d,k,m,t,u,y,A,h,x,G,M,R,T,l;function b(a){b=h.ne;T=a.appendBuffer?"appendBuffer":"append";c.HN=!k.config.G_a&&!!a.remove;l=!!a.addEventListener;}function f(a,f,c,g,A){var h,K;h=this;this.j=a;this.type=f;this.Mja=g;this.log=A;this.ZO=new m.Lc(!1);this.vx={data:[],state:"",operation:""};this.VD=this.tra((this.type===q.tc.L.VIDEO?this.j.Ef.value:this.j.Nc.value).oc);this.dj=new t.Lj();this.e0={Type:this.type};k.config.Kv&&(K=!0,this.P4=new m.Lc(!1));this.log.trace("Adding source buffer",this.e0,{TypeId:this.VD});this.Mc=c.addSourceBuffer(this.VD);b(this.Mc);l&&(this.Mc.addEventListener("updatestart",function(){h.vx.state="updatestart";}),this.Mc.addEventListener("update",function(){h.vx.state="update";}),this.Mc.addEventListener("updateend",function(){h.ZO.set(!1);h.Qja&&h.Qja();h.vx.state="updateend";K&&h.Mc.buffered.length&&(K=!1,h.P4.set(!0));}),this.Mc.addEventListener("error",function(b){var f;try{f=b.target.error&&b.target.error.message;(b.message||f)&&A.error("error event received on sourcebuffer",{mediaErrorMessage:b.message});}catch(va){}b=u.V.get(d.vk);a.sd(b(y.I.IOa,p.z5(h.type)));}),this.Mc.addEventListener("abort",function(){}));a.addEventListener(G.S.closed,function(){h.Mc=void 0;});}Object.defineProperty(c,"__esModule",{value:!0});q=a(49);p=a(213);d=a(55);k=a(12);m=a(176);t=a(68);u=a(4);a(84);y=a(2);a(3);A=a(14);h=a(19);x=a(16);G=a(15);M=a(113);R=a(143);f.prototype.nj=function(){return this.ZO.value;};f.prototype.updating=function(){return this.Mc?this.Mc.updating:!1;};f.prototype.MBa=function(a){this.Qja=a;};f.prototype.buffered=function(){return this.Mc.buffered;};f.prototype.toString=function(){return"SourceBuffer (type: "+this.type+")";};f.prototype.toJSON=function(){return{type:this.type};};f.prototype.tS=function(){var a,d,b,f,k,c,m;try{a=this.Mc.buffered;k=0;if(a)for(d=[],b=0,f=a.length,b=0;b<f;b++){c=a.start(b);m=a.end(b);k=k+(m-c);A.Ga(m>c);d.push(c+"-"+m);}if(d)return{Buffered:k.toFixed(3),Ranges:d.join("|")};}catch(O){}};f.prototype.una=function(a,d){A.Ga(this.Mc.buffered&&1>=this.Mc.buffered.length,"Gaps in media are not allowed: "+JSON.stringify(this.tS()));A.Ga(!this.nj());this.cCa("append",a);d=d&&d.hm/1E3;x.pa(d)&&this.Mc.timestampOffset!==d&&(this.Mc.timestampOffset=d);this.Mc[T](a);l&&this.ZO.set(!0);};f.prototype.remove=function(a,d){A.Ga(!this.nj());try{c.HN&&(this.cCa("remove"),this.Mc.remove(a,d),l&&this.ZO.set(!0));}catch(Q){this.log.error("SourceBuffer remove exception",Q,this.e0);}};f.prototype.cCa=function(a,d){this.vx.data=d||[];this.vx.state="init";this.vx.operation=a;};f.prototype.Iqb=function(a,d){this.Afb=Math.floor(1E3*a/d);};f.prototype.g1a=function(a){var d;if(this.Mc){if(a=this.tra([{type:this.l2a,gf:a}]),a!==this.VD){d=this.VD;this.log.info("Changing SourceBuffer mime-type from: "+this.VD+" to: "+a);try{if(this.Mc.changeType)this.Mc.changeType(a),this.VD=a;else throw Error("Platform doesnt support changing SourceBuffer mime-type");}catch(Q){throw this.log.error("Error changing SourceBuffer type",Q,this.e0,{From:d,To:a}),Q;}}}else this.log.info("No SourceBuffer");};f.prototype.appendBuffer=function(a,d){!d||d.Yb?this.C1(a,d):this.jQ(a,d);return!0;};f.prototype.C1=function(a,d){this.j.Ag.C1(this,a,d||{});};f.prototype.jQ=function(a,d){a=this.g2a(a,d);this.j.Ag.jQ(a);};f.prototype.g2a=function(a,d){var b,f,k;b=this.Afb||0;f=this.O;k=this.Jm-b||Infinity;return{Koa:function(){this.response=void 0;},ak:function(){return this.requestId;},constructor:{name:"MediaRequest"},requestId:d.ak(),O:f,readyState:R.Gb.bc.DONE,ft:d.U,sE:d.U+d.duration,xs:d.duration,hm:b,bn:d.bn,kk:d.Nf.Rb.xa.id,za:d.za,Fb:+d.Fb,location:d.location,bI:d.offset,aI:d.offset+d.aa-1,P:d.P,response:a,iua:a&&0<a.byteLength,Ny:!0,get Yb(){return!this.Ny;},Nf:{Rb:{xa:{ha:k}}},toJSON:function(){var a;a={requestId:this.requestId,segmentId:this.kk,isHeader:this.Yb,ptsStart:this.ft,ptsOffset:this.hm,responseType:this.jEb,duration:this.xs,readystate:this.sf};this.stream&&(a.bitrate=this.stream.P);return JSON.stringify(a);}};};f.prototype.endOfStream=function(){};f.prototype.addEventListener=function(a,d,b){this.dj.addListener(a,d,b);};f.prototype.removeEventListener=function(a,d){this.dj.removeListener(a,d);};f.prototype.tra=function(a){var d;d=u.V.get(M.cB);return this.type===q.tc.L.VIDEO?d.tI(a):d.nI(a);};oa.Object.defineProperties(f.prototype,{O:{configurable:!0,enumerable:!0,get:function(){return this.type;}},wQ:{configurable:!0,enumerable:!0,get:function(){return this.Mja.wQ;}},sourceId:{configurable:!0,enumerable:!0,get:function(){return this.Mja.sourceId;}},l2a:{configurable:!0,enumerable:!0,get:function(){return 0===this.type?"audio":"video";}}});c.vga=f;},function(g,c,a){var b,f,q,p,d,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(12);f=a(9);q=a(287);g=a(2);p=a(286);d=a(284);k=a(4);a=a(20);c.storage=c.storage||void 0;c.ro=c.ro||void 0;k.V.get(a.He).register(g.I.nfa,function(a){var k;switch(b.config.Vrb){case"idb":k=p.Rrb;break;case"none":k=q.Trb;break;case"ls":k=d.Srb;}k(function(d){d.W?(c.storage=d.storage,c.ro=d.ro,a(f.yc)):a(d);});});},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.VN="PboPublisherSymbol";},function(g,c){function a(){}Object.defineProperty(c,"__esModule",{value:!0});c.Gb=a;a.Bd={Tga:"mr1",Sga:"mr2",Uga:"mr3",jG:"mr4",PNa:"mr5",fx:"mr6"};a.bc={UNSENT:0,OPENED:1,Zt:2,ix:3,DONE:5,Mt:6,xF:7,name:"UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED".split(" ")};a.bCb={Eca:0,nx:1,Lga:2,name:["ARRAYBUFFER","STREAM","NOTIFICATION"]};a.Jt={NO_ERROR:-1,dIa:0,Nda:1,pIa:2,hIa:3,AGa:4,nda:5,rX:6,BGa:7,CGa:8,DGa:9,xGa:10,zGa:11,mda:12,yGa:13,wGa:14,mKa:15,Tea:16,Sea:17,EY:18,AN:19,FY:20,GY:21,oKa:22,BN:23,Uea:24,nKa:25,kIa:26,eIa:27,NQa:28,VHa:29,WHa:30,XHa:31,YHa:32,ZHa:33,$Ha:34,aIa:35,bIa:36,cIa:37,fIa:38,gIa:39,iIa:40,jIa:41,lIa:42,mIa:43,nIa:44,oIa:45,qIa:46,rIa:47,MQa:48,TIMEOUT:49,CY:50,Qea:51,lKa:52,name:"DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP".split(" ")};a.Sc={zE:{Eca:!0,nx:!1,Lga:!0}};},function(g){var p,d,k,m;function c(){c.Bc.call(this);}function a(a,d,b,f){var k,m;if("function"!==typeof b)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b);k=a.qg;void 0===k?(k=a.qg=Object.create(null),a.wx=0):(void 0!==k.MIb&&(a.emit("newListener",d,b.listener?b.listener:b),k=a.qg),m=k[d]);void 0===m?(k[d]=b,++a.wx):("function"===typeof m?m=k[d]=f?[b,m]:[m,b]:f?m.unshift(b):m.push(b),b=void 0===a.dH?c.bGb:a.dH,0<b&&m.length>b&&!m.qvb&&(m.qvb=!0,b=Error("Possible EventEmitter memory leak detected. "+m.length+" "+String(d)+" listeners added. Use emitter.setMaxListeners() to increase limit"),b.name="MaxListenersExceededWarning",b.kGb=a,b.type=d,b.count=m.length,console&&console.warn&&console.warn(b)));return a;}function b(){for(var a=[],b=0;b<arguments.length;b++)a.push(arguments[b]);this.Ora||(this.target.removeListener(this.type,this.wEa),this.Ora=!0,d(this.listener,this.target,a));}function f(a,d,f){a={Ora:!1,wEa:void 0,target:a,type:d,listener:f};d=b.bind(a);d.listener=f;return a.wEa=d;}function q(a){var d;d=this.qg;if(void 0!==d){a=d[a];if("function"===typeof a)return 1;if(void 0!==a)return a.length;}return 0;}p="object"===typeof Reflect?Reflect:null;d=p&&"function"===typeof p.apply?p.apply:function(a,d,b){return Function.prototype.apply.call(a,d,b);};k=Number.isNaN||function(a){return a!==a;};g.T=c;c.EventEmitter=c;c.prototype.qg=void 0;c.prototype.wx=0;c.prototype.dH=void 0;m=10;Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return m;},set:function(a){if("number"!==typeof a||0>a||k(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");m=a;}});c.Bc=function(){if(void 0===this.qg||this.qg===Object.getPrototypeOf(this).qg)this.qg=Object.create(null),this.wx=0;this.dH=this.dH||void 0;};c.prototype.setMaxListeners=function(a){if("number"!==typeof a||0>a||k(a))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+a+".");this.dH=a;return this;};c.prototype.emit=function(a){var k,f,c;for(var b=[],f=1;f<arguments.length;f++)b.push(arguments[f]);k="error"===a;f=this.qg;if(void 0!==f)k=k&&void 0===f.error;else if(!k)return!1;if(k){0<b.length&&(c=b[0]);if(c instanceof Error)throw c;b=Error("Unhandled error."+(c?" ("+c.message+")":""));b.context=c;throw b;}f=f[a];if(void 0===f)return!1;if("function"===typeof f)d(f,this,b);else{c=f.length;for(var k=Array(c),m=0;m<c;++m)k[m]=f[m];for(f=0;f<c;++f)d(k[f],this,b);}return!0;};c.prototype.addListener=function(d,b){return a(this,d,b,!1);};c.prototype.on=c.prototype.addListener;c.prototype.Aza=function(d,b){return a(this,d,b,!0);};c.prototype.once=function(a,d){if("function"!==typeof d)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof d);this.on(a,f(this,a,d));return this;};c.prototype.umb=function(a,d){if("function"!==typeof d)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof d);this.Aza(a,f(this,a,d));return this;};c.prototype.removeListener=function(a,d){var b,f,k,c,m;if("function"!==typeof d)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof d);f=this.qg;if(void 0===f)return this;b=f[a];if(void 0===b)return this;if(b===d||b.listener===d)0===--this.wx?this.qg=Object.create(null):(delete f[a],f.removeListener&&this.emit("removeListener",a,b.listener||d));else if("function"!==typeof b){k=-1;for(c=b.length-1;0<=c;c--)if(b[c]===d||b[c].listener===d){m=b[c].listener;k=c;break;}if(0>k)return this;if(0===k)b.shift();else{for(;k+1<b.length;k++)b[k]=b[k+1];b.pop();}1===b.length&&(f[a]=b[0]);void 0!==f.removeListener&&this.emit("removeListener",a,m||d);}return this;};c.prototype.Kjb=c.prototype.removeListener;c.prototype.removeAllListeners=function(a){var d,b,f;b=this.qg;if(void 0===b)return this;if(void 0===b.removeListener)return 0===arguments.length?(this.qg=Object.create(null),this.wx=0):void 0!==b[a]&&(0===--this.wx?this.qg=Object.create(null):delete b[a]),this;if(0===arguments.length){d=Object.keys(b);for(b=0;b<d.length;++b)f=d[b],"removeListener"!==f&&this.removeAllListeners(f);this.removeAllListeners("removeListener");this.qg=Object.create(null);this.wx=0;return this;}d=b[a];if("function"===typeof d)this.removeListener(a,d);else if(void 0!==d)for(b=d.length-1;0<=b;b--)this.removeListener(a,d[b]);return this;};c.prototype.listeners=function(a){var d;d=this.qg;if(void 0===d)a=[];else if(a=d[a],void 0===a)a=[];else if("function"===typeof a)a=[a.listener||a];else{for(var d=Array(a.length),b=0;b<d.length;++b)d[b]=a[b].listener||a[b];a=d;}return a;};c.listenerCount=function(a,d){return"function"===typeof a.listenerCount?a.listenerCount(d):q.call(a,d);};c.prototype.listenerCount=q;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.RIa=function(){this.AUDIO=0;this.VIDEO=1;this.hKa=2;this.Ye=function(){};};c.eea="DownloadTrackConstructorFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Hha="PboPlaydataServicesSymbol";c.UN="PboPlaydataServicesProviderSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.ZF="LicenseProviderSymbol";},function(g,c,a){var f,q;function b(a){switch(a){case f.u.TF:return"http";case f.u.UF:return"connectiontimeout";case f.u.Ww:return"readtimeout";case f.u.DY:return"corruptcontent";case f.u.Ot:return"abort";case f.u.JA:case f.u.HY:return"unknown";}}Object.defineProperty(c,"__esModule",{value:!0});f=a(2);q=a(8);c.rta=b;c.wta=function(a,d){a={errorcode:a+(d.errorCode||f.I.bj)};d.Y&&(a.errorsubcode=d.Y);d.Hc&&(a.errorextcode=d.Hc);d.OR&&(a.erroredgecode=d.OR);d.Qa&&(a.errordetails=d.Qa);d.Wh&&(a.httperr=d.Wh);d.wU&&(a.aseneterr=d.wU);d.Bs&&(a.errordata=d.Bs);d.nK&&(a.mediaerrormessage=d.nK);(d=b(Number(d.Y)))&&(a.nwerr=d);return a;};c.Eta=function(){return{screensize:q.hr.width+"x"+q.hr.height,screenavailsize:q.hr.availWidth+"x"+q.hr.availHeight,clientsize:J.innerWidth+"x"+J.innerHeight};};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});(c.Wda||(c.Wda={})).cPa="PboDebugEvent";c.FX={JMa:"Manifest",Event:"Event",Pzb:"Logblob"};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g.T=function(a){return{minInitVideoBitrate:a.Ss,minHCInitVideoBitrate:a.b9,maxInitVideoBitrate:a.Rv,minInitAudioBitrate:a.uK,maxInitAudioBitrate:a.iK,minHCInitAudioBitrate:a.tK,minAcceptableVideoBitrate:a.gU,minRequiredBuffer:a.nU,minPrebufSize:a.ai,rebufferingFactor:a.P$,useMaxPrebufSize:a.rca,maxPrebufSize:a.az,maxRebufSize:a.K8,maxBufferingTime:a.Io,minAudioMediaRequestSizeBytes:a.hU,minVideoMediaRequestSizeBytes:a.pU,initialBitrateSelectionCurve:a.iT,initSelectionLowerBound:a.Oua,initSelectionUpperBound:a.Pua,throughputPercentForAudio:a.wW,bandwidthMargin:a.T1,bandwidthMarginContinuous:a.U1,bandwidthMarginCurve:a.V1,conservBandwidthMargin:a.S2,switchConfigBasedOnInSessionTput:a.Dba,conservBandwidthMarginTputThreshold:a.kI,conservBandwidthMarginCurve:a.T2,switchAlgoBasedOnHistIQR:a.MCa,switchConfigBasedOnThroughputHistory:a.zw,maxPlayerStateToSwitchConfig:a.J8,lowEndMarkingCriteria:a.l8,IQRThreshold:a.LY,histIQRCalcToUse:a.M6,maxTotalBufferLevelPerSession:a.Rs,highWatermarkLevel:a.uua,toStableThreshold:a.mDa,toUnstableThreshold:a.AW,skipBitrateInUpswitch:a.kba,watermarkLevelForSkipStart:a.yca,highStreamRetentionWindow:a.F6,lowStreamTransitionWindow:a.m8,highStreamRetentionWindowUp:a.H6,lowStreamTransitionWindowUp:a.o8,highStreamRetentionWindowDown:a.G6,lowStreamTransitionWindowDown:a.n8,highStreamInfeasibleBitrateFactor:a.E6,lowestBufForUpswitch:a.Ov,lockPeriodAfterDownswitch:a.NT,lowWatermarkLevel:a.q8,lowestWaterMarkLevel:a.Pv,lowestWaterMarkLevelBufferRelaxed:a.s8,mediaRate:a.V8,maxTrailingBufferLen:a.M8,audioBufferTargetAvailableSize:a.L1,videoBufferTargetAvailableSize:a.wca,maxVideoTrailingBufferSize:a.Xwa,maxAudioTrailingBufferSize:a.Jwa,fastUpswitchFactor:a.TR,fastDownswitchFactor:a.G4,maxMediaBufferAllowed:a.WT,maxMediaBufferAllowedInBytes:a.nq,simulatePartialBlocks:a.hba,simulateBufferFull:a.kCa,considerConnectTime:a.U2,connectTimeMultiplier:a.R2,lowGradeModeEnterThreshold:a.swa,lowGradeModeExitThreshold:a.twa,maxDomainFailureWaitDuration:a.Kwa,maxAttemptsOnFailure:a.Hwa,exhaustAllLocationsForFailure:a.ora,maxNetworkErrorsDuringBuffering:a.Qwa,maxBufferingTimeAllowedWithNetworkError:a.E8,fastDomainSelectionBwThreshold:a.F4,throughputProbingEnterThreshold:a.Mba,throughputProbingExitThreshold:a.YCa,locationProbingTimeout:a.ewa,finalLocationSelectionBwThreshold:a.Bra,throughputHighConfidenceLevel:a.WCa,throughputLowConfidenceLevel:a.XCa,locationStatisticsUpdateInterval:a.Y7,enablePerfBasedLocationSwitch:a.RC,probeServerWhenError:a.Ro,probeRequestTimeoutMilliseconds:a.x$,allowSwitchback:a.Wr,probeDetailDenominator:a.Az,maxDelayToReportFailure:a.UT,countGapInBuffer:a.spa,allowReissueMediaRequestAfterAbort:a.$B,bufferThresholdForAbort:a.b2,allowCallToStreamSelector:a.w1,pipelineScheduleTimeoutMs:a.b$,maxPartialBuffersAtBufferingStart:a.Sv,minPendingBufferLen:a.c9,maxPendingBufferLen:a.Tv,maxPendingBufferLenSABCell100:a.YT,maxActiveRequestsSABCell100:a.ST,maxStreamingSkew:a.L8,maxPendingBufferPercentage:a.I8,maxRequestsInBuffer:a.bz,headerRequestSize:a.WS,minBufferLenForHeaderDownloading:a.iU,reserveForSkipbackBufferMs:a.CV,numExtraFragmentsAllowed:a.E9,pipelineEnabled:a.Cn,maxParallelConnections:a.PD,socketReceiveBufferSize:a.nCa,audioSocketReceiveBufferSize:a.tQ,videoSocketReceiveBufferSize:a.rF,headersSocketReceiveBufferSize:a.C6,updatePtsIntervalMs:a.HW,bufferTraceDenominator:a.d2,bufferLevelNotifyIntervalMs:a.hC,aseReportDenominator:a.HH,aseReportIntervalMs:a.I1,enableAbortTesting:a.Vqa,abortRequestFrequency:a.Jma,streamingStatusIntervalMs:a.wba,prebufferTimeLimit:a.nE,minBufferLevelForTrackSwitch:a.jU,penaltyFactorForLongConnectTime:a.V9,longConnectTimeThreshold:a.i8,additionalBufferingLongConnectTime:a.s1,additionalBufferingPerFailure:a.t1,rebufferCheckDuration:a.iL,enableLookaheadHints:a.Yqa,lookaheadFragments:a.pwa,enableOCSideChannel:a.Sp,OCSCBufferQuantizationConfig:a.QN,updateDrmRequestOnNetworkFailure:a.NDa,deferAseScheduling:a.jqa,maxDiffAudioVideoEndPtsMs:a.VT,useHeaderCache:a.nF,useHeaderCacheData:a.GR,defaultHeaderCacheSize:a.hR,defaultHeaderCacheDataPrefetchMs:a.I3,headerCacheMaxPendingData:a.z6,neverWipeHeaderCache:a.q9,headerCachePriorityLimit:a.A6,enableUsingHeaderCount:a.SI,networkFailureResetWaitMs:a.o9,networkFailureAbandonMs:a.n9,maxThrottledNetworkFailures:a.$T,throttledNetworkFailureThresholdMs:a.vW,abortUnsentBlocks:a.Rr,maxUnsentBlocks:a.N8,abortStreamSelectionPeriod:a.h1,lowThroughputThreshold:a.p8,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.x4,mp4ParsingInNative:a.Axa,sourceBufferInOrderAppend:a.oCa,requireAudioStreamToEncompassVideo:a.Gn,allowAudioToStreamPastVideo:a.jna,enableManagerDebugTraces:a.kf,managerDebugMessageInterval:a.Bwa,managerDebugMessageCount:a.Awa,bufferThresholdToSwitchToSingleConnMs:a.xQ,bufferThresholdToSwitchToParallelConnMs:a.c2,netIntrStoreWindow:a.Qib,minNetIntrDuration:a.sib,fastHistoricBandwidthExpirationTime:a.N8a,bandwidthExpirationTime:a.J_a,failureExpirationTime:a.L8a,historyTimeOfDayGranularity:a.vdb,expandDownloadTime:a.D8a,minimumMeasurementTime:a.Bib,minimumMeasurementBytes:a.Aib,throughputMeasurementTimeout:a.Qsb,initThroughputMeasureDataSize:a.eeb,throughputMeasureWindow:a.Psb,throughputIQRMeasureWindow:a.Osb,IQRBucketizerWindow:a.oLa,connectTimeHalflife:a.d2a,responseTimeHalflife:a.Pob,historicBandwidthUpdateInterval:a.udb,throughputWarmupTime:a.Tsb,minimumBufferToStopProbing:a.zib,throughputPredictor:a.Rsb,ase_stream_selector:a.PZa,enableFilters:a.n7a,filterDefinitionOverrides:a.a9a,defaultFilter:a.I5a,secondaryFilter:a.spb,defaultFilterDefinitions:a.J5a,initBitrateSelectorAlgorithm:a.f7,bufferingSelectorAlgorithm:a.f2,ase_ls_failure_simulation:a.y3,ase_dump_fragments:a.w3,ase_location_history:a.x3,ase_throughput:a.z3,ase_simulate_verbose:a.Xpa,secondThroughputEstimator:a.uaa,secondThroughputMeasureWindowInMs:a.pBa,marginPredictor:a.z8,simplePercentilePredictorPercentile:a.jCa,simplePercentilePredictorCalcToUse:a.hCa,simplePercentilePredictorMethod:a.iCa,IQRBandwidthFactorConfig:a.yfa,networkMeasurementGranularity:a.p9,HistoricalTDigestConfig:a.Wea,maxIQRSamples:a.Nwa,minIQRSamples:a.txa,periodicHistoryPersistMs:a.WU,saveVideoBitrateMs:a.LV,needMinimumNetworkConfidence:a.yK,biasTowardHistoricalThroughput:a.X1,maxFastPlayBufferInMs:a.G8,maxFastPlayBitThreshold:a.F8,headerCacheTruncateHeaderAfterParsing:a.rua,minAudioMediaRequestDuration:a.WD,minVideoMediaRequestDuration:a.$D,minAudioMediaRequestDurationCache:a.WD,minVideoMediaRequestDurationCache:a.$D,addHeaderDataToNetworkMonitor:a.fQ,useMediaCache:a.Fw,mediaCachePartitionConfig:a.R8,diskCacheSizeLimit:a.Yu,mediaCachePrefetchMs:a.cU,hindsightDenominator:a.L6,hindsightDebugDenominator:a.K6,hindsightParam:a.YS,minimumTimeBeforeBranchDecision:a.qU,enableSessionHistoryReport:a.RI,earlyStageEstimatePeriod:a.g4,lateStageEstimatePeriod:a.Ova,maxNumSessionHistoryStored:a.XT,minSessionHistoryDuration:a.oU,enableInitThroughputEstimate:a.QI,applyInitThroughputEstimate:a.E1,initThroughputPredictor:a.Qua,appendMediaRequestOnComplete:a.vna,waitForDrmToAppendMedia:a.XW,forceAppendHeadersAfterDrm:a.V4,startMonitorOnLoadStart:a.qba,reportFailedRequestsToNetworkMonitor:a.X$,reappendRequestsOnSkip:a.hL,maxActiveRequestsPerSession:a.lq,limitAudioDiscountByMaxAudioBitrate:a.U7,appendFirstHeaderOnComplete:a.B1,maxAudioFragmentOverlapMs:0,editAudioFragments:a.jn,editVideoFragments:a.ys,declareBufferingCompleteAtSegmentEnd:a.A3,applyProfileTimestampOffset:a.Sx,applyProfileStreamingOffset:a.io,requireDownloadDataAtBuffering:a.baa,requireSetupConnectionDuringBuffering:a.caa,recordFirstFragmentOnSubBranchCreate:a.Q$,earlyAppendSingleChildBranch:a.CR,selectStartingVMAFMethod:a.HE,activateSelectStartingVMAF:a.xH,minStartingVideoVMAF:a.ZD};};},function(g,c,a){(function(b,f){var p;function c(a,b){var d;d=Date.now();this.yrb=d;this.LR=d+a;this.qlb=a;this.Z4a=d+b;this.debug=!1;}p=new(a(5)).Console("ASEJS_QOE_EVAL","media|asejs");c.prototype.constructor=c;c.prototype.fb=function(a,b){a=((a-this.yrb)/1E3).toFixed(3);a="     ".slice(a.length-4)+a;p.debug(a+" "+this.a5a+b);};c.prototype.vXa=function(a){this.a5a=a;this.fb(Date.now(),"starting");};c.prototype.jYa=function(a){var d;d=new Date().getTime();if(d>=this.Z4a)throw Error("Execution deadline exceeded");if(3221225472<b.vIb().oHb)throw Error("Heap total limit exceeded");if(this.debug&&!(d<=this.LR)){for(;d>this.LR;)this.LR+=this.qlb;this.fb(d,a);}};c.Bc=function(){f.jV=new c(5E3,12E5);};c.Saa=function(a){f.jV&&f.jV.vXa(a);};c.update=function(a){f.jV&&f.jV.jYa(a);};g.T=c;}.call(this,a(232),a(250)));},function(g,c,a){function b(a,b){this.WB=a;this.uh=Math.floor((a+b-1)/b);this.zc=b;this.reset();}a(13);b.prototype.shift=function(){this.Dc.shift();this.Dp.shift();};b.prototype.hE=function(a){return this.soa(this.Dc[a],a);};b.prototype.update=function(a,b){this.Dc[a]=(this.Dc[a]||0)+b;};b.prototype.push=function(){this.Dc.push(0);this.Dp.push(0);this.Pa+=this.zc;};b.prototype.add=function(a,b,c){var d,f,m;if(null===this.Pa)for(d=Math.max(Math.floor((c-b+this.zc-1)/this.zc),1),this.Pa=b;this.Dc.length<d;)this.push();for(;this.Pa<=c;)this.push(),this.Dc.length>this.uh&&this.shift();if(null===this.yk||b<this.yk)this.yk=b;if(b>this.Pa-this.zc)this.update(this.Dc.length-1,a);else if(b==c)d=this.Dc.length-Math.max(Math.ceil((this.Pa-c)/this.zc),1),0<=d&&this.update(d,a);else for(d=1;d<=this.Dc.length;++d){f=this.Pa-d*this.zc;m=f+this.zc;if(!(f>c)){if(m<b)break;this.update(this.Dc.length-d,Math.round(a*(Math.min(m,c)-Math.max(f,b))/(c-b)));}}for(;this.Dc.length>this.uh;)this.shift();};b.prototype.start=function(a){null===this.yk&&(this.yk=a);null===this.Pa&&(this.Pa=a);};b.prototype.stop=function(a){var b,f;if(null!==this.Pa)if(a-this.Pa>10*this.WB)this.reset();else{for(;this.Pa<=a;)this.push(),this.Dc.length>this.uh&&this.shift();b=this.Dc.length-Math.ceil((this.Pa-this.yk)/this.zc);0>b&&(this.yk=this.Pa-this.zc*this.Dc.length,b=0);f=this.Dc.length-Math.ceil((this.Pa-a)/this.zc);if(b===f)this.Dp[b]+=a-this.yk;else if(f>b)for(this.Dp[b]+=(this.Pa-this.yk)%this.zc,this.Dp[f]+=this.zc-(this.Pa-a)%this.zc,a=b+1;a<f;++a)this.Dp[a]=this.zc;this.yk=null;}};b.prototype.soa=function(a,b){b=this.k5(b);return 0===b?null:8*a/b;};b.prototype.k5=function(a){var b;b=this.Dp[a];null!==this.yk&&(a=this.Pa-(this.Dc.length-a-1)*this.zc,a>this.yk&&(b=a-this.yk<=this.zc?b+(a-this.yk):this.zc));return b;};b.prototype.get=function(a,b){var f,d;f=this.Dc.map(this.soa,this);if("last"===a)for(a=0;a<f.length;++a)null===f[a]&&(f[a]=0<a?f[a-1]:0);else if("average"===a){b=1-Math.pow(.5,1/((b||2E3)/this.zc));for(a=0;a<f.length;++a)null===f[a]?f[a]=Math.floor(d||0):d=void 0!==d?b*f[a]+(1-b)*d:f[a];}return f;};b.prototype.reset=function(){this.Dc=[];this.Dp=[];this.yk=this.Pa=null;};b.prototype.setInterval=function(a){this.uh=Math.floor((a+this.zc-1)/this.zc);};g.T=b;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.lQ=function(a,b){return""+a===""+b;};},function(g,c,a){var b,f,q,p;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(13);q=a(11);p=a(5);g=function(a){function d(d,b,k,c){k=a.call(this,k)||this;k.gma=d.za;k.location=d.location||b.location;k.Fb=d.Ub||b.Ub;k.Paa=d.Paa||b.Paa;k.DKb=p.time.da();f.assert(c);k.K=c;return k;}b.__extends(d,a);d.prototype.Bc=function(a,d,b,f){this.yb=a;this.Eu=d;this.Nb=b;this.Nf=f;this.u1=!1;};d.prototype.uP=function(a){var d,b,f;d={type:"logdata",target:"endplay",fields:{}};b=this.O===q.L.AUDIO?"audioedit":"videoedit";f=[this.jv===this.U?this.Ve:this.Oc,this.jv===this.U?-this.duration:this.duration];a&&a.Hq&&f.push(a.Hq);d.fields[b]={type:"array",value:f};this.yb&&this.yb.emit(d.type,d);};d.prototype.mP=function(a){this.Nb.hL&&(this.fsa=!0,this.Sqa=a);};d.prototype.KW=function(a,d){var b,f;if(this.complete)return 0;b=this.gma;f=a[b];return f?f.url?this.url===f.url||(d(this,f.location,f.Ub),this.dM(f.url))?0:(this.K.warn("swapUrl failed: ",this.aD),3):(this.K.warn("updateurl, missing url for streamId:",b,"mediaRequest:",this,"stream:",f),2):(this.K.warn("updateUrl, missing stream for streamId:",b,"mediaRequest:",this,"streamMap:",a),1);};return d;}(a(83));c.Jw=g;},function(g,c,a){var q;function b(a,d){return void 0===a||void 0===d?void 0:a+d;}function f(a,d){return void 0===a||void 0===d?void 0:a-d;}Object.defineProperty(c,"__esModule",{value:!0});q=a(60);g=function(){function a(){}Object.defineProperties(a.prototype,{Rl:{get:function(){return f(this.wb,this.$a)||0;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{RK:{get:function(){return b(this.$a,this.Vo);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{aV:{get:function(){return b(this.wb,this.Vo);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{d4:{get:function(){return this.UB(this.Rl);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{n2a:{get:function(){return this.UB(this.$a);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{k2a:{get:function(){return this.UB(this.wb);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{h$:{get:function(){return this.UB(this.RK);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Slb:{get:function(){return this.UB(this.aV);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Vmb:{get:function(){return this.UB(this.Vo);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{duration:{get:function(){return f(this.ha,this.U)||0;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{U:{get:function(){return this.zu(this.RK);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ha:{get:function(){return this.zu(this.aV);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{hm:{get:function(){return this.zu(this.Vo);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{bn:{get:function(){return this.zu(this.$a);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Oc:{get:function(){return this.zu(this.$a);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ve:{get:function(){return this.zu(this.wb);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ic:{get:function(){return this.zu(this.RK);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ge:{get:function(){return this.zu(this.aV);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{xs:{get:function(){return this.duration;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ft:{get:function(){return this.U;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{sE:{get:function(){return this.ha;},enumerable:!0,configurable:!0}});a.prototype.UB=function(a){return void 0===a?void 0:0===a?q.gc.Ff:new q.gc(a,this.ga);};a.prototype.zu=function(a){return a&&Math.floor(q.gc.kDa(a,this.ga));};return a;}();c.TM=g;},function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});a(13);g=function(){function a(a,b){this.Ec=a;this.Vb=b.aa;this.Dd=b.offset;}Object.defineProperties(a.prototype,{stream:{get:function(){return this.Ec;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{aa:{get:function(){return this.Vb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{offset:{get:function(){return this.Dd;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ba:{get:function(){return this.Ec.Oa.ba;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Oa:{get:function(){return this.Ec.Oa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{M:{get:function(){return this.Ec.M;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{O:{get:function(){return this.Ec.O;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{za:{get:function(){return this.Ec.za;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{P:{get:function(){return this.Ec.P;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{profile:{get:function(){return this.Ec.profile;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ga:{get:function(){return this.Ec.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Zv:{get:function(){return this.Ec.Zv;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ia:{get:function(){return this.Ec.Ia;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{LH:{get:function(){return this.Ec.LH;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{NH:{get:function(){return this.Ec.NH;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{k7:{get:function(){return this.Ec.k7;},enumerable:!0,configurable:!0}});a.prototype.toJSON=function(){return{movieId:this.M,streamId:this.za,offset:this.offset,bytes:this.aa};};return a;}();c.Kw=g;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.up={$A:"PRIMARY",Fca:"ASSISTIVE",lda:"COMMENTARY"};c.XZ={assistive:c.up.Fca,closedcaptions:c.up.Fca,directorscommentary:c.up.lda,commentary:c.up.lda,subtitles:c.up.$A,primary:c.up.$A};},function(g){g.T=function(c){return null!=c&&"object"===typeof c&&!0===c["@@functional/placeholder"];};},function(g,c,a){var b,f,q;b=a(110);f=a(50);q=a(158);g.T=function(a){return function k(c,t,u){switch(arguments.length){case 0:return k;case 1:return q(c)?k:f(function(b,f){return a(c,b,f);});case 2:return q(c)&&q(t)?k:q(c)?f(function(b,f){return a(b,t,f);}):q(t)?f(function(b,f){return a(c,b,f);}):b(function(b){return a(c,t,b);});default:return q(c)&&q(t)&&q(u)?k:q(c)&&q(t)?f(function(b,f){return a(b,f,u);}):q(c)&&q(u)?f(function(b,f){return a(b,t,f);}):q(t)&&q(u)?f(function(b,f){return a(c,b,f);}):q(c)?b(function(b){return a(b,t,u);}):q(t)?b(function(b){return a(c,b,u);}):q(u)?b(function(b){return a(c,t,b);}):a(c,t,u);}};};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.mga="ManifestEncoderSymbol";c.XY="ManifestTransformerSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Yea="IDBDatabaseFactorySymbol";c.Afa="IndexedDBFactorySymbol";c.MY="IndexedDBStorageFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.GNa="NativeLocalStorageSymbol";c.Mga="NativeLocalStorageFactorySymbol";c.Zea="IDBFactorySymbol";},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(29);c.Jxb=function(){this.MH=[];this.pF=[];this.N1=b.Lw.Qw;this.UW=b.Pj.Qw;};c.kN="DeviceCapabilitiesConfigSymbol";},function(g,c,a){g=a(239);a=a(238);c.async=new a.jX(g.iX);},function(g,c,a){function b(a){var b,d;b=a.Symbol;if("function"===typeof b)return b.iterator||(b.iterator=b("iterator polyfill")),b.iterator;if((b=a.Set)&&"function"===typeof new b()["@@iterator"])return"@@iterator";if(a=a.Map)for(var b=Object.getOwnPropertyNames(a.prototype),f=0;f<b.length;++f){d=b[f];if("entries"!==d&&"size"!==d&&a.prototype[d]===a.prototype.entries)return d;}return"@@iterator";}g=a(80);c.wKb=b;c.iterator=b(g.root);c.Mvb=c.iterator;},function(g,c,a){var b,f,q,p,d,k,m,t;b=this&&this.__extends||function(a,d){function b(){this.constructor=a;}for(var f in d)d.hasOwnProperty(f)&&(a[f]=d[f]);a.prototype=null===d?Object.create(d):(b.prototype=d.prototype,new b());};f=a(10);g=a(46);q=a(71);p=a(461);d=a(460);k=a(241);m=function(a){function d(d){a.call(this,d);this.destination=d;}b(d,a);return d;}(g.ri);c.xRa=m;a=function(a){function c(){a.call(this);this.Ws=[];this.AJ=this.$e=this.closed=!1;this.Nba=null;}b(c,a);c.prototype[k.Sz]=function(){return new m(this);};c.prototype.dg=function(a){var d;d=new t(this,this);d.L9=a;return d;};c.prototype.next=function(a){if(this.closed)throw new p.YA();if(!this.$e)for(var d=this.Ws,b=d.length,d=d.slice(),f=0;f<b;f++)d[f].next(a);};c.prototype.error=function(a){if(this.closed)throw new p.YA();this.AJ=!0;this.Nba=a;this.$e=!0;for(var d=this.Ws,b=d.length,d=d.slice(),f=0;f<b;f++)d[f].error(a);this.Ws.length=0;};c.prototype.complete=function(){if(this.closed)throw new p.YA();this.$e=!0;for(var a=this.Ws,d=a.length,a=a.slice(),b=0;b<d;b++)a[b].complete();this.Ws.length=0;};c.prototype.unsubscribe=function(){this.closed=this.$e=!0;this.Ws=null;};c.prototype.Z0=function(d){if(this.closed)throw new p.YA();return a.prototype.Z0.call(this,d);};c.prototype.Wf=function(a){if(this.closed)throw new p.YA();if(this.AJ)return a.error(this.Nba),q.wk.EMPTY;if(this.$e)return a.complete(),q.wk.EMPTY;this.Ws.push(a);return new d.Qia(this,a);};c.prototype.H1=function(){var a;a=new f.Da();a.source=this;return a;};c.create=function(a,d){return new t(a,d);};return c;}(f.Da);c.aj=a;t=function(a){function d(d,b){a.call(this);this.destination=d;this.source=b;}b(d,a);d.prototype.next=function(a){var d;d=this.destination;d&&d.next&&d.next(a);};d.prototype.error=function(a){var d;d=this.destination;d&&d.error&&this.destination.error(a);};d.prototype.complete=function(){var a;a=this.destination;a&&a.complete&&this.destination.complete();};d.prototype.Wf=function(a){return this.source?this.source.subscribe(a):q.wk.EMPTY;};return d;}(a);c.$vb=t;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.tia="ReportSyncSymbol";c.sia="ReportApiErrorSyncSymbol";c.Kea="FtlProbeConfigSymbol";c.Lea="FtlProbeSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=c.Vn||(c.Vn={});g[g.yz=0]="playready";g[g.ZW=1]="widevine";g[g.bD=2]="fairplay";g[g.hFb=3]="clearkey";c.$Ia="DrmTypeSymbol";},function(g){g.T={Yq:{VZ:0,xia:1,pi:2,name:["transient","semiTransient","permanent"]},Wq:{Dea:0,uia:1,YN:2,lG:3,jr:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},BDb:{jDb:0,Zzb:1,exb:2,jr:100,name:["trailer","montage","content"]},np:{Nfa:0,pia:1,mSa:2,sIa:3,jr:100,name:["left","right","up","down"]},XF:{JGa:0,YN:1,Qyb:2,jyb:3,iwb:4,Pyb:5,DFa:6,jr:100,name:"continueWatching search grid episode billboard genre bigRow".split(" ")},MA:{lG:0,Ida:1,jr:100,name:["playFocused","detailsOpened"]}};},function(g,c,a){c=a(232);g.T="undefined"!==typeof c&&"undefined"!==typeof nrdp?nrdp.da:Date.now;},function(g,c,a){var b,f,q,p,d,k,m,t,u,y,A,h,x,G,M,R,T;Object.defineProperty(c,"__esModule",{value:!0});b=a(182);f=a(104);q=a(12);p=a(9);g=a(33);d=a(2);k=a(14);m=a(4);t=a(114);u=a(61);y=a(63);A=a(18);h=a(8);x=a(16);G=a(28);M=a(96);R=a(3);a=a(20);c.zn={};J._cad_global.msl=c.zn;T=m.V.get(a.He);g.VY&&T.register(d.I.kfa,function(a){var W,n,r,X,O,ca,va,wa,N,ja,ka,pa,xa,ma;function g(b){b&&b.userList&&q.config.Zqb&&(b.userList=[]);X({esn:f.xh.Rg,esnPrefix:f.xh.ln,authenticationType:q.config.QH,authenticationKeyNames:q.config.Rna,systemKeyWrapFormat:q.config.Esb,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:xa,storeState:b,notifyMilestone:T.Pc.bind(T),log:va,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:d.u.EMa,MSL_READ_TIMEOUT:d.u.DMa}},{result:function(a){K(a);},timeout:function(){a({Y:d.u.lga});},error:function(b){a(l(d.u.lga,void 0,b));}});}function K(b){var t,u,g;function f(){pa&&m.V.get(y.jp).create().then(function(a){return a.save(ja,u,!1);})["catch"](function(a){va.error("Error persisting msl store",d.Xn(a));});}t=m.V.get(M.dB)(R.Db(100));g=O.extend({init:function(a){this.vla=a;},getResponse:function(a,d,b){var f,c;d=this.vla;f=d.An.Jd||f;a=x.xva(a.body)?m.OW(a.body):a.body;k.yI(a,"Msl should not be sending empty request");a={url:d.url,m$:a,withCredentials:!0,GC:"nq-"+d.method,headers:d.headers};d=this.vla.timeout;a.SQ=d;a.v9=d;c=f.download(a,function(a){try{if(a.W)b.result({body:a.content});else if(400===a.Wh&&a.Qa)b.result({body:a.Qa});else throw A.Wa(new ca("HTTP error, SubCode: "+a.Y+(a.Wh?", HttpCode: "+a.Wh:"")),{cadmiumResponse:a});}catch(of){b.error(of);}});return{abort:function(){c.abort();}};}});N&&b.addEventHandler("shouldpersist",function(a){u=a.storeState;t.Kb(f);});A.Wa(c.zn,{BHb:function(){ka=!0;},send:function(a){function f(){var d,b;d=a.An;b={method:a.method,nonReplayable:a.w9,encrypted:a.Sl,userId:a.zM,body:a.body,timeout:2*a.timeout,url:new g(a),allowTokenRefresh:pa,sendUserAuthIfRequired:ma,shouldSendUserAuthData:q.config.drb};d.DR?(b.email=d.DR,b.password=d.password||""):d.oDa?(b.token=d.oDa,b.mechanism=d.Khb,d.lz&&(b.netflixId=d.lz,b.secureNetflixId=d.PV),d.Bz&&(b.profileGuid=d.Bz)):d.lz?(b.netflixId=d.lz,b.secureNetflixId=d.PV):d.axa?(b.mdxControllerToken=d.axa,b.mdxPin=d.Fhb,b.mdxNonce=d.Ehb,b.mdxEncryptedPinB64=d.Dhb,b.mdxSignature=d.Ghb):ka||d.useNetflixUserAuthData?b.useNetflixUserAuthData=!0:d.Bz&&(b.profileGuid=d.Bz);return b;}return new Promise(function(a,k){var c;c=f();b.send(c).then(function(d){ka&&(ka=!1);a({W:!0,body:d.body});})["catch"](function(a){var f,c;if(a.error){f=a.error.cadmiumResponse&&a.error.cadmiumResponse.Y?a.error.cadmiumResponse.Y:b.isErrorReauth(a.error)?d.u.kga:b.isErrorHeader(a.error)?d.u.xMa:d.u.iga;c=b.getErrorCode(a.error);k(l(f,c,a.error));}else va.error("Unknown MSL error",a),a.Jc=a.subCode,k({Y:a.Jc?a.Jc:d.u.FMa});});});},Yg:b});a(p.yc);}function l(a,d,b){var f,k,c,m;m={Y:a,WC:d};if(b){f=function(a){var d;a=a||""+b;if(b.stack){d=""+b.stack;a=0<=d.indexOf(a)?d:a+d;}return a;};if(c=b.cadmiumResponse){if(k=c.Hc&&c.Hc.toString())c.Hc=k;c.Y=a;c.WC=d;c.Qa=f(b.message);c.error={Jc:a,wg:k,qq:d,data:b.cause,message:b.message};return c;}f=f(b.errorMessage);k=A.Ud(b.internalCode)||A.Ud(b.error&&b.error.internalCode);c=void 0!==b.t8a?G.iya(b.t8a):void 0;}f&&(m.Qa=f);k&&(m.Hc=k);m.error={Jc:a,wg:k.toString(),qq:d,data:c,message:f};return m;}k.Ga(q.config);W=m.V.get(t.qx);n=u.Zc.si;if(h.Xt&&h.dn&&h.dn.unwrapKey){try{r=J.netflix.msl;X=r.createMslClient;O=r.IHttpLocation;ca=r.MslIoException;}catch(Fa){a({Y:d.u.yMa});return;}va=m.Lf("Msl");wa=q.config.Jib;N=q.config.Kib;ja=q.config.Up?"mslstoretest":"mslstore";r=b.VE.KBa;ka=q.config.Vdb;pa=!r||r.W;xa=m.Mk(q.config.Up?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");ma=!!q.config.Laa;m.V.get(y.jp).create().then(function(b){wa?b.remove(ja).then(function(){g();})["catch"](function(a){va.error("Unable to delete MSL store",d.Xn(a));g();}):N?b.load(ja).then(function(a){W.mark(n.AMa);g(a.value);})["catch"](function(f){f.Y==d.u.rp?(W.mark(n.CMa),g()):(va.error("Error loading msl store",d.Xn(f)),W.mark(n.BMa),b.remove(ja).then(function(){g();})["catch"](function(d){a(d);}));}):g();})["catch"](function(b){va.error("Error creating app storage while loading msl store",d.Xn(b));a(b);});}else a({Y:d.u.zMa});});},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.DZ="PlaygraphHelperSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.ria=function(a,b){var f;this.$aa=function(){f||(f=setInterval(b,a));};this.D2=function(){f&&(clearInterval(f),f=void 0);};};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=c.Mh||(c.Mh={});g[g.qCa=1]="sourceopen";g[g.en=2]="currentTimeChanged";g[g.wL=3]="seeked";g[g.IIb=4]="needlicense";g[g.Vva=5]="licenseadded";g[g.pCa=6]="sourceBuffersAdded";g[g.G9=7]="onNeedKey";},function(g,c,a){var b,f,q;Object.defineProperty(c,"__esModule",{value:!0});b=a(14);f=a(18);q=a(16);(function(){var d,k,m;function a(a){b.Ga(void 0!==d[a]);return d[a];}d={'"':'""',"\r":"","\n":" "};k=/["\r\n]/g;m=/[", ]/;c.Q4a=function(d){return q.Tb(d)?q.pa(d)?d:q.Sd(d)?d.replace(k,a):q.ava(d)?d:isNaN(d)?"NaN":"":"";};c.xwa=function(a){var d,b;d=c.Q4a;b="";f.Uc(a,function(a,f){a=d(a)+"="+d(f);m.test(a)&&(a='"'+a+'"');b=b?b+(","+a):a;});return b;};}());},function(g,c,a){var f,q,p;function b(a,b){this.ej=b?[b]:[];this.T_="$op$"+p++;this.o=a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(9);q=a(14);p=0;b.prototype.addListener=function(a,b){var d;d=this;q.Upa(a);q.Ga(0>this.ej.indexOf(a));a[f.jZ+this.T_]=b;this.ej=this.ej.slice();this.ej.push(a);this.ej.sort(function(a,b){return d.trb(a,b);});};b.prototype.removeListener=function(a){var d;q.Upa(a);this.ej=this.ej.slice();0<=(d=this.ej.indexOf(a))&&this.ej.splice(d,1);};b.prototype.set=function(a,b){if(this.o!==a){b={oldValue:this.o,newValue:a,Wu:b};this.o=a;a=this.ej;for(var d=a.length,f=0;f<d;f++)a[f](b);}};b.prototype.when=function(a){var d;d=this;return new Promise(function(b){function f(k){if(a(k.newValue))return d.removeListener(f),b(k.newValue);}if(a(d.o))return b(d.o);d.addListener(f);});};b.prototype.trb=function(a,b){return(a[f.jZ+this.T_]||0)-(b[f.jZ+this.T_]||0);};oa.Object.defineProperties(b.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.o;}}});c.Lc=b;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.BZ="PlaybackSegmentDataFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.tZ="PboBindCommandSymbol";},function(g,c,a){var b,f,q,p,d,k,m,t;Object.defineProperty(c,"__esModule",{value:!0});b=a(283);f=a(12);q=a(9);g=a(2);p=a(14);d=a(4);k=a(18);m=a(70);t=a(85);a=a(20);c.cn={};J._cad_global.controlProtocol=c.cn;d.V.get(a.He).register(g.I.ffa,function(a){var m,u,g;p.Ga(f.config);m=d.Lf("ControlProtocol");u=f.config.yh;p.Ga(u);g=d.V.get(t.Dt);m.info("Creating EDGE instance",{Endpoint:g.endpoint+u.Dxa,Path:u.Pqa});k.Wa(c.cn,new b.lHa(m));a(q.yc);});c.xFb=d.V.get(m.pN);c.wFb="1";c.yFb="2";c.zFb="3";c.vFb="4";},function(g,c,a){var q,p,d,k,m,t,u,y,A,h,x,G,M,R,T,l,D;function b(a){var b;b=this;this.j=a;this.Sna=this.Wva=!1;this.log=m.bg(this.j,"Playback");this.An={Jd:a.FJ,log:m.bg(a,"MSLContext"),profile:a.profile};this.KT=m.V.get(M.ZF);this.gl=m.V.get(l.gx);this.Kc=m.V.get(D.fB);this.j.addEventListener(T.S.cK,function(){return b.Dub();});t.Ga(d.config);t.Ga(q.cn);t.Ga(this.An.Jd);d.config.hp||(this.R6a=m.V.get(u.fea));}function f(a,d,b){var k;function f(a){return a&&0<a.length&&a[0].Jv;}k=m.V.get(M.ZF);return a.oa&&f(a.kc)?k.release(Object.assign(Object.assign({},b),{oa:a.oa,kc:a.kc}),d):b.oa&&f(b.kc)?k.release(b,d):Promise.resolve(p.yc);}Object.defineProperty(c,"__esModule",{value:!0});q=a(179);p=a(9);d=a(12);k=a(26);m=a(4);t=a(14);u=a(468);y=a(2);A=a(61);h=a(33);x=a(45);G=a(16);M=a(147);R=a(146);T=a(15);l=a(91);D=a(107);b.prototype.RH=function(a){var c,m,u;function b(){c.j.yBa().then(f)["catch"](a);}function f(d){try{c.j.Hza(d);a(p.yc);c.p9a();}catch(ca){c.log.error("Exception processing authorization response",ca);a({W:!1,Y:y.u.UOa});}}c=this;t.xI(this.j.M);t.xI(this.j.bh);m=this.j.Ja;if(m){u=m.expiration;u?(u-=k.F2(),18E5<u?x.Ab(function(){f(m);c.j.Nu="ui";}):(this.log.error("manifest is expired",{gap:u}),b())):x.Ab(function(){f(m);c.j.Nu="ui";});}else d.config.En&&this.Kc()?(u=this.Kc().xo(this.j.M,"manifest"))&&u.then(function(a){f(a);c.j.Nu="videopreparer";})["catch"](function(a){c.log.warn("manifest not in cache",a);b();}):b();};b.prototype.rJ=function(a){var d;d=this;return new Promise(function(b,f){var c,k,t;c=A.Zc.qpa(a.zh);k=a.Pp.map(function(a){return{sessionId:a.sessionId,dataBase64:m.as(a.data)};});t=d.j.xbb(a.Pp[0].sessionId);c={Of:t.Of,zh:G.is.Ik(a.zh)?a.zh:c,zR:[t.Yj],Pp:k,oa:t.oa,so:a.so,xf:t.Ja.xf};d.j.mI&&d.j.mI.UQ&&(c.mK=d.j.mI.UQ);d.KT.Nx(c,d.An.profile).then(function(a){d.j.kc=a.kc;b(a);d.q9a(t);})["catch"](f);});};b.prototype.release=function(a){return f(this.j,this.An.profile,a);};b.prototype.tpa=function(){var a;a=this.R6a.create();a.profileId=this.j.profile.id;this.j.jf&&(a.Td=this.j.jf.jD());a.kc=this.j.kc;a.oa=this.j.oa;a.M=this.j.M;return a;};b.prototype.q9a=function(a){this.Wva||(this.Wva=!0,this.j.fireEvent(T.S.cK,{ba:a.ba}));};b.prototype.p9a=function(){var a;a=this;this.Sna||(this.Sna=!0,this.j.fireEvent(T.S.t_a),m.V.get(R.UN)().then(function(d){d.zrb(a.j);}));};b.prototype.Dub=function(){var a;a=this;this.gl.Oy||b.ZDa||(b.ZDa=!0,h.ENa&&d.config.Cub&&q.cn.Y1(this.An).then(function(){return a.log.trace("Updated NetflixId");})["catch"](function(d){return a.log.error("NetflixId upgrade failed",y.Xn(d));}));};c.mHa=b;b.ZDa=!1;c.aob=f;},function(g,c,a){var p,d,k,m,t,u,y,A,h,x,G,M,R,T,l,D,n,Q;function b(a,b){var x,M;function c(b){return d.aob(a,M,b);}function t(){var a,d,b;d=y.Lf("Eme");a=new u.Jg.It(d,void 0,c,{Vg:!1,SJ:!1});b=y.V.get(h.cB);return u.Jg.Kt(d,"cenc",void 0,{Vg:!1,SJ:!1,sva:m.config.ji,tBa:{kxa:m.config.xpb,Foa:m.config.waa,QKb:m.config.wpb},pL:a,Lza:m.config.C$,mF:m.config.mF,tA:m.config.j4,nJb:m.config.ypb,Mna:b.nI([]),lEa:b.tI([]),uD:m.config.uD});}function g(a,d){var b,f;f=y.V.get(Q.BZ)(0,0,d.movieId,{},d.xid,D.Db(n.Yf()),!1,void 0,function(){return null;});m.config.ji&&(x.info("secure stop is enabled"),b=a.W?{success:a.W,persisted:!0,ss_km:a.jxa,ss_sr:a.DL,ss_ka:a.bpa}:{success:a.W,persisted:!0,state:a.state,ErrorCode:a.code,ErrorSubCode:a.Jc,ErrorExternalCode:a.wg,ErrorEdgeCode:a.ky,ErrorDetails:a.cause&&a.cause.Qa},b.browserua=G.Oj,d=y.V.get(T.Mj),a=y.V.get(l.Yn).Pl("securestop",a.W?"info":"error",b,f),d.vc(a));}function K(){function a(a,d){var b;M=p.hj.Ay(d.profileId);if(!M)return x.warn("profile not found in release drm session, this is an orphan drmSession"),f(a,d);if(!d.kc||0===d.kc.length||!d.kc[0].Jv)return x.error("releaseDrmSession exception: missing valid keySessionData"),f(a,d);if(0<d.kc.length){x.info("Sending the deferred playdata and secure stop data");b=t();return b.create(m.config.Td).then(function(){return b.cGb(d);}).then(function(b){x.info("Sent the deferred playdata and secure stop data");g(b,d);return f(a,d);})["catch"](function(b){b&&b.code===A.I.EQa&&f(a,d);b&&b.code===A.I.DQa&&f(a,d);x.error("Unable to send last stop",b);g(b,d);throw b;});}x.info("No key session so just send the playdata");return c(d).then(function(){x.trace("Successfully sent stop command for previous session");return f(a,d);})["catch"](function(a){x.error("Unable to send stop command for previous session",a);throw a;});}q(x).then(function(d){var f;f=d.AR.filter(function(a){return!1===a.active;}).map(function(b){return a(d,b);});Promise.all(f).then(function(){x.info("release drm session completed for "+f.length+" entries");b(k.yc);})["catch"](function(a){a=a||{};a.DrmCacheSize=f.length;x.error("Unable to release one or more DRM session data",a);b(k.yc);});})["catch"](function(a){x.error("Unable to load DRM session data",a);b(k.yc);});}x=y.Lf("PlayDataManager");b=b||k.ne;m.config.hp?b(k.yc):K();}function f(a,d){return a?a.V$(d):Promise.resolve();}function q(a){var d;if(!c.Kqa){d=y.V.get(x.sX);c.Kqa=new Promise(function(b,f){d.Zza().then(function(){b(d);})["catch"](function(d){a.error("Unable to load DRM data for persistent secure stop",d);f(d);});});}return c.Kqa;}Object.defineProperty(c,"__esModule",{value:!0});p=a(90);d=a(180);k=a(9);m=a(12);t=a(53);u=a(33);y=a(4);A=a(2);h=a(113);x=a(243);G=a(8);M=a(146);R=a(15);T=a(39);l=a(58);D=a(3);n=a(26);Q=a(177);g=a(20);c.vPa=function(a){var g,p,A,h,K;function d(){p||(a.Pc("pdsb"),p=y.V.get(M.UN)().then(function(d){h=d;a.Pc("pdsc");return d;})["catch"](function(d){g.error("Unable to initialize the playdata services",d);a.Pc("pdse");throw d;}));return p;}function c(){A=!0;h&&h.close();t.Ee.removeListener(t.Yk,c);}g=y.bg(a,"PlayDataManager");A=!1;if(!u.Jg.Kt||!u.Jg.It){K={};u.Jg.Kt=K.yb;u.Jg.It=K.request;}a.Pc("pdctor");a.addEventListener(R.S.Ue,function(){t.Ee.removeListener(t.Yk,c);});a.addEventListener(R.S.cK,function(){var d;if(!m.config.hp&&a.jf){d=a.cn.tpa();q(g).then(function(a){return a.Oma(d);})["catch"](function(){g.error("Unable to load/add cached DRM data");});}});a.addEventListener(R.S.Ue,function(){var b;if(!A){a.ovb();b=[function(){return m.config.hp||!a.jf?Promise.resolve():new Promise(function(d){var b;g.info("Sending the expedited playdata and secure stop data");b=a.cn.tpa();a.jf.zGb(b).then(function(d){g.info("Sent the expedited playdata and secure stop data");m.config.ji&&a.jq.QV({success:d.W,persisted:!1,ss_km:d.jxa,ss_sr:d.DL,ss_ka:d.bpa});return q(g);}).then(function(a){return f(a,b);}).then(function(){d();})["catch"](function(b){g.error("Unable to send the expedited playdata and secure stop data",b);m.config.ji&&a.jq.QV({success:b.W,state:b.state,ErrorCode:b.code,ErrorSubCode:b.Jc,ErrorExternalCode:b.wg,ErrorEdgeCode:b.ky,ErrorDetails:b.cause&&b.cause.Qa});d();});});}(),function(){return d().then(function(d){return d.ACa(a.fa);}).then(function(){g.info("Sent the playdata");})["catch"](function(a){g.error("Unable to send the playdata",a);});}(),function(){return new Promise(function(a){y.V.get(T.Mj).flush(!1)["catch"](function(){g.error("Unable to send logblob");a();}).then(function(){a();});});}()];Promise.all(b).then(function(){a.DU();})["catch"](function(){a.DU();});}});t.Ee.addListener(t.Yk,c);return{Lpb:function(f){a.Pc("pdpb");m.config.SV||d().then(function(d){return d.send(a.M);}).then(function(){m.config.hp?(a.Pc("pdpc"),f(k.yc)):b(a,function(){a.Pc("pdpc");f(k.yc);});})["catch"](function(){a.Pc("pdpe");f(k.yc);});}};};c.wPa=function(){new Promise(function(a){b({},function(d){a(d);});});};y.V.get(g.He).register(A.I.Pt,function(a){a(k.yc);});},function(g,c,a){var b,f,q,p,d,k,m,t,u,y,A;Object.defineProperty(c,"__esModule",{value:!0});b=a(9);f=a(12);q=a(53);p=a(26);d=a(2);k=a(14);m=a(4);t=a(18);u=a(8);y=a(141);A=a(16);g=a(20);m.V.get(g.He).register(d.I.ofa,function(a){var K,R,T;function g(){var a;g=b.ne;a=setInterval(h,f.config.tgb);q.Ee.addListener(q.Yk,function(d){d&&d.isPopStateEvent?K.trace("popstate event, Lock timers can stay"):(t.Uc(R,function(a,d){localStorage.removeItem(d.un);}),clearInterval(a));},b.XA);}function h(){var a;a=p.NQ();t.Uc(R,function(d,b){d=localStorage.getItem(b.un);(d=JSON.parse(d))?d.updated=a:d={updated:a,sessionId:T,count:1};localStorage.setItem(b.un,JSON.stringify(d));});}k.Ga(y.storage);K=m.Lf("StorageLock");R={};T=Date.now()+"-"+Math.floor(1E6*Math.random());c.VE={Nx:function(a,c,k){var y,q,h,x,G,M,l,D,W,n;function m(a){localStorage.setItem(h,JSON.stringify(a));a={un:h};R[h]=a;K.trace("Lock acquired",{Name:a.un});g();c({W:!0,OT:a});}k=void 0===k?!1:k;y=this;if(localStorage){q=p.NQ();h="lock-"+a;x={updated:q,sessionId:T,count:1};try{if(h in localStorage){G=localStorage.getItem(h);l=JSON.parse(G);A.Cv(l.updated)&&(M=l.updated);D=u.cG(q-M)*b.Nj;W=T===l.sessionId;if(D<f.config.fwa)if(W)l.count+=1,K.debug("Incremented lock count for existing playbackSession",{id:T,count:l.count}),l.updated=q,m(l);else if(k){n=f.config.fwa-D+b.Nj;K.error("Waiting until current expiration to confirm whether lock is still active",{id:T,count:l.count,Epoch:q,LockEpoch:M,waitTimeoutMs:n});J.setTimeout(function(){return y.Nx(a,c,!1);},n);}else c({W:!1});else K.error("Lock was expired or invalid, ignoring",{Epoch:q,LockEpoch:M}),m(x);}else m(x);}catch(ka){K.error("Error acquiring Lock",{errorSubCode:d.u.fh,errorDetails:t.ud(ka)});c({W:!0});}}else u.cwa?K.error("Local storage access exception",{errorSubCode:d.u.SQa,errorDetails:t.ud(u.cwa)}):K.error("No localstorage",{errorSubCode:d.u.TQa}),c({W:!0});},release:function(a,d){var f,c;k.Ga(R[a.un]==a);if(localStorage){try{f=localStorage.getItem(a.un);c=JSON.parse(f);1<c.count?(--c.count,localStorage.setItem(a.un,JSON.stringify(c)),K.trace("Lock count decremented",{Name:a.un,count:c.count})):(localStorage.removeItem(a.un),delete R[a.un],K.trace("Lock released",{Name:a.un}));}catch(ia){K.error("Unable to release Lock",{Name:a.un},ia);}d&&d(b.yc);}}};f.config.KR?c.VE.Nx("session",function(d){c.VE.KBa=d;a(b.yc);}):a(b.yc);});},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.zZ="PlayPredictionDeserializerSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.JT=function(a,b,f){var c;if(f.set)throw Error("Property "+b+" has a setter and cannot be made into a lazy property.");c=f.get;f.get=function(){var g,d;g=c.apply(this,arguments);d={enumerable:f.enumerable,value:g};Object.getPrototypeOf(a)===Function.prototype?Object.defineProperty(a,b,d):Object.defineProperty(this,b,d);return g;};};},function(g,c){function a(){}Object.defineProperty(c,"__esModule",{value:!0});c.bga=a;a.UHa="display";a.EGa="console";a.ZBb="remote";a.GDb="writer";},function(g,c,a){var f;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(8);b.a3=function(a){var b;if(f.Nd.queryCommandSupported&&f.Nd.queryCommandSupported("copy")){b=f.Nd.createElement("textarea");b.textContent=a;b.style.position="fixed";f.Nd.body.appendChild(b);b.select();try{f.Nd.execCommand("copy");}catch(d){console.warn("Copy to clipboard failed.",d);}finally{f.Nd.body.removeChild(b);}}};c.wX=b;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Iha="PboPlaydataValidatorSymbol";c.Fha="PboPlaydataArrayValidatorSymbol";c.Gha="PboPlaydataCollectionValidatorSymbol";},function(g,c,a){var d,k,m,t,u;function b(a,d,b){this.Sa=a;this.Vta=d;this.ya=b;}function f(){}function q(){}function p(){}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);d=a(1);k=a(42);m=a(3);t=a(17);a=a(23);p.prototype.encode=function(a){return{downloadableId:a.Tc,duration:a.duration};};p.prototype.decode=function(a){return{Tc:a.downloadableId,duration:a.duration};};q.prototype.encode=function(a){return{total:a.total,audio:a.audio.map(new p().encode),video:a.video.map(new p().encode),text:a.text.map(new p().encode)};};q.prototype.decode=function(a){return{total:a.total,audio:a.audio.map(new p().decode),video:a.video.map(new p().decode),text:a.text.map(new p().decode)};};f.prototype.encode=function(a){return{type:a.type,profileId:a.profileId,href:a.href,xid:a.oa,movieId:a.M,position:a.position,clientTime:a.hI,sessionStartTime:a.EL,mediaId:a.cz,playTimes:new q().encode(a.NK),trackId:a.eb,sessionId:a.sessionId,appId:a.FH,sessionParams:a.lm,mdxControllerEsn:a.P8};};f.prototype.decode=function(a){return{type:a.type,profileId:a.profileId,href:a.href,oa:a.xid,M:a.movieId,position:a.position,hI:a.clientTime,EL:a.sessionStartTime,cz:a.mediaId,NK:new q().decode(a.playTimes),eb:a.trackId,sessionId:a.sessionId,FH:a.appId,lm:a.sessionParams,P8:a.mdxControllerEsn};};c.vZ=f;b.prototype.create=function(a){return{href:a.Ja&&a.Ja.xf?a.Ja.xf.L5("events").href:"",type:"online",profileId:a.profile.id,oa:a.oa.toString(),M:a.M,position:a.r3||0,hI:this.Sa.Oaa.ea(m.ma),EL:a.vD?a.vD.ea(m.ma):-1,cz:this.P$a(a),NK:this.vbb(a),eb:void 0!==a.bh?a.bh.toString():"",sessionId:this.Vta().sessionId||this.ya.id,FH:this.Vta().FH||this.ya.id,lm:a.Ya.lm||{}};};b.prototype.r4a=function(a,d){return Object.assign({},this.create(a),{P8:d&&d.UQ});};b.prototype.load=function(a){return new f().decode(a);};b.prototype.P$a=function(a){var d,b,f;d=a.Nc.value;b=a.Ef.value;f=a.wc.value;return d&&b&&f?(a=a.Ja.media.find(function(a){return a.tracks.AUDIO===d.eb&&a.tracks.VIDEO===b.eb&&a.tracks.TEXT===f.eb;}))?a.id:"":"";};b.prototype.U5=function(a){return a.map(function(a){return{Tc:a.downloadableId,duration:a.duration};});};b.prototype.vbb=function(a){return(a=a.il)?(a=a.ubb(),{total:a.total,audio:this.U5(a.audio),video:this.U5(a.video),text:this.U5(a.timedtext)}):{total:0,video:[],audio:[],text:[]};};u=b;u=g.__decorate([d.N(),g.__param(0,d.l(k.Kj)),g.__param(1,d.l(t.ld)),g.__param(2,d.l(a.Pe))],u);c.pPa=u;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.WY="ManifestProviderSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.PN="NetworkMonitorFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Yfa="LogMessageRulerConfigSymbol";c.Zfa="LogMessageRulerSymbol";},function(g,c,a){var b,f,q,p,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(4);f=a(2);q=a(343);p=a(342);d=a(45);c.BEa=function(a,c){var k,m;try{k=q.Fvb(a);}catch(y){b.log.error("xml2xmlDoc exception",y);}d.Ab(function(){if(k&&k.documentElement)try{m=p.Gvb(k);}catch(y){b.log.error("xmlDoc2js exception",y);}d.Ab(function(){m?c({W:!0,object:m}):c({W:!1,Y:f.u.Eea});});});};},function(g,c,a){var b,f,q,p,d,k,m;Object.defineProperty(c,"__esModule",{value:!0});b=a(14);f=a(19);q=a(9);p=a(124);d=a(8);k=a(16);m=a(18);c.Ckb=function(){var ea,X,O,ca,va,wa,N,ja,ka,pa,xa,ma;function a(a){if(f.Sy(a)){a=a.toLowerCase();if("#"==a[0]){if(7==a.length)return a;if(4==a.length)return"#"+a[1]+a[1]+a[2]+a[2]+a[3]+a[3];}return c.Ikb[a];}}function u(a,b,f){b=b[a];0<=b||(b=parseFloat(a));if(0<=b)return d.Zn(b,f);}function g(a,d){var b,f;b=a.length;f=a[b-1];if("t"===f)return parseFloat(a)*d|0;if("s"===f)return"m"===a[b-2]?parseFloat(a)|0:parseFloat(a)*q.Nj|0;if((a=a.match(ka))&&4<=a.length)return(3600*parseInt(a[1],10)+60*parseInt(a[2],10)+parseFloat(a[3]))*q.Nj|0;throw Error("dfxp-badtime");}function A(a,d,b,f,c){var k,m,t,u,g,p,q,A;if(a){m=a.style;b=m?b[m]:void 0;f=(m=a.region)?f[m]:void 0;m=c.length;for(t=0;t<m;t++)if(u=c[t],g=a[u],void 0===g&&b&&(g=b[u]),void 0===g&&f&&(g=f[u]),void 0!==g&&g!==d[u]){if(!k)for(k={},p=0;p<m;p++)q=c[p],A=d[q],void 0!==A&&(k[q]=A);k[u]=g;}}return k||d;}function h(a,d,b,c,k,m,t,u,g){var y,h;function q(a,K,x){var G,M,T,l,D,W;G=a[p.Vi];M=G.style||K.style||"";T=G.region||K.region||"";M||T?(l=M+"/"+T,D=b[l]):D=d;if(!D){D=d;W=f.JL(c);f.Wa(W,k[M]);D=R(D,W,t,u,g);b[M+"/"]=D;T&&(f.Wa(W,m[T]),f.Wa(W,k[M]),D=R(D,W,t,u,g),b[l]=D);}if(!x)a:{for(x=wa.length;x--;)if(void 0!==G[wa[x]]){x=!0;break a;}x=void 0;}x&&(G=A(G,K,k,m,N),D=R(D,G,t,u,g));K=(a=a[p.aX])&&a.length;for(M=0;M<K;M++)T=a[M],f.Ze(T)?pa.test(T[p.bX])?h++:q(T,G,x):(y.push({text:T,lineBreaks:h,style:D}),h=0);}y=[];h=0;q(a,c,!1);0<h&&y.push({text:"",lineBreaks:h,style:d});return y;}function x(a,d,b,f,c,k,m,t){var u,g;b&&(b=X[b]||"top",a.verticalAlignment!==b&&(a.verticalAlignment=b));f&&(b=O[f]||"left",a.horizontalAlignment!==b&&(a.horizontalAlignment=b));c?((g=t[c])?(f=g.marginLeft,b=g.marginTop):(u=c.split(" "),f=D(u[0],m.x)||0,b=D(u[1],m.y)||0,g={Tp:0,marginLeft:f,marginTop:b,qZa:f*d.v6+d.yJ,sZa:b*d.uca+d.SW},30>t.Tp&&(t.Tp++,t[c]=g)),a.marginLeft=g.qZa,a.marginTop=g.sZa):(b=f=0,(g=t["default"])||(t["default"]=g={Tp:0}));k&&(c=g[k],c||(u=k.split(" "),c={rZa:(1-(f+(D(u[0],m.x)||0)))*d.v6+d.yJ,pZa:(1-(b+(D(u[1],m.y)||0)))*d.uca+d.SW},30>g.Tp&&(g.Tp++,g[k]=c)),a.marginRight=c.rZa,a.marginBottom=c.pZa);}function G(a,d,b,c,k){var m,t,u;m=a.displayAlign;t=a.textAlign;u=a.origin;a=a.extent;b=f.JL(b);x(b,d,m,t,u,a,c,k);b.id=ea++;return b;}function M(d,b,k,m){var t,g,q,p,A,y;t=u(k.characterSize||b.characterSize,c.Jkb,2)||1;g=(g=d.fontSize)&&xa.test(g)?f.ir(f.Ud(g),25,200):void 0;t*=g/100||1;g=d.textOutline;if(g&&"none"!=g){p=g.split(" ");ma.test(p)?(y=0,A=d.color):(y=1,A=a(p[0]));q=l(p[y]);p=l(p[y+1]);}return{characterStyle:k.characterStyle||c.Kkb[d.fontFamily]||b.characterStyle,characterSize:t*m,characterColor:a(k.characterColor||d.color||b.characterColor),characterOpacity:u(f.I2(k.characterOpacity,d.opacity,b.characterOpacity),c.R9,1),characterEdgeAttributes:k.characterEdgeAttributes||g&&("none"===g?c.Gkb:p?c.Q9:c.Mya)||b.characterEdgeAttributes,characterEdgeColor:a(k.characterEdgeColor||A||b.characterEdgeColor),characterEdgeWidth:q,characterEdgeBlur:p,characterItalic:"italic"===d.fontStyle,characterUnderline:"underline"===d.textDecoration,backgroundColor:a(k.backgroundColor||d.backgroundColor||b.backgroundColor),backgroundOpacity:u(f.I2(k.backgroundOpacity,d.opacity,b.backgroundOpacity),c.R9,1)};}function R(a,b,f,c,k){var t;b=M(b,f,c,k);m.Uc(b,function(b,f){f!==a[b]&&(t||(t=d.kG(a)),t[b]=f);});return t||a;}function T(a,b,f,c,k,m,t,u){var g;g=a[p.Vi];f=A(a[p.Vi],b,f,k,ja);b=f.region;a=g.displayAlign;f=f.textAlign;k=g.origin;g=g.extent;b||a||f||k||g?((c=c[b])?c=d.kG(c):a||k||g?(c=d.kG(va),c.id=ea++):c=d.kG(ca),x(c,m,a,f,k,g,t,u)):c=ca;return c;}function l(a){a=f.Ud(a);return k.Cv(a,0,100)?a:0;}function D(a,d){var b;b=a[a.length-1];if("%"===b)return f.ir(.01*parseFloat(a),0,1);if("c"===b)return f.ir(f.Ud(a)/d,0,1);}function n(a){for(var b=a.length,f=a[--b].endTime;b--;)f=d.Zn(a[b].endTime,f);return f;}function Q(d){m.Uc(d,function(b,f){0<=b.toLowerCase().indexOf("color")&&(d[b]=a(f));});}function r(a,f){var c,k,m,t;c=a.pixelAspectRatio;t={yJ:0,v6:1,SW:0,uca:1};a=(a.extent||"640px 480px").split(" ");2<=a.length&&(c=(c||"").split(" "),k=parseFloat(a[0])*(parseFloat(c[0])||1),m=parseFloat(a[1])*(parseFloat(c[1])||1));k=0<k&&0<m?k/m:1280/720;f=f||1280/720;c=k/f;.01<d.cG(f-k)&&(f>=k?(t.yJ=(1-c)/2,t.v6=c):b.Ga(!1,"not implemented"));return t;}function Z(a){var d,b,k,m,t;if(d=a.cellResolution)if(d=d.split(" "),2<=d.length){b=f.Ud(d[0]);d=f.Ud(d[1]);if(0<b&&0<d)return{x:b,y:d};}d=a.extent;if(d&&(d=d.split(" "),2<=d.length)){b=f.Ud(d[0]);t=f.Ud(d[1]);if(a=a.pixelAspectRatio)d=a.split(" "),k=f.Ud(d[0]),m=f.Ud(d[1]);if(b&&t&&1.5<b*(k||1)/(t*(m||1)))return c.Ekb;}return c.Dkb;}ea=1;X={before:"top",center:"center",after:"bottom"};O={left:"left",start:"left",center:"center",right:"right",end:"right"};ca={id:ea++,verticalAlignment:"bottom",horizontalAlignment:"center",marginTop:.1,marginLeft:.1,marginRight:.1,marginBottom:.1};va={id:ea++,verticalAlignment:"top",horizontalAlignment:"left",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0};wa="fontFamily fontSize fontStyle textDecoration color opacity backgroundColor textOutline".split(" ");N=wa.concat(["style","region"]);ja=["region","textAlign","displayAlign","extent","origin"];ka=/^([0-9]+):([0-9]+):([0-9.]+)$/;pa=/^br$/i;xa=/^[0-9]{1,3}%$/;ma=/^[0-9]/;return function(b,k,m,t,y){var l,D,W,O,U,pa,ca,ia,ka,X,xa,wa,ma,Fa,E,C,cc,mb,Ne,eb,Nc,P,S,Ab,Y,ba,da,qf,Me,fa;function K(){try{for(var a;S;)if(ka=S[p.Vi],Ab.push({id:ea++,startTime:g(ka.begin,W),endTime:g(ka.end,W),region:T(S,ba,pa,ia,ca,O,Fa,mb),textNodes:h(S,da,qf,Y,pa,ca,C,cc,E)}),S=S[p.wF],a=d.jN(),100<a-Me){Me=Date.now();fa=setTimeout(K,1);return;}}catch(rf){R({Y:f.u.qN,Qa:f.ud(rf)});return;}fa=setTimeout(x,1);}function x(){var d,b,c,k,m,t,u;function a(a,c){for(var k,m=[],t={},u,g=b.length;g--;)k=b[g],u=k.region.id,t[u]||(t[u]=1,m.unshift(k));(k=d[d.length-1])&&k.endTime==a&&f.Su(k.blocks,m)?k.endTime=c:d.push({id:ea++,startTime:a,endTime:c,blocks:m});}try{if(!Ab.length){R({W:!0,entries:[]});return;}f.KZa(Ab);d=[];b=[];c=Ab[0];m=Ab[0].startTime;for(t=1;b.length||c;){for(;!b.length||c&&c.startTime==m;)b.push(c),m=c.startTime,c=Ab[t++];k=n(b);if(!c||k<=c.startTime)for(a(m,k),m=k,u=b.length;u--;)b[u].endTime<=m&&b.splice(u,1);else a(m,c.startTime),m=c.startTime,b.push(c),c=Ab[t++];}for(t=d.length;t--;)d[t].index=t,d[t].previous=d[t-1],d[t].next=d[t+1];}catch(sf){R({Y:f.u.qN,Qa:f.ud(sf)});return;}R({W:!0,entries:d});}function R(a){setTimeout(function(){l.abort=f.ne;y(a);},1);}l={abort:function(){fa&&clearTimeout(fa);}};try{D=b[p.Vi];W=q.Nj/(f.Ud(D.tickRate)||1);O=r(D,k);U=f.Wa(va,{marginLeft:O.yJ,marginTop:O.SW,marginRight:O.yJ,marginBottom:O.SW});pa={};ca={};ia={};wa=b.head;ma=b.body;Fa=Z(D);E=1/Fa.y*O.uca;C=f.Wa({characterStyle:"PROPORTIONAL_SANS_SERIF",characterColor:"#EBEB64",characterEdgeAttributes:c.Q9,characterEdgeColor:"#000000",characterSize:1},m,{uq:!0});cc=t||{};mb={Tp:0};if(wa){Ne=wa.styling;if(Ne)for(xa=Ne.style;xa;)ka=xa[p.Vi],Q(ka),pa[ka.id]=ka,xa=xa[p.wF];eb=wa.layout;if(eb)for(var J=eb.region;J;){ka=J[p.Vi];Nc=ka.id;X=f.JL(pa[ka.style]);X=f.Wa(X,ka);for(xa=J.style;xa;)f.Wa(X,xa[p.Vi]),xa=xa[p.wF];Q(X);ca[Nc]=X;ia[Nc]=G(X,O,U,Fa,mb);J=J[p.wF];}}P=ma.div;S=P.p;Ab=[];Y={};Y=A(ma[p.Vi],Y,pa,ca,N);Y=A(P[p.Vi],Y,pa,ca,N);ba={};ba=A(ma[p.Vi],ba,pa,ca,ja);ba=A(P[p.Vi],ba,pa,ca,ja);da=M(Y,C,cc,E);f.Wa(da,{windowColor:a(cc.windowColor||C.windowColor),windowOpacity:u(f.I2(cc.windowOpacity,C.windowOpacity),c.R9,1),cellResolution:Fa},{uq:!0});qf={};P.p=void 0;P[p.aX]=[];}catch(pf){R({Y:f.u.qN,Qa:f.ud(pf)});return;}Me=d.jN();fa=setTimeout(K,1);return l;};}();c.Kkb={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};c.Jkb={SMALL:.5,MEDIUM:1,LARGE:2};c.R9={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};c.Ikb={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb"};c.Gkb="NONE";c.Hkb="RAISED";c.Fkb="DEPRESED";c.Mya="UNIFORM";c.Q9="DROP_SHADOW";c.Dkb={x:40,y:19};c.Ekb={x:52,y:19};},function(g,c,a){var p;function b(){}function f(a,b){this.Zm=a;void 0!==b?(p(b<=a.Kn,"require remain_sec <= chunk.sec but has "+b+" and "+a.Kn),this.ii=b):this.ii=a.Kn;}function q(a){void 0===a&&(a=[]);this.gi=[];this.Df=this.Ti=0;for(var d in a)this.add(a[d],void 0);}p=a(13).assert;b.prototype=Error();f.prototype.constructor=f;f.prototype.Qp=function(){return new f(this.Zm,this.ii);};q.prototype.constructor=q;q.prototype.add=function(a,b){a=new f(a,b);this.gi.push(a);this.Df+=a.ii;this.Ti+=a.Zm.Is()*a.ii;};q.prototype.Qp=function(){var a,b;a=new q(void 0);for(b in this.gi)a.add(this.gi[b].Zm,this.gi[b].ii);return a;};q.prototype.yo=function(){try{return this.gi[0];}catch(d){}};q.prototype.eza=function(a){var d;for(p(0<=a,"unexpected play_for_x_sec: x="+a);0<a;){if(void 0===this.yo())throw new b();if(a<this.yo().ii){d=this.yo().Zm.Is()*a;this.yo().ii-=a;this.Df-=a;this.Ti-=d;a=0;}else d=this.gi.shift(),this.Df-=d.ii,this.Ti-=d.Zm.Is()*d.ii,a-=d.ii;}};q.prototype.Ilb=function(a){var f;p(0<=a,"unexpected play_y_kb: y="+a);for(var d=0;0<a;){if(void 0===this.yo())throw new b();if(a<this.yo().ii*this.yo().Zm.Is()){f=a/this.yo().Zm.Is();this.yo().ii-=f;this.Df-=f;this.Ti-=a;d+=f;a=0;}else f=this.gi.shift(),this.Df-=f.ii,this.Ti-=f.Zm.Is()*f.ii,d+=f.ii,a-=f.Zm.Is()*f.ii;}return d;};g.T={ida:q,kGa:b};},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(5);f=a(24);g=function(){function a(a){this.K=new b.Console("ASEJS","media|asejs","("+a+")");this.l0=[];}a.prototype.Xl=function(a){this.l0[a]||(this.l0[a]=f.ND(b,this.K,"["+a+"]"));return this.l0[a];};return a;}();c.tl=new g(0);},function(g,c,a){var d;function b(a,b,c){this.IC=!1===a;this.DI=a||.01;this.PY=void 0===b?25:b;this.qda=void 0===c?1.1:c;this.sg=new d(f);this.reset();}function f(a,d){return a.Le>d.Le?1:a.Le<d.Le?-1:0;}function q(a,d){return a.oq-d.oq;}function p(a){this.config=a||{};this.mode=this.config.mode||"auto";b.call(this,"cont"===this.mode?a.DI:!1);this.o6a=this.config.ratio||.9;this.p6a=this.config.AKb||1E3;this.uU=0;}d=a(726).jQa;b.prototype.reset=function(){this.sg.clear();this.R7=this.n=0;};b.prototype.size=function(){return this.sg.size;};b.prototype.iA=function(a){var d;d=[];a?(this.JO(!0),this.sg.dd(function(a){d.push(a);})):this.sg.dd(function(a){d.push({Le:a.Le,n:a.n});});return d;};b.prototype.summary=function(){return[(this.IC?"exact ":"approximating ")+this.n+" samples using "+this.size()+" centroids","min = "+this.Bg(0),"Q1  = "+this.Bg(.25),"Q2  = "+this.Bg(.5),"Q3  = "+this.Bg(.75),"max = "+this.Bg(1)].join("\n");};b.prototype.push=function(a,d){d=d||1;a=Array.isArray(a)?a:[a];for(var b=0;b<a.length;b++)this.qka(a[b],d);};b.prototype.E$=function(a){a=Array.isArray(a)?a:[a];for(var d=0;d<a.length;d++)this.qka(a[d].Le,a[d].n);};b.prototype.JO=function(a){var d;if(!(this.n===this.R7||!a&&this.qda&&this.qda>this.n/this.R7)){d=0;this.sg.dd(function(a){a.oq=d+a.n/2;d=a.vC=d+a.n;});this.n=this.R7=d;}};b.prototype.o9a=function(a){var d,b;if(0===this.size())return null;d=this.sg.lowerBound({Le:a});b=null===d.data()?d.zz():d.data();return b.Le===a||this.IC?b:(d=d.zz())&&Math.abs(d.Le-a)<Math.abs(b.Le-a)?d:b;};b.prototype.IB=function(a,d,b){a={Le:a,n:d,vC:b};this.sg.am(a);this.n+=d;return a;};b.prototype.pO=function(a,d,b){d!==a.Le&&(a.Le+=b*(d-a.Le)/(a.n+b));a.vC+=b;a.oq+=b/2;a.n+=b;this.n+=b;};b.prototype.qka=function(a,d){var b,f,c;b=this.sg.min();f=this.sg.max();c=this.o9a(a);c&&c.Le===a?this.pO(c,a,d):c===b?this.IB(a,d,0):c===f?this.IB(a,d,this.n):this.IC?this.IB(a,d,c.vC):(b=c.oq/this.n,Math.floor(4*this.n*this.DI*b*(1-b))-c.n>=d?this.pO(c,a,d):this.IB(a,d,c.vC));this.JO(!1);!this.IC&&this.PY&&this.size()>this.PY/this.DI&&this.ps();};b.prototype.a0a=function(a){var d,b;this.sg.Rj=q;d=this.sg.upperBound({oq:a});this.sg.Rj=f;b=d.zz();a=b&&b.oq===a?b:d.next();return[b,a];};b.prototype.Bg=function(a){var d;d=(Array.isArray(a)?a:[a]).map(this.FWa,this);return Array.isArray(a)?d:d[0];};b.prototype.FWa=function(a){var d,b;if(0!==this.size()){this.JO(!0);this.sg.min();this.sg.max();a*=this.n;d=this.a0a(a);b=d[0];d=d[1];return d===b||null===b||null===d?(b||d).Le:this.IC?a<=b.vC?b.Le:d.Le:b.Le+(a-b.oq)*(d.Le-b.Le)/(d.oq-b.oq);}};b.prototype.ps=function(){var a;if(!this.epa){a=this.iA();this.reset();for(this.epa=!0;0<a.length;)this.E$(a.splice(Math.floor(Math.random()*a.length),1)[0]);this.JO(!0);this.epa=!1;}};p.prototype=Object.create(b.prototype);p.prototype.constructor=p;p.prototype.push=function(a){b.prototype.push.call(this,a);this.o1a();};p.prototype.IB=function(a,d,f){this.uU+=1;b.prototype.IB.call(this,a,d,f);};p.prototype.pO=function(a,d,f){1===a.n&&--this.uU;b.prototype.pO.call(this,a,d,f);};p.prototype.o1a=function(){!("auto"!==this.mode||this.size()<this.p6a)&&this.uU/this.size()>this.o6a&&(this.mode="cont",this.IC=!1,this.DI=this.config.DI||.01,this.ps());};g.T={TDigest:b,Digest:p};},function(g,c,a){(function(){var t8i,h,x,G,M,R,T,l,D,n,Q,r,Z,ea,X,O,ca,va,Q2H;function t(a,d,b){var K8i,c,k,m,t,s6H,r6H;K8i=2;while(K8i!==7){s6H="n";s6H+="o_feas";s6H+="ibl";s6H+="e";s6H+="_stream";r6H="Must";r6H+=" have at least ";r6H+="one selected stream";switch(K8i){case 2:l(!h.R(b),r6H);K8i=1;break;case 1:c=d[b],k=c;c.va&&(c=Z(d.slice(0,Math.min(b+(a.yZa?2:1),d.length)).reverse(),f),void 0===c&&(c=d[0],t=s6H,m=c.va));d=new r();d.Zo=c;K8i=9;break;case 9:k!==c&&(d.reason=t,d.Ms=m);K8i=8;break;case 8:return d;break;}}function f(d){var C8i,b,O6H;C8i=2;while(C8i!==8){O6H="buff";O6H+="_";O6H+="l";O6H+="t_";O6H+="hist";switch(C8i){case 2:b=d.va;C8i=1;break;case 1:C8i=!b||(d.P>c.P?a.Gub:1)*d.P>b?5:4;break;case 4:t=O6H;m=b;return!0;break;case 5:return!1;break;}}}}function m(a,b,f){var m8i,c,c6H,i6H;m8i=2;while(m8i!==7){c6H="his";c6H+="t";c6H+="_bitr";c6H+="ate";i6H="v";i6H+="b";switch(m8i){case 1:m8i=void 0===c?5:4;break;case 5:return a.xH?d(a,f):k(a,b,f);break;case 2:c=M.storage.get(i6H);m8i=1;break;case 4:a=new r();a.Zo=Z(f.reverse(),function(a){var v8i;v8i=2;while(v8i!==1){switch(v8i){case 4:return a.P<c;break;v8i=1;break;case 2:return a.P<=c;break;}}})||f[0];a.reason=c6H;m8i=8;break;case 8:return a;break;}}}function f(a,d,b){var h8i;h8i=2;while(h8i!==5){switch(h8i){case 2:a=n(b.ai,a*b.V8);return D(a,d);break;}}}function k(a,d,c){var T8i,k,m;T8i=2;while(T8i!==3){switch(T8i){case 2:k=new r();m=Math.max(a.Ss,a.gU,d.s7?a.b9:-Infinity);k.Zo=Z(c.filter(function(d){var Q8i;Q8i=2;while(Q8i!==1){switch(Q8i){case 4:return d.P<a.Rv;break;Q8i=1;break;case 2:return d.P<=a.Rv;break;}}}).reverse(),function(d){var W8i,t,u,c,M6H,L6H,b6H,o6H;W8i=2;while(W8i!==7){M6H="no";M6H+="_hist";M6H+="orical_lte_min";M6H+="bitrate";L6H="hist_tpu";L6H+="t";L6H+="_lt_minb";L6H+="itrate";b6H="lt";b6H+="_his";b6H+="t_lte_";b6H+="minbitrate";o6H="hist_";o6H+="bufftim";o6H+="e";switch(W8i){case 1:W8i=d.P>m?5:8;break;case 3:u?(t=b(a,d),f(d,u,a)<=t?(k.Ms=u,c&&(k.$l=c.Kk?c.Kk:0,k.Zk=c.Kk&&c.pm),k.reason=o6H,c=!0):c=!1):c=!1;W8i=9;break;case 5:d=d.P;u=c.va;W8i=3;break;case 2:c={va:d.va,Kk:d.Ka&&d.Ka.Kk,pm:d.Ka&&d.Ka.pm};W8i=1;break;case 9:return c;break;case 8:t=c.va,d.P<=t?(k.Ms=t,c&&(k.$l=c.Kk?c.Kk:0,k.Zk=c.Kk?c.pm:void 0),k.reason=b6H,c=!0):t?(k.Ms=t,c&&(k.$l=c.Kk?c.Kk:0,k.Zk=c.Kk?c.pm:void 0),k.reason=L6H,c=!1):(k.reason=M6H,c=!0);W8i=9;break;}}})||c[0];return k;break;}}}function y(a,d,b,f,c,k){var A8i,xa,ka,N,ja,p,q,A,y,K,G,M,R,D,n,W,Q,O,U,pa,ca,ia,X,z2H,R2H;function g(d,b){var R8i;R8i=2;while(R8i!==1){switch(R8i){case 2:return d>a.Ov&&(h.R(this.Hv)||this.FT>this.Hv||b-this.Hv>a.NT&&d>a.q8);break;}}}A8i=2;function t(b,f,c,m,t,u){var N0v=t8ii;var N8i,xa,ka,N,ja,h,va,Z,x,ca,X,R,ea,wa,ma,W,pa,q,r,g,I2H,U2H,f2H,m2H,N2H,l6H,n6H,C6H,d6H,g6H;N8i=2;while(N8i!==49){I2H="Sec";I2H+="ond stream";I2H+=" ";I2H+="has faile";I2H+="d";U2H="Se";U2H+="cond strea";U2H+="m not in ran";U2H+="g";U2H+="e";f2H="Second st";f2H+="ream una";f2H+="vaila";f2H+="b";f2H+="le";m2H="Second";m2H+=" ";m2H+="stre";m2H+="am undefine";m2H+="d";N2H="First";N2H+=" ";N2H+="str";N2H+="eam has failed";l6H="First";l6H+=" stream n";l6H+="ot in rang";l6H+="e";n6H="First str";n6H+="eam unavailabl";n6H+="e";C6H="First ";C6H+="stream undefi";C6H+="ned";switch(N8i){case 37:xa=X;N8i=36;break;case 29:t&&t.result&&(p.iIb=t.r8);ia={U8a:t&&t.result,va:g,P:b.P};return t&&t.result;break;case 38:N=Math.min(xa,b.$.length-pa),ka.push(b.$.OE.subarray(pa,pa+N)),xa-=N,pa+=N,pa>=b.$.length&&(pa=0);N8i=39;break;case 53:N8i=0<ca||0<X?52:51;break;case 17:t=d.O6a;xa=d.Ngb;m=b.va;ka=x.length,N=b.$&&b.$.length,ja=h.$&&h.$.length;a.s8&&(Z=Math.min(Z,W-R));l(b,C6H);N8i=24;break;case 36:N8i=0<xa?54:53;break;case 7:return!0;break;case 50:ca=Math.max(0,Math.min(ca,b.$.length-pa)),X=Math.max(0,Math.min(X,h.$.length-pa-ca)),0<ca&&ka.push(b.$.OE.subarray(pa,pa+ca)),0<X&&ka.push(h.$.OE.subarray(pa+ca,pa+ca+X));N8i=53;break;case 52:a:{d6H=" >= fragmen";d6H+="tsLeng";d6H+="th: ";g6H="Str";g6H+="e";g6H+="amingI";g6H+="ndex: ";ka=x.concat(ka);ja=R;N0v.k6H(1);h=N0v.S6H(f,ca);N=Z;va=a.nU;Z=a.qW;x=ka.ga;ca=Math.min(ka.length,f+ca+X);X=ka.cd;R=ka.sizes;N0v.F6H(0);ma=N0v.S6H(ja,W);W=Infinity;pa=xa=0;ka=ka.cd[0];N0v.k6H(2);q=N0v.D6H(x,1E3,ka,q);N0v.k6H(3);ka=N0v.D6H(8,m,0,u);N0v.k6H(4);u=N0v.S6H(0,8,m);N0v.F6H(5);m=N0v.S6H(1E3,x);f>=ca&&T.error(g6H+f+d6H+ca);ja+=ka;0===c&&(ja=0);N0v.k6H(5);ja*=N0v.D6H(1E3,x);N0v.F6H(5);c*=N0v.S6H(1E3,x);N0v.k6H(5);va*=N0v.D6H(1E3,x);N0v.F6H(5);N*=N0v.D6H(1E3,x);for(ma*=x/1E3;f<ca;){ea=R[f];wa=X[f];if(r<ea){for(xa=Math.max(ea,t);r<xa;){ja=q;r+=R[pa];++pa;ka=X[pa];q+=ka;}if(!Z&&(ka=c-ja,ka<va)){t={result:!1,r8:ka/(x/1E3),gv:!1};break a;}N0v.k6H(0);ka=N0v.D6H(ja,c);}else if(ka=Math.max(c-ja,0),ka<N&&ka<xa){t={result:!1,r8:Math.min(ka,W)/(x/1E3),gv:!0};break a;}N0v.F6H(6);ja+=N0v.S6H(m,u,ea,0);c+=wa;for(r-=ea;q<ja&&pa<f;){r+=R[pa];++pa;q+=X[pa];}++f;if(f>=h&&ka>ma)break;xa=ka;W=Math.min(ka,W);}t={result:!0,r8:W/(x/1E3),gv:!0};}N8i=29;break;case 5:return!1;break;case 13:c=!a.U2||b===c||b.Ub===c.Ub&&k?0:(c=b.Ka)&&c.Eg&&c.Eg.Fa?c.Eg.Fa+a.R2*(c.Eg.eh?Math.sqrt(c.Eg.eh):0):0;h=f,x=D,R=y+c-A,q=O,W=G-A;N0v.F6H(0);c=N0v.D6H(A,K);pa=M;f=D.length;u=Q;r=n,ca=m,X=t,Z=U;N8i=17;break;case 51:t=m>b.ZT?{result:!0,Ogb:0,gv:!0}:{result:!1,Ogb:0,gv:!0};N8i=29;break;case 32:N0v.k6H(7);l(N0v.S6H(ka,f));N8i=31;break;case 54:N=Math.min(xa,h.$.length-pa),ka.push(h.$.OE.subarray(pa,pa+N)),xa-=N,pa+=N,pa>=h.$.length&&(pa=0);N8i=36;break;case 40:xa=ca;N8i=39;break;case 30:t=!1;N8i=29;break;case 2:g=b.va,q=u?a.G4:a.TR,h=b.$&&b.$.length;N8i=1;break;case 39:N8i=0<xa?38:37;break;case 1:N8i=ia&&!ia.U8a&&ia.va>=g&&ia.P<=b.P?5:4;break;case 41:N8i=xa?40:50;break;case 31:N8i=!m||m<b.P*a.E6||!N?30:43;break;case 43:ja||(h=b);ka=[];N8i=41;break;case 24:l(b.mf,n6H);l(b.inRange,l6H);l(!b.Tg,N2H);N8i=21;break;case 6:N8i=g>=b.P*q?14:13;break;case 21:l(h,m2H);l(h.mf,f2H);l(h.inRange,U2H);l(!h.Tg,I2H);N8i=32;break;case 8:N8i=g>=Math.max(b.ZT,b.P*q)&&!b.gCa?7:13;break;case 4:u||h||(b.vba=!0);N8i=3;break;case 3:N8i=!u||!h?9:13;break;case 9:N8i=h&&!a.qW?8:6;break;case 14:return!0;break;}}}while(A8i!==21){z2H="player missing st";z2H+="reaming";z2H+="Index";R2H="Mus";R2H+="t have";R2H+=" at least one select";R2H+="ed strea";R2H+="m";switch(A8i){case 18:xa=m(c,M,a.H6),ka=m(c,M+xa,a.o8);A8i=17;break;case 23:N=m(c,M,a.G6),ja=m(c,M+N,a.n8);A8i=22;break;case 11:n=W-D.aa;A8i=10;break;case 22:(c=Z(b.slice(0,f).reverse(),function(a,d){var r8i;r8i=2;while(r8i!==1){switch(r8i){case 2:return t(a,b[Math.max(f-d-2,0)],q,N,ja,!0);break;}}}))||(c=b[0],pa=!0);A8i=16;break;case 6:c.$&&c.$.length||(c.vba=!0);D=va.from(d.buffer.$);W=d.buffer.Pu;0<a.nq&&(W=Math.min(W,a.nq));A8i=11;break;case 25:pa=!0;A8i=16;break;case 8:A8i=W==x.zN.lSa||!c.va?7:6;break;case 19:A8i=g.call(this,R,K)?18:16;break;case 17:c=Z(b.slice(f+1,a.kba&&R>=a.yca?b.length:f+2),function(a,d){var a8i;a8i=2;while(a8i!==1){switch(a8i){case 2:return t(a,b[f+d],q,xa,ka,!1);break;case 4:return t(a,b[f*d],q,xa,ka,-2);break;a8i=1;break;}}});A8i=16;break;case 2:l(!h.R(f),R2H);l(h.pa(d.vw),z2H);p=new r(),q=c=b[f],A=d.buffer.U,y=d.buffer.tf,K=d.buffer.ab,G=d.buffer.Sk,M=d.vw,R=G-y,W=this.VO||x.zN.Nh,Q=d.state===x.Ma.ad||d.state===x.Ma.oi?d.buffer.ew:0,O=a.M8,U=a.Pv?a.Pv:1E3;ca=m(c,M,a.F6);t8ii.k6H(1);X=m(c,t8ii.D6H(M,ca),a.m8);this.rla||(this.rla=Math.min(c.P,a.gU));A8i=8;break;case 10:A8i=(ca=t(c,b[Math.max(f-1,0)],c,ca,X,!1))?20:24;break;case 20:A8i=f+1<b.length?19:25;break;case 24:A8i=c.$&&c.$.length?23:16;break;case 16:p.Zo=c||q;p.lI=pa;p.S4a=!ca;return p;break;case 7:return u.call(this,b);break;}}function m(a,d,b){var i8i;i8i=2;while(i8i!==1){switch(i8i){case 4:return a.$?a.$.b3(d,b):1;break;i8i=1;break;case 2:return a.$?a.$.b3(d,b):0;break;}}}}function p(a,d){var u8i,b,f,y2H,x2H;u8i=2;while(u8i!==12){y2H="h";y2H+="ist_";y2H+="thro";y2H+="ughput";x2H="h";x2H+="ist_tdi";x2H+="gest";switch(u8i){case 6:a.Bg=O.tbb(a),f=h.Ob(a.Bg)?!0:!1;u8i=14;break;case 2:b=new r();b.Zo=a;a=b.Zo.Ka||{};b.Zk=a.Kk&&a.pm;b.$l=a.Kk?a.Kk:0;a=ca(b.Zk,{});u8i=7;break;case 7:u8i=(f=h.pa(d.RV)&&0<=d.RV&&100>=d.RV&&!h.R(a)&&!h.Ra(a))?6:14;break;case 14:f?(d=a.Bg(d.RV/100)||b.Zo.va,b.Ms=d,b.reason=x2H):b.Zo.va&&(d=b.Zo.va,b.Ms=d,b.reason=y2H);return b;break;}}}t8i=2;function d(a,d){var I8i,b,k,m,t,u,g,p2H,a2H,v2H,e2H,B2H;I8i=2;while(I8i!==8){p2H="no_";p2H+="sui";p2H+="table_strea";p2H+="m";a2H="De";a2H+="la";a2H+="yTa";a2H+="r";a2H+="get";v2H="B";v2H+="i";v2H+="trat";v2H+="e";e2H="V";e2H+="MA";e2H+="F";B2H="no_";B2H+="v";B2H+="ali";B2H+="d_";switch(I8i){case 1:I8i=0<=g&&(b?d[g].xc>=a.ZD:d[g].P>=a.Ss)&&!(m=d[g],k=p(m,a),t=f(m.P,k.Ms,a),u=c(k.Ms,a),k.LJ=t,t=t<u,m=b?m.xc>=a.ZD&&m.xc<=a.Wwa:m.P>=a.Ss&&m.P<=a.Rv,u=t&&m)?5:3;break;case 5:u=[B2H],!m&&b&&u.push(e2H),m||b||u.push(v2H),t||u.push(a2H),k.reason=u.join("");I8i=4;break;case 3:h.Ra(k)&&(k=p(d[0],a),k.reason=p2H);return k;break;case 4:g--;I8i=1;break;case 2:b=a.ZD&&a.Wwa,b=b&&d.filter(function(a){var U8i;U8i=2;while(U8i!==1){switch(U8i){case 4:return 254>a.xc||9>=a.xc;break;U8i=1;break;case 2:return 110>=a.xc&&0<a.xc;break;}}}).length==d.length,k=null,m=!1,t=!1,u=!1,g=d.length-1;I8i=1;break;}}}function A(a,d,b,f){var M8i,J2H;M8i=2;while(M8i!==1){J2H="pla";J2H+="y";J2H+="i";J2H+="ng";switch(M8i){case 2:return J2H===a.f2?y(a,d,b,f):t(a,b,f);break;}}}while(t8i!==4){Q2H="1SIYbZr";Q2H+="NJC";Q2H+="p9";switch(t8i){case 2:h=a(6),x=a(11),G=a(44),M=a(5),R=a(378),T=G.console,l=G.assert,D=G.Gib,n=G.r0a,Q=G.nC,r=G.sp,Z=G.Cna,ea=G.cC,X=a(74).eba,O=a(358),ca=a(48),va=R.kRa;g.T={STARTING:function(a,b,f){var L8i,W2H;L8i=2;while(L8i!==1){W2H="hi";W2H+="s";W2H+="to";W2H+="rical";switch(L8i){case 2:return W2H===a.f7?m(a,b,f):a.xH?d(a,f):k(a,b,f);break;}}},BUFFERING:A,REBUFFERING:A,PLAYING:y,PAUSED:y};Q2H;t8i=4;break;}}function b(a,d){var l8i,b,f;l8i=2;while(l8i!==13){switch(l8i){case 1:b=a.iT,f=ea(b,function(a){var E8i;E8i=2;while(E8i!==1){switch(E8i){case 4:return d<a.r;break;E8i=1;break;case 2:return d<=a.r;break;}}});l8i=5;break;case 4:return b[0].d;break;case 5:l8i=0===f?4:3;break;case 8:t8ii.F6H(0);a=b[t8ii.S6H(1,f)];b=b[f];return Math.floor(a.d+(b.d-a.d)*(d-a.r)/(b.r-a.r));break;case 3:l8i=-1===f?9:8;break;case 2:l8i=a.iT?1:14;break;case 14:return a.Io;break;case 9:return b[b.length-1].d;break;}}}function u(a){var k8i,d,b;k8i=2;while(k8i!==3){switch(k8i){case 2:d=new r(),b=this.rla;d.Zo=Z(a,function(a){var j8i;j8i=2;while(j8i!==1){switch(j8i){case 2:return a.P>=b;break;case 4:return a.P>b;break;j8i=1;break;}}})||a[a.length-1];d.lI=!0;return d;break;}}}function c(a,d){var g8i,b,T2H,H2H,H8i;g8i=2;while(g8i!==9){T2H="s";T2H+="ig";T2H+="m";T2H+="oi";T2H+="d";H2H="l";H2H+="o";H2H+="g";switch(g8i){case 1:g8i=0===d.HE.lastIndexOf(H2H,0)?5:3;break;case 3:return 0===d.HE.lastIndexOf(T2H,0)?(b=d.vBa[d.HE])&&2==b.length?1E3*(b[0]+b[1]*X(a)):d.Io:d.Io;break;case 2:t8ii.k6H(8);H8i=t8ii.D6H(167,17,13195,5);a=Q(a,0,1E5)/H8i;g8i=1;break;case 5:b=d.vBa[d.HE];return b&&2==b.length?1E3*(b[0]+b[1]*Math.log(1+a)):d.Io;break;}}}}());},function(g){g.T={Xta:function(c){var a;if(c&&0!==c.length){a=[];c.forEach(function(b){var f;void 0===b.error.code&&(b.error.code=0);void 0===b.error.description&&(b.error.description="Unknown");a.forEach(function(a){b.error&&b.error.code==a.error.code&&b.error.description===a.error.description&&(f=a);});f?f.rL.push(b.jm):a.push({error:b.error,rL:[b.jm]});});return a;}},Jsa:function(c){var a;a={freeSize:c.Ii,dailyBytesRemaining:c.zC,bytesWritten:c.Th,time:c.time,duration:c.duration};c.items&&(a.items=c.items.map(function(a){return{key:a.key,operation:a.nf,itemBytes:a.zT,error:a.error};}));return a;},zq:function(c){return c["catch"](function(a){setTimeout(function(){throw a;},0);});}};},function(g){g.T={ega:{code:-1,description:"MediaCache is not supported."},aCb:{code:100,description:"Resource was not found"},oMa:{code:101,description:"Resource Metadata was not found"},aB:{code:102,description:"Read failed",wm:function(c,a){return{code:this.code,description:c,cause:a};}},mO:{code:200,description:"Daily write limit exceeded"},AA:{code:201,description:"Capacity has been exceeded"},lO:{code:202,description:"Write failed, cause unknown",wm:function(c,a){return{code:this.code,description:c,cause:a};}},HDb:{code:203,description:"Write failed, cause unknown"},OHa:{code:300,description:"Failed to delete resource",wm:function(c,a){return{code:this.code,description:c,cause:a};}},Qt:{code:900,description:"Invalid partition name"},kLa:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},Mda:{code:701,description:"Failed to initialize underlying disk cache."},nMa:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.kna=function(a,b){var f,c,g;f=b.profile;b=b.M;c=a.opb;g=a.ppb;return a.npb||Array.isArray(c)&&-1!==c.indexOf(f)||"object"===typeof g&&Array.isArray(g[f])&&-1!==g[f].indexOf(""+b);};c.mta=function(a,b){return void 0!==a.XD?a.XD:b&&void 0!==b.XD?b.XD:100;};},function(g,c,a){var b,f,q;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=a(54);f=a(209);q=a(156);a=function(a){function d(d,b,f,c,g,p){b=a.call(this,d,b,f,c,g,p)||this;q.Kw.call(b,d,c);return b;}b.__extends(d,a);return d;}(f.yF);c.SM=a;g(q.Kw.prototype,a.prototype);},function(g,c,a){var b,f,q,p,d,k,m,t,u,y,A,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=a(25);f=a(54);q=a(5);p=a(24);d=a(32);k=a(370);m=a(369);t=a(374);u=a(126);y=a(373);A=a(93);h=a(368);c.console=new q.Console("MP4","media|asejs");a=function(){function a(a,d,b,f,c){this.stream=a;this.Xo=b;this.mZa=f;this.view=d instanceof ArrayBuffer?new DataView(d):new DataView(d.data,d.offset,d.length);this.config=c||{};this.fdb=u.Z$a();}a.path=function(a,d){return d.reduce(function(a,d){return a&&a.Fc[d]&&a.Fc[d][0];},a);};a.prototype.parse=function(a){var d;d=this.ipb();if(!d.done)return d.Jxa?this.emit("requestdata",{type:"requestdata",bytes:d.Jxa}):(c.console.error("Scan error: "+d.error),this.emit("error",{type:"error",errormsg:d.error||"unknown mp4 error"})),!1;d=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset+d.offset);this.view=new DataView(d);d=this.Bkb(a);if(!d.done)return c.console.error("Parse error: "+d.error),this.emit("error",{type:"error",errormsg:d.error||"unknown mp4 error"}),!1;this.$9a(a);return!0;};a.prototype.Otb=function(a){this.trim(a);return this.config.Zba?(a=this.ei.Ta(),p.$m(a)):this.view.buffer;};a.prototype.qy=function(a){return d.Hh.qy(this,a);};a.prototype.ry=function(a){return d.Hh.ry(this,a);};a.prototype.ipb=function(){var d,f;d=new h.rKa(this.Xo,this.mZa?[A.MN,A.LN]:[],this.config&&this.config.zKb||["moof",A.Kga],this.config&&this.config.Oya);f=b.__assign({},this.config,{T9:!1});return new t.qX(a.paa,d,this.view,c.console,f).parse();};a.prototype.Bkb=function(a){var d,k,m;d=new h.Zda(this.view.byteLength);k=Object.create(y.xK.Fc);this.config&&((this.config.Nya||this.config.Zba)&&f(y.xK.naa,k),this.config.$ba&&f(y.xK.Etb,k),this.config.Zba&&f(y.xK.ytb,k));m=b.__assign({},this.config,{T9:!0});this.ei=new t.qX(k,d,this.view,c.console,m);a=this.ei.parse(a);a.done&&(this.Fc=this.ei.Fc);return a;};a.prototype.$9a=function(d){var b,f,c,k,m,t;b=a.path(this,["moov"]);f=a.path(b,["trak","mdia","minf","stbl","stsd"]);f&&this.config.Nya&&this.emit("sampledescriptions",{type:"sampledescriptions",boxes:f.Fc,frameDuration:f.Ia});(f=a.path(f,["encv","sinf","schi"]))&&(f=a.path(f,["tenc"])||a.path(f,[A.eha]))&&this.emit("keyid",{type:"keyid",keyId:f.Gv,offset:f.Gva,flipped:!1});c=a.path(b,["trak","mdia","mdhd"]);k=a.path(b,["mvex","trex"]);if(f=a.path(this,["sidx"])){c=c&&c.ga;k=k&&k.fd.iR;m=a.path(this,[A.MN]);m=m&&m.Chb;t=a.path(this,[A.LN]);this.emit("fragments",{type:"fragments",truncated:!!this.config.truncate,timescale:c,defaultSampleDuration:k,fragments:f.$,movieDataOffsets:m,additionalSAPs:t&&t.rg});}(f=this.Fc.vmaf&&this.Fc.vmaf[0])&&this.emit("vmafs",{type:"vmafs",ctxt:d,vmafs:f.Rn});this.emit("done",{type:"done",moovEnd:b&&b.byteOffset+b.byteLength,parsedEnd:this.ei.offset});};a.prototype.trim=function(a){a=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset+Math.min(a,this.view.byteLength));this.view=new DataView(a);};a.paa={};return a;}();c.sNa=a;f(g.EventEmitter,a.prototype);a.paa[A.cZ]=k["default"];a.paa[A.dZ]=m["default"];},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=a(125);f=a(206);a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.dAa=function(){15!==this.J.Bf(4)||this.J.Bf(24);};c.prototype.parse=function(a){if(this.web(a)&&64===a.Ajb)switch(this.Tx=this.Wza(),this.dAa(),this.J.Bf(4),this.I8a=5===this.Tx||29===this.Tx?5:-1,0<this.I8a&&(this.dAa(),this.Tx=this.Wza(),22===this.Tx&&this.J.Bf(4)),this.Tx){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:this.gsa=this.J.Bf(1),(this.W5a=this.J.Bf(1))&&this.J.Bf(14),this.J.Bf(1),this.lS=3===this.Tx?256:23===this.Tx?this.gsa?480:512:this.gsa?960:1024;}this.skip();return!0;};c.prototype.Wza=function(){var a;a=this.J.Bf(5);31===a&&(a=32+this.J.Bf(6));return a;};c.prototype.web=function(a){return a.tag===f.Xda.tag;};c.tag=5;return c;}(g.HX);c.CIa=a;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.prototype.parse=function(){this.Ajb=this.J.je();this.J.je();this.J.Pf();this.J.je();this.xn=this.J.ub();this.E_a=this.J.ub();this.cma();return!0;};f.tag=4;return f;}(a(125).HX);c.Xda=g;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.prototype.parse=function(){var a;this.J.Pf();a=this.J.je();this.Wrb=!!(a&128);this.nSa=!!(a&64);this.ONa=!!(a&32);this.Wrb&&this.J.Pf();this.nSa&&this.J.pV(this.J.je());this.ONa&&this.J.Pf();this.cma();return!0;};f.tag=3;return f;}(a(125).HX);c.uea=g;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});g=a(0);g.__exportStar(a(125),c);g.__exportStar(a(205),c);g.__exportStar(a(204),c);g.__exportStar(a(203),c);g=a(204);b=a(203);a=a(205);c.DC={3:a.uea,4:g.Xda,5:b.CIa};},function(g,c,a){var q,p,d,k;function b(a,d,b){p.call(this,a,d,b);}function f(a,d){p.call(this,a,d,void 0);}a(13);a(24);q=a(93);p=a(760).rNa;d=a(746);a(59);k=a(59).cka;a(59);b.prototype=Object.create(p.prototype);f.prototype=Object.create(b.prototype);f.prototype.yUa=function(a,b){return"string"===typeof b?d[b]:b?d.reset[a]||d.urb[a]:d.urb[a];};f.prototype.wAa=function(a,d,b,f){return this.Ta(a,d,!1,b,f);};f.prototype.zAa=function(a,d,b,f){return this.Ta(a,d,!0,b,f);};f.prototype.Ta=function(a,d,b,f,c){var m,t,u,g,p,A,y,h,l,n,r,ea,X,O;function k(a){t=m[a];u=t.ep("traf");if(void 0===u||void 0===u.cs)return!1;g=u.ep("tfdt");if(void 0===g)return!1;p=u.ep("trun");return void 0===p?!1:!0;}if(!this.parse())return!1;m=this.Fc.moof;if(!m||0===m.length)return!1;if(void 0!==a)for(A=a,a=0;a<m.length;++a){if(!k(a))return!1;if(p.Wd>A||b&&p.Wd===A)break;A-=p.Wd;}else if(a=b?m.length-1:0,!k(a))return!1;if(b&&a<m.length-1){y=m[a+1];this.Aj(this.JFb-y.startOffset,y.startOffset);}else!b&&0<a&&this.Aj(t.startOffset,0);y=u.ep("tfhd");if(void 0===y)return!1;g=u.ep("tfdt");h=p.Wd;l=u.ep("saiz");n=u.ep("saio");r=u.ep(q.dha);ea=u.ep("sbgp");if(!(!l&&!n||l&&n))return!1;X=u.ep("sdtp");if(this.Fc.mdat&&a<this.Fc.mdat.length)O=this.Fc.mdat[a];else if(a!==m.length-1)return!1;void 0===A&&(A=b?p.Wd:0);if(p.Ta(u,y,O||this.ei,d,A,u.cs,b))p.Rqa&&(!b&&g&&g.Ta(p.orb),l&&n&&(l.Ta(p.QE,b),n.Ta(r?0:l.maa,u.cs,b)),r&&r.Ta(p.QE,b),X&&X.Ta(p.QE,h,b),ea&&ea.Ta(p.QE,b));else if(!b){if(a===m.length-1)return!1;this.Aj(m[a+1].startOffset-t.startOffset,t.startOffset);}else if(0===p.QE)return!1;f&&(d=this.yUa(this.stream.profile,c))&&p.qob(u,y,O,b,f,d);b=this.ei.Ta();f=b.reduce(function(a,d){return a+d.byteLength;},0);b={$f:b,length:f,tz:this.ei.view.byteLength};p.Rqa&&!O&&(b.wE=u.cs+p.wE,b.ht=p.ht);return b;};g.T={JN:f,Sgb:function(a){var d,b;d=new ArrayBuffer(8);b=new DataView(d);b.setUint32(0,a+8);b.setUint32(4,k("mdat"));return d;}};},function(g){function c(a){this.j0=a;this.oe=[];this.Tm=!1;this.Gx=void 0;this.rh={};}c.prototype.CH=function(a){this.oe.length===this.j0&&this.oe.shift();Array.isArray(a)?this.oe=this.oe.concat(a):this.oe.push(a);this.Tm=!0;};c.prototype.By=function(){return this.oe.length;};c.prototype.DQ=function(){var a;a=this.oe;return 0<a.length?a.reduce(function(a,f){return a+f;},0)/this.oe.length:void 0;};c.prototype.dI=function(){var a,b;a=this.oe;if(0<a.length){b=this.DQ();a=a.reduce(function(a,b){return a+b*b;},0)/a.length;return Math.sqrt(a-b*b);}};c.prototype.Ml=function(a){var b,f,c;if(this.Tm||void 0===this.Gx)this.Gx=this.oe.slice(0).sort(function(a,d){return a-d;}),this.rh={},this.Tm=!1;if(void 0===this.rh[a]){b=this.Gx;f=Math.floor(a/100*(b.length-1)+1)-1;c=(a/100*(b.length-1)+1)%1;this.rh[a]=f===b.length-1?b[f]:b[f]+c*(b[f+1]-b[f]);}return this.rh[a];};g.T=c;},function(g,c,a){var b,f,q,p,d,k,m;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=a(25);f=a(6);q=g.Uw;p=a(5);d=p.sk;g=a(40);k=a(154);m=a(156);a=function(a){function c(b,f,c,t,u,g){f=a.call(this,f,c)||this;k.Jw.call(f,b,t,u,g);m.Kw.call(f,b,t);f.oO=b.url||t.url;f.nO=t.responseType;f.Aja=t.$V;void 0===f.nO&&(f.nO=d.Sc&&!d.Sc.zE.nx?0:1);f.Uf=new q();f.Uf.on(f,d.Bd.Tga,f.lP);f.Uf.on(f,d.Bd.Sga,f.Hla);f.Uf.on(f,d.Bd.Uga,f.Jla);f.Uf.on(f,d.Bd.jG,f.kP);f.Uf.on(f,d.Bd.fx,f.eH);f.gB=!1;f.pd=!1;f.Mg=!1;return f;}b.__extends(c,a);Object.defineProperties(c.prototype,{active:{get:function(){return this.pd;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{nAa:{get:function(){return this.Mg;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{complete:{get:function(){return!this.gB&&5===this.readyState;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Hl:{get:function(){return this.gB;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{CT:{get:function(){return this.Cl;},enumerable:!0,configurable:!0}});c.prototype.Bc=function(a,d,b,f){k.Jw.prototype.Bc.call(this,a,d,b,f);this.Pb||!b.fQ&&this.Yb||(this.Pb=a.kb.bf,this.active&&(this.Pb.Lz(p.time.da(),{requestId:this.Lm(),de:this.Fb,type:this.O}),this.Mg&&(this.Pb.aaa(p.time.da()),this.connect&&0<this.Hn.length&&this.Pb.Vr(this.Hn[0]))));};c.prototype.My=function(){return 1===this.responseType?3<=this.readyState:5===this.readyState;};c.prototype.bC=function(a){return this.Rh=a.appendBuffer(this.response,this);};c.prototype.Yua=function(){return this.Hl;};c.prototype.cw=function(){return d.prototype.open.call(this,this.oO,{start:this.offset,end:this.offset+this.aa-1},this.nO,{},void 0,void 0,this.Aja);};c.prototype.abort=function(){var a;if(this.Hl)return!0;a=this.pd;this.Pb&&a&&this.Pb.Nz(p.time.da(),this.Mg,{requestId:this.Lm(),de:this.Fb,type:this.O});this.gB=!0;this.Mg=this.pd=!1;d.prototype.abort.call(this);this.iS(this,a);return!0;};c.prototype.ae=function(){0!==this.readyState&&7!==this.readyState&&5!==this.readyState&&(this.K.warn("AseMediaRequest: in-progress request should be aborted before cleanup",this),this.abort());this.Uf&&this.Uf.clear();d.prototype.ae.call(this);};c.prototype.lP=function(){var a;a=this.uc||this.af;this.pd||(this.pd=!0,this.bk=this.track.bk(),this.stream.G.Gwa||this.Pb&&this.Pb.Lz(a,{requestId:this.Lm(),de:this.Fb,type:this.O}),this.uy(this),this.hk=0,this.ll=this.uc);};c.prototype.Hla=function(){var a,d,b;a=this.uc;d=this.connect;b=this.Hn;this.Cl=p.time.da()-this.uc;this.Mg||(this.Mg=!0,this.stream.G.Gwa&&this.Pb&&this.Pb.Lz(a,{requestId:this.Lm(),de:this.Fb,type:this.O}),this.Pb&&this.Pb.aaa(),d&&0<b.length&&this.Pb&&this.Pb.Vr(b[0]),this.ty(this),this.ll=a);};c.prototype.Jla=function(){var a,d,b;a=this;d=this.uc;b=this.se-this.hk;this.Cl=p.time.da()-this.uc;this.Pb&&(this.Pb.Ox(b,this.ll,d,{requestId:this.Lm(),de:this.Fb,type:this.O}),this.Hn&&this.Hn.length&&this.Hn.forEach(function(d){a.Pb.Tr(d);}));this.eD(this);this.ll=d;this.hk=this.se;};c.prototype.kP=function(){var a,d,b;a=this;d=this.uc;b=this.se-this.hk;this.Cl=p.time.da()-this.uc;this.Pb&&(0<b&&this.Pb.Ox(b,this.ll,d,{requestId:this.Lm(),de:this.Fb,type:this.O}),this.Hn&&this.Hn.length&&this.Hn.forEach(function(d){a.Pb.Tr(d);}),this.Pb.Nz(d,this.Mg,{requestId:this.Lm(),de:this.Fb,type:this.O}));this.Mg=this.pd=!1;this.hv(this);this.ll=d;this.hk=this.se;this.ae();};c.prototype.Lm=function(){var a,d;a=(a=this.stream)?a.toString():this.url;d=this.AQ;d&&(a+=",range "+d.start+"-"+d.end);return a;};c.prototype.eH=function(){var a,d,b,c;this.K.warn("AseMediaRequest._onError:",this.toString());a=this.uc;this.Cl=p.time.da()-this.uc;d=this.status;b=this.Xh;c=this.sj;this.complete?this.K.warn("Error on a done request "+this.toString()+", failurecode: "+b):this.Hl?this.K.warn("Error on an aborted request "+this.toString()+", failurecode: "+b):f.pa(b)?(this.Pb&&this.Nb&&this.Nb.X$&&this.af&&void 0===d&&this.Pb.Ox(this.hk?this.se-this.hk:this.se,this.ll?this.ll:this.af,a,{requestId:this.Lm(),de:this.Fb,type:this.O}),this.jS(this)):this.K.warn("ignoring undefined request error (nativecode: "+c+")");};return c;}(d);c.yF=a;g.mi(k.Jw,a,!1);g.mi(m.Kw,a,!1);},function(g,c,a){var b,f,q,p,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(54);q=a(13);g=a(40);p=a(375);d=a(94);a=function(a){function c(b,f,c,k){c=a.call(this,b,f,c,k)||this;d.qk.call(c,b,f);c.Vb=0;c.Ta||c.Ej();c.Rh=!1;return c;}b.__extends(c,a);Object.defineProperties(c.prototype,{Yb:{get:function(){return!1;},enumerable:!0,configurable:!0}});c.prototype.push=function(d){this.Vb+=d.aa;a.prototype.push.call(this,d);};c.prototype.My=function(){return!this.Rh&&!!this.ta.length&&this.ta.every(function(a){return a.My();});};c.prototype.bC=function(a){q.assert(!this.Rh);return this.Rh=this.ta.every(function(d){return d.My()?d.bC(a,void 0,void 0):!1;});};c.prototype.bob=function(){this.ta.forEach(function(a){a.jL();});};c.prototype.aw=function(a){p.RM.prototype.aw.call(this,a);};c.prototype.ci=function(a){p.RM.prototype.ci.call(this,a);};c.prototype.ak=function(){return this.ta?this.ta[0].ak()+"-"+this.ta[this.ta.length-1].ak():"empty";};c.prototype.toString=function(){return d.qk.prototype.toString.call(this)+"(aggregate)";};c.prototype.toJSON=function(){var b;b=a.prototype.toJSON.call(this);f(d.qk.prototype.toJSON.call(this),b);return b;};return c;}(p.RM);c.xA=a;g.mi(d.qk,a);},function(g,c,a){var b,f,q,p,d,k,m,t,u;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);a(13);g=a(40);f=a(210);q=a(94);p=a(209);d=a(11);k=a(54);m=a(5).sk;t=a(764);a=a(745);u=function(a){var P2H;P2H=2;while(P2H!==3){switch(P2H){case 2:b.__extends(c,a);c.create=function(a,b,k,u,g,q,A){var A2H,y,h,Y2H;A2H=2;while(A2H!==18){Y2H="sub";Y2H+="re";Y2H+="qu";Y2H+="est";switch(A2H){case 4:A2H=u.QD&&u.aa>u.QD?3:19;break;case 20:return g;break;case 2:A2H=1;break;case 13:h={offset:b,aa:Math.min(q,y),responseType:u.responseType};b+=h.aa;q-=h.aa;A2H=10;break;case 5:return new t.oFa(a,k,u,g,q,A);break;case 19:return new c(a,k,u,g,q,A);break;case 14:A2H=0<q?13:20;break;case 3:y=Math.ceil(u.aa/u.QD);b=u.offset;q=u.aa;g=new f.xA(a,u,g,A);A2H=6;break;case 10:g.push(new p.yF(a,k,Y2H,h,g,A));A2H=14;break;case 6:y=Math.ceil(u.aa/y);A2H=14;break;case 1:A2H=!b.ql&&u.Ta&&a.O===d.L.VIDEO&&m.Sc&&m.Sc.zE.nx?5:4;break;}}};c.prototype.toString=function(){var w2H;w2H=2;while(w2H!==1){switch(w2H){case 2:return p.yF.prototype.toString.call(this)+":"+q.qk.prototype.toString.call(this);break;}}};return c;break;}}function c(d,b,f,c,k,t){var V2H,u,E2H,q2H,Z2H;V2H=2;while(V2H!==14){E2H="e";E2H+="d";E2H+="it";q2H="c";q2H+="a";q2H+="che";Z2H="1";Z2H+="S";Z2H+="IYbZr";Z2H+="NJCp";Z2H+="9";switch(V2H){case 3:u=u.length?"("+u.join(",")+")":"";void 0===f.responseType&&(f.responseType=f.Ta||m.Sc&&!m.Sc.zE.nx?0:1);u=a.call(this,d,b,u,f,c,t)||this;q.qk.call(u,d,f);return u;break;case 2:u=this;Z2H;u=[q2H,E2H].filter(function(a,d){var t2H;t2H=2;while(t2H!==1){switch(t2H){case 2:return[k,f.Ta][d];break;case 4:return[k,f.Ta][d];break;t2H=1;break;}}});V2H=3;break;}}}}(p.yF);c.gX=u;k(a["default"],u.prototype);g.mi(q.qk,u,!1);},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});g=a(40);a=a(155);b=function(){function a(a,b){this.Pm=a;this.uB=b.$a;this.qr=b.wb;}Object.defineProperties(a.prototype,{$a:{get:function(){return void 0!==this.uB?this.uB:this.Pm.$a;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{wb:{get:function(){return void 0!==this.qr?this.qr:this.Pm.wb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ga:{get:function(){return this.Pm.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Vo:{get:function(){return this.Pm.Vo;},enumerable:!0,configurable:!0}});a.prototype.Raa=function(a){this.qr=a;};a.prototype.B2=function(){this.qr=void 0;};return a;}();c.zF=b;g.mi(a.TM,b);},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(49);f=a(2);c.z5=function(a){return a===b.tc.Kh.AUDIO?f.u.gga:f.u.hga;};c.KZ=50;c.nQa=1E3;},function(g,c,a){var f,q,p,d,k,m,t,u,y,A,h,x,G;function b(a,b,f,c,t,u,g,p,q,A,y,h,K,x,l){this.j=a;this.eb=b;this.Ly=f;this.Tc=c;this.Rp=t;this.X3=u;this.Wj=g;this.displayName=p;this.Ui=q;this.Fz=A;this.profile=y;this.Lo=h;this.djb=K;this.G9a=x;this.UJ=l;this.type=d.mg.yW;this.gq=!(!y||y!=m.xk.SA&&y!=m.xk.NN);this.eg={bcp47:g,trackId:b,downloadableId:c,isImageBased:this.gq};this.log=k.bg(a,"TimedTextTrack");this.state=G.ON;this.request=this.request.bind(this);}Object.defineProperty(c,"__esModule",{value:!0});f=a(0);q=a(69);p=a(12);d=a(75);k=a(4);m=a(66);t=a(14);u=a(344);y=a(16);A=a(662);h=a(15);x=a(2);(function(a){a[a.ON=0]="NOT_LOADED";a[a.LOADING=1]="LOADING";a[a.LOADED=2]="LOADED";a[a.YF=3]="LOAD_FAILED";}(G||(G={})));b.prototype.getEntries=function(){var a;a=this;return new Promise(function(d,b){function f(){a.j.state.removeListener(f);a.download().then(d)["catch"](b);}a.state=G.LOADING;a.j.state.value!==h.jb.LOADING?a.download().then(d)["catch"](b):a.j.state.addListener(f);});};b.prototype.gd=function(){return this.state;};b.prototype.VJ=function(){return this.djb;};b.prototype.sT=function(){return this.G9a;};b.prototype.sv=function(a,d){var b;b=[];try{this.gq?b=this.wf&&this.wf.sv(a,d)||[]:this.entries&&(b=this.entries.filter(function(b){var f;f=P([b.startTime,b.endTime]);b=f.next().value;f=f.next().value;return b>=a&&b<=d||b<=a&&a<=f;}));}catch(W){this.log.error("error in getSubtitles",W,{start:a,end:d,isImageBased:this.gq});}return b;};b.prototype.Xbb=function(){var a;if(!y.Tb(this.U))try{this.U=this.gq?(a=this.sv(0,b.hMa)[0])&&a.displayTime:(a=this.entries&&this.entries[0])&&a.startTime;}catch(R){this.log.error("exception in getStartPts",R);}return this.U;};b.prototype.YV=function(a){return this.j.state.value===h.jb.CLOSING||this.j.state.value===h.jb.CLOSED?(this.log.info("playback is closing, abort timed text retry",a),!1):this.j.wc.value!==this?(this.log.info("timed text track was changed, abort timed text retry",a),!1):!0;};b.prototype.download=function(){var a;a=this;return new Promise(function(d,b){a.j.state.value==h.jb.$c?a.gq?a.heb(function(f){f.W?(a.log.info("Loaded image subtitle manager"),d(f)):(a.log.error("Unable to load image subtitles manager",f),a.state=G.YF,b(f));}):a.Hqa().then(function(d){return a.Mkb(d);}).then(d)["catch"](b):b({W:!1});});};b.prototype.heb=function(a){var b,f,c,m,t,u,g,q;function d(c){var A;if(y.Tb(c))if(q||b.YV(b.Yp(b.qo,"","image"))){q=!1;b.Lo.url=b.Rp[b.qo];f.url=b.Lo.url;g[c]=(g[c]||0)+1;A=new k.zRa(m,f);A.on("ready",function(){b.wf=A;a({W:!0,track:b});});A.on("error",function(f){var k;f=Object.assign({W:!1},f);k=b.Yp(b.qo,b.Lo.url,"image");k.details={midxoffset:b.Lo.offset,midxsize:b.Lo.length};k.errorstring=f.errorString;g[c]<=p.config.cDa?(b.$R(k,!0,"retry with current cdn"),b.S1(g[c]).then(function(a){b.log.trace("retry timed text download after "+a,b.Yp(b.qo,"","image"));d(b.qo);})):(b.qo=t[u++],b.qo?(b.$R(k,!0,"retry with next cdn"),b.S1(g[c]).then(function(a){b.log.trace("retry timed text download after "+a,b.Yp(b.qo,"","image"));d(b.qo);})):(b.$R(k,!1,"all cdns tried"),a({W:!1,Iib:"all cdns failed for image subs",track:b})));});A.start();}else a({W:!1,Hl:!0});else a({W:!1,Iib:"cdnId is not defined for image subs downloadUrl"}),b.$R(b.Yp(0,"","image"),!1,"cdnId is undefined");}b=this;f={x_a:!1,profile:this.profile,sK:this.Lo.offset,fU:this.Lo.length,Kd:this.j.Qb.value||0,bufferSize:p.config.Qdb,lKb:{xd:this.j.uS()}};c=k.bg(this.j,"TimedTextTrack");c.warn=c.trace.bind(c);c.info=c.debug.bind(c);m=A.I4a(this.j,c,this.request);t=(this.X3||[]).filter(function(a){return a.id in b.Rp;}).sort(function(a,d){return a.ie-d.ie;}).map(function(a){return a.id;});u=0;g={};q=!0;this.qo=t[u++];d(this.qo);};b.prototype.$R=function(a,d,b){a=Object.assign({},a,{eLb:d,status:b});this.j.fireEvent(h.S.YE,a);this.log.warn("subtitleerror event",a);};b.prototype.request=function(a,d){var b;b=this;this.log.trace("Downloading",a);a={url:a.url,offset:a.offset,length:a.size,responseType:q.$S,headers:{},Wb:this.q5(this.qo)};this.j.FJ.download(a,function(a){b.log.trace("imgsub: request status "+a.W);a.W?d(null,new Uint8Array(a.content)):d({Y:a.Y,Hc:a.Hc});});};b.prototype.Yp=function(a,d,b){return{currentCdnId:a,url:d,profile:this.profile,dlid:this.Tc,subtitletype:b,bcp47:this.Wj,trackId:this.eb,cdnCount:Object.keys(this.Rp).length,isImageBased:this.gq};};b.prototype.q5=function(a){return(this.X3||[]).find(function(d){return d.id===a;});};b.prototype.Hqa=function(){var c,k;function a(a){return f.__awaiter(c,void 0,void 0,function(){var c,m,t,u,g;function f(){for(;;)switch(c){case 0:t=b();m=u.Yp(a.Wb.id,a.url,"text");m.errorstring=a.reason;if(!t||!u.YV(m)){c=1;break;}c=-1;return{value:u.S1(k[t.id]).then(d),done:!0};case 1:return c=-1,{value:Promise.reject({W:!1,Hl:!0}),done:!0};default:return{value:void 0,done:!0};}}c=0;u=this;g={next:function(){return f();},"throw":function(){return f();},"return":function(){throw Error("Not yet implemented");}};n();g[Symbol.iterator]=function(){return this;};return g;});}function d(){return f.__awaiter(c,void 0,void 0,function(){var f,c,m,t,u;function d(){for(;;)switch(f){case 0:c=(m=b())&&t.Rp[m.id];if(!m||!c){f=1;break;}k[m.id]=(k[m.id]||0)+1;f=-1;return{value:t.E6a(c,m)["catch"](a),done:!0};case 1:return f=-1,{value:Promise.reject({}),done:!0};default:return{value:void 0,done:!0};}}f=0;t=this;u={next:function(){return d();},"throw":function(){return d();},"return":function(){throw Error("Not yet implemented");}};n();u[Symbol.iterator]=function(){return this;};return u;});}function b(){return(c.X3||[]).find(function(a){return!!((k[a.id]||0)<p.config.cDa&&c.Rp[a.id]);});}c=this;k={};return d();};b.prototype.S1=function(a){return new Promise(function(d){var b;b=1E3*Math.min(Math.pow(2,a-1),8);setTimeout(function(){return d(b);},b);});};b.prototype.Mkb=function(a){var d,b;d=this;b=this.j.qF;t.Ga(b);return u.Lkb(a,b.width/b.height,p.config.eDa,p.config.Rba).then(function(a){var b;if(p.config.fDa){b=0;d.entries=a.map(function(a){return Object.assign({},a,{startTime:b,endTime:b+=p.config.fDa});});}else d.entries=a;d.log.trace("Entries parsed",{Length:a.length},d.eg);d.state=G.LOADED;return{W:!0,entries:d.entries,track:d};})["catch"](function(a){d.log.error("Unable to parse timed text track",x.Xn(a),d.eg,{url:a.url});d.state=G.YF;a.reason="parseerror";a.track=d;throw a;});};b.prototype.E6a=function(a,d){var b;b=this;this.log.trace("Downloading",d&&{Wb:d.id},this.Yp(d.id,a,"text"));return new Promise(function(f,c){var k;k={responseType:q.xua,url:a,track:b,Wb:d,GC:"tt-"+b.Wj};b.j.FJ.download(k,function(a){a.W?f(a.content):(a.reason="downloadfailed",a.url=k.url,a.track=b,a.Wb=d,c(a));});});};c.wG=b;b.hMa=72E7;b.Cia=G;},function(g,c,a){var f;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(8);b.V5=function(){var a;a=f.hr&&f.hr.height;return a?1080<=a?1080:720:720;};c.TZ=b;},function(g){g.T=function(c,a){switch(c){case 0:return function(){return a.apply(this,arguments);};case 1:return function(b){return a.apply(this,arguments);};case 2:return function(b,f){return a.apply(this,arguments);};case 3:return function(b,f,c){return a.apply(this,arguments);};case 4:return function(b,f,c,g){return a.apply(this,arguments);};case 5:return function(b,f,c,g,d){return a.apply(this,arguments);};case 6:return function(b,f,c,g,d,k){return a.apply(this,arguments);};case 7:return function(b,f,c,g,d,k,m){return a.apply(this,arguments);};case 8:return function(b,f,c,g,d,k,m,t){return a.apply(this,arguments);};case 9:return function(b,f,c,g,d,k,m,t,u){return a.apply(this,arguments);};case 10:return function(b,f,c,g,d,k,m,t,u,y){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(g,c,a){var q,p,d,k;function b(a,d,b){for(var f=b.next();!f.done;){if((d=a["@@transducer/step"](d,f.value))&&d["@@transducer/reduced"]){d=d["@@transducer/value"];break;}f=b.next();}return a["@@transducer/result"](d);}function f(a,b,f,c){return a["@@transducer/result"](f[c](d(a["@@transducer/step"],a),b));}q=a(796);p=a(794);d=a(793);h();h();n();k="undefined"!==typeof Symbol?Symbol.iterator:"@@iterator";g.T=function(a,d,c){"function"===typeof a&&(a=p(a));if(q(c)){for(var m=0,t=c.length;m<t;){if((d=a["@@transducer/step"](d,c[m]))&&d["@@transducer/reduced"]){d=d["@@transducer/value"];break;}m+=1;}return a["@@transducer/result"](d);}if("function"===typeof c["fantasy-land/reduce"])return f(a,d,c,"fantasy-land/reduce");if(null!=c[k])return b(a,d,c[k]());if("function"===typeof c.next)return b(a,d,c);if("function"===typeof c.reduce)return f(a,d,c,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(g){g.T=function(c,a){return Object.prototype.hasOwnProperty.call(a,c);};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.qDb=function(){};c.gO="TransportConfigSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.pX="BookmarkSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=c.EF||(c.EF={});g[g.aOa=0]="PAUSE";g[g.lQa=1]="RESUME";g[g.bxb=2]="CAPTIONS_ON";g[g.axb=3]="CAPTIONS_OFF";g[g.cxb=4]="CAPTION_LANGUAGE_CHANGED";g[g.Wvb=5]="AUDIO_LANGUAGE_CHANGED";g[g.BAb=6]="NEXT_EP";g[g.IBb=7]="PREV_EP";g[g.kx=8]="SEEK";g[g.Dia=9]="STOP";c.sda="CastInteractionTrackerSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=c.Vw||(c.Vw={});g.oSa="unknown";g.Pca="absent";g.fia="present";g.Error="error";c.Bea="ExternalDisplayLogHelperSymbol";},function(g,c,a){var f,q,p;function b(){this.type=f.Lw.dx;}Object.defineProperty(c,"__esModule",{value:!0});f=a(29);g=a(97);q=a(136);p=new g.ox();b.d3=function(){return{isTypeSupported:function(a){var d;try{if(-1==a.toLowerCase().indexOf("codec"))return J.MSMediaKeys.isTypeSupported(a,"video/mp4");d=a.split("|");return 1===d.length?J.MSMediaKeys.isTypeSupported(q.ib.qp,a):"probably"===b.Aba(d[0],d[1]);}catch(m){return!1;}}};};b.YQ=function(a,f,c){f=p.format(b.jF,f);if(0===c.length)return f;c=p.format('features="{0}"',c.join());return p.format("{0}|{1}{2}",a,f,c);};b.Aba=function(a,b){var d;try{d=J.MSMediaKeys.isTypeSupportedWithFeatures?J.MSMediaKeys.isTypeSupportedWithFeatures(a,b):"";}catch(t){d="exception";}return d;};c.ex=b;b.jF='video/mp4;codecs="{0},mp4a";';},function(g,c,a){var f,q,p,d,k,m;function b(a,f,c,k){var t;t=q.ym.call(this,a,f,c)||this;t.cast=k;t.type=p.Pj.tX;a=b.fSa;t.sF[p.od.hO]=d.Md.NF+"; "+a;t.sF[p.od.cr]=d.Md.cr+"; "+a;a=d.Md.RGa.find(function(a){return t.ks(m(b.jF,a));});t.sF[p.od.Zq]=a;return t;}Object.defineProperty(c,"__esModule",{value:!0});f=a(66);q=a(128);p=a(29);g=a(97);d=a(129);k=a(412);m=new g.ox().format;ba(b,q.ym);b.d3=function(a,d){return(d=b.SAa(d))?{isTypeSupported:d}:a;};b.SAa=function(a){return"undefined"!==typeof a&&(a.receiver&&a.receiver.platform&&a.receiver.platform.canDisplayType||a.__platform__&&a.__platform__.canDisplayType)||void 0;};b.prototype.Jq=function(a){var f,c;f=this.cast.__platform__.display&&this.cast.__platform__.display.getHdcpVersion;if(this.config().bEa){c={};if(f)return c[p.Ih.mp]="1.4",c[p.Ih.Yw]="2.2",f().then(function(d){return d===c[a];});f=this.Dwa(a);f=m(b.jF,d.Md.NF)+" hdcp="+f;f=this.ks.bind(this,f);return Promise.resolve(f());}return Promise.resolve(!1);};b.prototype.vS=function(a){return this.sF[a];};b.prototype.mD=function(){var a;a=this;return this.config().bEa?this.Jq(p.Ih.Yw).then(function(d){return d?Promise.resolve(p.Ih.Yw):a.Jq(p.Ih.mp).then(function(a){return a?Promise.resolve(p.Ih.mp):Promise.resolve(void 0);});}).then(function(d){return a.rI(d);}):Promise.resolve(void 0);};b.prototype.fy=function(){var a,d;a=q.ym.prototype.fy.call(this);d=b.qua;a[f.ca.$X]=["hev1.2.6.L90.B0",d];a[f.ca.aY]=["hev1.2.6.L93.B0",d];a[f.ca.bY]=["hev1.2.6.L120.B0",d];a[f.ca.cY]=["hev1.2.6.L123.B0",d];a[f.ca.dY]=["hev1.2.6.L150.B0","width=3840; height=2160; "+d];a[f.ca.fY]=["hev1.2.6.L153.B0","width=3840; height=2160; "+d];a[f.ca.tN]=["hev1.2.6.L90.B0",d];a[f.ca.uN]=["hev1.2.6.L93.B0",d];a[f.ca.vN]=["hev1.2.6.L120.B0",d];a[f.ca.wN]=["hev1.2.6.L123.B0",d];a[f.ca.eY]=["hev1.2.6.L150.B0","width=3840; height=2160; "+d];a[f.ca.gY]=["hev1.2.6.L153.B0","width=3840; height=2160; "+d];a[f.ca.wY]="hev1.1.6.L90.B0";a[f.ca.xY]="hev1.1.6.L93.B0";a[f.ca.yY]="hev1.1.6.L120.B0";a[f.ca.zY]="hev1.1.6.L123.B0";a[f.ca.AY]=["hev1.1.6.L150.B0","width=3840; height=2160; "];a[f.ca.BY]=["hev1.1.6.L153.B0","width=3840; height=2160; "];a[f.ca.iY]="hev1.2.6.L90.B0";a[f.ca.lY]="hev1.2.6.L93.B0";a[f.ca.oY]="hev1.2.6.L120.B0";a[f.ca.rY]="hev1.2.6.L123.B0";a[f.ca.QF]=["hev1.2.6.L150.B0","width=3840; height=2160; "];a[f.ca.RF]=["hev1.2.6.L153.B0","width=3840; height=2160; "];a[f.ca.kY]="hev1.2.6.L90.B0";a[f.ca.nY]="hev1.2.6.L93.B0";a[f.ca.qY]="hev1.2.6.L120.B0";a[f.ca.tY]="hev1.2.6.L123.B0";a[f.ca.uY]=["hev1.2.6.L150.B0","width=3840; height=2160; "];a[f.ca.vY]=["hev1.2.6.L153.B0","width=3840; height=2160; "];return a;};b.prototype.h7=function(){q.ym.prototype.h7.call(this);!b.SAa(this.cast)&&this.ml.push(k.ni.cr);};c.tda=b;b.qua="eotf=smpte2084";b.nHb="video/mp4;codecs={0}; "+b.qua;b.fSa="width=3840; height=2160; ";c.uX="CastSDKSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Gfa="IsTypeSupportedProviderFactorySymbol";c.Mha="PlatformIsTypeSupportedSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.cja="ThroughputTrackerSymbol";c.WZ="ThroughputTrackerFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.wZ="PboPlaydataFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.YZ="TransitionLoggerSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.NZ="SegmentManagerFactorySymbol";},function(g,c,a){var f,q,p;function b(a,b,f,c){this.ya=a;this.hs=b;this.lk=f;this.Ok=void 0===c?"General":c;this.L2={};}Object.defineProperty(c,"__esModule",{value:!0});f=a(7);q=a(424);p=a(863);b.prototype.Mma=function(a,b){this.L2[a]=b;};b.prototype.fatal=function(a,b){for(var d=[],c=1;c<arguments.length;++c)d[c-1]=arguments[c];this.Cu(f.Jh.MJa,a,p.iC(this.hs,this.gD(d)));};b.prototype.error=function(a,b){for(var d=[],c=1;c<arguments.length;++c)d[c-1]=arguments[c];this.Cu(f.Jh.ERROR,a,p.iC(this.hs,this.gD(d)));};b.prototype.warn=function(a,b){for(var d=[],c=1;c<arguments.length;++c)d[c-1]=arguments[c];this.Cu(f.Jh.a_,a,p.iC(this.hs,this.gD(d)));};b.prototype.info=function(a,b){for(var d=[],c=1;c<arguments.length;++c)d[c-1]=arguments[c];this.Cu(f.Jh.JY,a,p.iC(this.hs,this.gD(d)));};b.prototype.trace=function(a,b){for(var d=[],c=1;c<arguments.length;++c)d[c-1]=arguments[c];this.Cu(f.Jh.Zia,a,p.iC(this.hs,this.gD(d)));};b.prototype.debug=function(a,b){for(var d=1;d<arguments.length;++d);};b.prototype.log=function(a,b){for(var d=1;d<arguments.length;++d);this.debug.apply(this,arguments);};b.prototype.write=function(a,b,f){for(var d=[],c=2;c<arguments.length;++c)d[c-2]=arguments[c];this.Cu(a,b,p.iC(this.hs,this.gD(d)));};b.prototype.toString=function(){return JSON.stringify(this);};b.prototype.toJSON=function(){return{category:this.Ok};};b.prototype.j3=function(a){return new b(this.ya,this.hs,this.lk,a);};b.prototype.Cu=function(a,b,f){a=new q.Wfa(a,this.Ok,this.ya.Xb(),b,f);b=P(this.lk.lk);for(f=b.next();!f.done;f=b.next())f=f.value,f(a);};b.prototype.gD=function(a){return 0<Object.keys(this.L2).length?[].concat([this.L2],da(a)):a;};c.$F=b;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.SZ="StringUtilsSymbol";},function(g){var m,t,u,y,A,h;function c(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function b(a){if(m===setTimeout)return setTimeout(a,0);if((m===c||!m)&&setTimeout)return m=setTimeout,setTimeout(a,0);try{return m(a,0);}catch(G){try{return m.call(null,a,0);}catch(M){return m.call(this,a,0);}}}function f(d){if(t===clearTimeout)clearTimeout(d);else if(t!==a&&t||!clearTimeout)try{t(d);}catch(G){try{t.call(null,d);}catch(M){t.call(this,d);}}else t=clearTimeout,clearTimeout(d);}function q(){y&&A&&(y=!1,A.length?u=A.concat(u):h=-1,u.length&&p());}function p(){var a;if(!y){a=b(q);y=!0;for(var d=u.length;d;){A=u;for(u=[];++h<d;)A&&A[h].CE();h=-1;d=u.length;}A=null;y=!1;f(a);}}function d(a,d){this.V9a=a;this.Jp=d;}function k(){}g=g.T={};try{m="function"===typeof setTimeout?setTimeout:c;}catch(x){m=c;}try{t="function"===typeof clearTimeout?clearTimeout:a;}catch(x){t=a;}u=[];y=!1;h=-1;g.Pxa=function(a){var f;f=Array(arguments.length-1);if(1<arguments.length)for(var c=1;c<arguments.length;c++)f[c-1]=arguments[c];u.push(new d(a,f));1!==u.length||y||b(p);};d.prototype.CE=function(){this.V9a.apply(null,this.Jp);};g.title="browser";g.NEb=!0;g.p8a={};g.xEb=[];g.version="";g.ZKb={};g.on=k;g.addListener=k;g.once=k;g.Kjb=k;g.removeListener=k;g.removeAllListeners=k;g.emit=k;g.Aza=k;g.umb=k;g.listeners=function(){return[];};g.KEb=function(){throw Error("process.binding is not supported");};g.EFb=function(){return"/";};g.fFb=function(){throw Error("process.chdir is not supported");};g.PKb=function(){return 0;};},function(g,c,a){var f,q;function b(){}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);a=a(1);f={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};b.prototype.decode=function(a){for(var d=new Uint8Array(a.length/2),b=0;b<d.length;b++)d[b]=this.nDa(a.substr(2*b,2));return d;};b.prototype.encode=function(a){for(var d="",b=a.length,f=0;f<b;f++)var c=a[f],d=d+("0123456789ABCDEF"[c>>>4]+"0123456789ABCDEF"[c&15]);return d;};b.prototype.jJ=function(a,d){var b;b="";for(d<<=1;d--;)b=("0123456789ABCDEF"[a&15]||"0")+b,a>>>=4;return b;};b.prototype.nDa=function(a){var d;d=a.length;if(7<d)throw Error("hex to long");for(var b=0,c=0;c<d;c++)b=16*b+f[a[c]];return b;};q=b;q=g.__decorate([a.N()],q);c.mX=q;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.vl='video/mp4; codecs="avc1.640028"';c.$w='audio/mp4; codecs="mp4a.40.5"';c.YIa="DrmTraitsSymbol";},function(g,c,a){var b,f;b=a(446);f=a(982);c.Vv=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return b.TD(f.Jdb,null,a);};},function(g,c,a){var b;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};g=function(a){function f(b,d){a.call(this);this.value=b;this.ka=d;this.Ar=!0;d&&(this.Ar=!1);}b(f,a);f.create=function(a,d){return new f(a,d);};f.Ab=function(a){var d,b;d=a.value;b=a.Cf;a.done?b.complete():(b.next(d),b.closed||(a.done=!0,this.Kb(a)));};f.prototype.Wf=function(a){var d,b;d=this.value;b=this.ka;if(b)return b.Kb(f.Ab,0,{done:!1,value:d,Cf:a});a.next(d);a.closed||a.complete();};return f;}(a(10).Da);c.MZ=g;},function(g,c,a){a(10);g=function(){function a(a,b,c){this.kind=a;this.value=b;this.error=c;this.zo="N"===a;}a.prototype.observe=function(a){switch(this.kind){case"N":return a.next&&a.next(this.value);case"E":return a.error&&a.error(this.error);case"C":return a.complete&&a.complete();}};a.prototype.HI=function(a,b,c){switch(this.kind){case"N":return a&&a(this.value);case"E":return b&&b(this.error);case"C":return c&&c();}};a.prototype.accept=function(a,b,c){return a&&"function"===typeof a.next?this.observe(a):this.HI(a,b,c);};a.h3=function(b){return"undefined"!==typeof b?new a("N",b):a.Xtb;};a.vpa=function(b){return new a("E",void 0,b);};a.c3=function(){return a.W1a;};a.W1a=new a("C");a.Xtb=new a("N",void 0);return a;}();c.Notification=g;},function(g,c,a){var b;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};g=function(a){function f(){a.apply(this,arguments);this.Vj=[];this.active=!1;}b(f,a);f.prototype.flush=function(a){var d,b;d=this.Vj;if(this.active)d.push(a);else{this.active=!0;do if(b=a.Ye(a.state,a.Gd))break;while(a=d.shift());this.active=!1;if(b){for(;a=d.shift();)a.unsubscribe();throw b;}}};return f;}(a(997).YQa);c.jX=g;},function(g,c,a){var b,f;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};f=a(80);g=function(a){function c(d,b){a.call(this,d,b);this.ka=d;this.KK=!1;this.LM=b;}b(c,a);c.prototype.Kb=function(a,b){var d;void 0===b&&(b=0);if(this.closed)return this;this.state=a;this.KK=!0;a=this.id;d=this.ka;null!=a&&(this.id=this.uV(d,a,b));this.Gd=b;this.id=this.id||this.AV(d,this.id,b);return this;};c.prototype.AV=function(a,b,c){void 0===c&&(c=0);return f.root.setInterval(a.flush.bind(a,this),c);};c.prototype.uV=function(a,b,c){void 0===c&&(c=0);return null!==c&&this.Gd===c&&!1===this.KK?b:(f.root.clearInterval(b),void 0);};c.prototype.Ye=function(a,b){if(this.closed)return Error("executing a cancelled action");this.KK=!1;if(a=this.PO(a,b))return a;!1===this.KK&&null!=this.id&&(this.id=this.uV(this.ka,this.id,null));};c.prototype.PO=function(a){var d,b;d=!1;b=void 0;try{this.LM(a);}catch(t){d=!0;b=!!t&&t||Error(t);}if(d)return this.unsubscribe(),b;};c.prototype.Or=function(){var a,b,f,c;a=this.id;b=this.ka;f=b.Vj;c=f.indexOf(this);this.state=this.LM=null;this.KK=!1;this.ka=null;-1!==c&&f.splice(c,1);null!=a&&(this.id=this.uV(b,a,null));this.Gd=null;};return c;}(a(999).cFa);c.iX=g;},function(g,c,a){function b(a){var b;b=a.Symbol;"function"===typeof b?b.observable?a=b.observable:(a=b("observable"),b.observable=a):a="@@observable";return a;}g=a(80);c.kHb=b;c.observable=b(g.root);c.Nvb=c.observable;},function(g,c,a){g=a(80).root.Symbol;c.Sz="function"===typeof g&&"function"===typeof g["for"]?g["for"]("rxSubscriber"):"@@rxSubscriber";c.Ovb=c.Sz;},function(g,c){c.empty={closed:!0,next:function(){},error:function(a){throw a;},complete:function(){}};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.sX="CachedDrmDataSymbol";},function(g,c,a){var q;function b(){}function f(a){a?(this.active=!1,this.f5(a)):this.active=!0;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);a=a(1);f.prototype.f5=function(a){this.profileId=a.profileId;this.kc=a.keySessionData?a.keySessionData.map(function(a){return{id:a.id,Jv:a.licenseContextId,GD:a.licenseId};}):[];this.oa=a.xid;this.M=a.movieId;};f.prototype.Lq=function(){return JSON.parse(JSON.stringify({profileId:this.profileId,keySessionData:this.kc?this.kc.map(function(a){return{id:a.id,licenseContextId:a.Jv,licenseId:a.GD};}):[],xid:this.oa,movieId:this.M}));};c.KX=f;b.prototype.create=function(){return new f();};b.prototype.load=function(a){return new f(a);};q=b;q=g.__decorate([a.N()],q);c.UIa=q;},function(g,c,a){var b,f,q,p,d,k,m,t,u;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(119);f=a(468);q=a(244);p=a(243);d=a(1024);k=a(1023);m=a(118);t=a(135);u=a(1022);c.eme=new g.ac(function(a){a(f.fea).to(q.UIa).Z();a(p.sX).to(d.OGa).Z();a(b.lN).oM(k.Qmb);a(m.cx).jA(function(a){c.MI.parent=a.ec;return c.MI.get(m.cx);});a(t.eG).Sf(function(){return function(){return new u.ZMa();};});});c.MI=new g.FF({rw:!0});},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(65);f=a(1025);c.YB=new g.ac(function(a){a(b.Xq).oM(f.Pmb);});c.j1=new g.FF({rw:!0});},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Bfa="Injector";c.Zw=145152E5;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(249);a(471);g=function(){function a(a){this.zb=a;}a.prototype.when=function(a){this.zb.dy=a;return new b.XM(this.zb);};a.prototype.JM=function(){this.zb.dy=function(a){return null!==a.target&&!a.target.u7()&&!a.target.x7();};return new b.XM(this.zb);};return a;}();c.oX=g;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(248);g=function(){function a(a){this.zb=a;}a.prototype.tq=function(a){this.zb.tq=a;return new b.oX(this.zb);};return a;}();c.XM=g;},function(g){var c;c=function(){return this;}();try{c=c||Function("return this;")()||(0,eval)("this");}catch(a){"object"===typeof J&&(c=J);}g.T=c;},function(g,c,a){var p;function b(a,b,f,c,u,g,A){this.CM=c;this.CEa=a;this.Rxa=b;this.g9=f;this.bfb=g;this.ow=A;this.split=u;}function f(){this.H={};this.H["0"]=new b("1","2","1","14","-0.0000100136",0,0);this.H["1"]=new b("3","4","3","20","-0.0000100136",0,0);this.H["3"]=new b("7","8","7","10","1.5",0,0);this.H["7"]=new b("15","16","15","9","4.5",0,0);this.H["15"]=new b("31","32","31","2","5.5",0,0);this.H["31"]=new b("63","64","63","29","-0.0000100136",0,0);this.H["63"]=new b("123","124","123","24","-0.0000100136",0,0);this.H["123"]=new b("123","124","123","0","0",1,.207298);this.H["124"]=new b("123","124","123","0","0",1,.49076);this.H["64"]=new b("125","126","125","4","40.5",0,0);this.H["125"]=new b("125","126","125","0","0",1,-.00157835);this.H["126"]=new b("125","126","125","0","0",1,.934205);this.H["32"]=new b("65","66","65","135","5.5",0,0);this.H["65"]=new b("127","128","128","4","1272.5",0,0);this.H["127"]=new b("127","128","128","0","0",1,-.510333);this.H["128"]=new b("127","128","128","0","0",1,.18363);this.H["66"]=new b("129","130","129","24","-0.0000100136",0,0);this.H["129"]=new b("129","130","129","0","0",1,-.0464542);this.H["130"]=new b("129","130","129","0","0",1,.458833);this.H["16"]=new b("33","34","34","10","2.00001",0,0);this.H["33"]=new b("67","68","67","0","29.5",0,0);this.H["67"]=new b("131","132","131","2","39.5",0,0);this.H["131"]=new b("131","132","131","0","0",1,-.37577);this.H["132"]=new b("131","132","131","0","0",1,.512087);this.H["68"]=new b("133","134","134","140","1.5",0,0);this.H["133"]=new b("133","134","134","0","0",1,.321272);this.H["134"]=new b("133","134","134","0","0",1,-.675396);this.H["34"]=new b("69","70","70","2","24.5",0,0);this.H["69"]=new b("135","136","136","9","28.5",0,0);this.H["135"]=new b("135","136","136","0","0",1,-.0573845);this.H["136"]=new b("135","136","136","0","0",1,-.507455);this.H["70"]=new b("137","138","137","45","-0.0000100136",0,0);this.H["137"]=new b("137","138","137","0","0",1,-.503909);this.H["138"]=new b("137","138","137","0","0",1,.450886);this.H["8"]=new b("17","18","17","4","44189.5",0,0);this.H["17"]=new b("35","36","35","2","21.5",0,0);this.H["35"]=new b("71","72","72","0","19.5",0,0);this.H["71"]=new b("139","140","140","9","2.5",0,0);this.H["139"]=new b("139","140","140","0","0",1,.00403497);this.H["140"]=new b("139","140","140","0","0",1,-.312656);this.H["72"]=new b("141","142","141","135","96",0,0);this.H["141"]=new b("141","142","141","0","0",1,-.465786);this.H["142"]=new b("141","142","141","0","0",1,.159633);this.H["36"]=new b("73","74","73","130","89.5",0,0);this.H["73"]=new b("143","144","144","10","4.5",0,0);this.H["143"]=new b("143","144","144","0","0",1,-.76265);this.H["144"]=new b("143","144","144","0","0",1,-.580804);this.H["74"]=new b("145","146","146","10","16.5",0,0);this.H["145"]=new b("145","146","146","0","0",1,.296357);this.H["146"]=new b("145","146","146","0","0",1,-.691659);this.H["18"]=new b("37","38","38","9","1.5",0,0);this.H["37"]=new b("37","38","38","0","0",1,.993951);this.H["38"]=new b("75","76","75","0","19",0,0);this.H["75"]=new b("147","148","147","39","-0.0000100136",0,0);this.H["147"]=new b("147","148","147","0","0",1,-.346535);this.H["148"]=new b("147","148","147","0","0",1,-.995745);this.H["76"]=new b("147","148","147","0","0",1,-.99978);this.H["4"]=new b("9","10","9","5","4.5",0,0);this.H["9"]=new b("19","20","19","2","4.5",0,0);this.H["19"]=new b("39","40","39","140","7.5",0,0);this.H["39"]=new b("77","78","78","134","6.5",0,0);this.H["77"]=new b("149","150","150","7","11.5",0,0);this.H["149"]=new b("149","150","150","0","0",1,.729843);this.H["150"]=new b("149","150","150","0","0",1,.383857);this.H["78"]=new b("151","152","151","133","4.5",0,0);this.H["151"]=new b("151","152","151","0","0",1,.39017);this.H["152"]=new b("151","152","151","0","0",1,.0434342);this.H["40"]=new b("79","80","79","133","3.5",0,0);this.H["79"]=new b("153","154","154","8","4.5",0,0);this.H["153"]=new b("153","154","154","0","0",1,-.99536);this.H["154"]=new b("153","154","154","0","0",1,-.00943396);this.H["80"]=new b("155","156","155","125","-0.0000100136",0,0);this.H["155"]=new b("155","156","155","0","0",1,.266272);this.H["156"]=new b("155","156","155","0","0",1,.959904);this.H["20"]=new b("41","42","42","10","65.5",0,0);this.H["41"]=new b("81","82","82","7","10.5",0,0);this.H["81"]=new b("157","158","158","2","37.5",0,0);this.H["157"]=new b("157","158","158","0","0",1,-.701873);this.H["158"]=new b("157","158","158","0","0",1,.224649);this.H["82"]=new b("159","160","159","133","9.5",0,0);this.H["159"]=new b("159","160","159","0","0",1,.0955181);this.H["160"]=new b("159","160","159","0","0",1,-.58962);this.H["42"]=new b("83","84","83","39","-0.0000100136",0,0);this.H["83"]=new b("161","162","161","135","31",0,0);this.H["161"]=new b("161","162","161","0","0",1,-.229692);this.H["162"]=new b("161","162","161","0","0",1,.88595);this.H["84"]=new b("163","164","164","1","13.5",0,0);this.H["163"]=new b("163","164","164","0","0",1,-.992157);this.H["164"]=new b("163","164","164","0","0",1,.922159);this.H["10"]=new b("21","22","22","4","486",0,0);this.H["21"]=new b("43","44","44","133","4.5",0,0);this.H["43"]=new b("85","86","86","10","4.5",0,0);this.H["85"]=new b("165","166","166","4","158.5",0,0);this.H["165"]=new b("165","166","166","0","0",1,-.127778);this.H["166"]=new b("165","166","166","0","0",1,.955189);this.H["86"]=new b("165","166","166","0","0",1,-.994012);this.H["44"]=new b("87","88","88","1","3.5",0,0);this.H["87"]=new b("167","168","168","135","7",0,0);this.H["167"]=new b("167","168","168","0","0",1,-.997015);this.H["168"]=new b("167","168","168","0","0",1,.400821);this.H["88"]=new b("169","170","169","130","36",0,0);this.H["169"]=new b("169","170","169","0","0",1,-.898638);this.H["170"]=new b("169","170","169","0","0",1,.56129);this.H["22"]=new b("45","46","45","9","2.5",0,0);this.H["45"]=new b("89","90","90","9","1.5",0,0);this.H["89"]=new b("171","172","171","10","10.5",0,0);this.H["171"]=new b("171","172","171","0","0",1,.573986);this.H["172"]=new b("171","172","171","0","0",1,-.627266);this.H["90"]=new b("173","174","173","31","-0.0000100136",0,0);this.H["173"]=new b("173","174","173","0","0",1,.925273);this.H["174"]=new b("173","174","173","0","0",1,-.994805);this.H["46"]=new b("91","92","91","136","5.5",0,0);this.H["91"]=new b("175","176","175","10","10.5",0,0);this.H["175"]=new b("175","176","175","0","0",1,.548352);this.H["176"]=new b("175","176","175","0","0",1,-.879195);this.H["92"]=new b("177","178","178","8","14.5",0,0);this.H["177"]=new b("177","178","178","0","0",1,.457305);this.H["178"]=new b("177","178","178","0","0",1,-.998992);this.H["2"]=new b("5","6","5","10","2.5",0,0);this.H["5"]=new b("11","12","11","9","4.5",0,0);this.H["11"]=new b("23","24","24","10","4.00001",0,0);this.H["23"]=new b("47","48","48","133","5.5",0,0);this.H["47"]=new b("93","94","93","3","13.5",0,0);this.H["93"]=new b("179","180","179","138","15.5",0,0);this.H["179"]=new b("179","180","179","0","0",1,.658398);this.H["180"]=new b("179","180","179","0","0",1,-.927007);this.H["94"]=new b("181","182","182","3","15.5",0,0);this.H["181"]=new b("181","182","182","0","0",1,-.111351);this.H["182"]=new b("181","182","182","0","0",1,-.99827);this.H["48"]=new b("95","96","95","7","167",0,0);this.H["95"]=new b("183","184","183","132","36.5",0,0);this.H["183"]=new b("183","184","183","0","0",1,.895161);this.H["184"]=new b("183","184","183","0","0",1,-.765217);this.H["96"]=new b("185","186","186","137","6.00001",0,0);this.H["185"]=new b("185","186","186","0","0",1,-.851095);this.H["186"]=new b("185","186","186","0","0",1,.674286);this.H["24"]=new b("49","50","49","137","5.5",0,0);this.H["49"]=new b("97","98","97","5","23.5",0,0);this.H["97"]=new b("187","188","187","3","28.5",0,0);this.H["187"]=new b("187","188","187","0","0",1,.951654);this.H["188"]=new b("187","188","187","0","0",1,-.993808);this.H["98"]=new b("187","188","187","0","0",1,-.99705);this.H["50"]=new b("187","188","187","0","0",1,-.997525);this.H["12"]=new b("25","26","25","8","8.5",0,0);this.H["25"]=new b("51","52","52","10","4.00001",0,0);this.H["51"]=new b("99","100","100","133","5.5",0,0);this.H["99"]=new b("189","190","190","7","40.5",0,0);this.H["189"]=new b("189","190","190","0","0",1,.151839);this.H["190"]=new b("189","190","190","0","0",1,-.855517);this.H["100"]=new b("191","192","192","133","14.5",0,0);this.H["191"]=new b("191","192","192","0","0",1,.86223);this.H["192"]=new b("191","192","192","0","0",1,.544394);this.H["52"]=new b("101","102","101","135","47.5",0,0);this.H["101"]=new b("193","194","194","4","24.5",0,0);this.H["193"]=new b("193","194","194","0","0",1,.946185);this.H["194"]=new b("193","194","194","0","0",1,.811859);this.H["102"]=new b("193","194","194","0","0",1,-.991561);this.H["26"]=new b("53","54","54","132","6.5",0,0);this.H["53"]=new b("103","104","103","131","85",0,0);this.H["103"]=new b("195","196","196","134","16.5",0,0);this.H["195"]=new b("195","196","196","0","0",1,.0473538);this.H["196"]=new b("195","196","196","0","0",1,-.999401);this.H["104"]=new b("197","198","198","8","15.5",0,0);this.H["197"]=new b("197","198","198","0","0",1,.816129);this.H["198"]=new b("197","198","198","0","0",1,-.99322);this.H["54"]=new b("105","106","105","133","3.5",0,0);this.H["105"]=new b("105","106","105","0","0",1,-.998783);this.H["106"]=new b("199","200","199","39","-0.0000100136",0,0);this.H["199"]=new b("199","200","199","0","0",1,.528588);this.H["200"]=new b("199","200","199","0","0",1,-.998599);this.H["6"]=new b("13","14","14","10","7.5",0,0);this.H["13"]=new b("27","28","28","133","7.5",0,0);this.H["27"]=new b("55","56","56","10","4.5",0,0);this.H["55"]=new b("107","108","107","3","3.5",0,0);this.H["107"]=new b("201","202","201","4","17.5",0,0);this.H["201"]=new b("201","202","201","0","0",1,-.379512);this.H["202"]=new b("201","202","201","0","0",1,.15165);this.H["108"]=new b("203","204","203","57","-0.0000100136",0,0);this.H["203"]=new b("203","204","203","0","0",1,-.884606);this.H["204"]=new b("203","204","203","0","0",1,.265406);this.H["56"]=new b("109","110","109","136","6.5",0,0);this.H["109"]=new b("205","206","205","4","157.5",0,0);this.H["205"]=new b("205","206","205","0","0",1,-.0142737);this.H["206"]=new b("205","206","205","0","0",1,.691279);this.H["110"]=new b("205","206","205","0","0",1,-.998086);this.H["28"]=new b("57","58","58","138","11.5",0,0);this.H["57"]=new b("111","112","112","2","6.5",0,0);this.H["111"]=new b("207","208","208","7","67.5",0,0);this.H["207"]=new b("207","208","208","0","0",1,.763925);this.H["208"]=new b("207","208","208","0","0",1,-.309645);this.H["112"]=new b("209","210","209","40","-0.0000100136",0,0);this.H["209"]=new b("209","210","209","0","0",1,-.306635);this.H["210"]=new b("209","210","209","0","0",1,.556696);this.H["58"]=new b("113","114","113","138","50.5",0,0);this.H["113"]=new b("211","212","212","8","25.5",0,0);this.H["211"]=new b("211","212","212","0","0",1,.508234);this.H["212"]=new b("211","212","212","0","0",1,.793551);this.H["114"]=new b("211","212","212","0","0",1,-.998438);this.H["14"]=new b("29","30","29","134","27.5",0,0);this.H["29"]=new b("59","60","60","7","17.5",0,0);this.H["59"]=new b("115","116","115","135","5.5",0,0);this.H["115"]=new b("213","214","214","137","5.5",0,0);this.H["213"]=new b("213","214","214","0","0",1,.401747);this.H["214"]=new b("213","214","214","0","0",1,.0367503);this.H["116"]=new b("215","216","216","8","5.5",0,0);this.H["215"]=new b("215","216","216","0","0",1,-.0241984);this.H["216"]=new b("215","216","216","0","0",1,-.999046);this.H["60"]=new b("117","118","117","0","12.5",0,0);this.H["117"]=new b("217","218","218","132","5.5",0,0);this.H["217"]=new b("217","218","218","0","0",1,-.997294);this.H["218"]=new b("217","218","218","0","0",1,.210398);this.H["118"]=new b("219","220","219","137","1.5",0,0);this.H["219"]=new b("219","220","219","0","0",1,-.55763);this.H["220"]=new b("219","220","219","0","0",1,.074493);this.H["30"]=new b("61","62","62","133","42.5",0,0);this.H["61"]=new b("119","120","119","135","5.5",0,0);this.H["119"]=new b("221","222","222","4","473.5",0,0);this.H["221"]=new b("221","222","222","0","0",1,-.920213);this.H["222"]=new b("221","222","222","0","0",1,-.17615);this.H["120"]=new b("223","224","224","5","144",0,0);this.H["223"]=new b("223","224","224","0","0",1,-.954295);this.H["224"]=new b("223","224","224","0","0",1,-.382538);this.H["62"]=new b("121","122","121","133","50",0,0);this.H["121"]=new b("225","226","226","10","18.5",0,0);this.H["225"]=new b("225","226","226","0","0",1,-.0731343);this.H["226"]=new b("225","226","226","0","0",1,.755454);this.H["122"]=new b("227","228","228","0","30",0,0);this.H["227"]=new b("227","228","228","0","0",1,.25);this.H["228"]=new b("227","228","228","0","0",1,-.997101);}function q(a,b,f,c,u,g){this.HV=u;this.OQ=g;}c=a(280);p=a(170);a={};a.h_a=new function(){this.nUa=p();this.o=0;this.update=function(){this.o=p()-this.nUa;};this.getValue=function(){return this.o;};this.type="num";}();a.Jfb=new function(){this.getValue=function(a,b,f){return this.o="becauseYouAdded"===f.Ca[a].context||null;};this.type="cat";}();a.Kfb=new function(){this.getValue=function(a,b,f){return this.o="becauseYouLiked"===f.Ca[a].context||null;};this.type="cat";}();a.Mfb=new function(){this.getValue=function(a,b,f){return this.o="billboard"===f.Ca[a].context||null;};this.type="cat";}();a.Nfb=new function(){this.getValue=function(a,b,f){return this.o="continueWatching"===f.Ca[a].context||null;};this.type="cat";}();a.Lfb=new function(){this.getValue=function(a,b,f){return this.o="bigRow"===f.Ca[a].context||null;};this.type="cat";}();a.Ofb=new function(){this.getValue=function(a,b,f){return this.o="genre"===f.Ca[a].context||null;};this.type="cat";}();a.Pfb=new function(){this.getValue=function(a,b,f){return this.o="netflixOriginals"===f.Ca[a].context||null;};this.type="cat";}();a.Qfb=new function(){this.getValue=function(a,b,f){return this.o="newRelease"===f.Ca[a].context||null;};this.type="cat";}();a.Rfb=new function(){this.getValue=function(a,b,f){return this.o="popularTitles"===f.Ca[a].context||null;};this.type="cat";}();a.Sfb=new function(){this.getValue=function(a,b,f){return this.o="queue"===f.Ca[a].context||null;};this.type="cat";}();a.Tfb=new function(){this.getValue=function(a,b,f){return this.o="recentlyAdded"===f.Ca[a].context||null;};this.type="cat";}();a.Ufb=new function(){this.getValue=function(a,b,f){return this.o="similars"===f.Ca[a].context||null;};this.type="cat";}();a.Wfb=new function(){this.getValue=function(a,b,f){return this.o="trendingNow"===f.Ca[a].context||null;};this.type="cat";}();a.Xfb=new function(){this.getValue=function(a,b,f){return this.o="ultraHD"===f.Ca[a].context||null;};this.type="cat";}();a.Yfb=new function(){this.getValue=function(a,b,f){return this.o="watchAgain"===f.Ca[a].context||null;};this.type="cat";}();a.Vfb=new function(){this.getValue=function(a,b,f){return this.o="topTen"===f.Ca[a].context||null;};this.type="cat";}();a.P_a=new function(){this.update=function(a){for(var d in a.Ca)if("becauseYouAdded"===a.Ca[d].context){this.o=Math.max(a.Ca[d].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Q_a=new function(){this.update=function(a){for(var d in a.Ca)if("becauseYouLiked"===a.Ca[d].context){this.o=Math.max(a.Ca[d].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.T_a=new function(){this.update=function(a){for(var d in a.Ca)if("billboard"===a.Ca[d].context){this.o=Math.max(a.Ca[d].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.p2a=new function(){this.update=function(a){for(var d in a.Ca)if("continueWatching"===a.Ca[d].context){this.o=Math.max(a.Ca[d].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.S_a=new function(){this.update=function(a){for(var d in a.Ca)if("bigRow"===a.Ca[d].context){this.o=Math.max(a.Ca[d].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.b$a=new function(){this.update=function(a){for(var d in a.Ca)if("genre"===a.Ca[d].context){this.o=Math.max(a.Ca[d].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Uib=new function(){this.update=function(a){for(var d in a.Ca)if("netflixOriginals"===a.Ca[d].context){this.o=Math.max(a.Ca[d].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Yib=new function(){this.update=function(a){for(var d in a.Ca)if("newRelease"===a.Ca[d].context){this.o=Math.max(a.Ca[d].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Zlb=new function(){this.update=function(a){for(var d in a.Ca)if("popularTitles"===a.Ca[d].context){this.o=Math.max(a.Ca[d].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.gi=new function(){this.update=function(a){for(var d in a.Ca)if("queue"===a.Ca[d].context){this.o=Math.max(a.Ca[d].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.ynb=new function(){this.update=function(a){for(var d in a.Ca)if("recentlyAdded"===a.Ca[d].context){this.o=Math.max(a.Ca[d].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.krb=new function(){this.update=function(a){for(var d in a.Ca)if("similars"===a.Ca[d].context){this.o=Math.max(a.Ca[d].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Htb=new function(){this.update=function(a){for(var d in a.Ca)if("trendingNow"===a.Ca[d].context){this.o=Math.max(a.Ca[d].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Vtb=new function(){this.update=function(a){for(var d in a.Ca)if("ultraHD"===a.Ca[d].context){this.o=Math.max(a.Ca[d].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.rvb=new function(){this.update=function(a){for(var d in a.Ca)if("watchAgain"===a.Ca[d].context){this.o=Math.max(a.Ca[d].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.ktb=new function(){this.update=function(a){for(var d in a.Ca)if("topTen"===a.Ca[d].context){this.o=Math.max(a.Ca[d].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.B2a=new function(){this.getValue=function(a,b,f){return this.o="AR"===f.Ea||null;};this.type="cat";}();a.C2a=new function(){this.getValue=function(a,b,f){return this.o="AT"===f.Ea||null;};this.type="cat";}();a.D2a=new function(){this.getValue=function(a,b,f){return this.o="AU"===f.Ea||null;};this.type="cat";}();a.E2a=new function(){this.getValue=function(a,b,f){return this.o="AZ"===f.Ea||null;};this.type="cat";}();a.F2a=new function(){this.getValue=function(a,b,f){return this.o="BB"===f.Ea||null;};this.type="cat";}();a.G2a=new function(){this.getValue=function(a,b,f){return this.o="BE"===f.Ea||null;};this.type="cat";}();a.H2a=new function(){this.getValue=function(a,b,f){return this.o="BO"===f.Ea||null;};this.type="cat";}();a.I2a=new function(){this.getValue=function(a,b,f){return this.o="BR"===f.Ea||null;};this.type="cat";}();a.J2a=new function(){this.getValue=function(a,b,f){return this.o="BS"===f.Ea||null;};this.type="cat";}();a.K2a=new function(){this.getValue=function(a,b,f){return this.o="CA"===f.Ea||null;};this.type="cat";}();a.L2a=new function(){this.getValue=function(a,b,f){return this.o="CH"===f.Ea||null;};this.type="cat";}();a.M2a=new function(){this.getValue=function(a,b,f){return this.o="CL"===f.Ea||null;};this.type="cat";}();a.N2a=new function(){this.getValue=function(a,b,f){return this.o="CO"===f.Ea||null;};this.type="cat";}();a.O2a=new function(){this.getValue=function(a,b,f){return this.o="CR"===f.Ea||null;};this.type="cat";}();a.P2a=new function(){this.getValue=function(a,b,f){return this.o="CW"===f.Ea||null;};this.type="cat";}();a.Q2a=new function(){this.getValue=function(a,b,f){return this.o="DE"===f.Ea||null;};this.type="cat";}();a.R2a=new function(){this.getValue=function(a,b,f){return this.o="DK"===f.Ea||null;};this.type="cat";}();a.S2a=new function(){this.getValue=function(a,b,f){return this.o="DM"===f.Ea||null;};this.type="cat";}();a.T2a=new function(){this.getValue=function(a,b,f){return this.o="DO"===f.Ea||null;};this.type="cat";}();a.U2a=new function(){this.getValue=function(a,b,f){return this.o="EC"===f.Ea||null;};this.type="cat";}();a.V2a=new function(){this.getValue=function(a,b,f){return this.o="EE"===f.Ea||null;};this.type="cat";}();a.W2a=new function(){this.getValue=function(a,b,f){return this.o="EG"===f.Ea||null;};this.type="cat";}();a.X2a=new function(){this.getValue=function(a,b,f){return this.o="ES"===f.Ea||null;};this.type="cat";}();a.Y2a=new function(){this.getValue=function(a,b,f){return this.o="FI"===f.Ea||null;};this.type="cat";}();a.Z2a=new function(){this.getValue=function(a,b,f){return this.o="FR"===f.Ea||null;};this.type="cat";}();a.$2a=new function(){this.getValue=function(a,b,f){return this.o="GB"===f.Ea||null;};this.type="cat";}();a.a3a=new function(){this.getValue=function(a,b,f){return this.o="GF"===f.Ea||null;};this.type="cat";}();a.b3a=new function(){this.getValue=function(a,b,f){return this.o="GP"===f.Ea||null;};this.type="cat";}();a.c3a=new function(){this.getValue=function(a,b,f){return this.o="GT"===f.Ea||null;};this.type="cat";}();a.d3a=new function(){this.getValue=function(a,b,f){return this.o="HK"===f.Ea||null;};this.type="cat";}();a.e3a=new function(){this.getValue=function(a,b,f){return this.o="HN"===f.Ea||null;};this.type="cat";}();a.f3a=new function(){this.getValue=function(a,b,f){return this.o="HR"===f.Ea||null;};this.type="cat";}();a.g3a=new function(){this.getValue=function(a,b,f){return this.o="HU"===f.Ea||null;};this.type="cat";}();a.h3a=new function(){this.getValue=function(a,b,f){return this.o="ID"===f.Ea||null;};this.type="cat";}();a.i3a=new function(){this.getValue=function(a,b,f){return this.o="IE"===f.Ea||null;};this.type="cat";}();a.j3a=new function(){this.getValue=function(a,b,f){return this.o="IL"===f.Ea||null;};this.type="cat";}();a.k3a=new function(){this.getValue=function(a,b,f){return this.o="IN"===f.Ea||null;};this.type="cat";}();a.l3a=new function(){this.getValue=function(a,b,f){return this.o="IT"===f.Ea||null;};this.type="cat";}();a.m3a=new function(){this.getValue=function(a,b,f){return this.o="JE"===f.Ea||null;};this.type="cat";}();a.n3a=new function(){this.getValue=function(a,b,f){return this.o="JM"===f.Ea||null;};this.type="cat";}();a.o3a=new function(){this.getValue=function(a,b,f){return this.o="JP"===f.Ea||null;};this.type="cat";}();a.p3a=new function(){this.getValue=function(a,b,f){return this.o="KE"===f.Ea||null;};this.type="cat";}();a.q3a=new function(){this.getValue=function(a,b,f){return this.o="KN"===f.Ea||null;};this.type="cat";}();a.r3a=new function(){this.getValue=function(a,b,f){return this.o="KR"===f.Ea||null;};this.type="cat";}();a.s3a=new function(){this.getValue=function(a,b,f){return this.o="LU"===f.Ea||null;};this.type="cat";}();a.t3a=new function(){this.getValue=function(a,b,f){return this.o="MK"===f.Ea||null;};this.type="cat";}();a.u3a=new function(){this.getValue=function(a,b,f){return this.o="MU"===f.Ea||null;};this.type="cat";}();a.v3a=new function(){this.getValue=function(a,b,f){return this.o="MX"===f.Ea||null;};this.type="cat";}();a.w3a=new function(){this.getValue=function(a,b,f){return this.o="MY"===f.Ea||null;};this.type="cat";}();a.x3a=new function(){this.getValue=function(a,b,f){return this.o="NI"===f.Ea||null;};this.type="cat";}();a.y3a=new function(){this.getValue=function(a,b,f){return this.o="NL"===f.Ea||null;};this.type="cat";}();a.z3a=new function(){this.getValue=function(a,b,f){return this.o="NO"===f.Ea||null;};this.type="cat";}();a.A3a=new function(){this.getValue=function(a,b,f){return this.o="NZ"===f.Ea||null;};this.type="cat";}();a.B3a=new function(){this.getValue=function(a,b,f){return this.o="OM"===f.Ea||null;};this.type="cat";}();a.C3a=new function(){this.getValue=function(a,b,f){return this.o="PA"===f.Ea||null;};this.type="cat";}();a.D3a=new function(){this.getValue=function(a,b,f){return this.o="PE"===f.Ea||null;};this.type="cat";}();a.E3a=new function(){this.getValue=function(a,b,f){return this.o="PF"===f.Ea||null;};this.type="cat";}();a.F3a=new function(){this.getValue=function(a,b,f){return this.o="PH"===f.Ea||null;};this.type="cat";}();a.G3a=new function(){this.getValue=function(a,b,f){return this.o="PK"===f.Ea||null;};this.type="cat";}();a.H3a=new function(){this.getValue=function(a,b,f){return this.o="PL"===f.Ea||null;};this.type="cat";}();a.I3a=new function(){this.getValue=function(a,b,f){return this.o="PT"===f.Ea||null;};this.type="cat";}();a.J3a=new function(){this.getValue=function(a,b,f){return this.o="PY"===f.Ea||null;};this.type="cat";}();a.K3a=new function(){this.getValue=function(a,b,f){return this.o="QA"===f.Ea||null;};this.type="cat";}();a.L3a=new function(){this.getValue=function(a,b,f){return this.o="RO"===f.Ea||null;};this.type="cat";}();a.M3a=new function(){this.getValue=function(a,b,f){return this.o="RS"===f.Ea||null;};this.type="cat";}();a.N3a=new function(){this.getValue=function(a,b,f){return this.o="RU"===f.Ea||null;};this.type="cat";}();a.O3a=new function(){this.getValue=function(a,b,f){return this.o="SA"===f.Ea||null;};this.type="cat";}();a.P3a=new function(){this.getValue=function(a,b,f){return this.o="SE"===f.Ea||null;};this.type="cat";}();a.Q3a=new function(){this.getValue=function(a,b,f){return this.o="SG"===f.Ea||null;};this.type="cat";}();a.R3a=new function(){this.getValue=function(a,b,f){return this.o="SV"===f.Ea||null;};this.type="cat";}();a.S3a=new function(){this.getValue=function(a,b,f){return this.o="SX"===f.Ea||null;};this.type="cat";}();a.T3a=new function(){this.getValue=function(a,b,f){return this.o="TH"===f.Ea||null;};this.type="cat";}();a.U3a=new function(){this.getValue=function(a,b,f){return this.o="TR"===f.Ea||null;};this.type="cat";}();a.V3a=new function(){this.getValue=function(a,b,f){return this.o="TT"===f.Ea||null;};this.type="cat";}();a.W3a=new function(){this.getValue=function(a,b,f){return this.o="TW"===f.Ea||null;};this.type="cat";}();a.X3a=new function(){this.getValue=function(a,b,f){return this.o="US"===f.Ea||null;};this.type="cat";}();a.Y3a=new function(){this.getValue=function(a,b,f){return this.o="UY"===f.Ea||null;};this.type="cat";}();a.Z3a=new function(){this.getValue=function(a,b,f){return this.o="VE"===f.Ea||null;};this.type="cat";}();a.$3a=new function(){this.getValue=function(a,b,f){return this.o="ZA"===f.Ea||null;};this.type="cat";}();a.Anb=new function(){this.getValue=function(a,b,f){return this.o=1===f.fg||null;};this.type="cat";}();a.Bnb=new function(){this.getValue=function(a,b,f){return this.o=10===f.fg||null;};this.type="cat";}();a.Cnb=new function(){this.getValue=function(a,b,f){return this.o=11===f.fg||null;};this.type="cat";}();a.Dnb=new function(){this.getValue=function(a,b,f){return this.o=12===f.fg||null;};this.type="cat";}();a.Enb=new function(){this.getValue=function(a,b,f){return this.o=13===f.fg||null;};this.type="cat";}();a.Fnb=new function(){this.getValue=function(a,b,f){return this.o=14===f.fg||null;};this.type="cat";}();a.Gnb=new function(){this.getValue=function(a,b,f){return this.o=15===f.fg||null;};this.type="cat";}();a.Hnb=new function(){this.getValue=function(a,b,f){return this.o=16===f.fg||null;};this.type="cat";}();a.Inb=new function(){this.getValue=function(a,b,f){return this.o=17===f.fg||null;};this.type="cat";}();a.Jnb=new function(){this.getValue=function(a,b,f){return this.o=18===f.fg||null;};this.type="cat";}();a.Knb=new function(){this.getValue=function(a,b,f){return this.o=19===f.fg||null;};this.type="cat";}();a.Lnb=new function(){this.getValue=function(a,b,f){return this.o=2===f.fg||null;};this.type="cat";}();a.Mnb=new function(){this.getValue=function(a,b,f){return this.o=20===f.fg||null;};this.type="cat";}();a.Nnb=new function(){this.getValue=function(a,b,f){return this.o=21===f.fg||null;};this.type="cat";}();a.Onb=new function(){this.getValue=function(a,b,f){return this.o=22===f.fg||null;};this.type="cat";}();a.Pnb=new function(){this.getValue=function(a,b,f){return this.o=23===f.fg||null;};this.type="cat";}();a.Qnb=new function(){this.getValue=function(a,b,f){return this.o=3===f.fg||null;};this.type="cat";}();a.Rnb=new function(){this.getValue=function(a,b,f){return this.o=4===f.fg||null;};this.type="cat";}();a.Snb=new function(){this.getValue=function(a,b,f){return this.o=5===f.fg||null;};this.type="cat";}();a.Tnb=new function(){this.getValue=function(a,b,f){return this.o=6===f.fg||null;};this.type="cat";}();a.Unb=new function(){this.getValue=function(a,b,f){return this.o=7===f.fg||null;};this.type="cat";}();a.Vnb=new function(){this.getValue=function(a,b,f){return this.o=8===f.fg||null;};this.type="cat";}();a.Wnb=new function(){this.getValue=function(a,b,f){return this.o=9===f.fg||null;};this.type="cat";}();a.psb=new function(){this.update=function(a){"down"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.rsb=new function(){this.update=function(a){"right"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.qsb=new function(){this.update=function(a){"left"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.ssb=new function(){this.update=function(a){"up"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.xhb=new function(){this.o=0;this.update=function(a){this.o=Math.max(this.o,a.rowIndex);};this.getValue=function(){return this.o;};this.type="num";}();a.Ahb=new function(){this.o=0;this.update=function(a){this.o=Math.max(this.o,a.J2);};this.getValue=function(){return this.o;};this.type="num";}();a.Hhb=new function(){this.NG=this.o=0;this.update=function(a){this.NG++;this.o=1*(this.o+a.rowIndex)/this.NG;};this.getValue=function(){return this.o;};this.type="num";}();a.Ihb=new function(){this.NG=this.o=0;this.update=function(a){this.NG++;return this.o=1*(this.o+a.J2)/this.NG;};this.getValue=function(){return this.o;};this.type="num";}();a.wmb=new function(){this.getValue=function(a,b,f){return this.o=f.J2+b;};this.type="num";}();a.xmb=new function(){this.getValue=function(a,b,f){return this.o=f.rowIndex+a;};this.type="num";}();f.prototype.ow=function(a){return this.lma(this.H["0"].nBa(a),a);};f.prototype.lma=function(a,b){return"string"==typeof a?this.lma(this.H[a].nBa(b),b):a;};b.prototype.nBa=function(a){switch(this.bfb){case 0:switch(a.ed[this.CM].type){case"cat":return null===a.ed[this.CM].value?this.Rxa:"missing"==a.ed[this.CM].value?this.g9:this.CEa;case"num":return null===a.ed[this.CM].value?this.g9:a.ed[this.CM].value<this.split?this.CEa:this.Rxa;default:return this.g9;}case 1:return this.ow;default:return this.ow;}};c.declare({vK:["modelSelector","modelone"],L1a:["colEpisodeList",5],xdb:["holdDuration",15E3],ZAa:["rowFirst",2],Woa:["colFirst",5],aBa:["rowScroll",2],Xoa:["colScroll",6],Wob:["rowScrollHorizontal",6],rpb:["searchTop",3],Rpa:["cwFirst",2],DJ:["horizontalItemsFocusedMode",3],cfb:["itemsPerRank",1],thb:["maxNumberPayloadsStored",10],Rwa:["maxNumberTitlesScheduled",5],lGb:["enableDetailedLogging",!0],WJb:["rowStep",20],lFb:["colStep",15],dJb:["pageRows",100],cJb:["pageColumns",75],C8:["maskParamsList",new function(){var a,b;this.C8=[];this.Pi={};this.HV=20;this.OQ=15;for(a=0;100>a;a++)for(b=0;75>b;b++)Math.floor(a/this.HV)+"_"+Math.floor(b/this.OQ)in this.Pi||(this.Pi[Math.floor(a/this.HV)+"_"+Math.floor(b/this.OQ)]=1,this.C8.push(new q(0,0,0,0,Math.floor(a/this.HV),Math.floor(b/this.OQ))));}().C8],H:["nodes",new f().H],mapping:["mapping",{Ahb:"0",Ihb:"1",xhb:"2",Hhb:"3",h_a:"4",ssb:"5",qsb:"6",rsb:"7",psb:"8",xmb:"9",wmb:"10",Jfb:"11",Kfb:"12",Mfb:"13",Nfb:"14",Lfb:"15",Ofb:"16",Pfb:"17",Qfb:"18",Rfb:"19",Sfb:"20",Tfb:"21",Ufb:"22",Vfb:"23",Wfb:"24",Xfb:"25",Yfb:"26",Anb:"27",Bnb:"28",Cnb:"29",Dnb:"30",Enb:"31",Fnb:"32",Gnb:"33",Hnb:"34",Inb:"35",Jnb:"36",Knb:"37",Lnb:"38",Mnb:"39",Nnb:"40",Onb:"41",Pnb:"42",Qnb:"43",Rnb:"44",Snb:"45",Tnb:"46",Unb:"47",Vnb:"48",Wnb:"49",B2a:"50",C2a:"51",D2a:"52",E2a:"53",F2a:"54",G2a:"55",H2a:"56",I2a:"57",J2a:"58",K2a:"59",L2a:"60",M2a:"61",N2a:"62",O2a:"63",P2a:"64",Q2a:"65",R2a:"66",S2a:"67",T2a:"68",U2a:"69",V2a:"70",W2a:"71",X2a:"72",Y2a:"73",Z2a:"74",$2a:"75",a3a:"76",b3a:"77",c3a:"78",d3a:"79",e3a:"80",f3a:"81",g3a:"82",h3a:"83",i3a:"84",j3a:"85",k3a:"86",l3a:"87",m3a:"88",n3a:"89",o3a:"90",p3a:"91",q3a:"92",r3a:"93",s3a:"94",t3a:"95",u3a:"96",v3a:"97",w3a:"98",x3a:"99",y3a:"100",z3a:"101",A3a:"102",B3a:"103",C3a:"104",D3a:"105",E3a:"106",F3a:"107",G3a:"108",H3a:"109",I3a:"110",J3a:"111",K3a:"112",L3a:"113",M3a:"114",N3a:"115",O3a:"116",P3a:"117",Q3a:"118",R3a:"119",S3a:"120",T3a:"121",U3a:"122",V3a:"123",W3a:"124",X3a:"125",Y3a:"126",Z3a:"127",$3a:"128",rvb:"129",ynb:"130",krb:"131",gi:"132",p2a:"133",b$a:"134",Htb:"135",ktb:"136",T_a:"137",Yib:"138",Vtb:"139",Zlb:"140",P_a:"141",S_a:"142",Q_a:"143",Uib:"144"}],ed:["features",a],fEb:["_modelName","tree"],YDb:["_format","xgboost"],eEb:["_itemsToKeep",5],dEb:["_itemsThreshold",null],WEb:["cacheLimit",20]});g.T={config:c,pIb:q,FFb:b};},function(g,c,a){var f;function b(a){for(var b="",d=0;d<a.length;d++)b+=a[d].qc+"|";return b;}f=a(169);g.T={assert:function(a,b){if(!a)throw Error("PlayPredictionModel assertion failed"+(b?" : "+b:""));},EHb:function(a,b,d){Array.prototype.splice.apply(a,[b,0].concat(d));},K$a:function(a){for(var b=[],d=0;d<a.length;d++)if(a[d].context===f.XF.JGa){b=a[d].list;break;}return b;},v$a:function(a){for(var b=[],d=0;d<a.length;d++)if(a[d].context===f.XF.DFa){b=a[d].list;break;}return b;},i6a:function(a,f){for(var d=0,c,m,t,u=0,g=a.length-1;u<g;u++){c=b(a[u].list||[]);t=!1;for(var A=0,p=f.length;A<p;A++)if(m=b(f[A].list||[]),m==c){t=!0;break;}if(!1===t){d=u;break;}}return d;},Jjb:function(a,b,d){for(var f=[],c,t=0;t<Math.min(b,a.length);t++)c=a[t].list||[],f=f.concat(c.slice(0,d));return f;},Ijb:function(a,b){for(var d=[],f,c=0;c<a.length&&(f=a[c].list||[],f=f.slice(0,Math.min(f.length,b)),b-=f.length,d=d.concat(f),0!==b);c++);return d;},Hjb:function(a,b,d){var f;b<a.length&&0<=b&&(a=a[b].list||[],d<a.length&&(f=a[d]));return f;},Kra:function(a){for(var b={},d=a.length,c,m=0;m<d;m++){c=a[m].list||[];for(var t=0;t<c.length;t++)if(c[t].property===f.MA.lG||c[t].property===f.MA.Ida){b.Bh=m;b.kj=t;break;}}void 0===b.Bh&&void 0===b.kj&&(b.Bh=0,b.kj=0);return b;}};},function(g,c,a){var b,f,q,p,d,k,m,t,u,y,A,h,x;Object.defineProperty(c,"__esModule",{value:!0});b=a(69);f=a(9);q=a(12);p=a(28);d=a(26);k=a(33);m=a(4);t=a(2);u=a(18);y=a(114);A=a(8);h=a(85);x=a(20);c.otb=function(){var g,K,l,D;function a(a){var b,d,f;b="info";d="";f=m.V.get(y.qx).hta();a.W||(b="error",d+="&errorcode="+(a.errorCode||""),d+="&errorsubcode="+(a.Y||""));d="type=startup&sev="+b+d+"&"+p.DK(u.Wa({},f,{prefix:"m_"}));c("startup",d,g);}function c(a,c,k){k&&K&&q.config.sDa[a]&&(a=l+"&jsoffms="+d.Yf()+"&do="+A.tk.onLine+"&"+c+"&"+p.DK(u.Wa({},D.Cc,{prefix:"im_"})),b.Jd.download({url:k,m$:a,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},GC:"track"},f.ne));}l="cat=cadplayback&dev="+encodeURIComponent(k.RHa)+"&ep="+encodeURIComponent(k.Jg.OX)+"&ver="+encodeURIComponent("6.0019.057.011")+"&jssid="+d.Ifa;m.Lf("TrackingLog");D=m.V.get(x.He);l=l+("&browserua="+A.Oj);D.register(t.I.pfa,function(b){var d,c;g=m.V.get(h.Dt).host+q.config.Yba;if(K=q.config.rDa&&!!q.config.Yba){q.config.vv&&(l+="&groupname="+encodeURIComponent(q.config.vv));q.config.oA&&(l+="&uigroupname="+encodeURIComponent(q.config.oA));d=l;c="";k.$n&&(c=u.Wa({},k.$n,{prefix:"pi_"}),c="&"+p.DK(c));l=d+c;D.dK(a);}b(f.yc);});return c;}();},function(g,c,a){var p;function b(a,b,c){b=b||0;c=c||a.length;for(var d,k=b,m,g,p,q={};k<b+c;){d=a[k];m=d&7;g=d>>3;p=f(a,k);if(!p.count)throw Error("Parsing error. bytes length is 0 for the tag "+d);k+=p.count+1;2==m&&(k+=p.value);q[g]={DGb:g,fLb:m,value:p.value,count:p.count,start:p.start};}return q;}function f(a,b){var d,f,c,k,g,q,h,G;d=b+1;f=a.length;c=d;k=0;g={};q=[];G=0;if(d>=f)throw Error("Invalid Range for Protobuf - start: "+d+" , len: "+f);for(;c<f;){k++;d=a[c];h=d&127;q.push(h);if(!(d&128))break;c++;}p.Ga(q.length);for(a=q.length-1;0<=a;a--)G<<=7,G|=q[a];g.count=k;g.value=G;g.start=b+k+1;return g;}function q(a,b){if(a&&(a=a[b]))return a.value;}Object.defineProperty(c,"__esModule",{value:!0});p=a(14);c.Neb=function(a){a=b(a);if(1==q(a,1)&&a[5]&&a[5].value)return!0;};c.UHb=function(a){var d;d=b(a);if(2==q(d,1)&&(a=b(a,d[2].start,d[2].value),q(a,5)))return!0;};c.CGb=b;c.cHb=f;c.dHb=q;},function(g){function c(a){return Object.keys(a).every(function(b){return"function"===typeof a[b];});}g.T=function(a){var p,d,k;function b(a,b,d){throw new TypeError(("undefined"!==typeof d.key?"Types: expected "+d.key:"Types: expected argument "+d.index)+(" to be '"+a+"' but found '"+b+"'"));}function f(a,f,c){var k;k=d[a];"undefined"!==typeof k?k(f)||b(a,f,c):a!==typeof f&&b(a,f,c);}function g(a,b){var d;d=a.filter(function(a){return"object"!==typeof a&&-1===k.indexOf(a);});d=d.concat(a.filter(function(a){return"object"===typeof a;}).reduce(function(a,b){return a.concat(Object.keys(b).map(function(a){return b[a];}).filter(function(a){return-1===k.indexOf(a);}));},[]));if(0<d.length)throw Error(d.join(",")+" are invalid types");return function(){var d;d=Array.prototype.slice.call(arguments);if(d.length!==a.length)throw new TypeError("Types: unexpected number of arguments");a.forEach(function(a,b){var c;c=d[b];if("string"===typeof a)f(a,c,{index:b});else if("object"===typeof a)Object.keys(a).forEach(function(b){f(a[b],c[b],{key:b});});else throw Error("Types: unexpected type in type array");});return b.apply(this,d);};}p="number boolean string object function symbol".split(" ");d={array:function(a){return Array.isArray(a);}};if("undefined"!==typeof a){if("object"!==typeof a||!c(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(b){if("undefined"!==typeof d[b]||-1<p.indexOf(b))throw new TypeError("Types: attempting to override a built in type with "+b);d[b]=a[b];});}k=Object.keys(d).concat(p);return g(["array","function"],g);};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.WJa=function(a){var c,g,d,k;function b(){if(d)for(var a;a=c.pop();)a(k);}function f(a){d=!0;k=a;b();}c=[];return function(d){c.push(d);g||(g=!0,a(f));b();};};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.aia="PlaygraphMapTranslatorSymbol";},function(g,c,a){var f;function b(a,b,d,c,m){var k;k=this;this.jl=c;this.Oi=m;this.addEventListener=function(a,b,d){return k.Oi.addListener(a,k.bqa(a,b),d);};this.removeEventListener=function(a,b){return k.Oi.removeListener(a,k.bqa(a,b));};this.getReady=function(){return k.Oi.FS();};this.getXid=function(){return k.gb().p6();};this.getMovieId=function(){return k.gb().gbb();};this.getElement=function(){return k.gb().yy();};this.isPlaying=function(){return k.gb().Py();};this.isPaused=function(){return k.gb().Heb();};this.isMuted=function(){return k.gb().Geb();};this.isReady=function(){return k.gb().isReady();};this.isBackground=function(){return k.gb().teb();};this.setBackground=function(a){return k.gb().LBa(a);};this.startInactivityMonitor=function(){return k.gb().QL();};this.setTransitionTime=function(a){return k.gb().$Ba(a);};this.getDiagnostics=function(){return k.gb().Y$a();};this.getTextTrackList=function(a){return k.gb().Ota(a);};this.getTextTrack=function(){return k.gb().Nta();};this.setTextTrack=function(a){return k.gb().YBa(a);};this.getVolume=function(){return k.gb().Ccb();};this.isEnded=function(){return k.gb().xeb();};this.getBusy=function(){return k.gb().nj();};this.getError=function(){return k.gb().getError();};this.getCurrentTime=function(){return k.gb().j.Qb.value;};this.getBufferedTime=function(){return k.gb().x$a();};this.getSegmentTime=function(){return k.gb().v5();};this.getDuration=function(){return k.gb().u5();};this.getVideoSize=function(){return k.gb().zcb();};this.getAudioTrackList=function(){return k.gb().k$a();};this.getAudioTrack=function(){return k.gb().j$a();};this.getTimedTextTrackList=function(a){return k.gb().Ota(a);};this.getTimedTextTrack=function(){return k.gb().Nta();};this.getAdditionalLogInfo=function(){return k.gb().e$a();};this.getTrickPlayFrame=function(a){return k.gb().pcb(a);};this.getSessionSummary=function(){return k.gb().Gta();};this.getTimedTextSettings=function(){return k.gb().KS();};this.setMuted=function(a){return k.gb().xqb(a);};this.setVolume=function(a){return k.gb().Mqb(a);};this.setPlaybackRate=function(a){return k.gb().Bqb(a);};this.setAudioTrack=function(a){return k.gb().gqb(a);};this.setTimedTextTrack=function(a){return k.gb().YBa(a);};this.setTimedTextSettings=function(a){return k.gb().IL(a);};this.prepare=function(){return k.gb().iw();};this.load=function(){return k.gb().load();};this.close=function(a){return k.wna(k.Oi.close(),a);};this.play=function(){return k.gb().play();};this.pause=function(){return k.gb().pause();};this.seek=function(a){return k.gb().seek(a);};this.engage=function(a,b){return k.wna(k.gb().TI(a),b);};this.induceError=function(a){return k.gb().Zdb(a);};this.loadCustomTimedTextTrack=function(a,b,d){return k.gb().bgb(a,b,d);};this.tryRecoverFromStall=function(){return k.gb().tM();};this.addEpisode=function(a){var b;k.log.info("Next episode added",a);b=k.Ewa(a.playbackParams);return k.Oi.q1({M:a.movieId,U:"startPts"in a?a.startPts:"nextStartPts"in a?a.nextStartPts:b.U,dm:"endPts"in a?a.endPts:"currentEndPts"in a?a.currentEndPts:b.dm,cb:b,RT:a.manifestData,jl:k.jl});};this.playNextEpisode=function(a){a=void 0===a?{}:a;a=k.Ewa(a);k.log.info("Playing the next episode",a);return k.Oi.transition(a);};this.playSegment=function(a){return k.gb().Hlb(a);};this.queueSegment=function(a){return k.gb().enb(a);};this.updateNextSegmentWeights=function(a,b){return k.gb().Qn(a,b);};this.getCropAspectRatio=function(){return k.gb().M$a();};this.getCurrentSegmentId=function(){return k.Oi.Q$a();};this.getPlaygraphMap=function(){return k.Oi.R5();};this.setNextSegment=function(a){for(var b=[],d=0;d<arguments.length;++d)b[d-0]=arguments[d];return k.Oi.GL.apply(k.Oi,[].concat(da(b)));};this.clearNextSegment=function(a){for(var b=[],d=0;d<arguments.length;++d)b[d-0]=arguments[d];return k.Oi.C1a.apply(k.Oi,[].concat(da(b)));};this.updatePlaygraphMap=function(a){return k.Oi.mub(a);};this.goToNextSegment=function(a,b){return k.Oi.Wta(a,b);};this.getPlaying=function(){return k.isPlaying();};this.getPaused=function(){return k.isPaused();};this.getMuted=function(){return k.isMuted();};this.getEnded=function(){return k.isEnded();};this.getTimedTextVisibility=function(){return k.isTimedTextVisible();};this.isTimedTextVisible=function(){return!!k.gb().KS().visibility;};this.setTimedTextVisibility=function(a){return k.setTimedTextVisible(a);};this.setTimedTextSize=function(a){return k.gb().IL({size:a});};this.setTimedTextBounds=function(a){return k.gb().IL({bounds:a});};this.setTimedTextMargins=function(a){return k.gb().IL({margins:a});};this.setTimedTextVisible=function(a){return k.gb().IL({visibility:a});};this.getCongestionInfo=function(a){a&&a({success:!1,name:null,isCongested:null});};this.v4=new Map();this.log=f.Lf("VideoPlayer");this.addEpisode({movieId:a,playbackParams:b,manifestData:d});Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(c,"__esModule",{value:!0});f=a(4);a(84);b.prototype.gb=function(){return this.Oi.Wk();};b.prototype.bqa=function(a,b){var d;this.v4.has(a)||this.v4.set(a,new Map());d=this.v4.get(a);d.has(b)||d.set(b,this.G5a(a,b));return d.get(b);};b.prototype.G5a=function(a,b){var d;d=this;return function(f){return b(Object.assign({},f,{type:a,target:d}));};};b.prototype.wna=function(a,b){return b?a.then(b)["catch"](b):a;};b.prototype.Ewa=function(a){a=void 0===a?{}:a;return{bh:a.trackingId,PH:a.authParams,lm:a.sessionParams,ue:a.uiLabel,S3:a.disableTrackStickiness,EW:a.uiPlayStartTime,fS:a.forceAudioTrackId,gS:a.forceTimedTextTrackId,cg:a.isBranching,xca:a.vuiCommand,playbackState:a.playbackState?{currentTime:a.playbackState.currentTime,volume:a.playbackState.volume,muted:a.playbackState.muted}:void 0,SC:a.enableTrickPlay,D6:a.heartbeatCooldown,xT:a.isPlaygraph,LT:a.loadImmediately||!1,ba:a.manifestIndex||0,a$:a.pin,UK:a.preciseSeeking,U:a.startPts,ha:a.endPts,dm:a.logicalEnd,Bn:a.packageId,xV:a.renderTimedText,rra:a.extraManifestParams};};c.uSa=b;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.$ha="PlaygraphConfigSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.cia="PlaygraphVideoPlayerFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=c.vp||(c.vp={});g[g.Rga=0]="None";g[g.Gea=1]="Fetching";g[g.cea=2]="Done";g[g.Error=3]="Error";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.bia={Jzb:"lazy",fzb:"immediate",Hda:"delayedSeamless",aha:"pauseAtStart",mBb:"pauseAtEnd"};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.EZ="PlaygraphManagerFactorySymbol";},function(g,c,a){var f,q,p,d,k,m;function b(a,b,d){this.he=a;this.xb=b;this.j=d;this.ZJ=[];}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(2);q=a(1);p=a(16);d=a(19);k=a(4);m=a(15);b.prototype.L4=function(){this.ZJ.forEach(function(a){return a();});};b.prototype.sd=function(a,b,d){this.j.sd(this.he(a,b,d));};b.prototype.PS=function(a){this.j.fireEvent(m.S.m9,{Op:a});};b.prototype.XYa=function(a){-1===this.ZJ.indexOf(a)&&this.ZJ.push(a);};b.prototype.eob=function(a){a=this.ZJ.indexOf(a);0<=a&&this.ZJ.splice(a,1);};b.prototype.Sta=function(a){var b,c;b={};p.Tb(a.code)?b.Y=f.zea(a.code):b.Y=f.u.fh;try{c=a.message.match(/\((\d*)\)/)[1];b.Hc=k.Vna(c,4);}catch(A){}b.Qa=d.ud(a);return b;};a=b;a=g.__decorate([q.N()],a);c.WM=a;},function(g,c,a){var b,f,q,p,d,k,m;Object.defineProperty(c,"__esModule",{value:!0});b=a(12);f=a(53);q=a(18);p=a(2);d=a(55);k=a(4);m=a(15);c.IJa=function(a,c,g){function t(f){var c,t;c=f.error||f;t=q.ud(c);g.error("uncaught exception",c,t);(c=(c=c&&c.stack)&&b.config.GDa&&b.config.Ztb?0<=c.indexOf(b.config.GDa):void 0)&&(f&&f.stopImmediatePropagation&&f.stopImmediatePropagation(),f=k.V.get(d.vk),a.sd(f(p.I.kSa)));}function u(){f.Ee.removeListener(f.r6,t);a.removeEventListener(m.S.Ue,u);a.removeEventListener(m.S.wj,u);}try{f.Ee.addListener(f.r6,t);a.addEventListener(m.S.Ue,u);b.config.Pdb&&a.addEventListener(m.S.wj,u);}catch(x){g.error("exception in exception handler ",x);}};},function(g,c,a){var b,f,q,p,d,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(12);f=a(9);q=a(26);g=a(2);p=a(8);d=a(16);k=a(4);a=a(20);k.V.get(a.He).register(g.I.jfa,function(a){var m,g,A,h,x;function k(){var a;a=p.bx(q.Yf()/A);if(a!=x){for(var b=p.Zn(a-x,30);b--;)h.push(0);(b=p.Bm(h.length-31,0))&&h.splice(0,b);x=a;}h[h.length-1]++;}m=b.config.Qgb;g=-6/(m-2-2);A=f.Nj;h=[];x=p.bx(q.Yf()/A);d.ova(m)&&(setInterval(k,1E3/m),c.wwa={Dab:function(){var d;for(var a=[],b=h.length-1;b--;){d=h[b];a.unshift(0>=d?9:1>=d?8:d>=m-1?0:p.Lh((d-2)*g+7));}return a;}});a(f.yc);});},function(g,c,a){var b,f,q,p,d,k,m,t,u,y,A,h,x,G,M,R,l;Object.defineProperty(c,"__esModule",{value:!0});b=a(49);f=a(104);q=a(266);p=a(57);d=a(53);k=a(19);m=a(105);t=a(4);u=a(113);y=a(175);A=a(18);h=a(8);x=a(16);G=a(15);M=a(106);R=a(3);l=a(96);c.EPa=function(a){var ca,va,wa,N,ja,ka,pa,xa,ma,Fa,E,C,eb,J,P;function c(){if(!ja){ma=setInterval(W,1E3);a.Zg.appendChild(va);for(var b=ka.length;b--;)ka[b].addListener(r);for(b=pa.length;b--;)a.addEventListener(pa[b],r);ja=!0;}n();}function g(){if(ja){clearInterval(ma);E=Fa=void 0;a.Zg.removeChild(va);for(var b=ka.length;b--;)ka[b].removeListener(r);for(b=pa.length;b--;)a.removeEventListener(pa[b],r);ca.Kb();ja=!1;}}function K(){ja?g():c();}function T(){var d,c,k,g,K,G,M,l,T,n,D,W,Q,O,U,pa,r,ca,ia,ka,X,Z,N,ja,va;d=[];d.push({Version:"6.0019.057.011",Esn:f.xh?f.xh.Rg:"UNKNOWN",PBCID:a.sC,UserAgent:h.Oj});try{k={MovieId:a.M,TrackingId:a.bh,Xid:a.oa+" ("+p.mr.map(function(a){return a.oa;}).join(", ")+")",Position:m.ih(a.Qb.value),Duration:m.ih(a.qs.ea(R.ma)),Volume:h.Lh(100*a.volume.value)+"%"+(a.muted.value?" (Muted)":"")};if(a.Ya.cg||a.Ya.xT)k["Segment Position"]=m.ih(a.zy()),k.Segment=a.T5();d.push(k);}catch(ec){}try{g=a.ek?a.ek.zdb():void 0;d.push({"Player state":C[a.state.value],"Buffering state":eb[a.Vm.value]+(x.pa(g)?", ETA:"+m.ih(g):""),"Rendering state":J[a.Eb.value]});}catch(ec){}try{K=a.vca()+a.K1();G=a.Af.value;M=G&&G.stream;l=a.Me.value;T=l&&l.stream;n=T?T.xc:"";D=a.ve.value?a.ve.value.xc:"";W=a.ij.value?a.ij.value.P:"";Q=a.ve.value?a.ve.value.P:"";O=a.Wb[b.tc.L.VIDEO].value;U=a.Wb[b.tc.L.AUDIO].value;d.push({"Playing bitrate (a/v)":M&&T?M.P+" / "+T.P+" ("+T.width+"x"+T.height+")":"?","Playing/Buffering vmaf":n+"/"+D,"Buffering bitrate (a/v)":W+" / "+Q,"Buffer size in Bytes (a/v)":a.K1()+" / "+a.vca(),"Buffer size in Bytes":""+K,"Buffer size in Seconds (a/v)":m.ih(a.KH())+" / "+m.ih(a.FM()),"Current CDN (a/v)":(U?U.name+", Id: "+U.id:"")+" / "+(O?O.name+", Id: "+O.id:"")});}catch(ec){}try{if(a.Af.value&&a.Me.value){pa=a.Af.value.stream.track;r=a.Me.value.stream;ca=a.Di.value;ia=a.Ef.value?a.Ef.value.oc:[];ka=t.V.get(u.cB);X=ka.tI(ia);Z=ka.nI(pa.oc);N=r.gf;ja=/hevc/.test(N)?"hevc":/vp9/.test(N)?"vp9":/h264hpl/.test(N)?"avchigh":"avc";/hdr/.test(N)&&(ja+=", hdr");/dv/.test(N)&&(ja+=", dv");/prk/.test(N)&&(ja+=", prk");d.push({"Audio Track":pa.Wj+", Id: "+pa.eb+", Channels: "+pa.Pk+", Codec: "+Z,"Video Track":"Codec: "+X+" ("+ja+")","Timed Text Track":ca?ca.Wj+", Profile: "+ca.profile+", Id: "+ca.eb:"none"});}}catch(ec){}try{va=a.Ag;d.push({Framerate:(a.ve.value?a.ve.value.mS:0).toFixed(3),"Current Dropped Frames":x.pa(Fa)?Fa:"","Total Frames":va.AS(),"Total Dropped Frames":va.xy(),"Total Corrupted Frames":va.mJ(),"Total Frame Delay":va.BS(),"Main Thread stall/sec":q.wwa?q.wwa.Dab().join(" "):"DISABLED",VideoDiag:y.xwa(a.NS())});}catch(ec){}try{d.push({Throughput:a.va+" kbps"});}catch(ec){}try{A.Uc(xa,function(a,b){c=c||{};c[a]=JSON.stringify(b);});c&&d.push(c);}catch(ec){}return d;}function n(){var a;if(wa.selectionStart==wa.selectionEnd){a="";T().forEach(function(b){a=a?a+"\n":"";A.Uc(b,function(d){a+=d+": "+b[d]+"\n";});});wa.style.fontSize=m.ir(h.bx(va.clientHeight/60),8,18)+"px";wa.value=a;}}function W(){var b;if(a.Ag){b=a.Ag.xy();b&&(Fa=b-E,E=b,r());}}function r(){ca.Kb(n);}function O(a){a.ctrlKey&&a.altKey&&a.shiftKey&&(a.keyCode==M.er.sHa||a.keyCode==M.er.Q)&&K();}ca=t.V.get(l.dB)(R.Fg(1));va=k.createElement("DIV","position:absolute;left:10px;top:10px;right:10px;bottom:10px",void 0,{"class":"player-info"});wa=k.createElement("TEXTAREA","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto");N=k.createElement("DIV","position:absolute;top:2px;right:2px");pa=[G.S.bU,G.S.N_a];xa={};ka=[a.Qb,a.Wb[b.tc.L.AUDIO],a.Wb[b.tc.L.VIDEO],a.Af,a.Me,a.ij,a.ve,a.Di,a.state,a.Vm,a.Eb,a.volume,a.muted];this.kqb=function(a){xa.DFR=a;};C={};C[G.jb.UA]="Not Loaded";C[G.jb.LOADING]="Loading";C[G.jb.$c]="Normal";C[G.jb.CLOSING]="Closing";C[G.jb.CLOSED]="Closed";eb={};eb[G.qf.$c]="Normal";eb[G.qf.Ij]="Pre-buffering";eb[G.qf.zia]="Network stalled";J={};J[G.hb.Tf]="Waiting for decoder";J[G.hb.ad]="Playing";J[G.hb.oi]="Paused";J[G.hb.ar]="Media ended";wa.setAttribute("readonly","readonly");va.appendChild(wa);va.appendChild(N);P=k.createElement("BUTTON",null,"X");P.addEventListener("click",g,!1);N.appendChild(P);d.Ee.addListener(d.Gy,O);a.addEventListener(G.S.Ue,function(){d.Ee.removeListener(d.Gy,O);g();});A.Wa(this,{toggle:K,show:c,rD:g,xab:T});};},function(g,c,a){var f,q,p,d,k,m,t,u,y,A,h,x,G,M,R,l,n,D,U,Q,r,Z,ea,X;function b(a){var b;b=this;this.j=a;this.xb=this.j.xb;this.fb=h.bg(this.j,"MediaPresenterASE");this.xla=this.oka=this.El=0;this.rd=this.xb.La;this.Rla=this.Ola=this.S0=this.x0=this.ZP=this.uO=this.z0=!1;this.xl={type:y.mg.audio,BC:[],Ko:[]};this.ho={type:y.mg.video,BC:[],Ko:[]};this.Kx={};this.sla=k.config.qib;this.Lla=k.b2a(!!this.j.Ya.cg).M9;this.i0=k.config.TT;this.UXa=h.V.get(ea.dB)(Z.Db(Q.KZ));this.ff={};this.pla={};this.RG={};this.j.jj=!1;this.Kx[f.tc.Kh.AUDIO]=this.xl;this.Kx[f.tc.Kh.VIDEO]=this.ho;M.Ga(this.i0>this.sla,"bad config");M.Ga(this.i0>this.Lla,"bad config");this.xb.addEventListener(r.Mh.pCa,function(){b.fb.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{b.NUa();}catch(va){b.fb.error("Exception while initializing",va);b.Al(x.I.tOa);}});}Object.defineProperty(c,"__esModule",{value:!0});f=a(49);q=a(140);p=a(55);d=a(9);k=a(12);m=a(57);t=a(53);u=a(28);y=a(75);A=a(26);h=a(4);a(84);x=a(2);G=a(433);M=a(14);R=a(105);l=a(19);n=a(45);D=a(15);U=a(16);Q=a(213);r=a(174);Z=a(3);ea=a(96);X=a(130);b.prototype.Vsa=function(){return this.xb.wy(!1);};b.prototype.AS=function(){return this.xb.AS();};b.prototype.xy=function(){return this.xb.xy();};b.prototype.mJ=function(){return this.xb.mJ();};b.prototype.BS=function(){return this.xb.BS();};b.prototype.NUa=function(){var a;a=this;this.fb.trace("Video element initializing");this.xb.sourceBuffers.forEach(function(b){return a.yXa(b);});a.OUa(a.j.Dv);};b.prototype.OUa=function(a){var c;function b(){function a(){var a,b;b=c.j.nb&&c.j.nb.xv();c.j.Eb.value==D.hb.Tf&&c.j.state.value==D.jb.$c&&c.j.Vm.value==D.qf.$c&&c.j.Gj.value==D.qf.$c&&!c.j.jj&&b?(c.B_.As(),a="ensureTimer"):(c.B_.$g(),a="stopTimer");c.fb.trace("Timer update: "+a,{presentingState:c.j.Eb.value,playbackState:c.j.state.value,avBufferingState:c.j.Vm.value,textBufferingState:c.j.Gj.value,autoplayWasBlocked:c.j.jj,hasLicense:b});}k.config.aqa&&(M.Ga(!c.B_),c.B_=h.V.get(X.eB)(k.config.aqa,function(){var a;a=h.V.get(G.Yda).m6a(c.j);c.Al(a.code,a);}),c.j.Eb.addListener(a),c.j.Vm.addListener(a),c.j.Gj.addListener(a),c.j.state.addListener(a),c.j.addEventListener(D.S.Qva,a),c.j.addEventListener(D.S.jj,a),c.j.addEventListener(D.S.Q1,a),a());}function f(){c.DO||(f=M.CFa,c.xb.addEventListener(r.Mh.wL,c.ff[r.Mh.wL]=function(){return c.s0();}),c.xb.addEventListener(r.Mh.en,c.ff[r.Mh.en]=function(){return c.pWa();}),c.rd.addEventListener("ended",c.ff.ended=function(){return c.qWa();}),c.rd.addEventListener("play",c.ff.play=function(){return c.uWa();}),c.rd.addEventListener("pause",c.ff.pause=function(){return c.tWa();}),c.rd.addEventListener("playing",c.ff.playing=function(){return c.vWa();}),c.WG=!0,0===c.j.ba&&(c.TP(),c.fb.trace("Video element initialization complete"),c.j.Pc("vi"),k.config.lqa?setTimeout(function(){c.r0=!0;c.gj();},k.config.lqa):c.r0=!0,b(),n.Ab(function(){return c.gj();})));}c=this;a?this.fb.trace("Waiting for needkey"):this.fb.warn("Movie is not DRM protected",{MovieId:this.j.M});this.fb.trace("Waiting for loadedmetadata");a?this.xb.addEventListener(r.Mh.Vva,function(){c.j.Pc("ld");c.j.nb.BR(""+c.j.M);c.j.fireEvent(D.S.Qva);}):this.j.nb.BR(""+this.j.M);u.hZa(this.rd,function(){c.fb.trace("Video element event: loadedmetadata");c.j.Pc("md");});t.Ee.addListener(t.Yk,this.RG[t.Yk]=function(){return c.$ja();},d.XA);this.j.addEventListener(D.S.Ue,function(){return c.$ja();},d.XA);this.j.addEventListener(D.S.dBa,function(){return c.I0();});this.j.addEventListener(D.S.bl,function(){return c.rWa();});this.j.paused.addListener(function(){return c.gj();});this.j.muted.addListener(function(){return c.b1();});this.j.volume.addListener(function(){return c.b1();});this.j.playbackRate.addListener(function(){return c.lYa();});this.j.Vm.addListener(function(){return c.gj();});this.j.Gj.addListener(function(){return c.gj();});this.b1();this.xl.mk.MBa(function(){return c.hP();});this.ho.mk.MBa(function(){return c.hP();});this.hP();n.Ab(function(){f();});};b.prototype.jQ=function(a){var b,d;b=this;d=this.Kx[a.O];d?d.Ko.push(a):M.Ga(!1);this.wTa(a).then(function(){b.hP();b.j.fireEvent(D.S.bU);})["catch"](function(a){b.Al(x.I.yOa,{Qa:l.ud(a)});});};b.prototype.C1=function(a,b,d){d=void 0===d?{}:d;b={O:a.type,Ny:!1,response:b,ak:function(){return"header";},get Yb(){return!this.Ny;},profile:d.profile};(d=this.Kx[a.type])?d.Ko.push(b):M.Ga(!1);this.Ola||a.type!==f.tc.Kh.VIDEO||(this.yi||this.seek(this.j.U,D.ng.VF),this.Ola=!0);};b.prototype.yXa=function(a){var b;b=this.Kx[a.type];if(b)try{b.mk=a;}catch(va){this.Al(x.I.rZ,{Y:Q.z5(a.type),Qa:l.ud(va)});}};b.prototype.hP=function(){this.WG?this.gj():k.config.DZa&&this.TP();};b.prototype.sjb=function(){var a;a=this.j.zy()||0;this.j.Ya.cg?k.config.d0a&&(a=Math.max(a-(this.xb.yaa+1)-k.config.xaa,this.j.nb.W5().Oc)):(a-=k.config.zpb,a=Math.max(a,this.gla));this.seek(a,D.ng.bO);};b.prototype.BK=function(a){var b;b=this;a.mediaType===f.tc.Kh.AUDIO?this.uO=!0:a.mediaType===f.tc.Kh.VIDEO&&(this.ZP=!0);n.Ab(function(){return b.gj();});};b.prototype.Kab=function(){return{F5a:this.oka,Wib:this.xla};};b.prototype.F3=function(){return this.rka(this.xl,this.E3())&&this.rka(this.ho,this.E3());};b.prototype.wTa=function(a){var b;b=this.xb&&this.xb.jta();return void 0===this.w0&&b&&a.Nf&&a.Nf.Rb&&a.Nf.Rb.xa&&Infinity!=a.Nf.Rb.xa.ha&&(a=a.Nf.Rb.xa.ha+a.hm,a>this.j.QK.dV(Z.ma)&&(this.j.QK=Z.Db(a)),a>b.dV(Z.ma))?(this.w0=b.scale(2),this.SWa()):Promise.resolve();};b.prototype.SWa=function(){var a;a=this;return new Promise(function(b,d){function f(){return c().then(function(a){if(!1===a)return f();});}function c(){return new Promise(function(b){setTimeout(function(){if(!a.xl.mk.nj()&&!a.ho.mk.nj())try{a.xb.wqb(a.w0);a.S0=!1;a.w0=void 0;b(!0);}catch(ka){b(!1);}b(!1);},0);});}a.S0=!0;f().then(function(){b();})["catch"](function(b){a.fb.error("Unable to change the duration",b);d(b);});});};b.prototype.olb=function(){var a;a=this;return this.yi&&this.g2()&&this.F3()?(this.xb.seek(this.El),this.yi=!1,q.HN||this.F0(),n.Ab(function(){return a.gj();}),!0):!1;};b.prototype.jub=function(a){var b;if(a<this.El){b=this.El-a;k.config.plb&&a&&b>Q.KZ&&(a={ElementTime:R.ih(a),MediaTime:R.ih(this.El)},b>Q.nQa?(this.fb.error("VIDEO.currentTime became much smaller",a),this.Al(x.I.JOa)):this.fb.warn("VIDEO.currentTime became smaller",a));}else this.El=R.ir(a,0,this.j.QK.ea(Z.ma));};b.prototype.E3=function(){return this.j.Eb.value===D.hb.Tf?this.Lla:this.sla;};b.prototype.g2=function(){return this.j.Vm.value===D.qf.$c&&this.j.Gj.value===D.qf.$c;};b.prototype.gj=function(){var a,b,d;this.j.fM=A.Yf();if(!this.Ae()&&this.WG){a=this.xb.Pbb();a||this.TP();q.HN||this.TP();this.j.paused.value||!this.F3()||!this.g2()||a||this.yi?this.H0():this.z0||this.I0();if(!(a||this.yi&&this.olb()||this.Ae())){a=this.xb.wy(!0);b=this.j.Eb.value;d=this.$1a();d===D.hb.ar?(this.El=this.j.QK.ea(Z.ma),this.H0()):d!==D.hb.Tf&&this.jub(a);this.Dma();this.AO();this.j.Eb.set(d);d!==D.hb.Tf||b!==D.hb.ad&&b!==D.hb.oi||this.ckb();}}};b.prototype.$1a=function(){var a,b,d;a=this;b=this.j.Eb.value;d=b;this.yi?d=D.hb.Tf:this.rd&&this.rd.ended?b===D.hb.ad&&(d=D.hb.ar):this.g2()&&this.F3()?this.xb.n6a()?d=this.rd&&this.rd.paused?D.hb.oi:D.hb.ad:this.UXa.Kb(function(){return a.TXa();}):d=D.hb.Tf;return d;};b.prototype.ckb=function(){var a;if(this.j.Eb.value===D.hb.Tf){a=this.$Xa()>this.E3();this.j.Gj.value!==D.qf.$c?this.j.Di.value?(this.j.fireEvent(D.S.ko,{cause:m.zPa}),this.fb.warn("rebuffer due to timed text",this.j.Di.value.eg)):this.j.fireEvent(D.S.cF):a?(this.oka++,this.j.fireEvent(D.S.ko,{cause:m.Oha})):(this.xla++,this.j.fireEvent(D.S.ko,{cause:m.Pha}));}};b.prototype.$Xa=function(){var a,b;a=this.ho.Ko.filter(function(a){return!a.Yb;}).reduce(function(a,b){return a+b.xs;},0);b=this.xl.Ko.filter(function(a){return!a.Yb;}).reduce(function(a,b){return a+b.xs;},0);return Math.min(a,b);};b.prototype.TXa=function(){this.Ae()||(k.config.tjb&&(this.xl.mk.nj()||this.xl.mk.una(new Uint8Array([0,0,0,8,102,114,101,101]))),this.gj());};b.prototype.rka=function(a,b){var d;d=a.fR;d=d&&d.oK;return 0===a.Ko.length&&(a.type===y.mg.audio&&this.uO||a.type===y.mg.video&&this.ZP)?!0:d&&d.sE-this.El>=b||!1;};b.prototype.s0=function(){this.gj();};b.prototype.pWa=function(){this.gj();this.j.fireEvent(D.S.en);};b.prototype.qWa=function(){this.fb.trace("Video element event: ended");this.gj();};b.prototype.uWa=function(){this.fb.trace("Video element event: play");this.gj();};b.prototype.tWa=function(){this.fb.trace("Video element event: pause");this.gj();};b.prototype.vWa=function(){this.fb.trace("Video element event: playing");this.gj();};b.prototype.b1=function(){this.Ae()||(this.rd&&this.rd.volume!==this.j.volume.value&&(this.rd.volume=this.j.volume.value),this.rd&&this.rd.muted!==this.j.muted.value&&(this.rd.muted=this.j.muted.value));};b.prototype.lYa=function(){!this.Ae()&&this.rd&&(this.rd.playbackRate=this.j.playbackRate.value);};b.prototype.TP=function(){this.S0||(this.zma(this.xl),this.zma(this.ho));this.Ae()||!this.uO&&!this.ZP||this.xl.mk.nj()||this.ho.mk.nj()||this.J_||(this.J_=!0,this.xb.endOfStream());};b.prototype.zma=function(a){var b,d,f;if(!this.Ae()&&a.mk){b=a.mk;d=a.BC;!b.nj()&&0<d.length&&(a.fR=d[d.length-1]);if(a.aba){if(b.nj())return;a.aba=!1;f=this.xb.jta().dV(Z.Em);0<f&&b.remove(0,f);}for(f=a.Ko[0];f&&f.response&&(f.Yb||f.ft-this.El<=this.i0);)if(this.J_=!1,this.fYa(f))a.Ko.shift(),f=a.Ko[0];else break;!b.nj()&&0<d.length&&(a.fR=d[d.length-1]);}};b.prototype.fYa=function(a){var b,d,f;M.Ga(a&&a.response);b=a.response;d=a.O;f=this.Kx[d];if(!this.Ae()&&f.mk&&!f.mk.nj()){try{a.Yb&&a.profile&&f.mk.g1a(a.profile);this.fb.trace("Feeding media segment to decoder",{Bytes:b.byteLength});f.mk.una(b,a);a.Yb||f.BC.push(this.ETa(a));k.config.v6a&&!a.Yb&&(this.yi&&!q.HN||a.Koa());}catch(N){"QuotaExceededError"!=N.name?(this.fb.error("Exception while appending media",a,N),this.Al(x.I.HOa,Q.z5(d))):this.j.gR=this.j.gR?this.j.gR+1:1;return;}return!0;}};b.prototype.DTa=function(a){var b;b=this.j.adb(a.Fb);b||(this.fb.error("Could not find CDN",{cdnId:a.Fb}),b={id:a.Fb,X7:a.location});return b;};b.prototype.JTa=function(a){var b,d;d=a.za;a.O===f.tc.Kh.AUDIO?b=this.j.eua(d):a.O===f.tc.Kh.VIDEO&&(b=this.j.lua(d));b||this.fb.error("Could not find stream",{stream:d});return b;};b.prototype.ETa=function(a){var b;b=this.JTa(a);return{oK:a,stream:b,Zm:{startTime:Math.floor(a.ft),endTime:Math.floor(a.sE)},Wb:this.DTa(a)};};b.prototype.I0=function(){var a;a=this;this.Ae()||!U.Tb(this.rd)||this.rd.ended||!this.r0||!this.VB&&void 0!==this.VB||(this.fb.trace("Calling play on element"),Promise.resolve(this.rd.play()).then(function(){a.VB=!1;a.z0=!1;a.rd.style.display=null;a.j.jj=!1;a.j.fireEvent(D.S.Q1,{j:a.j});})["catch"](function(b){"NotAllowedError"===b.name?(a.fb.warn("Playback is blocked by the browser settings",b),a.j.jj=!0,a.z0=!0,a.rd.style.display="none",a.j.fireEvent(D.S.jj,{player:{play:function(){return a.I0();}}})):(a.VB=!1,a.Rla||(a.Rla=!0,a.fb.error("Play promise rejected",b)));}));};b.prototype.rWa=function(){this.gla=this.j.zy()||0;};b.prototype.H0=function(){this.Ae()||!U.Tb(this.rd)||this.rd.ended||!this.r0||this.VB&&void 0!==this.VB||(this.fb.trace("Calling pause on element"),this.rd.pause(),this.VB=!0);};b.prototype.AO=function(a){if(U.Tb(a)){for(var b=this.Kx[a],d=b.BC,c,k=!1;(c=d[0])&&c.oK.ft<=this.El;)if(this.El<c.oK.sE){a=a===f.tc.Kh.AUDIO?this.j.Af:this.j.Me;u.$oa(c,a.value)||(k=!0,a.set(c));break;}else d.shift();!k&&!this.x0||this.J_||(c=c&&c.oK.ft-c.oK.xs-1,0<c&&((b=b.mk)&&!b.nj()?(b.remove(0,c/l.Nj),this.x0=!1):this.x0=!0));}else this.AO(f.tc.Kh.AUDIO),this.AO(f.tc.Kh.VIDEO);};b.prototype.Dma=function(a){this.j.Qb.set(this.El);a&&this.j.y9a();};b.prototype.kC=function(a,b){return b===D.ng.bB||this.j.Ya.cg&&this.yi?!1:(b=this.j.nb)&&b.kC(a)||!1;};b.prototype.K0a=function(a,b,d){a=this.WUa()||d?Math.round(b):this.zUa(b,a);k.config.xaa&&(a+=k.config.xaa);return a;};b.prototype.y1a=function(a,b){a=this.j.Yl(a).qs.ea(Z.ma)-k.config.Bvb;return R.ir(b,0,a);};b.prototype.seek=function(a,b,d,f){var c,k,t,m,g;b=void 0===b?D.ng.kx:b;d=void 0===d?this.j.ba:d;f=void 0===f?!1:f;if(!this.Ae()&&this.j.nb){c=b===D.ng.bB;k=this.K0a(d,c?a:this.y1a(d,a),f);c?(t=k,f=this.j.nb.ey(d,k)):(t=this.j.nb.X2(d,k),f=k);b===D.ng.VF&&(this.j.doa=f);m=this.kC(t,b);g=(b===D.ng.kx||b===D.ng.bO)&&0<d;c=c||m||g?t:f;this.AO();t=this.El;this.fb.info("Seeking",{Requested:R.ih(a),Actual:R.ih(k),Cause:b,Skip:m});this.j.fireEvent(D.S.Kz,{FU:t,r9:c,cause:b,skip:m});this.j.Eb.set(D.hb.Tf);b!==D.ng.VF&&(this.F0(),this.xl.aba=!0,this.ho.aba=!0);this.El=c;this.gla=f;a=this.j.Af.value;k=this.j.Me.value;this.j.Af.set(null);this.j.Me.set(null);this.Dma(!0);this.j.fireEvent(D.S.Fn,{FU:t,r9:c,bn:f,cause:b,skip:m,Af:a,Me:k,ba:d});this.yi=!0;this.gj();}};b.prototype.WUa=function(){return this.j.Ya.cg?!0:"boolean"===typeof this.j.Ya.UK?this.j.Ya.UK:navigator.hardwareConcurrency&&2>=navigator.hardwareConcurrency?k.config.UK&&k.config.hmb:k.config.UK;};b.prototype.F0=function(){this.xl.BC=[];this.xl.fR=void 0;this.xl.Ko=[];this.ho.BC=[];this.ho.fR=void 0;this.ho.Ko=[];this.ZP=this.uO=!1;this.j.fireEvent(D.S.bU);};b.prototype.zUa=function(a,b){return this.j.nb.N0a(a,b,this.j.Ya.cg?k.config.Qqa:k.config.ys);};b.prototype.Al=function(a,b,d){var f;if(!this.DO){f=h.V.get(p.vk);this.j.sd(f(a,b,d));}};b.prototype.$ja=function(){if(!this.DO){this.fb.info("Closing.");this.xb.removeEventListener(r.Mh.wL,this.pla[r.Mh.wL]);this.xb.removeEventListener(r.Mh.en,this.pla[r.Mh.en]);this.rd.removeEventListener("ended",this.ff.ended);this.rd.removeEventListener("play",this.ff.play);this.rd.removeEventListener("pause",this.ff.pause);this.rd.removeEventListener("playing",this.ff.playing);t.Ee.removeListener(t.Yk,this.RG[t.Yk]);this.DO=!0;try{k.config.Nib&&(this.rd.volume=0,this.rd.muted=!0);this.H0();this.xb.close();}catch(O){}this.rd=void 0;this.F0();}};b.prototype.Ae=function(){return this.DO?!0:U.Tb(this.rd)?!1:(this.fb.error("MediaPresenter not closed and _videoElement is not defined"),!0);};c.$Ma=b;},function(g,c,a){var b,f,q,p,d,k,m,t;Object.defineProperty(c,"__esModule",{value:!0});b=a(9);f=a(12);q=a(26);p=a(105);d=a(8);k=a(45);m=a(16);t=a(15);c.BPa=function(a){var h,G,M,R,l,n;function c(){return a.state.value===t.jb.LOADING||a.state.value===t.jb.$c&&a.Eb.value===t.hb.Tf;}function g(){c()?n||(n=setInterval(u,100)):n&&(clearInterval(n),n=void 0,k.Ab(u));}function u(){var b,k,g,u,A,y,K,x;b=q.Yf();k=h.value;g=k?k.Qi:0;A=a.state.value==t.jb.LOADING||c()&&b-G>f.config.q0a;A&&a.state.value==t.jb.$c?(a.yQ.value===t.qf.zia?(K=g,y=!0):(u=b+(a.ek&&a.ek.zdb()||0),M=M||b,R=R||M+f.config.lib+1,m.pa(u)&&(u=d.Bm(u,R),K=a.ek?a.ek.WGb():.99,K=d.Lh(1E3*p.ir((b-M)/(u-M),0,K))/1E3)),K<g&&(g-K<f.config.Mmb/100?(K=g,l=void 0):l?b-l>f.config.Lmb?(x=!0,l=void 0):K=g:(l=b,K=g))):l=R=M=void 0;b=A?{iW:y,Qi:K,Nmb:x}:null;(!b||!h||!k||m.pa(b.Qi)&&!m.pa(k.Qi)||m.pa(b.Qi)&&m.pa(k.Qi)&&.01<d.cG(b.Qi-k.Qi)||b.iW!==k.iW)&&h.set(b);}h=a.i2;G=0;a.state.addListener(function(){g();u();},b.kZ);a.Eb.addListener(function(a){if(a.oldValue!==t.hb.Tf||a.newValue!==t.hb.Tf)G=q.Yf();g();});a.yQ.addListener(function(){g();});a.Vm.addListener(function(){g();});a.Gj.addListener(function(){g();});n||(n=setInterval(u,100));};},function(g,c,a){var k,m,t,u;function b(a,b,d,f,c){var k;k={};"right"==a.horizontalAlignment?k.right=100*(d-b.left-b.width-c)/d+"%":k.left=100*(b.left-c)/d+"%";"bottom"==a.verticalAlignment?k.bottom=100*(f-b.top-b.height-c)/f+"%":k.top=100*(b.top-c)/f+"%";return k;}function f(a,b){var d;if(a&&b){40===b.x&&19===b.y?d=4/3/(40/19):52===b.x&&19===b.y&&(d=16/9/(52/19));if(d)return a.width/a.fontSize/d;}}function q(a,b,d,f,c){var k,m;k=a.style;m=t.O6(a.text);for(a=a.lineBreaks;a--;)m="<br />"+m;return p(m,k,b,d,f,c);}function p(a,b,c,t,g,p){var A;A=b.characterStyle;g=g[A];t=b.characterSize*t.height/((0<=A.indexOf("MONOSPACE")?f(g,b.cellResolution)||g.lineHeight:g.lineHeight)||1);t=0<p?u.bx(t*p):u.Lh(t);p={"font-size":t+"px","line-height":"normal","font-weight":"normal"};b.characterItalic&&(p["font-style"]="italic");b.characterUnderline&&(p["text-decoration"]="underline");b.characterColor&&(p.color=b.characterColor);b.backgroundColor&&0!==b.backgroundOpacity&&(p["background-color"]=d(b.backgroundColor,b.backgroundOpacity));t=b.characterEdgeColor||"#000000";switch(b.characterEdgeAttributes){case m.Q9:p["text-shadow"]=t+" 0px 0px 7px";break;case m.Mya:p["text-shadow"]="-1px 0px "+t+",0px 1px "+t+",1px 0px "+t+",0px -1px "+t;break;case m.Hkb:p["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case m.Fkb:p["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}p=k.oI(p);(c=c[b.characterStyle||"PROPORTIONAL_SANS_SERIF"])&&(p+=";"+c);b=b.characterOpacity;0<b&&1>b&&(a='<span style="opacity:'+b+'">'+a+"</span>");return'<span style="'+p+'">'+a+"</span>";}function d(a,b){a=a.substring(1);a=parseInt(a,16);return"rgba("+(a>>16&255)+","+(a>>8&255)+","+(a&255)+","+(void 0!==b?b:1)+")";}Object.defineProperty(c,"__esModule",{value:!0});k=a(28);m=a(193);t=a(18);u=a(8);c.kra=function(a,b,d,f,c){var k;k="";a.textNodes.forEach(function(a){k+=q(a,d,b,f,c);});return k;};c.o8a=function(a,d,f,c,k){var m,g,A,q,y;m="";g=k.width;k=k.height;for(var p=d.length;p--;){A=d[p];q=a[p];q=q&&q.region;y="position:absolute;background:"+c+";width:"+u.Lh(A.width+2*f)+"px;height:"+u.Lh(A.height+2*f)+"px;";t.Uc(b(q,A,g,k,f),function(a,b){y+=a+":"+b+";";});m+='<div style="'+y+'"></div>';}return m;};c.n8a=b;c.pGb=f;c.rGb=q;c.oGb=p;c.qGb=d;c.m8a=function(a){var b;b={display:"block","white-space":"nowrap"};switch(a.region.horizontalAlignment){case"left":b["text-align"]="left";break;case"right":b["text-align"]="right";break;default:b["text-align"]="center";}return k.oI(b);};},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(8);c.Wtb=function(a,c){function f(a,f,c){var p,q,h,l;if(a&&1<a.length){for(var k=[],t=[],m=0;m<a.length;m++)k[m]=0,t[m]=0;for(var g=!1,m=0;m<a.length;m++)for(var u=m+1;u<a.length;u++){q=a[m];h=a[u];if(0>q.width||0>h.width||h.left>q.left+q.width||h.left+h.width<q.left||h.top>q.top+q.height?0:h.top+h.height>=q.top){p=b.Bm(q.left,h.left);l=b.Bm(q.top,h.top);p={width:b.Bm(b.Zn(q.left+q.width,h.left+h.width)-p,0),height:b.Bm(b.Zn(q.top+q.height,h.top+h.height)-l,0),x:p,y:l};}else p=void 0;if(p&&1<p.width&&1<p.height)if(l=p.width<=p.height,q=d(a[m]),h=d(a[u]),l&&f||!l&&!f)p=b.Bm(p.width/2,.25),q.x<=h.x?(t[m]-=p,t[u]+=p):(t[u]-=p,t[m]+=p);else if(l&&!f||!l&&f)q=b.Bm(p.height/2,.25),k[m]-=q,k[u]+=q;}for(m=0;m<a.length;m++){if(-.25>t[m]&&0<=a[m].left+t[m]||.25<t[m]&&a[m].left+a[m].width+t[m]<=c.width)a[m].left+=t[m],g=!0;if(-.25>k[m]&&0<=a[m].top+k[m]||.25<k[m]&&a[m].top+a[m].height+k[m]<=c.height)a[m].top+=k[m],g=!0;}return g;}}function d(a){return{x:a.left+a.width/2,y:a.top+a.height/2};}a=a.map(function(a){return{top:a.top,left:a.left,width:a.width,height:a.height};});(function(a,d){a.forEach(function(a){0>a.left&&a.left+a.width<d.width?a.left+=b.Zn(-a.left,d.width-(a.left+a.width)):a.left+a.width>d.width&&0<a.left&&(a.left-=b.Zn(a.left+a.width-d.width,a.left));0>a.top&&a.top+a.height<d.height?a.top+=b.Zn(-a.top,d.height-(a.top+a.height)):a.top+a.height>d.height&&0<a.top&&(a.top-=b.Zn(a.top+a.height-d.height,a.top));});}(a,c));for(var k=0;50>k&&f(a,!0,c);k++);for(k=0;50>k&&f(a,!1,c);k++);return a;};},function(g,c,a){var f,q,p,d,k;function b(a,b){this.U4=a;this.ly={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=f.createElement("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return!1;};this.PBa(b);this.Vra=this.uab(this.U4);}Object.defineProperty(c,"__esModule",{value:!0});f=a(19);q=a(271);p=a(270);d=a(8);k=a(18);b.prototype.yy=function(){return this.element;};b.prototype.fqb=function(a){this.J1=a;};b.prototype.oqb=function(a){this.ee=a;this.kL();};b.prototype.tqb=function(a){this.PBa(a);this.kL();};b.prototype.kL=function(){var a,d,c,k,g,h,x,G,M,R,l,D,U,Q;a=this;d=this.yy();c=d.parentElement;k=c&&c.clientWidth||0;g=c&&c.clientHeight||0;h=c=0;x={width:k,height:g};if(0<k&&0<g&&this.ee){this.J1&&(x=f.dS(k,g,this.J1),c=Math.round((k-x.width)/2),h=Math.round((g-x.height)/2));G=this.L0a(x);R=f.dS(G.width,G.height,this.J1);G=(M=this.ee.blocks)&&M.map(function(d){var c;c=p.kra(d,R,a.U4,a.Vra);d=p.m8a(d)+";position:absolute";return f.createElement("div",d,c,b.AX);});}Object.assign(this.ly,{left:c+"px",right:c+"px",top:h+"px",bottom:h+"px"});d.style.display="none";d.style.direction=this.ly.direction;d.innerHTML="";if(G&&G.length){k=x.width;c=x.height;l=x;this.YH&&(l=this.GYa(x,this.YH,g,h));this.ly.margin=this.wn?this.CQ(x,"top")+"px "+this.CQ(x,"right")+"px "+this.CQ(x,"bottom")+"px "+this.CQ(x,"left")+"px ":void 0;G.forEach(function(a){return d.appendChild(a);});g=f.oI(this.ly);d.style.cssText=g+";visibility:hidden;z-index:-1";for(var h=[],n=G.length-1;0<=n;n--){D=G[n];U=M[n];Q=this.Txa(D,U,k,c);Q.width>k&&(D.innerHTML=p.kra(U,x,this.U4,this.Vra,k/Q.width),Q=this.Txa(D,U,k,c));h[n]=Q;}h=q.Wtb(h,l);if(n=M&&M[0]&&M[0].textNodes&&M[0].textNodes[0]&&M[0].textNodes[0].style)l=n.windowColor,n=n.windowOpacity,l&&0<n&&(x=p.o8a(M,h,Math.round(c/50),l,x),x=f.createElement("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:"+n,x,b.AX),d.insertBefore(x,d.firstChild));d.style.display="none";for(x=h.length-1;0<=x;x--)l=G[x].style,n=p.n8a(M[x].region,h[x],k,c,0),Object.assign(l,n);d.style.cssText=g;}};b.prototype.Xaa=function(a){this.YH=a;this.kL();};b.prototype.k6=function(){return this.YH;};b.prototype.Yaa=function(a){this.wn=a;this.kL();};b.prototype.l6=function(){return this.wn;};b.prototype.m6=function(){return"block"===this.ly.display;};b.prototype.Zaa=function(a){a=a?"block":"none";this.element.style.display=a;this.ly.display=a;};b.prototype.uab=function(a){var b,d;b=this;d={};k.Uc(a,function(a,f){d[a]=b.Jhb(f);});return d;};b.prototype.PBa=function(a){this.ly.direction="boolean"===typeof a?a?"ltr":"rtl":"inherit";};b.prototype.CQ=function(a,b){if(this.wn){if("left"===b||"right"===b)return a.width*(this.wn[b]||0);if("top"===b||"bottom"===b)return a.height*(this.wn[b]||0);}return 0;};b.prototype.L0a=function(a){return this.wn?{height:a.height*(1-(this.wn.top||0)-(this.wn.bottom||0)),width:a.width*(1-(this.wn.left||0)-(this.wn.right||0))}:a;};b.prototype.Jhb=function(a){var c;a=f.createElement("DIV","display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;"+a+";","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",b.AX);d.Nd.body.appendChild(a);c={fontSize:1E3,height:a.clientHeight,width:a.clientWidth/52,lineHeight:a.clientHeight/1E3};d.Nd.body.removeChild(a);return c;};b.prototype.Txa=function(a,b,d,f){var c,k,t,g,m;c=b.region;k=(c.marginTop||0)*f;t=(c.marginBottom||0)*f;g=(c.marginLeft||0)*d;m=(c.marginRight||0)*d;b=a.clientWidth||1;a=a.clientHeight||1;switch(c.verticalAlignment){case"top":f=k;break;case"center":f=(k+f-t-a)/2;break;default:f=f-t-a;}switch(c.horizontalAlignment){case"left":d=g;break;case"right":d=d-m-b;break;default:d=(g+d-m-b)/2;}return{top:f,left:d,width:b,height:a};};b.prototype.GYa=function(a,b,d,f){return{height:d-Math.max(f,b.bottom|0)-Math.max(f,b.top|0),width:a.width};};c.ORa=b;b.AX={"class":"player-timedtext-text-container"};},function(g,c,a){var b,f,q,p,d,k,m,t;Object.defineProperty(c,"__esModule",{value:!0});b=a(49);f=a(53);q=a(19);p=a(18);d=a(4);k=a(51);m=a(106);t=a(15);c.IPa=function(a){var U,Q,r,Z,ea,X,O,ca,va,wa;function c(){O||(M(),a.Zg.appendChild(U),O=!0);}function g(){O&&(a.Zg.removeChild(U),O=!1);}function u(){O?g():c();}function h(){var f,c,k;function b(a,b,d){var f,c,k;k=[];b.filter(function(b){return b.gf===a;}).forEach(function(a){0<=d.indexOf(a)?(void 0===f?f=a.P:c=a.P,void 0===c&&(c=a.P)):void 0!==f&&void 0!==c&&(k.push({min:f,max:c}),f=c=void 0);});void 0!==f&&void 0!==c&&(k.push({min:f,max:c}),f=c=void 0);return k;}function d(a,b,d){var f;f=[];b.filter(function(b){return b.gf===a;}).forEach(function(a){-1===d.indexOf(a)&&f.push({stream:{bitrate:a.P},disallowedBy:["manual"]});});return f;}f=a.oo();c=a.Fy().sort(function(a,b){return a.P-b.P;});k=c.reduce(function(a,b){0>a.indexOf(b.gf)&&a.push(b.gf);return a;},[]).map(function(a){return{profile:a,ranges:b(a,c,f),disallowed:d(a,c,f)};});a.nb.XV(k,a.ba);}function G(){return a.Fy().filter(function(a){return ca[a.P];});}function M(){var d,f,c;d=a.Nc.value;f=a.Ef.value;c=a.Ei;d&&(c=c.slice(),c.sort(function(a,b){return a.ie-b.ie;}),n(Z,d.oc.map(function(b){return{value:b.P,caption:b.P,selected:b==a.ij.value};})));f&&(n(ea,f.oc.map(function(b){var d,f;d=a.pK.st(b);b=b.P;f=""+b;d&&(f+=" ("+d.join("|")+")");return{value:b,caption:f,selected:a.oo!=G?!d:ca[b]};})),ea.removeAttribute("disabled"));c&&(n(X,c.map(function(d){return{value:d.id,caption:"["+d.id+"] "+d.name,selected:d==a.Wb[b.tc.L.VIDEO].value};})),X.removeAttribute("disabled"));}function R(){O&&M();}function l(a){var b,d;b=q.createElement("DIV","display:inline-block;vertical-align:top;margin:5px;");a=q.createElement("DIV",void 0,a);d=q.createElement("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});b.appendChild(a);b.appendChild(d);Q.appendChild(b);return d;}function n(a,b){a.innerHTML="";b.forEach(function(b){var d;d={title:b.caption};b.selected&&(d.selected="selected");d=q.createElement("option",void 0,b.caption,d);d.value=b.value;a.appendChild(d);});}function D(a){a.ctrlKey&&a.altKey&&a.shiftKey&&a.keyCode==m.er.zQa&&va.y7&&u();}U=q.createElement("DIV","position:absolute;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace",void 0,{"class":"player-streams"});Q=q.createElement("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");r=q.createElement("DIV","width:100%;text-align:center");Z=l("Audio Bitrate");ea=l("Video Bitrate");X=l("CDN");ca={};va=d.V.get(k.zm);U.appendChild(Q);Q.appendChild(r);wa=q.createElement("BUTTON",void 0,"Override");wa.addEventListener("click",function(){var c,k,d,f;ca={};for(var d=ea.options,f=d.length;f--;){c=d[f];c.selected&&(ca[c.value]=1);}a.oo=G;h();if(d=a.Ei){k=X.value;d=d.filter(function(a){return a.id==k;})[0];f=a.Wb[b.tc.L.VIDEO].value;d&&d!=f&&(d.bFb={testreason:"streammanager",selreason:"userselection"},a.Wb[b.tc.L.VIDEO].set(d));}g();},!1);r.appendChild(wa);wa=q.createElement("BUTTON",void 0,"Reset");wa.addEventListener("click",function(){delete a.oo;h();g();},!1);r.appendChild(wa);f.Ee.addListener(f.Gy,D);a.addEventListener(t.S.bl,function(){ca={};});a.addEventListener(t.S.Ue,function(){f.Ee.removeListener(f.Gy,D);});a.Wb.forEach(function(a){a.addListener(R);});a.Nc.addListener(R);a.Ef.addListener(R);p.Wa(this,{toggle:u,show:c,rD:g});};},function(g,c,a){var b,f,q,p,d,k,m,t,u;Object.defineProperty(c,"__esModule",{value:!0});b=a(12);f=a(26);q=a(2);p=a(173);d=a(8);k=a(16);m=a(15);t=a(4);u=a(130);c.rLa=function(a){var g,y,h,M;function c(){a.state.value!==m.jb.$c||a.Eb.value!==m.hb.oi&&a.Eb.value!==m.hb.ar?y.$g():y.As();}g=b.config.blb;if(!a.AD()&&g){y=t.V.get(u.eB)(g,function(){a.fireEvent(m.S.tD,q.I.RN);});a.Eb.addListener(c);a.state.addListener(c);if(b.config.X6){M=f.Yf();h=new p.ria(b.config.X6,function(){var c,k;c=f.Yf();k=c-M;k>g&&(a.fireEvent(m.S.tD,q.I.CN),h.D2());k>2*b.config.X6&&(a.Y6=d.Bm(k,a.Y6||0));M=c;});h.$aa();}a.addEventListener(m.S.Ue,function(){y.$g();k.Tb(h)&&h.D2();});}};},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(15);f=a(69);c.uKa=function(a){function c(d){a.fireEvent(b.S.Zu,{response:d,ba:a.fa.ba});}return{download:function(b,k){b.j=a;b=f.Jd.download(b,k);b.Kma(c);return b;}};};},function(g,c,a){var f;function b(a,b){var d;d=this;this.kta=a;this.mya=b;this.Sba=!1;this.Xs=function(){d.sl=void 0;d.update();};}Object.defineProperty(c,"__esModule",{value:!0});f=a(19);b.prototype.update=function(a){var b,d,c;b=this.kta();if(this.WDa!==b){f.Tb(b)&&f.Tb(this.duration)&&b<this.duration&&this.entries&&(c=this.Oxa||this.entries[Math.floor(b*this.Zsb)]||this.entries[0]);if(c){for(;c&&c.endTime<b;)c=c.next;for(;c&&c.previous&&c.previous.endTime>=b;)c=c.previous;}c&&(c.startTime<=b&&b<=c.endTime?(d=c,this.RDa(c.endTime-b)):this.RDa(c.startTime-b));this.Oxa=c;this.WDa=b;this.m1!==d&&(this.m1=d,!a&&this.mya&&this.mya());}};b.prototype.start=function(){this.Sba=!0;this.update();};b.prototype.QBa=function(a){this.Oxa=this.m1=this.WDa=void 0;this.duration=(this.entries=a)&&Math.max.apply(Math,[].concat(da(a.map(function(a){return a.endTime;}))))||0;this.Zsb=a&&a.length/this.duration||0;this.update();};b.prototype.stop=function(){this.Sba=!1;this.$g();};b.prototype.c$a=function(){this.update(!0);return this.m1;};b.prototype.RDa=function(a){this.$g();this.Sba&&0<a&&(this.sl=setTimeout(this.Xs,a+b.ANa));};b.prototype.$g=function(){this.sl&&(clearTimeout(this.sl),this.sl=void 0);};c.TRa=b;b.ANa=10;},function(g,c,a){var b,f,q;Object.defineProperty(c,"__esModule",{value:!0});a(69);b=a(68);a(26);f=a(14);q=a(45);a(16);a(15);c.LPa=function(){var c,g,t,u,y;function a(){y=!1;for(var a=c.length,b;a--;)b=c[a],u[b]&&(u[b]=!1,t.Jb(b+"changed",{getModel:g[b]}));}function d(b){u[b]=!0;y||(y=!0,q.Ab(a));}c=[];g={};t=new b.Lj();u={};y=!1;return{register:function(a,b){f.Ga(!(0<=c.indexOf(a)),"panel already registered");g[a]=b;c.push(a);},QIb:d,ZGb:function(a){return(a=g[a])?a():void 0;},addEventListener:function(a,b){t.addListener(a,b);g[a]&&d(a);},removeEventListener:function(a,b){t.removeListener(a,b);}};};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Qfa="LicenseBrokerFactorySymbol";},function(g,c,a){var b,f,q,p,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(9);f=a(12);g=a(2);q=a(4);p=a(19);d=a(8);a=a(20);q.V.get(a.He).register(g.I.efa,function(a){var t,g,y;function k(){y&&clearTimeout(y);a(b.yc);k=p.ne;}t=q.Lf("BatteryManager");c.fs={sGa:"chargingchange",eta:function(){return g?g.level:null;},s5:function(){return g?g.charging:null;},addEventListener:function(a,b){g&&g.addEventListener(a,b);},removeEventListener:function(a,b){g&&g.removeEventListener(a,b);}};if(f.config.fI){y=setTimeout(k,f.config.t$a);try{d.tk.getBattery().then(function(a){g=a;k();})["catch"](function(a){t.error("getBattery promise rejected",a);k();});}catch(A){t.error("exception on getBattery api call",A);k();}}else k();});},function(g,c,a){var m,t,u,y,A,h,x,G;function b(a){return a.split(",").reduce(function(a,b){var d;d=b.split("=");b=d[0];d=d.slice(1).join("=");b&&b.length&&(a[b]=d||!0);return a;},{});}function f(a){return a&&"object"===typeof a?JSON.stringify(a):"string"===typeof a?'"'+a+'"':""+a;}function q(a,d,c){var k;if("string"===typeof a)return q.call(this,b(a),d,c);k=0;Object.keys(a).forEach(function(b){var g,t,u;g=A[b];t=a[b];if(g){if(u=h[b]||G[typeof m[g]])try{t=u(t);}catch(Z){c&&c.error("Failed to convert value '"+t+"' for config '"+b+"' : "+Z.toString());return;}u=y[g];this[g]=t;y[g]!==u&&(c&&c.debug("Config changed for '"+b+"' from "+f(u)+" ("+typeof u+") to "+f(t)+" ("+typeof t+")"),++k);}else d?(g=(g=x[b])?g.filter(function(a){return a[0]!==this;},this):[],g.push([this,t]),x[b]=g):c&&c.error("Attempt to change undeclared config option '"+b+"'");},this);k&&y.emit("changed");return k;}function p(){return Object.keys(A).reduce(function(a,b){var d,f;d=A[b];f=a[d];f?(f.push(b),a[d]=f.sort(function(a,b){return b.length-a.length;})):a[d]=[b];return a;},{});}function d(a,b){return a.hasOwnProperty(b)?f(a[b]):void 0;}function k(a,b){return"undefined"===typeof a?b:a;}c=a(48);a=a(25).EventEmitter;m={};t=Object.create(m);u=Object.create(t);y=Object.create(u);A={};h={};x={};y.declare=function(a){Object.keys(a).forEach(function(b){var d,f,c,k;d=a[b];f=d[0];c=d[1];k=d[2];if(m.hasOwnProperty(b))throw Error("The local configuraion key '"+b+"' is already in use");"string"===typeof f&&(f=[f]);f.forEach(function(a){var d;if(A.hasOwnProperty(a))throw Error("The configuration value '"+a+"' has been declared more than once");m.hasOwnProperty(b)||("function"===typeof c&&(c=c()),m[b]=c);A[a]=b;"function"===typeof k&&(h[a]=k);if(d=x[a])d.forEach(function(b){var d,f;d=b[0];f={};f[a]=b[1];q.call(d,f,!1);}),delete x[a];});});return y;};G={object:function(a){return"object"==typeof a?a:JSON.parse(""+a);},"boolean":function(a){return"boolean"==typeof a?a:!("0"===""+a||"false"===(""+a).toLowerCase());},number:function(a){if("number"==typeof a)return a;a=parseFloat(""+a);if(isNaN(a))throw Error("parseFloat returned NaN");return a;}};y.set=q.bind(t);y.fE=q.bind(u);y.dump=function(a,b){var g,q,h,K;function c(){K&&a&&a.log("===========================================");}g=Object.keys(x).sort();q={};h=p();b=k(b,!0);Object.keys(A).sort().forEach(function(g){var p,x,G;g=A[g];!q[g]&&(q[g]=!0,x=d(t,g),G=d(u,g),b||"undefined"!==typeof x||"undefined"!==typeof G)&&(p=h[g].join(","),p+=" = "+f(y[g])+" ("+typeof y[g]+") [",p+=k(G,"<unset>")+",",p+=k(x,"<unset>")+",",p+=d(m,g)+"]",K||(K=!0,a&&a.log("Current config values"),c()),a&&a.log(p));});(b||g.length)&&a&&a.log("<undeclared> :",g);c();};y.Qp=function(a){var b,d;b={};d={};Object.keys(A).forEach(function(a){a=A[a];d[a]||(d[a]=!0,b[a]=y[a]);});a&&q.call(b,a);return b;};y.Xya=function(){var a;a=p();return Object.getOwnPropertyNames(t).reduce(function(b,d){b[a[d][0]]=t[d];return b;},{});};y.reset=function(){Object.keys(t).forEach(function(a){delete t[a];});};y.Dl={};c(a,y);g.T=Object.freeze(y);},function(g,c,a){var f,q,p,d,k;function b(a){var b,c;b=d.platform;f.Lf("MediaSourceASE").trace("Inside MediaSourceASE");c=a.P5();this.readyState=k.bc.CLOSED;this.sourceBuffers=c.sourceBuffers;this.addSourceBuffer=function(a){return c.addSourceBuffer(a);};this.r1=function(a){return c.r1(a);};this.removeSourceBuffer=function(a){return c.removeSourceBuffer(a);};this.hn=function(a){return c.hn(a);};this.sourceId=b.sJ();b.KJ();this.duration=void 0;c.eqb(this.sourceId);this.readyState=k.bc.OPEN;this.Sc=q.V.get(p.df).gk(k.Sc,{});}Object.defineProperty(c,"__esModule",{value:!0});f=a(4);q=a(4);p=a(22);d=a(49);Object.defineProperty(b.prototype,"duration",{get:function(){return this.Jm;},set:function(a){var b;this.Jm=a||Infinity;b=Math.floor(1E3*a)||Infinity;this.sourceBuffers.forEach(function(a){a.Jm=b;});}});k={bc:{CLOSED:0,OPEN:1,ar:2,name:["CLOSED","OPEN","ENDED"]},Sc:{Toa:!0}};c.cNa=Object.assign(b,k);},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Eha="PboPairCommandSymbol";},function(g,c,a){var b,f,q,p,d,k,m,t;Object.defineProperty(c,"__esModule",{value:!0});b=a(4);f=a(339);q=a(21);p=a(19);d=a(178);k=a(282);m=a(91);t=a(2);c.lHa=function(a){var l,T,n,D,U;function c(a,b,d){return new Promise(function(f,c){l.send(a,b,!1,void 0).then(function(a){d?f(d(a)):f({W:!0});})["catch"](function(d){var f,k;try{f=JSON.stringify(d.Bs);}catch(wa){}k={method:a.method,success:d.W};T.Ql(f)&&(k.errorData=f);T.Ql(d.Y)&&(k.errorSubCode=d.Y);T.Ql(d.Hc)&&(k.errorExternalCode=d.Hc);T.Ql(d.Qa)&&(k.errorDetails=d.Qa);T.Ql(d.kn)&&(k.errorDisplayMessage=d.kn);b.log.error("Processing EDGE response failed",k);d.__logs&&b.log.error(d.__logs);c(d);});});}function g(b){return U.$wa?n.Ye(a,b.profile,{},b).then(function(a){return{T4a:a.customerGUID,W:!0};}):c({method:"bind",isExclusive:!0},b,function(a){return{T4a:a.customerGUID,W:!0};});}function u(b,d){var f;f={method:"pair",targetuuid:b.QCa,cticket:b.R4a,nonce:b.cjb,controlleruuid:b.ppa,pairdatahmac:b.eJb};return U.Q8?D.Ye(a,d.profile,f).then(function(a){return{W:!0,Gcb:{nonce:a.nonce,controlleruuid:b.ppa,controlleruserid:a.controllerUserId,controllersharedsecret:a.controllerSharedSecret,targetuuid:b.QCa,targetuserid:a.targetUserId,targetsharedsecret:a.targetSharedSecret},Hcb:a.grantDataHmac};})["catch"](function(a){var b;switch(a&&a.ky){case"MDX_CONTROLLER_CTICKET_INVALID":b=t.YY.ZNa;break;default:b=t.YY.$Na;}return{W:!1,XI:b,kn:a.data};}):c(f,d,function(a){return{W:!0,Gcb:{nonce:a.nonce,controlleruuid:b.ppa,controlleruserid:a.controllerUserId,controllersharedsecret:a.controllerSharedSecret,targetuuid:b.QCa,targetuserid:a.targetUserId,targetsharedsecret:a.targetSharedSecret},Hcb:a.grantDataHmac};});}function h(a,b){g(a).then(function(a){b(a);})["catch"](function(a){b(a);});}function G(b,d,f){u(b,d).then(function(a){f(a);})["catch"](function(b){var d,c;if(!U.Q8){c="";if(b.Bs)try{d=JSON.parse(b.Bs);d.error_message?c=d.error_message.replace("com.netflix.streaming.nccp.handlers.mdx.MdxException: ",""):d.implementingClass&&(c=d.implementingClass);}catch(ca){a.error("Failed to parse Pairing errorData",{Bs:d});}p.Wa(b,M(c));}f(b);});}function M(a){switch(a){case"MDX_ERROR_CONTROLLER_CTICKET_EXPIRED":return{MR:5,XI:21,PR:void 0,kn:void 0,NR:void 0};case"MDX_ERROR_CONTROLLER_REQUEST_HMAC_FAILURE":return{MR:2,XI:20,PR:void 0,kn:void 0,NR:void 0};case"MDX_ERROR_INVALID_CONTROLLER_REQUEST":return{MR:2,XI:10,PR:void 0,kn:void 0,NR:void 0};case"com.netflix.api.service.mdx.MdxPairDependencyCommand":return{MR:2,XI:13,PR:void 0,kn:void 0,NR:void 0};default:return{MR:4,XI:30,PR:void 0,kn:void 0,NR:void 0};}}l=b.V.get(f.Hga);T=b.V.get(q.we);n=b.V.get(d.tZ);D=b.V.get(k.Eha);U=b.V.get(m.gx);p.Wa(this,{Y1:g,eGb:function(a,b){a=Object.assign({},a);a.profile=void 0;h(a,b);},lz:h,NJb:function(a,b,d,f){h(Object.assign({lz:b,PV:d},a),f);},MJb:function(a,b,d,f){h(Object.assign({DR:b,password:d},a),f);},rIb:G,sIb:function(a,d,f){var t;function c(b){G(a,d,function(a){a.W?(a.lz=b.lz,a.PV=b.PV,a.Sib=b.Sib,a.tpb=b.tpb,f(a)):f(b);});}function k(a){g(t).then(function(a){a&&a.W?c(a):f(a);})["catch"](function(b){a?k(!1):f(b);});}t=Object.assign({axa:a.R4a,Fhb:a.a$,Ehb:a.cjb,Dhb:a.AFb,Ghb:b.Mk(a.OJb)},d);k(!0);},tKb:function(a,b,d,f){T.vH(d)&&!p.Tb(f)&&(f=d,d=void 0);nrdp&&nrdp.registration&&nrdp.registration.deactivateAll(function(){h(Object.assign({Khb:"GOOGLE_JWT",oDa:b,Bz:d},a),f);});}});};},function(g,c,a){var b,f,q,p;Object.defineProperty(c,"__esModule",{value:!0});b=a(285);f=a(4);q=a(404);p=a(22);c.Srb=function(a){a({W:!0,storage:new b.Pfa(f.V.get(q.Rfa),f.V.get(p.df))});};},function(g,c){function a(a,f){this.Ip=a;this.Xd=f;}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.load=function(b,f){var c;c=this;this.Ip.load(b).then(function(b){f&&f(a.ICa(b));})["catch"](function(a){f&&f(c.YC(b,a));});};a.prototype.save=function(b,f,c,g){var d;d=this;this.Ip.save(b,f,c).then(function(){g&&g(a.ICa({key:b,value:f}));})["catch"](function(a){g&&g(d.YC(b,a));});};a.prototype.remove=function(a,f){var b;b=this;this.Ip.remove(a).then(function(){f&&f({W:!0,oW:a});})["catch"](function(c){f&&f(b.YC(a,c));});};a.ICa=function(a){return{W:!0,data:a.value,oW:a.key};};a.prototype.YC=function(a,f){return{W:!1,oW:a,Y:f.Y,Qa:f.cause?this.Xd.ud(f.cause):void 0};};c.Pfa=a;},function(g,c,a){var b,f,q,p,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(4);f=a(63);q=a(22);p=a(285);d=a(402);c.Rrb=function(a){b.V.get(f.jp).create().then(function(f){a({W:!0,storage:new p.Pfa(f,b.V.get(q.df)),ro:b.V.get(d.bea)});})["catch"](function(b){a(b);});};},function(g,c,a){var b,f,q;Object.defineProperty(c,"__esModule",{value:!0});b=a(9);f=a(4);q=a(2);a(18);c.Trb=function(a){var d;f.Lf("Storage");d={};a({W:!0,storage:{load:function(a,b){d.hasOwnProperty(a)?b({W:!0,data:d[a],oW:a}):b({Y:q.u.rp});},save:function(a,b,f,c){f&&d.hasOwnProperty(a)?c({W:!1}):(d[a]=b,c&&c({W:!0,oW:a}));},remove:function(a,f){delete d[a];f&&f(b.yc);}}});};},function(g,c,a){var f,q,p,d,k,m,t,u,y,A,h,x,G,M,l,T,n,D,U,Q,r,Z,ea,X,O,ca,va,wa,N,ja,ka,pa,xa,ma,Fa,E,C,eb,P,Wa,S,Ra,Xa,dc,ta,Y,qc,ba,rc,vd,bc,Je,Za,da,fa,ha,ga,la,ra,na;function b(a,b,d,c){var m,q,y,K;function k(a){a.newValue!==ta.hb.Tf&&a.newValue!==ta.hb.oi&&(m.Eb.removeListener(k),m.vD=m.Sa.Oaa,m.Ib.Jb(ta.S.wj));}function g(a){a.newValue!==ta.hb.Tf&&(m.Eb.removeListener(g),m.iza=m.Sa.Xe.ea(O.ma));}m=this;this.yv=c;this.dt=[];this.Vu=0;this.Nc=new x.Lc(null);this.Ef=new x.Lc(null);this.wc=new x.Lc(null);this.Di=new x.Lc(null);this.Kq=new x.Lc(void 0);this.ve=new x.Lc(null);this.ij=new x.Lc(null);this.Qb=new x.Lc(void 0);this.ica=function(a){return m.Nc.set(a.newValue);};this.yub=function(a){return m.Ef.set(a.newValue);};this.vub=function(a){return m.wc.set(a.newValue);};this.cub=function(a){return m.Di.set(a.newValue);};this.uub=function(a){return m.Kq.set(a.newValue);};this.xub=function(a){return m.ve.set(a.newValue);};this.dub=function(a){return m.ij.set(a.newValue);};this.oub=function(a){return m.Me.set(a.newValue);};this.nub=function(a){return m.Af.set(a.newValue);};this.iub=function(a){return m.Qb.set(a.newValue);};this.JD={};this.gaa=this.Wba=0;this.Ib=new M.Lj();this.GM={};this.qla=0;this.nQ=void 0;this.Zgb=ea.V.get(la.qga);this.owa=ea.V.get(eb.$fa);this.Kc=ea.V.get(na.fB);this.he=ea.V.get(u.vk);this.lW=!1;this.state=new x.Lc(ta.jb.UA);this.wq=new x.Lc(!1);this.paused=new x.Lc(!1);this.muted=new x.Lc(!1);this.volume=new x.Lc(G.config.M5a/100);this.playbackRate=new x.Lc(1);this.Eb=new x.Lc(ta.hb.Tf);this.yQ=new x.Lc(ta.qf.Ij);this.Vm=new x.Lc(ta.qf.Ij);this.Gj=new x.Lc(ta.qf.Ij);this.Af=new x.Lc(null);this.Me=new x.Lc(null);this.i2=new x.Lc(null);this.FJ=A.uKa(this);this.aU=[];this.Wb=[];this.W1={};this.GQ=0<=xa.Lda.indexOf("cast")?ea.V.get(X.sda):void 0;this.ER=this.Wqa=!1;this.$rb=this.va=this.Eg=-1;this.c6=function(a,b){a=void 0===a?null:a;return Fa.pa(a)?m.nb?m.nb.ey(b,a):a:null;};this.nya=function(){m.oba();};this.$mb=this.yv.tC();this.addEventListener=this.Ib.addListener;this.removeEventListener=this.Ib.removeListener;this.fireEvent=this.Ib.Jb;c=G.config.En&&this.Kc()?this.Kc().p6(a):void 0;this.Yma(a,d||{},c,b);this.qQ=ea.V.get(ra.He);this.log=ea.bg(this);this.ya=ea.V.get(Je.Pe);this.Sa=ea.V.get(Xa.Kj);this.M_a=ea.V.get(Z.dda)(this);this.Zg=S.createElement("DIV","position:relative;width:100%;height:100%;overflow:hidden",void 0,{id:this.M});this.ceb();q=ea.V.get(da.dB)(O.Fg(1));this.kVa=ea.V.get(Y.pga);this.Rd=this.log.j3("Playback");this.Elb=p.vPa(this);this.O3=t.LPa();n.rG.Fib=this;n.rG.R4||(n.rG.R4=this);this.Rd.info("Playback created",this.eg);this.f8?this.Rd.info("Playback selected for trace playback info logging"):this.Rd.trace("Playback not selected for trace playback info logging");G.config.En&&this.Kc()&&(this.Kc().Vcb(this.M),this.addEventListener(ta.S.wj,function(){m.Kc().Wcb(m.M);m.wc.addListener(function(){m.Kc().aua();});m.Nc.addListener(function(){m.Kc().aua();});}),this.addEventListener(ta.S.Ue,function(){m.Kc().Ucb(m.M);}));this.state.addListener(function(a){m.Rd.info("Playback state changed",{From:a.oldValue,To:a.newValue});ja.Ga(a.newValue>a.oldValue);});T.Ee.addListener(T.Yk,this.nya,h.kZ);this.Qb.addListener(function(){q.Kb(function(){return m.Nra();});});K=!1;this.paused.addListener(function(a){var b;b=m.nb;!a.y9&&b&&(!0===a.newValue?b.paused&&b.paused():b.FW&&b.FW());a.newValue||(K=!1);m.Rd.info("Paused changed",{From:a.oldValue,To:a.newValue,MediaTime:ka.ih(m.Qb.value)});});this.addEventListener(ta.S.Kz,function(a){m.fa.il.qjb(a.FU,a.r9);});this.Eb.addListener(function(a){m.Rd.info("PresentingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ka.ih(m.Qb.value)},m.RD());});this.Eb.addListener(function(){m.wq.set(m.Eb.value===ta.hb.ad);});this.yQ.addListener(function(a){m.Rd.info("BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ka.ih(m.Qb.value)},m.RD());});this.Vm.addListener(function(a){m.Rd.info("AV BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ka.ih(m.Qb.value)},m.RD());});this.Gj.addListener(function(a){m.Rd.info("Text BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ka.ih(m.Qb.value)},m.RD());});this.Nc.addListener(function(a){ja.Ga(a.newValue);m.Rd.info("AudioTrack changed",a.newValue&&{ToBcp47:a.newValue.Wj,To:a.newValue.eb},a.oldValue&&{FromBcp47:a.oldValue.Wj,From:a.oldValue.eb},{MediaTime:ka.ih(m.Qb.value)});});this.Ef.addListener(function(){for(var a=m.Fy(),b=a.length,d=0;d<b;d++)a[d].lower=a[d-1],a[d].rdb=a[d+1];});this.wc.addListener(function(a){m.Rd.info("TimedTextTrack changed",a.newValue?{ToBcp47:a.newValue.Wj,To:a.newValue.eb}:{To:"none"},a.oldValue?{FromBcp47:a.oldValue.Wj,From:a.oldValue.eb}:{From:"none"},{MediaTime:ka.ih(m.Qb.value)});});this.Wb[f.tc.L.AUDIO]=new x.Lc(null);this.Wb[f.tc.L.VIDEO]=new x.Lc(null);this.Eb.addListener(g,h.XA);this.Eb.addListener(k);this.addEventListener(ta.S.wj,function(){var a,b,d,f;m.lW=!0;m.Pc("start");a=m.Me.value;b=J._cad_global.prefetchEvents;if(b){d=O.Db(m.Zl?m.Zl.audio:0);f=O.Db(m.Zl?m.Zl.video:0);b.kl(m.M,m.oa,"notcached"!==m.Nu,"notcached"!==m.$x,!!m.Zl,d,f);}m.lT=a.stream.P;});r.BPa(this);n.mr.push(this);G.config.lL&&(this.YU=new Ra.EPa(this),this.Plb=new U.IPa(this));n.Tha.forEach(function(a){a(m);});this.gZa=function(a){m.addEventListener(ta.S.Kz,function(b){b=b.cause;b!==ta.ng.VF&&b!==ta.ng.bB&&a.stop();});m.addEventListener(ta.S.Fn,function(b){var d,f,c,k,g;d=b.cause;f=b.skip;c=b.r9;k=b.FU;g=b.ba;b=b.bn;if(d!==ta.ng.bB&&(G.config.w9a&&d===ta.ng.bO&&m.rl.k2(),d!==ta.ng.VF))if(f)if(a.kC(c)){m.Rd.trace("Repositioned. Skipping from "+k+" to "+c);try{a.Ri(c);a.play();}catch(sc){m.log.error("streamingSession.skipped threw an exception",sc);d=Za.Qc.nS(ca.I.NEa,sc);m.gm(d.code,d);}}else m.log.error("can skip returned false");else{m.Rd.trace("Repositioned. Seeking from "+k+" to "+c);try{a.FE(b,g);}catch(sc){m.log.error("streamingSession.seekByContentPts threw an exception",sc);d=Za.Qc.nS(ca.I.LEa,sc);m.gm(d.code,d);}}});a.addEventListener("maxPosition",function(a){var b;b=O.Db(a.maxPts);if(a=m.Yl(a.index))a.qs=b;m.QK||(m.QK=b);});a.addEventListener("segmentStarting",function(a){m.fireEvent(ta.S.Fpb,a);});a.addEventListener("lastSegmentPts",function(a){m.fireEvent(ta.S.Cpb,a);});a.addEventListener("segmentPresenting",function(a){m.fireEvent(ta.S.yL,a);});a.addEventListener("segmentAborted",function(a){m.fireEvent(ta.S.Apb,a);});a.addEventListener("manifestPresenting",function(a){m.Cwa({index:a.index,t$:a.previousIndex,xD:!1});});a.addEventListener("skip",function(a){m.fireEvent(ta.S.Ri,a);});a.addEventListener("error",function(a){"NFErr_MC_StreamingFailure"===a.error&&(m.Rd.trace("receiving an unrecoverable streaming error: "+JSON.stringify(a)),m.Rd.trace("StreamingFailure, buffer status:"+JSON.stringify(m.RD())),G.config.Q8a&&!m.lW&&ma.Ab(function(){m.sd(m.he(ca.I.MEa,{Y:a.nativeCode,Qa:a.errormsg,Wh:a.httpCode,wU:a.networkErrorCode}));}));});a.addEventListener("maxvideobitratechanged",function(a){m.aU.push(a);});a.addEventListener("bufferingStarted",function(){m.Vm.set(ta.qf.Ij);});a.addEventListener("locationSelected",function(a){m.fireEvent(ta.S.iq,a);});a.addEventListener("serverSwitch",function(a){var b;m.fireEvent(ta.S.ME,a);"video"===a.mediatype?b=f.tc.L.VIDEO:"audio"===a.mediatype&&(b=f.tc.L.AUDIO);Fa.Tb(b)&&m.iqb(a.server,b);});a.addEventListener("bufferingComplete",function(b){m.Rd.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:b},m.RD());m.Ym=b;m.Vm.set(ta.qf.$c);y||(y=!0,m.Pc("pb"));a.play();});a.addEventListener("audioTrackSwitchStarted",function(){a.Pjb();G.config.$kb&&!m.paused.value&&(K=!0,m.paused.set(!0,{y9:!0}));});a.addEventListener("audioTrackSwitchComplete",function(){m.paused.value&&K&&(K=!1,m.paused.set(!1,{y9:!0}));m.Ag.sjb();});a.addEventListener("endOfStream",function(a){m.Ag.BK(a);});a.addEventListener("asereportenabled",function(){m.ER=!0;});a.addEventListener("asereport",function(a){m.fireEvent(ta.S.eC,a);});a.addEventListener("aseexception",function(a){m.fireEvent(ta.S.dC,a);});a.addEventListener("hindsightreport",function(a){var b,d;b=Fa.pa(m.af)?0:m.af;d=a.report;d&&d.length&&d.forEach(function(a){a.bst-=b;a.pst-=b;void 0===a.nd&&a.tput&&(a.tput.ts-=b);});m.J6={vob:d,Adb:a.hptwbr,Bua:a.htwbr,UU:a.pbtwbr};a.rr&&(m.J6.bBa=a.rr);a.ra&&(m.J6.hnb=a.ra);});a.addEventListener("streamingstat",function(a){var b;b=a.bt;m.va=a.location.bandwidth;m.Eg=a.location.httpResponseTime;m.$rb=a.stat.streamingBitrate;b&&(void 0===m.Yx&&(m.Yx={interval:G.config.hC,startTime:b.startTime,Zr:[],Ct:[]}),m.Yx.Zr=m.Yx.Zr.concat(b.Zr),m.Yx.Ct=m.Yx.Ct.concat(b.Ct));a.psdConservCount&&(m.Nza=a.psdConservCount);});a.addEventListener("headerCacheDataHit",function(a){a.movieId===""+m.M&&(m.Zl=a);});a.addEventListener("startEvent",function(a){J._cad_global.prefetchEvents&&"adoptHcdEnd"===a.event&&J._cad_global.prefetchEvents.cI(va.ye.Wi.MEDIA,m.M);});a.addEventListener("requestComplete",function(a){var b;b=(a=a&&a.mediaRequest)&&a.pC&&a.pC.cadmiumResponse;b&&m.fireEvent(ta.S.Zu,{response:b,ba:a.ba});});a.addEventListener("streamSelected",function(a){var b,d;a.mediaType===f.tc.L.VIDEO?(d=m.lua(a.streamId),b=m.ve):a.mediaType===f.tc.L.AUDIO&&(d=m.eua(a.streamId),b=m.ij);d&&b?b.set(d,{Joa:a.movieTime,I_a:a.bandwidth}):m.Rd.error("not matching stream for streamSelected event",{streamId:a.streamId});});a.addEventListener("logdata",function(a){var b,d;if("string"===typeof a.target&&"object"===typeof a.fields){b=m.JD[a.target];d=Fa.pa(m.af)?m.af:0;b||(b=m.JD[a.target]={});Object.keys(a.fields).forEach(function(f){var c,k,m,g;c=a.fields[f];if("object"!==typeof c||null===c)b[f]=c;else{k=c.type;if("count"===k)void 0===b[f]&&(b[f]=0),++b[f];else if(void 0!==c.value)if("array"===k){k=b[f];m=c.adjust;g=c.value;k||(k=b[f]=[]);m&&0<m.length&&m.forEach(function(a){g[a]-=d||0;});k.push(g);}else"sum"===k?(void 0===b[f]&&(b[f]=0),b[f]+=c.value):b[f]=c.value;else b[f]=c;}});}});};this.Nc.addListener(function(a){var b;if(m.nb)if(a.Wu&&a.Wu.reset)m.Rd.trace("ASE previously rejected the audio track switch, resetted!");else{b=a.newValue;m.nb.Dsb({fC:b.Ly,toJSON:function(){return b.eg;}})?m.Rd.trace("ASE accepted the audio track switch"):(m.Rd.trace("ASE rejected the audio track switch"),a.oldValue.Ly!==b.Ly&&m.Nc.set(a.oldValue,{reset:!0}));}});this.addEventListener(ta.S.ko,function(a){a.cause==n.Pha&&(m.yQ.set(ta.qf.Ij),m.nb.Ytb(m.Ag.Vsa()));});}Object.defineProperty(c,"__esModule",{value:!0});f=a(49);q=a(182);p=a(181);d=a(122);k=a(279);m=a(568);t=a(277);u=a(55);y=a(567);A=a(275);h=a(9);x=a(176);G=a(12);M=a(68);l=a(274);T=a(53);n=a(57);D=a(89);U=a(273);Q=a(564);r=a(269);Z=a(289);ea=a(4);X=a(221);O=a(3);ca=a(2);va=a(112);wa=a(22);N=a(220);ja=a(14);ka=a(105);pa=a(18);xa=a(33);ma=a(45);Fa=a(16);E=a(104);C=a(268);eb=a(325);P=a(127);Wa=a(174);S=a(19);Ra=a(267);Xa=a(42);dc=a(39);ta=a(15);Y=a(398);qc=a(177);ba=a(189);rc=a(61);vd=a(123);bc=a(291);Je=a(23);Za=a(56);da=a(96);fa=a(90);ha=a(180);ga=a(265);a(84);la=a(384);ra=a(20);na=a(107);b.prototype.Pc=function(a){this.fa.Pc(a);};b.prototype.zv=function(a){this.fa.zv(a);};b.prototype.ceb=function(){var a;a=this;this.Nc.addListener(function(b){return a.fa.Nc.set(b.newValue);});this.Ef.addListener(function(b){return a.fa.Ef.set(b.newValue);});this.wc.addListener(function(b){return a.fa.wc.set(b.newValue);});this.Di.addListener(function(b){return a.fa.Di.set(b.newValue);});this.Kq.addListener(function(b){return a.fa.Kq.set(b.newValue);});this.ve.addListener(function(b){return a.fa.ve.set(b.newValue);});this.ij.addListener(function(b){return a.fa.ij.set(b.newValue);});this.Me.addListener(function(b){return a.fa.Me.set(b.newValue);});this.Af.addListener(function(b){return a.fa.Af.set(b.newValue);});this.Qb.addListener(function(b){return a.fa.Qb.set(b.newValue);});this.YAa();};b.prototype.YAa=function(){this.fa!==this.Caa&&(this.fa.Qb.set(this.Qb.value),this.Rq(function(a){return a.Nc;},this.ica),this.Rq(function(a){return a.Ef;},this.yub),this.Rq(function(a){return a.Kq;},this.uub),this.Rq(function(a){return a.wc;},this.vub),this.Rq(function(a){return a.Di;},this.cub),this.Rq(function(a){return a.ve;},this.xub),this.Rq(function(a){return a.ij;},this.dub),this.Rq(function(a){return a.Af;},this.nub),this.Rq(function(a){return a.Me;},this.oub),this.Rq(function(a){return a.Qb;},this.iub),this.wc.set(this.fa.wc.value),this.Nc.set(this.fa.Nc.value),this.Ef.set(this.fa.Ef.value),this.Di.set(this.fa.Di.value),this.Kq.set(this.fa.Kq.value),this.ve.set(this.fa.ve.value),this.ij.set(this.fa.ij.value),this.Caa=this.fa);};b.prototype.Rq=function(a,b){this.Caa&&a(this.Caa).removeListener(b);a(this.fa).addListener(b);};b.prototype.load=function(a){var b,d;b=this;this.load=function(){};this.nza=a;if(this.state.value==ta.jb.UA){this.Rd.info("Playback loading",this);this.mjb();this.Pc("asl_load_start");a=this.qQ;d=a.endTime;Fa.Tb(a.startTime)?Fa.Tb(d)?this.Pc("asl_ended"):this.Pc("asl_in_progress"):this.Pc("asl_not_started");this.qQ.dK(function(a){b.Pc("asl_load_complete");a.W?b.i4a():b.gm(a.errorCode||ca.I.bfa,a);});}};b.prototype.$lb=function(){var a;try{if(this.state.value===ta.jb.LOADING){a={width:1,height:1};this.Fy().forEach(function(b){a.width*a.height<b.width*b.height&&(a.width=b.width,a.height=b.height);});this.qF=a;this.Xx=ea.V.get(N.pX).gna({qA:O.Db(this.U),M:this.M,OK:this.qs,Ya:this.Ya}).ea(O.ma);this.Ana();this.O4a();}}catch(xd){this.gm(ca.I.$Ka,{Y:ca.u.fh,Qa:pa.ud(xd)});}};b.prototype.Yma=function(a,b,d,f){var c,k;d=void 0===d?this.yv.tC():d;f=void 0===f?this.ya.Xb():f;c=!!G.config.jEa&&!(d%G.config.jEa);k=this.dt.length;a=ea.V.get(qc.BZ)(n.rG.index++,k,a,b,d,f,c,this.fa,this.c6);this.dt.push(a);0!==a.ba&&(a.jq=this.owa.create(this,a,!1));a.pK=new D.fNa(this,a);return k;};b.prototype.Yl=function(a){return this.dt[a];};b.prototype.xbb=function(a){return this.dt.find(function(b){b=b.jf;return!!b&&!!b.Hva&&b.Hva.sessionId===a;})||this;};b.prototype.cnb=function(a,b){var d,f;b=void 0===b?!0:b;d=this;f=this.Yl(a);return this.yBa(f).then(function(c){var k;if(!d.nb)throw new Za.Qc(ca.I.SN,ca.u.Cca);d.Hza(c,f);c=[f.Zb.cqa,f.Zb.hqa];k=!1;try{k=!!d.nb.AH(f.Ja,{mtb:c,replace:!1,U:f.Ya.U,ha:f.Ya.ha,j$:!0,ns:!f.Dv,Ux:b,gs:d.m3(a)});}catch(Ab){throw Za.Qc.nS(ca.I.SN,Ab);}if(!k)throw new Za.Qc(ca.I.SN,ca.u.DEa);return d.xb.qj.GAa(f).then(function(){if(!d.nb)throw new Za.Qc(ca.I.SN,ca.u.Cca);d.nb.BR(""+f.M);});})["catch"](function(a){d.log.error("queueManifest failed",a);throw d.he(a.code,a);});};b.prototype.m$a=function(){if(Fa.pa(this.Cc.ats)&&Fa.pa(this.Cc.at))return this.Cc.at-this.Cc.ats;};b.prototype.Csa=function(){var a,b;a=this.FM();b=this.KH();return Math.min(a,b);};b.prototype.Jab=function(){if(Fa.pa(this.Cc.shs)&&Fa.pa(this.Cc.sh))return this.Cc.sh-this.Cc.shs;};b.prototype.QL=function(){this.background||(this.Rd.info("Starting inactivity monitor for movie "+this.M),new l.rLa(this));};b.prototype.close=function(a){a&&(this.state.value==ta.jb.CLOSED?a():this.addEventListener(ta.S.closed,function(){a();}));this.oba();};b.prototype.sd=function(a,b){var d,f,c;d=this;if(this.state.value==ta.jb.UA)this.Yh||(this.Yh=a,this.load());else{b&&(this.state.value==ta.jb.CLOSED?b():this.addEventListener(ta.S.closed,function(){b();}));f=function(){d.oba(a);};c=G.config.kqa&&a&&G.config.kqa[a.errorCode];Fa.Sy(c)&&(c=pa.Ud(c));this.Rd.error("Fatal playback error",{Error:""+a,HandleDelay:""+c});0<=c?setTimeout(f,c):f();}};b.prototype.tM=function(){this.Ib.Jb(ta.S.tM);};b.prototype.y9a=function(){this.Nra();};b.prototype.T5=function(){var a;a=this.nb;return a&&(a=a.qa.xj.xa.id,void 0!==a)?a:null;};b.prototype.zy=function(){return void 0!==this.fa.TQ&&void 0===this.nb?this.fa.TQ:this.c6(this.Qb.value);};b.prototype.S5=function(){var a;a=this.c6(this.Ag.Vsa());return null===a||0>a||a>this.qs.ea(O.ma)?null:a;};b.prototype.uS=function(){var a;a=this.Ja.choiceMap;if(a)return a.segments;};b.prototype.lub=function(a){this.Ya=P.Uhb(function(a,b){return void 0!==b?b:a;},this.Ya,a);this.Ana();};b.prototype.Fy=function(a){a=void 0===a?this.ba:a;return(a=this.Yl(a).Ef)&&a.value?a.value.oc:[];};b.prototype.adb=function(a){var d;for(var b=0;b<this.dt.length;b++){d=this.Yl(b).Ei;if(d=d&&d.find(function(b){return b.id===a;}))return d;}};b.prototype.eua=function(a){var d;for(var b=0;b<this.dt.length;b++){d=this.Yl(b).Nc.value;if(d=d&&d.oc.find(function(b){return b.Tc===a;}))return d;}};b.prototype.lua=function(a){var d;for(var b=0;b<this.dt.length;b++){d=this.Yl(b).Ef.value;if(d=d&&d.oc.find(function(b){return b.Tc===a;}))return d;}};b.prototype.oo=function(a){var b,d;b=this.wpa(a);if(this.nb&&void 0!==a){d=this.m3(a,b);this.nb.XV(d,a);}return b.$b;};b.prototype.Ueb=function(){return"trailer"===this.ue;};b.prototype.$ua=function(){return!!this.ue&&0<=this.ue.indexOf("billboard");};b.prototype.$eb=function(){return!!this.ue&&0<=this.ue.indexOf("video-merch");};b.prototype.AD=function(){return this.Ueb()||this.$ua()||this.$eb();};b.prototype.Mbb=function(){return{tr:this.Wba,rt:this.gaa};};b.prototype.Gs=function(a){return this.JD[a];};b.prototype.C0a=function(){return this.um?this.ya.Xb().ea(O.ma)-this.um:this.Sa.Xe.ea(O.ma)-this.qS();};b.prototype.voa=function(){var a;if(this.um)return this.ya.Xb().ea(O.ma)-this.um;a=ea.V.get(Je.Pe).Vy;return this.iza-(this.jl.ea(O.ma)+a.ea(O.ma));};b.prototype.I0a=function(){return this.um?this.ya.Xb().ea(O.ma)-this.um:this.iza-this.qS();};b.prototype.gjb=function(a){var b,d;b=this.af;d={};pa.Uc(a,function(a,f){d[a]=f.map(function(a){return a-b;});});return d;};b.prototype.u$a=function(){var a,b;a=this.af;b={};pa.Uc(this.W1,function(d,f){b[d]=f.map(function(b){return b-a;});});return k.fs?{level:k.fs.eta(),charging:k.fs.s5(),statuses:b}:null;};b.prototype.NS=function(){this.Mra();return this.GM;};b.prototype.qS=function(){var a;a=this.Ya.EW;a=Fa.pa(a)?a:this.jl.ea(O.ma)+this.ya.Vy.ea(O.ma);ja.Ga(Fa.Cv(a));return a;};b.prototype.Y5=function(){return this.ya.Xb().ea(O.ma)-this.jl.ea(O.ma);};b.prototype.Jqb=function(){this.GM.HasRA=!0;};b.prototype.ovb=function(){this.frb=!0;};b.prototype.DU=function(){this.sAa();};b.prototype.FM=function(){var a;a=this.oQ();return a&&a.vbuflmsec||0;};b.prototype.KH=function(){var a;a=this.oQ();return a&&a.abuflmsec||0;};b.prototype.vca=function(){var a;a=this.oQ();return a&&a.vbuflbytes||0;};b.prototype.K1=function(){var a;a=this.oQ();return a&&a.abuflbytes||0;};b.prototype.yBa=function(a){var b,d;a=void 0===a?this:a;b=ea.V.get(ba.WY);d=G.config.lV.enabled?rc.Zc.ao.lia:this.AD()?rc.Zc.ao.Iia:rc.Zc.ao.Dm;a={oa:a.oa,Ya:a.Ya,qc:a.M,fJ:d};d=ea.V.get(vd.oG)();return b.kD(a,d);};b.prototype.Hza=function(a,b){b=void 0===b?this:b;b.Ja=a;a=this.kVa.create(this).Qkb(a);b.Zb=a;b.Ef.set(a.K3);b.Nc.set(a.G3);b.wc.set(a.J3);};b.prototype.Ecb=function(a){this.Cwa({index:this.Vu+1,t$:this.Vu,xD:!0});this.sd(a);};b.prototype.Cwa=function(a){var b,d;b=a.index;0<b&&(this.fireEvent(ta.S.OD,{index:this.Vu}),this.Vu=b,a.xD||this.YAa(),this.vD=this.Sa.Oaa,this.fa.um||(this.fa.um=this.ya.Xb().ea(O.ma)));b="boolean"===typeof this.Ya.SC?this.Ya.SC:G.config.SC;d=ea.V.get(bc.hja);b&&!a.xD&&d.SC(this);this.fireEvent(ta.S.bl,a);};b.prototype.i4a=function(){var a;try{a=fa.hj.profile;this.dt.forEach(function(b){b.profile=a;});this.cn=new ha.mHa(this);this.jq=this.owa.create(this,this.fa,!0);G.config.W0a&&new ga.IJa(this,ea.V.get(dc.Mj),this.log);G.config.fI&&this.fI(this);this.Yub();}catch(xd){this.gm(ca.I.ZKa,{Y:ca.u.fh,Qa:pa.ud(xd)});}};b.prototype.Yub=function(){this.Yh?this.sd(this.Yh):Fa.ova(this.M)?this.n1a():this.gm(ca.I.PKa,{Qa:""+this.M});};b.prototype.n1a=function(){var a;a=q.VE.KBa;a?a.W?this.H2():this.gm(ca.I.xfa,a):(ja.Ga(!G.config.KR),this.k1());};b.prototype.H2=function(){var a;a=this;!this.background&&G.config.H2?n.Sha(function(){a.k1();},this):this.k1();};b.prototype.k1=function(){var a;a=this;this.state.value==ta.jb.LOADING&&(G.config.s4&&!this.AD()?q.VE.Nx(n.APa,function(b){b.W?(a.OT=b.OT,G.config.SV?a.RH():a.Jaa()):a.gm(ca.I.wfa);},!0):G.config.SV?this.RH():this.Jaa());};b.prototype.Jaa=function(){var a;a=this;this.state.value==ta.jb.LOADING&&(this.Pc("ic"),this.Elb.Lpb(function(b){b.error&&a.log.error("Error sending persisted playdata",ca.Xn(b));try{a.RH();}catch(Pc){a.log.error("playback.authorize threw an exception",Pc);a.gm(ca.I.XEa,{Y:ca.u.fh,Qa:pa.ud(Pc)});}}));};b.prototype.RH=function(){var a,b;a=this;if(this.state.value==ta.jb.LOADING){this.log.info("Authorizing",this);b=this.ya.Xb().ea(O.ma);this.Pc("ats");this.cn.RH(function(d){var f;if(a.state.value==ta.jb.LOADING){a.Pc("at");f=a.Ja;a.zv({pr_ats:f&&Fa.Tb(f.Oz)?f.Oz:b,pr_at:f&&Fa.Tb(f.xE)?f.xE:a.ya.Xb().ea(O.ma)});d.W?0<a.Zb.Ei.length&&a.Zb.G3&&a.Zb.K3&&a.Zb.J3?a.Imb():a.gm(ca.I.gMa,a.Zgb(a.Zb)):a.gm(ca.I.MANIFEST,d);}});}};b.prototype.Imb=function(){var a;a=this;this.nza?(this.log.info("Processing post-authorize",this),this.nza(this,function(b){b.W?a.MDa():a.gm(ca.I.dLa,b);})):this.MDa();};b.prototype.MDa=function(){var b,c,k,m;b=this;if(this.state.value==ta.jb.LOADING){c={};this.rl=d.Lk;G.config.v9a&&this.rl.k2();d.Nb.set(a(150)(G.config),!0,ea.Lf("ASE"));d.Nb.set({maxNumberTitlesScheduled:G.config.rza?G.config.rza.maxNumberTitlesScheduled:1},!0,this.Rd);G.config.z2a&&3E5>this.Ja.duration?d.Nb.fE({expandDownloadTime:!1},!0,this.Rd):d.Nb.fE({expandDownloadTime:d.Nb.Xya().expandDownloadTime},!0,this.Rd);this.background||G.config.amb&&"postplay"===this.ue?d.Nb.fE({initBitrateSelectorAlgorithm:"historical"},!0,this.Rd):d.Nb.fE({initBitrateSelectorAlgorithm:d.Nb.Xya().initBitrateSelectorAlgorithm},!0,this.Rd);m=this.Ef&&this.Ef.value&&this.Ef.value.oc;m&&m.length&&(k=m[0].gf);d.Nb.fE(G.ipa(this.Ya.cg,this.Ya.xT,k),!0,this.Rd);c=ea.V.get(wa.df).gk(c,G.jpa(this.ue));this.bsb=d.Nb.Qp(c);f.platform.events.emit("networkchange",this.Zb.dqb);this.rl.SDa({oo:function(a){return b.oo(a);},sJ:function(){return b.sJ();},KJ:function(){return b.KJ();}});this.$lb();}};b.prototype.O4a=function(){var a,b,d,f;a=this;try{this.xb=new m.WMa(this);this.xb.open();b=new Promise(function(b){a.xb.addEventListener(Wa.Mh.qCa,b);});this.Ag=new C.$Ma(this);d={xg:!1,nF:G.config.nF,LW:G.config.GR,k8:!1,ns:!this.Dv,j$:!!this.Ya.xT,ha:this.Ya.ha};f={wz:this.log,ek:this.ek,sessionId:this.M+"-"+this.oa,oa:this.oa,TU:this.sC,Rg:E.xh?E.xh.Rg:void 0,xR:0===G.config.II||0!==this.oa%G.config.II?!1:!0};this.Wqa=f.xR;this.nb=this.rl.rs(this.Ja,[this.Zb.cqa,this.Zb.hqa],this.U,d,f,void 0,{lf:function(){return a.Qb.value;},P5:function(){return a.xb;}},this.bsb,this.m3(this.ba));this.gZa(this.nb);b.then(function(){a.state.value!==ta.jb.CLOSING&&a.state.value!==ta.jb.CLOSED&&a.nb.open();});this.Qb.set(this.U);this.Pn=new y.PRa(this);if("boolean"===typeof this.Ya.xV?this.Ya.xV:G.config.xV)this.mM=new Q.QRa(this);this.QL();n.Uha.forEach(function(b){b(a);});this.ljb();}catch(tf){this.gm(ca.I.aLa,{Y:ca.u.fh,Qa:pa.ud(tf)});}};b.prototype.mjb=function(){ja.Ga(this.state.value==ta.jb.UA);this.af=this.ya.Xb().ea(O.ma);this.state.set(ta.jb.LOADING);J._cad_global.prefetchEvents&&J._cad_global.prefetchEvents.Mlb(this.M);};b.prototype.gm=function(a,b){this.done||(this.done=!0,b instanceof Za.Qc?this.sd(this.he(b.code,b)):this.sd(this.he(a,b)));};b.prototype.fI=function(a){var d,f;function b(){var b,f;b=k.fs.s5()+"";f=a.W1[b];f||(f=a.W1[b]=[]);f.push(d.ya.Xb().ea(O.ma));d.log.trace("charging change event",{level:k.fs.eta(),charging:k.fs.s5()});}d=this;f=k.fs.sGa;k.fs.addEventListener(f,b);a.addEventListener(ta.S.Ue,function(){k.fs.removeEventListener(f,b);});};b.prototype.oba=function(a){var b;b=this;if(this.state.value==ta.jb.UA||this.state.value==ta.jb.LOADING||this.state.value==ta.jb.$c){this.Rd.info("Playback closing",this,a?{ErrorCode:a.tR}:void 0);T.Ee.removeListener(T.Yk,this.nya);this.Yh=a;this.Mra();this.nb&&this.nb.flush();try{this.Ib.Jb(ta.S.Ue,{manifestIndex:this.Vu});}catch(Pc){this.Rd.error("Unable to fire playback closing event",Pc);}this.state.set(ta.jb.CLOSING);this.fa.TQ=this.zy();this.IEa();this.frb||ma.Ab(function(){return b.sAa();});}};b.prototype.Nra=function(){var a;a=this.Qb.value;this.zfb!=a&&(this.zfb=a,this.Ib.Jb(ta.S.Kba));};b.prototype.sAa=function(){var a,b;a=this;ja.Ga(this.state.value==ta.jb.CLOSING);b=this.OT;this.OT=void 0;b?q.VE.release(b,function(b){ja.Ga(b.W);a.N2();}):this.N2();};b.prototype.IEa=function(){this.nb&&(this.nb.close(),this.nb.ae());this.rl&&this.Yh&&this.rl.k2();delete this.nb;delete this.rl;};b.prototype.N2=function(){var a;this.N2=h.ne;ja.Ga(this.state.value==ta.jb.CLOSING);a=n.mr.indexOf(this);ja.Ga(0<=a);n.mr.splice(a,1);this.state.set(ta.jb.CLOSED);this.Ib.Jb(ta.S.closed,void 0,!0);this.Ib.KC();delete this.jf;this.fa.DU();};b.prototype.Ana=function(){this.Ya.playbackState&&("number"===typeof this.Ya.playbackState.volume&&this.volume.set(this.Ya.playbackState.volume),"boolean"===typeof this.Ya.playbackState.muted&&this.muted.set(this.Ya.playbackState.muted));};b.prototype.Mra=function(){this.Ib.Jb(ta.S.eCa,{GM:this.GM});};b.prototype.iqb=function(a,b){var d;d=this.Ei.filter(function(b){return b.id===a;})[0];d&&this.Wb[b].set(d);};b.prototype.RD=function(){return{AudioBufferLength:this.KH(),VideoBufferLength:this.FM()};};b.prototype.oQ=function(){if(this.nb)return this.nb.l7(!1);};b.prototype.sJ=function(){return this.qla;};b.prototype.KJ=function(){this.qla++;};b.prototype.ljb=function(){this.state.value==ta.jb.LOADING&&this.state.set(ta.jb.$c);};b.prototype.wpa=function(a){var b,d;a=void 0===a?this.ba:a;b=void 0;d=this.Yl(a);a=this.Fy(a).filter(function(a){var f;f=d.pK.st(a);f&&(b=b||[],b.push({stream:a,HC:f}));return!f;});0===a.length&&this.log.error("FilteredVideoStreamList is empty. Media stream filters are not setup correctly.");for(var f=0;f<a.length;f++)a[f].lower=a[f-1],a[f].rdb=a[f+1];return{$b:a,t6a:b};};b.prototype.m3=function(a,b){var d,f,c,k,m,g;b=void 0===b?this.wpa(a):b;d=b.$b;f=b.t6a;c=[];this.Fy(a).forEach(function(a){-1==c.indexOf(a.gf)&&c.push(a.gf);});k=null;m=null;d.forEach(function(a){null===k?m=k=a.P:m<a.P?m=a.P:k>a.P&&(k=a.P);});g=[];c.forEach(function(a){var b;b={ranges:[],profile:a};k&&m&&(b.ranges.push({min:k,max:m}),f&&(b.disallowed=f.filter(function(b){return b.stream.gf===a;})),g.push(b));});return g;};oa.Object.defineProperties(b.prototype,{fa:{configurable:!0,enumerable:!0,get:function(){return this.dt[this.Vu];}},U:{configurable:!0,enumerable:!0,get:function(){return void 0!==this.Xx?this.Xx:this.Yl(0).Ya.U||0;}},Zb:{configurable:!0,enumerable:!0,get:function(){return this.fa.Zb;},set:function(a){this.fa.Zb=a;}},profile:{configurable:!0,enumerable:!0,get:function(){return this.fa.profile;},set:function(a){this.fa.profile=a;}},fS:{configurable:!0,enumerable:!0,get:function(){return this.fa.Ya.fS;}},gS:{configurable:!0,enumerable:!0,get:function(){return this.fa.Ya.gS;}},index:{configurable:!0,enumerable:!0,get:function(){return this.fa.index;}},jf:{configurable:!0,enumerable:!0,get:function(){return this.fa.jf;},set:function(a){this.fa.jf=a;}},um:{configurable:!0,enumerable:!0,get:function(){return this.fa.um;},set:function(a){this.fa.um=a;}},Nu:{configurable:!0,enumerable:!0,get:function(){return this.fa.Nu;},set:function(a){this.fa.Nu=a;}},$x:{configurable:!0,enumerable:!0,get:function(){return this.fa.$x;},set:function(a){this.fa.$x=a;}},lT:{configurable:!0,enumerable:!0,get:function(){return this.fa.lT;},set:function(a){this.fa.lT=a;}},Ja:{configurable:!0,enumerable:!0,get:function(){return this.fa.Ja;},set:function(a){this.fa.Ja=a;}},Xx:{configurable:!0,enumerable:!0,get:function(){return this.fa.Xx;},set:function(a){this.fa.Xx=a;}},fM:{configurable:!0,enumerable:!0,get:function(){return this.fa.fM;},set:function(a){this.fa.fM=a;}},Ya:{configurable:!0,enumerable:!0,get:function(){return this.fa.Ya;},set:function(a){this.fa.Ya=a;}},ba:{configurable:!0,enumerable:!0,get:function(){return this.fa.ba;}},jq:{configurable:!0,enumerable:!0,get:function(){return this.fa.jq;},set:function(a){this.fa.jq=a;}},il:{configurable:!0,enumerable:!0,get:function(){return this.fa.il;}},M:{configurable:!0,enumerable:!0,get:function(){return this.fa.M;}},ue:{configurable:!0,enumerable:!0,get:function(){return this.fa.ue;}},Um:{configurable:!0,enumerable:!0,get:function(){return this.fa.Um;}},Pq:{configurable:!0,enumerable:!0,get:function(){return this.fa.Pq;}},Bt:{configurable:!0,enumerable:!0,get:function(){return this.fa.Bt;}},Hj:{configurable:!0,enumerable:!0,get:function(){return this.fa.Hj;}},Of:{configurable:!0,enumerable:!0,get:function(){return this.fa.Of;}},Dv:{configurable:!0,enumerable:!0,get:function(){return this.fa.Dv;}},Uo:{configurable:!0,enumerable:!0,get:function(){return this.fa.Uo;}},Yj:{configurable:!0,enumerable:!0,get:function(){return this.fa.Yj;}},Ei:{configurable:!0,enumerable:!0,get:function(){return this.fa.Ei;}},eV:{configurable:!0,enumerable:!0,get:function(){return this.fa.eV;}},qs:{configurable:!0,enumerable:!0,get:function(){return this.fa.qs;},set:function(a){this.fa.qs=a;}},oa:{configurable:!0,enumerable:!0,get:function(){return this.fa.oa;}},bh:{configurable:!0,enumerable:!0,get:function(){return this.fa.bh;}},jl:{configurable:!0,enumerable:!0,get:function(){return this.fa.jl;}},vD:{configurable:!0,enumerable:!0,get:function(){return this.fa.vD;},set:function(a){this.fa.vD=a;}},sC:{configurable:!0,enumerable:!0,get:function(){return this.fa.sC;}},Wz:{configurable:!0,enumerable:!0,get:function(){return this.fa.Wz;}},background:{configurable:!0,enumerable:!0,get:function(){return this.fa.background;},set:function(a){this.fa.background=a;}},r3:{configurable:!0,enumerable:!0,get:function(){return this.fa.r3;}},Cc:{configurable:!0,enumerable:!0,get:function(){return this.fa.Cc;}},Xm:{configurable:!0,enumerable:!0,get:function(){return this.fa.Xm;}},c4:{configurable:!0,enumerable:!0,get:function(){return this.fa.c4;}},pK:{configurable:!0,enumerable:!0,get:function(){return this.fa.pK;}},eg:{configurable:!0,enumerable:!0,get:function(){return{MovieId:this.M,TrackingId:this.bh,Xid:this.oa};}}});c.DPa=b;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.dda="BandwidthMeterFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=c.Gm||(c.Gm={});g[g.ON=0]="NOT_LOADED";g[g.LOADING=1]="LOADING";g[g.LOADED=2]="LOADED";g[g.YF=3]="LOAD_FAILED";g[g.$ga=4]="PARSE_FAILED";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.hja="TrickPlayManagerSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.AZ="PlaybackMilestoneStoreSymbol";},function(g,c,a){var m,t;function b(a){return!(!a||!a.uz&&!a.pboc||!a.code&&!a.code);}function f(a){return!(!a||!a.Jc);}function q(a){return!!(a instanceof Error);}function p(a){switch(a){case"ACCOUNT_ON_HOLD":return t.u.bOa;case"STREAM_QUOTA_EXCEEDED":return t.u.fOa;case"INSUFFICICENT_MATURITY":return t.u.hOa;case"TITLE_OUT_OF_WINDOW":return t.u.nOa;case"CHOICE_MAP_ERROR":return t.u.eOa;case"BadRequest":return t.u.jOa;case"Invalid_SemVer_Format":return t.u.iOa;case"RESTRICTED_TO_TESTERS":return t.u.mOa;case"AGE_VERIFICATION_REQUIRED":return t.u.cOa;case"BLACKLISTED_IP":return t.u.dOa;case"DEVICE_EOL_WARNING":return t.u.nZ;case"DEVICE_EOL_FINAL":return t.u.bha;case"INCORRECT_PIN":return t.u.cha;case"MOBILE_ONLY":return t.u.lOa;case"MDX_CONTROLLER_CTICKET_INVALID":return t.u.kOa;default:return t.u.Nea;}}function d(a,b){return new m.Qc(a,p(b.code),"BadRequest"===b.code?t.IY.TFa:void 0,b.code,void 0,b.display,void 0,b.detail,b.display,b.bladeRunnerCode?Number(b.bladeRunnerCode):void 0,b.alert);}function k(a,b){return new m.Qc(a,b.Jc,b.wg,void 0,b.qq,b.message,b.EC,b.data);}Object.defineProperty(c,"__esModule",{value:!0});m=a(56);t=a(2);c.Ieb=b;c.LHb=f;c.q7=q;c.LGb=p;c.pn=function(a,c){return f(c)?k(a,c):b(c)?d(a,c):q(c)?m.Qc.nS(a,c):new m.Qc(a,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,c);};c.MGb=d;c.KGb=k;c.o0a=function(a,b,d){var f,c,k;a=a.gra;f=b.IBa[d];if(void 0===f)throw{uz:!0,code:"FAIL",display:"Unable to build the URL for "+d+" because there was no configuration information",detail:b};c=f.version;if(void 0===c)throw{uz:!0,code:"FAIL",display:"Unable to build the URL for "+d+" because there was no version information",detail:b};k=b.Oy&&f.serviceNonMember?f.serviceNonMember:f.service;if(void 0===k)throw{uz:!0,code:"FAIL",display:"Unable to build the URL for "+d+" because there was no service information",detail:b};f=f.orgOverride;if(void 0===f&&(f=b.Bya,void 0===f))throw{uz:!0,code:"FAIL",display:"Unable to build the URL for "+d+" because there was no organization information",detail:b};return a+"/"+f+"/"+k+"/"+c+"/router";};c.TEb=function(){return{"Content-Type":"text/plain"};};c.n0a=function(a,b,d,f,c){return{version:d.version,url:b,id:a,languages:d.languages,params:f,echo:c};};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.fja="TransportFactorySymbol";c.Iga="MslTransportSymbol";c.Mia="SslTransportSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.xha="PboDispatcherSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.xga="MediaRequestConstructorFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Yga="OpenConnectSideChannelSymbol";c.yga="MediaRequestDownloaderSymbol";},function(g,c,a){var A,K,x;function b(a,b,d){this.type=a;this.size=b;this.Uu=d;}function f(a){var d,f,c,k,m;a:{d=a.position;if(8<=a.oj()){f=a.Na();c=a.Cq(4);if(!K.test(c))throw a.seek(d),Error("mp4-badtype");if(1==f){if(8>a.oj()){a.seek(d);d=void 0;break a;}f=a.Qf();}if(!(8<=f))throw a.seek(d),Error("mp4-badsize");if("uuid"==c){if(16>a.oj()){a.seek(d);d=void 0;break a;}c=a.kw();}d={type:c,offset:d,size:f,Uu:d+f-a.position};}else d=void 0;}if(d&&d.Uu<=a.oj()){k=d.type;f=d.size;m=d.Uu;c=new b(k,f,m);k=x[k];if(a.oj()<m)throw Error("mp4-shortcontent");k?(m=new A(a.wd(m)),k(c,m)):a.skip(m);a.seek(d.offset);c.raw=a.wd(f);return c;}}function q(a,b){for(var d=[],c={},k,m;0<b.oj();){k=f(b);if(!k)throw Error("mp4-badchildren");m=k.type;d.push(k);c[m]||(c[m]=k);}a.children=d;a.O4=c;}function p(a,b){a.version=b.mc(1);a.Ke=b.mc(3);}function d(a,b){b.skip(6);a.V4a=b.Bb();b.skip(8);a.channelCount=b.Bb();a.Tz=b.Bb();b.skip(4);a.sampleRate=b.Bb();b.skip(2);q(a,b);}function k(a,b){var d;b.skip(6);a.V4a=b.Bb();b.skip(16);a.width=b.Bb();a.height=b.Bb();a.pHb=b.Na();a.$Kb=b.Na();b.skip(4);a.L9a=b.Bb();d=b.ke();a.Z1a=b.Cq(d);b.skip(31-d);a.depth=b.Bb();b.skip(2);q(a,b);}function m(a,b){p(a,b);a.$Fb=b.mc(3);a.aGb=b.ke();a.Gv=b.wd(16);}function t(a,b){for(var d=[],f;b--;)f=a.Bb(),d.push(a.wd(f));return d;}function u(a){var b;b=a.wd(2);a={fKb:b[1]>>1&7,eKb:!!(b[1]&1),ZJb:a.Bb()};h(a,(b[0]<<8|b[1])>>4);return a;}function h(a,b){a.$Jb=b>>4&3;a.dKb=b>>2&3;a.bKb=b&3;return a;}A=a(587);K=/^[a-zA-Z0-9-]{4,4}$/;b.prototype.nv=function(a){var b,d,f,c,k;b=this;a=a.split("/");for(c=0;c<a.length&&b;c++){f=a[c].split("|");d=void 0;for(k=0;k<f.length&&!d;k++)d=f[k],d=b.O4&&b.O4[d];b=d;}return b;};b.prototype.toString=function(){return"["+this.type+"]";};x={ftyp:function(a,b){a.kIb=b.Cq(4);a.EIb=b.Na();for(a.R1a=[];4<=b.oj();)a.R1a.push(b.Cq(4));},moov:q,sidx:function(a,b){p(a,b);a.KJb=b.Na();a.Oba=b.Na();a.f4=1<=a.version?b.Qf():b.Na();a.Q4=1<=a.version?b.Qf():b.Na();b.skip(2);for(var d=b.Bb(),f=[],c,k;d--;){c=b.Na();k=c>>31;if(0!==k)throw Error("mp4-badsdix");c&=2147483647;k=b.Na();b.skip(4);f.push({size:c,duration:k});}a.LJb=f;},moof:q,mvhd:function(a,b){var d;p(a,b);d=1<=a.version?8:4;a.Og=b.mc(d);a.modificationTime=b.mc(d);a.Oba=b.Na();a.duration=b.mc(d);a.GJb=b.fL();a.volume=b.qV();b.skip(70);a.NIb=b.Na();},pssh:function(a,b){var d;p(a,b);a.T6a=b.kw();d=b.Na();a.data=b.wd(d);},trak:q,mdia:q,minf:q,stbl:q,stsd:function(a,b){p(a,b);b.Na();q(a,b);},encv:k,avc1:k,hvcC:k,hev1:k,mp4a:d,enca:d,"ec-3":d,avcC:function(a,b){a.version=b.ke();a.DEb=b.ke();a.CJb=b.ke();a.CEb=b.ke();a.bIb=(b.ke()&3)+1;a.nKb=t(b,b.ke()&31);a.oJb=t(b,b.ke());},pasp:function(a,b){a.mHb=b.Na();a.YKb=b.Na();},sinf:q,frma:function(a,b){a.IFb=b.Cq(4);},schm:function(a,b){p(a,b);a.kpb=b.Cq(4);a.iKb=b.Na();a.Ke&1&&(a.hKb=b.L$());},schi:q,tenc:m,mvex:q,trex:function(a,b){p(a,b);a.eb=b.Na();a.K5a=b.Na();a.iR=b.Na();a.fqa=b.Na();a.eqa=u(b);},traf:q,tfhd:function(a,b){var d;p(a,b);a.eb=b.Na();d=a.Ke;d&1&&(a.HEb=b.Qf());d&2&&(a.aKb=b.Na());d&8&&(a.iR=b.Na());d&16&&(a.fqa=b.Na());d&32&&(a.eqa=u(b));},saio:function(a,b){p(a,b);a.Ke&1&&(a.z_a=b.Na(),a.A_a=b.Na());for(var d=1<=a.version?8:4,f=b.Na(),c=[];f--;)c.push(b.mc(d));a.eBa=c;},mdat:function(a,b){a.data=b.wd(b.oj());},tkhd:function(a,b){var d;p(a,b);d=1<=a.version?8:4;a.Og=b.mc(d);a.modificationTime=b.mc(d);a.eb=b.Na();b.skip(4);a.duration=b.mc(d);b.skip(8);a.Cfb=b.Bb();a.zZa=b.Bb();a.volume=b.qV();b.skip(2);b.skip(36);a.width=b.fL();a.height=b.fL();},mdhd:function(a,b){var d;p(a,b);d=1<=a.version?8:4;a.Og=b.mc(d);a.modificationTime=b.mc(d);a.Oba=b.Na();a.duration=b.mc(d);d=b.Bb();a.language=String.fromCharCode((d>>10&31)+96)+String.fromCharCode((d>>5&31)+96)+String.fromCharCode((d&31)+96);b.skip(2);},mfhd:function(a,b){p(a,b);a.mKb=b.Na();},tfdt:function(a,b){p(a,b);a.VH=b.mc(1<=a.version?8:4);8==b.oj()&&b.skip(8);},saiz:function(a,b){p(a,b);a.Ke&1&&(a.z_a=b.Na(),a.A_a=b.Na());for(var d=b.ke(),f=b.Na(),c=[];f--;)c.push(d||b.ke());a.cKb=c;},trun:function(a,b){var d,f;p(a,b);d=b.Na();f=a.Ke;f&1&&(a.KFb=b.Na());f&4&&(a.FGb=u(b));for(var c=[],k;d--;)k={},f&256&&(k.duration=b.Na()),f&512&&(k.size=b.Na()),f&1024&&(k.Ke=b.Na()),f&2048&&(k.nFb=b.Na()),c.push(k);a.Jn=c;},sdtp:function(a,b){p(a,b);for(var d=[];0<b.oj();)d.push(h({},b.ke()));a.Jn=d;},"4E657466-6C69-7850-6966-665374726D21":function(a,b){p(a,b);a.fileSize=b.Qf();a.Oba=b.Qf();a.duration=b.Qf();a.kya=b.Qf();a.qKb=b.Qf();1<=a.version&&(a.JIb=b.Qf(),a.KIb=b.Na(),a.lya=b.Qf(),a.Qra=b.Na(),a.Ara=b.kw());},"A2394F52-5A9B-4F14-A244-6C427C648DF4":function(a,b){p(a,b);a.Ke&1&&(a.tEb=b.mc(3),a.WHb=b.ke(),a.kfb=b.kw());a.YJb=b.Na();a.y_a=b.wd(b.oj());},"4E657466-6C69-7846-7261-6D6552617465":function(a,b){p(a,b);a.EU=b.Na();a.EI=b.Bb();},"8974DBCE-7BE7-4C51-84F9-7148F9882554":m,"636F6D2E-6E65-7466-6C69-782E6974726B":q,"636F6D2E-6E65-7466-6C69-782E68696E66":function(a,b){p(a,b);a.Hna=b.kw();a.Og=b.Qf();a.M=b.Qf();a.Bn=b.Qf();a.FV=b.Bb();a.GV=b.Bb();a.mfb=b.wd(16);a.nsb=b.wd(16);},"636F6D2E-6E65-7466-6C69-782E76696E66":function(a,b){p(a,b);a.UEb=b.wd(b.oj());},"636F6D2E-6E65-7466-6C69-782E6D696478":function(a,b){var d;p(a,b);a.Epb=b.Qf();d=b.Na();a.xd=[];for(var f=0;f<d;f++)a.xd.push({duration:b.Na(),size:b.Bb()});},"636F6D2E-6E65-7466-6C69-782E69736567":q,"636F6D2E-6E65-7466-6C69-782E73696478":function(a,b){var d;p(a,b);a.Hna=b.kw();a.duration=b.Na();d=b.Na();a.Jn=[];for(var f=0;f<d;f++)a.Jn.push({Fi:b.Na(),duration:b.Na(),LU:b.Bb(),MU:b.Bb(),fW:b.Bb(),gW:b.Bb(),bq:b.Qf(),sD:b.Na()});},"636F6D2E-6E65-7466-6C69-782E73656E63":function(a,b){var d,f,k,m;p(a,b);d=b.Na();f=b.ke();a.Jn=[];for(var c=0;c<d;c++){k=b.ke();m=k>>6;k=k&63;0!=m&&0===k&&(k=f);a.Jn.push({dra:m,Fv:b.wd(k)});}}};g.T={IJb:function(a,b){a=new A(a);b&&a.seek(b);return f(a);},J$:function(a,b){var d;if(!a)throw Error("mp4-badinput");a=new A(a);d=[];for(b&&a.seek(b);b=f(a);)d.push(b);return d;}};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.vda="ChunkMediaSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.wga="MediaHttpSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.dia="PrefetchEventsConfigSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.yja="WindowUtilsSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Pga="NfCryptoSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Vfa="LogDisplayConfigSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.lea="DxManagerSymbol";c.kea="DxManagerProviderSymbol";},function(g,c,a){var f,q,p,d,k;function b(a,b,f){this.pc=a;this.is=b;this.prefix=f;this.XK=this.cm=!1;this.moa=new d.aSa(b);}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);q=a(22);p=a(21);d=a(610);k=a(8);c.LGa="position:fixed;left:0px;top:0px;right:0px;bottom:100px;z-index:1;background-color:rgba(255,255,255,.65)";c.MGa="position:fixed;left:100px;top:30px;right:100px;bottom:210px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";c.NGa="position:fixed;left:100px;right:100px;height=30px;bottom:130px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";c.DF="";b.prototype.show=function(){this.cm||(this.h2a(),this.rC&&k.Nd.body.appendChild(this.rC),this.Zg&&k.Nd.body.appendChild(this.Zg),this.XH&&k.Nd.body.appendChild(this.XH),this.$z&&k.Nd.getElementsByTagName("head")[0].appendChild(this.$z),this.cm=!0,this.refresh());};b.prototype.rD=function(){this.cm&&(this.Zg&&k.Nd.body.removeChild(this.Zg),this.XH&&k.Nd.body.removeChild(this.XH),this.rC&&k.Nd.body.removeChild(this.rC),this.$z&&k.Nd.getElementsByTagName("head")[0].removeChild(this.$z),this.$z=this.hM=this.rC=this.XH=this.Zg=void 0,this.cm=!1);};b.prototype.toggle=function(){this.cm?this.rD():this.show();};b.prototype.jtb=function(){(this.XK=!this.XK)||this.refresh();};b.prototype.A$a=function(a){return"table."+a+'-display-table {border-collapse:collapse;font-family:"Lucida Console", Monaco, monospace;font-size:small}'+("table."+a+"-display-table tr:nth-child(2n+2) {background-color: #EAF3FF;}")+("table."+a+"-display-table tr:nth-child(2n+3) {background-color: #fff;}")+("table."+a+"-display-table tr:nth-child(0n+1) {background-color: lightgray;}")+("table."+a+"-display-table, th, td {padding: 2px;text-align: left;vertical-align: top;border-right:solid 1px gray;border-left:solid 1px gray;}")+("table."+a+"-display-table, th {border-top:solid 1px gray;border-bottom:solid 1px gray}")+("span."+a+"-display-indexheader {margin-left:5px;}")+("span."+a+"-display-indexvalue {margin-left:5px;}")+("span."+a+"-display-keyheader {margin-left:5px;}")+("span."+a+"-display-keyvalue {margin-left:5px;}")+("span."+a+"-display-valueheader {margin-left:5px;}")+("ul."+a+"-display-tree {margin-top: 0px;margin-bottom: 0px;margin-right: 5px;margin-left: -20px;}")+("ul."+a+"-display-tree li {list-style-type: none; position: relative;}")+("ul."+a+"-display-tree li ul {display: none;}")+("ul."+a+"-display-tree li.open > ul {display: block;}")+("ul."+a+"-display-tree li a {color: black;text-decoration: none;}")+("ul."+a+"-display-tree li a:before {height: 1em;padding: 0 .1em;font-size: .8em;display: block;position: absolute;left: -1.3em;top: .2em;}")+("ul."+a+"-display-tree li > a:not(:last-child):before {content: '+';}")+("ul."+a+"-display-tree li.open > a:not(:last-child):before {content: '-';}")+("div."+a+"-display-div {float:right;display:flex;align-items:center;height:30px;width:130px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("button."+a+"-display-btn {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("select."+a+"-display-select {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("ul."+a+"-display-item-inline {margin:0;padding:0}")+("."+a+"-display-btn:hover, ."+a+"-display-btn:focus, ."+a+"-display-btn:active {background: none repeat scroll 0 0 #B8BFC7 !important; }")+("button."+a+"-display-btn-inline {float:right;display:inline-block;height:20px;width:40px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:12px;border-style:none;padding:0;color:palevioletred;background:rgba(0,0,0,0)}")+("."+a+"-display-btn-inline:hover, ."+a+"-display-btn-inline:focus, ."+a+"-display-btn-inline:active {background: none repeat scroll 0 0 #B8BFC7 !important; }");};b.prototype.h2a=function(){var a;a=this;this.$z=k.Nd.createElement("style");this.$z.type="text/css";this.$z.innerHTML=this.A$a(this.prefix);this.XH=this.pc.createElement("div",c.LGa,void 0,{"class":this.prefix+"-display-blur"});this.Zg=this.pc.createElement("div",c.MGa,void 0,{"class":this.prefix+"-display"});this.rC=this.pc.createElement("div",c.NGa,void 0,{"class":this.prefix+"-display"});this.Msa().forEach(function(b){return a.rC.appendChild(b);});};b.prototype.i2a=function(a){a=this.pc.createElement("div","",a,{"class":this.prefix+"-display-tree1"});for(var b=a.querySelectorAll("ul."+this.prefix+"-display-tree a:not(:last-child)"),d=0;d<b.length;d++)b[d].addEventListener("click",function(a){var b,d;if(a=a.target.parentElement){b=a.classList;if(b.contains("open")){b.remove("open");try{d=a.querySelectorAll(":scope .open");for(a=0;a<d.length;a++)d[a].classList.remove("open");}catch(x){}}else b.add("open");}});return a;};b.prototype.refresh=function(){var a;a=this;return!this.cm||this.XK?Promise.resolve():this.qAa().then(function(b){if(b&&(b=a.i2a(b),a.Zg)){a.hM&&(a.Zg.removeChild(a.hM),a.hM=void 0);a.hM=b;a.Zg.appendChild(a.hM);b=a.Zg.querySelectorAll("button."+a.prefix+"-display-btn-inline");for(var d=0;d<b.length;++d)b[d].addEventListener("click",a.$Aa);(b=a.Zg.querySelector("#"+a.prefix+"-display-close-btn"))&&b.addEventListener("click",function(){a.toggle();});}});};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(q.df)),g.__param(1,f.l(p.we)),g.__param(2,f.dh())],a);c.cO=a;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.jea="DxDisplaySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.uZ={WJ:"keepAlive",splice:"splice"};c.yha="PboEventSenderSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Yha="PlaydataConfigSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.wha="PboCachedPlaydataSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Aha="PboLicenseResponseTransformerSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.zha="PboLicenseRequestTransformerSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Jha="PboReleaseLicenseCommandSymbol";},function(g,c,a){var d,k,m,t,u,h;function b(a){var b;a=new m.CA(a);if(1481462272!=a.Na())throw Error("Invalid header");b={XMR:{Version:a.Na(),RightsID:a.cf(16)}};f(a,b.XMR,a.buffer.length);return b;}function f(a,b,d){var c,k,g,m,t;for(;a.position<d;){c=a.Bb();k=a.Na();k=k-8;switch(c){case 1:g="OuterContainer";break;case 2:g="GlobalPolicy";break;case 3:g="MinimumEnvironment";break;case 4:g="PlaybackPolicy";break;case 5:g="OutputProtection";break;case 6:g="UplinkKID";break;case 7:g="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:g="AnalogVideoOutputConfiguration";break;case 9:g="KeyMaterial";break;case 10:g="ContentKey";break;case 11:g="Signature";break;case 12:g="DeviceIdentification";break;case 13:g="Settings";break;case 18:g="ExpirationRestriction";break;case 42:g="ECCKey";break;case 48:g="ExpirationAfterFirstPlayRestriction";break;case 50:g="PlayReadyRevocationInformationVersion";break;case 51:g="EmbeddedLicenseSettings";break;case 52:g="SecurityLevel";break;case 54:g="PlayEnabler";break;case 57:g="PlayEnablerType";break;case 85:g="RealTimeExpirationRestriction";break;default:g="Other";}m={Type:q(c)};t=b[g];t?h.isArray(t)?t.push(m):(b[g]=[],b[g].push(t),b[g].push(m)):b[g]=m;switch(c){case 1:case 2:case 4:case 7:case 9:case 54:f(a,m,a.position+k);break;case 5:m.Reserved1=a.Bb();m.MinimumUncompressedDigitalVideoOutputProtectionLevel=a.Bb();m.MinimumAnalogVideoOutputProtectionLevel=a.Bb();m.Reserved2=a.Bb();m.MinimumUncompressedDigitalAudioOutputProtectionLevel=a.Bb();break;case 10:m.Reserved=a.cf(16);m.SymmetricCipherType=a.Bb();m.AsymmetricCipherType=a.Bb();k=a.Bb();m.EncryptedKeyLength=k;c=a.cf(k);m.EncryptedKeyData=10>=k?c:c.substring(0,4)+"..."+c.substring(c.length-4,c.length);break;case 11:m.SignatureType=a.cf(2);k=a.Bb();c=a.cf(k);m.SignatureData=10>=k?c:c.substring(0,4)+"..."+c.substring(c.length-4,c.length);break;case 13:m.Reserved=a.Bb();break;case 18:m.BeginDate=a.Na();m.EndDate=a.Na();break;case 42:m.CurveType=a.cf(2);k=a.Bb();c=a.cf(k);m.Key=10>=k?c:c.substring(0,4)+"..."+c.substring(c.length-4,c.length);break;case 48:m.ExpireAfterFirstPlay=a.Na();break;case 50:m.Sequence=a.Na();break;case 51:m.LicenseProcessingIndicator=a.Bb();break;case 52:m.MinimumSecurityLevel=a.Bb();break;case 57:m.PlayEnablerType=p(a.cf(16));break;case 85:break;default:m.OtherData=a.cf(k);}}}function q(a){return"0x"+a.toString(16);}function p(a){return a.substring(6,8)+a.substring(4,6)+a.substring(2,4)+a.substring(0,2)+"-"+a.substring(10,12)+a.substring(8,10)+"-"+a.substring(14,16)+a.substring(12,14)+"-"+a.substring(16,20)+"-"+a.substring(20,32);}Object.defineProperty(c,"__esModule",{value:!0});d=a(9);k=a(4);m=a(131);t=a(124);u=a(192);h=a(16);c.VFb=function(a,f,c){switch(f){case d.LX:a&&(a=k.O_a(a),u.BEa(a,function(a){a.W&&(a=a.object)&&(a=t.X$a(a,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License"))&&(a=t.Vkb(a))&&(a=k.Mk(a))&&(a=b(a))&&c(a);}));}};c.WFb=b;c.XFb=f;c.ZFb=q;c.YFb=p;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.uha="PboAcquireLicenseCommandSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Dha="PboManifestCommandSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Xea="HttpRequesterSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Jea="FtlDataParserSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Oga="NetworkMonitorSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.zja="XhrFactorySymbol";},function(g,c,a){var f,q,p,d,k,m,t,u,h;function b(a){this.config=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(148);q=a(75);p=a(18);d=a(2);k=a(14);m=a(8);t=a(16);u=a(1);a=a(17);b.prototype.construct=function(a,b){var d,f,c;d=this;f={};a.forEach(function(a){var b;b=a.url;f[b]||(f[b]=[]);f[b].push(a);});c=[];p.Uc(f,function(a,f){c.push(d.wcb(f,b));});return{urls:c};};b.prototype.wcb=function(a,b){var d,f,c,k;d=this;f=a[0];c={url:f.url,bitrate:f.P,cdnid:t.Ze(f.Wb)?f.Wb.id:f.Wb,dltype:f.A6a,id:f.Tc};k={};a.forEach(function(a){var b;b=d.yeb(a)?"fail":"success";k[b]||(k[b]=[]);k[b].push(a);});p.Uc(k,function(a,f){"fail"===a?c.failures=d.qab(f,b):"success"===a&&(c.downloads=d.gab(f,b));});return c;};b.prototype.gab=function(a,b){var d,f,c;d=this;f={};a.forEach(function(a){var b;b=a.F1a;f[b]||(f[b]=[]);f[b].push(a);});c=[];p.Uc(f,function(a,f){var k;k=[];f.forEach(function(f){k.push(f);d.seb(f)&&(c.push(d.Qsa(k,b,a)),k=[]);});0<k.length&&c.push(d.Qsa(k,b,a));});return c;};b.prototype.Qsa=function(a,b,d){var t;for(var f=a.sort(function(a,b){return a.rj.gg<b.rj.gg?-1:a.rj.gg>b.rj.gg?1:0;}),c=f[0].rj,k=c.requestTime,g=c.gg,c=c.ol,m=1;m<a.length;m++){t=a[m].rj;t.requestTime<k&&(k=t.requestTime);t.gg<g&&(g=t.gg);t.ol>c&&(c=t.ol);}m=this.Dbb(f);t=f[f.length-1];return{time:k-b,tcpid:d?parseInt(d):-1,tresp:g-k,first:m,ranges:this.Ebb(f,m),dur:c-g,trace:this.ocb(a),status:this.GS(t)};};b.prototype.Dbb=function(a){var b;b=0;a.forEach(function(a){a.Bq&&(b=m.Zn(b,a.Bq[0]));});return b;};b.prototype.Ebb=function(a,b){var d;d=[];a.forEach(function(a){a.Bq?d.push([a.Bq[0]-b,a.Bq[1]-b]):d.push([0,-1]);});return d;};b.prototype.ocb=function(a){var b,d;b=[];a.forEach(function(a){var f;a=a.rj;if(d){f=a.requestTime-d.ol;0<f&&b.push([f,-2]);f=m.Bm(d.ol,a.requestTime);f=a.gg-f;0<f&&b.push([f,-3]);}b.push([a.ol-a.gg,a.Uu||0]);d=a;});return b;};b.prototype.seb=function(a){if(a.Y===d.u.Ot||a.Y===d.u.Ww)return!0;};b.prototype.GS=function(a){if(a.W)return"complete";if(a.Y===d.u.Ot)return"abort";if(a.Y===d.u.Ww)return"stall";k.Ga(!1,"download status should never be: other");return"other";};b.prototype.qab=function(a,b){var d,c;d=this;c=[];a.forEach(function(a){var k;k=a.rj;a={time:k.gg-b,tresp:k.gg-k.requestTime,dur:k.ol-k.gg,range:a.Bq,reason:d.Fbb(a),httpcode:a.Wh,nwerr:f.rta(a.Y)};c.push(a);});return c;};b.prototype.Fbb=function(a){return a.Wh||a.Y===d.u.TF?"http":a.Y===d.u.UF?"timeout":"network";};b.prototype.yeb=function(a){return a.W||void 0===a.W||a.Y===d.u.Ot||a.Y===d.u.Ww?!1:!0;};b.prototype.v2a=function(a){var b,d,f,c,k,g;b=a.request;d=b.stream;f=b.track;c=b.url;k=this.dab(f,c);switch(k){case q.mg.audio:case q.mg.video:g=b.stream.Tc;break;case q.mg.yW:case q.mg.cca:g=f.Tc;}a={P:d&&d.P,A6a:k,Tc:g,rj:a.rj,Wb:b.Wb,url:c,Hc:a.Hc,Wh:a.Wh,Y:a.Y,W:a.W,F1a:this.J8a(a)};void 0!==b.offset&&void 0!=b.length&&(a.Bq=[b.offset,b.offset+b.length-1]);return a;};b.prototype.dab=function(a,b){if(a)return a.type;if(0<=b.indexOf("netflix.com")){if(0<=b.indexOf("nccp"))return"nccp";if(0<=b.indexOf("api"))return"api";}return"other";};b.prototype.J8a=function(a){if(a.headers&&(a=a.headers["X-TCP-Info"]||a.headers["x-tcp-info"]))return(a=a.split(";").filter(function(a){return 0==a.indexOf("port=");}).map(function(a){return a.split("=")[1];})[0])?p.Ud(a):a;};h=b;h=g.__decorate([u.N(),g.__param(0,u.l(a.ld))],h);c.PIa=h;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.dea="DownloadReportBuilderSymbol";},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(35);c.JX=function(a,c){this.H6a=a;this.size=c.jva()?b.Ff:c;};},function(g,c,a){var f,q,p,d,k,m,t,u,h,A,K,x,G,M,l,n,W,D,U,Q,r,Z,ea,X;function b(a,b,d,f,c,g,t,y,A,R,T,Q,r,ia,E,C,P,Ra){var O;O=this;this.j=a;this.ot=b;this.ZCa=f;this.HQ=c;this.Ah=g;this.T8=t;this.B4=y;this.gl=A;this.Xd=R;this.yR=T;this.Jd=Q;this.config=r;this.Kc=ia;this.Sa=E;this.ya=C;this.platform=P;this.fK=Ra;this.lM=[];this.fib=this.pT=this.EAa=0;this.MC=[];this.Ps=function(a,b){return function(d){var f;f=b(d);if("number"!==typeof f)throw Error("Event "+JSON.stringify(d)+" does not have manifestIndex");f===O.ba&&a(d);};};this.bl=this.Ps(function(a){O.uCa(a.xD);},function(a){return a.index;});this.OD=this.Ps(function(){O.J1a();},function(a){return a.index;});this.cF=function(){O.vc(Z.Ie.RRa,!1,X.hh|X.kg,{track:O.j.wc.value.eg});};this.gDa=function(a){a.newValue&&O.kl&&(a={track:a.newValue.eg},O.Hy(a,O.j.Me.value&&O.j.Me.value.stream,O.j.Af.value&&O.j.Af.value.stream),O.vc(Z.Ie.SRa,!1,X.hh|X.kg,a));};this.Xm=function(a){O.vc(Z.Ie.ZFa,!1,X.hh|X.kg,a.newValue);};this.wqa=function(){var a,b,d;if(O.j.Ei)try{a=!1;O.oa%O.config().II&&!O.j.ER&&(a=!0,O.MC=O.MC.filter(function(a){return!a.W;}));if(0<O.MC.length){b=O.yR.construct(O.MC,O.j.jl.ea(h.ma));O.MC=[];b.erroronly=a;d={};u.Uc(b,function(a,b){d[a]=JSON.stringify(b);});O.vc(Z.Ie.NIa,!1,X.kg,d);}}catch(qc){O.log.error("Exception in dlreport.",qc);}};this.nxa=function(){var a,b;if(O.j.state.value==U.jb.$c){a=O.hza();O.config().Y$&&(a.avtp=O.fA.Xk().eA,O.j.rl&&O.eT(a));a.midplayseq=O.fib++;b=O.j.Eb.value;a.prstate=b===U.hb.ad?"playing":b===U.hb.oi?"paused":b===U.hb.ar?"ended":"waiting";O.config().Rpb&&O.GCa("midplay");O.config().En&&O.Kc()&&O.d7(a);O.b7(a);O.c7(a);O.vc(Z.Ie.mNa,!1,X.hh|X.kg|X.Ft|X.XN,a);}};this.vja=/-?l(\d\d)/i;this.Gqa=this.Ps(function(a){O.MC.push(O.yR.v2a(a.response));},function(a){return a.ba;});this.xqa=this.Ps(function(a){var b,d,f,c,g,m;a=a.response;b=a.request;d=a.request.Jo;f=b.track;if(f){c=!a.W&&a.Y!=K.u.Ot;g=f.type;m=a.rj;if(c||O.ot.f8){d={dltype:g,url1:b.url,url2:a.url||"",cdnid:b.Wb&&b.Wb.id,tresp:u.Wl(m.gg-m.requestTime),brecv:u.H9a(m.Uu),trecv:u.Wl(m.ol-m.gg),sbr:d&&d.P};a.Bq&&(d.range=a.Bq);switch(g){case k.mg.audio:d.adlid=b.stream.Tc;break;case k.mg.video:d.vdlid=b.stream.Tc;break;case k.mg.yW:d.ttdlid=f.Tc;}(b=ea.rta(a.Y))&&(d.nwerr=b);a.Wh&&(d.httperr=a.Wh);O.vc(Z.Ie.OIa,c,X.kg,d);}}},function(a){return a.ba;});this.jj=function(){O.vc(Z.Ie.$Fa,!1,X.hh|X.Ft,{browserua:W.Oj});};this.Yoa=this.Ps(function(a){var b,d,f;a=a.response;b=a.rj;d=h.Db(b.gg);f=h.Db(b.ol);b=G.aa(b.Uu||0);b.zva()||b.jva()||(d=new M.qia(d,f),O.fA.eQ(new l.JX(d,b)),a&&a.request&&a.request.Jo&&a.request.Jo.Fb&&O.HQ.eQ(new n.UGa(d,b,a.request.Jo.Fb)));},function(a){return a.ba;});this.Sya=function(a){var b;b=a.newValue;a.Wu&&a.Wu.y9&&b||b==O.L7||(O.Frb(O.L7,b),O.L7=b);};this.ko=function(a){function b(a){var b;if(O.j.xb&&O.j.xb.sourceBuffers){b=O.j.xb.sourceBuffers.filter(function(b){return b.type===a;}).pop();if(b)return{busy:b.nj(),updating:b.updating(),ranges:b.tS()};}}O.BE="rebuffer";a={cause:a.cause};a.cause&&a.cause===p.Oha&&(a.mediaTime=O.j.Qb.value,a.buf_audio=b(q.TY),a.buf_video=b(q.aG));O.oeb(O.lM[U.hb.ad]||0,O.lM[U.hb.oi]||0,a);O.uF=O.getTime();D.Ab(O.JQ);};this.qDa=function(a){var b;a=a.oldValue;b=O.getTime();a===U.hb.Tf?O.lM=[]:O.lM[a]=(O.lM[a]||0)+(b-O.wfb);O.wfb=b;};this.Fn=function(a){switch(a.cause){case U.ng.kx:case U.ng.bO:O.BE&&O.uF?O.Jlb(O.getTime()-O.uF,O.BE):O.kl||O.fza(),O.BE="repos",O.wob(a.FU,a.Af,a.Me),O.uF=O.getTime(),D.Ab(O.JQ);}};this.JQ=function(){var a;if(O.uF&&O.j.Eb.value!==U.hb.Tf){a=O.getTime()-O.uF;O.Rob(a,O.Ri);O.G7&&O.G7!=O.j.Nc.value&&O.m_a();O.uF=void 0;O.BE=void 0;O.Ri=void 0;}};this.KQ=this.Ps(function(){O.j.Eb.value===U.hb.ad&&(O.j.Eb.removeListener(O.KQ),O.wj());},function(){return O.j.ba;});this.OH=function(a){O.qfb=O.getTime();O.G7=a.oldValue;};this.wj=function(){O.kl||(O.kl=!0,O.zCa(!1),O.beb(),O.config().Rua&&(O.kT=J.setTimeout(function(){O.Ah.flush(!1)["catch"](function(){return O.log.warn("failed to flush logbatcher on initialLogFlushTimeout");});O.kT=void 0;},O.config().Rua)));};this.Ue=function(){O.kT&&(J.clearTimeout(O.kT),O.kT=void 0);if(O.config().II||O.config().HH)O.Y3&&(J.clearInterval(O.Y3),O.Y3=void 0),O.wqa();O.IDa&&O.IDa();O.kl?O.k8a(!!O.j.Yh):O.j.Yh?O.zCa(!0):O.fza();O.vpb||(O.vc=q.ne);};this.Soa=this.Ps(function(){O.Ue();},function(a){return a.manifestIndex;});this.nEa=function(a){a.oldValue&&a.Wu&&a.Wu.Joa&&O.q1a(a.oldValue,a.newValue,a.Wu.Joa,a.Wu.I_a);};this.Bza=function(a){var b;if(a.newValue){b=a.newValue.stream;O.M7!=b&&(O.M7&&O.lob(O.M7,b,a.newValue.Zm.startTime),O.M7=b);}};this.iq=this.Ps(function(a){function b(a,b){var d;if(!a||a.a8!==b.location){d={a8:b.location,gwa:b.locationlv,bqb:b.serverid,Vz:b.servername};O.d1a(a,b);return d;}}if("audio"===a.mediaType){if(a=b(O.pfb,a))O.pfb=a;}else if(a=b(O.XJ,a))O.XJ=a;},function(a){return a.manifestIndex;});this.ME=this.Ps(function(a){var b,d;b=a.mediatype;d=a.reason;"video"===b?"serverswitchaway"===d?(O.ah.summary.rEa++,O.ah.GT=O.Sa.Xe.ea(h.ma)):"serverswitchback"===d&&(O.ah.summary.sEa++,O.ah.GT&&(O.ah.summary.tEa.push(O.Sa.Xe.ea(h.ma)-O.ah.GT),O.ah.GT=void 0)):"audio"===b&&("serverswitchaway"===d?(O.ah.summary.Dna++,O.ah.BT=O.Sa.Xe.ea(h.ma)):"serverswitchback"===d&&(O.ah.summary.Ena++,O.ah.BT&&(O.ah.summary.Fna.push(O.Sa.Xe.ea(h.ma)-O.ah.BT),O.ah.BT=void 0)));O.vc(Z.Ie.hRa,!1,X.hh|X.kg,{mediatype:a.mediatype,server:a.server,selreason:a.reason,location:a.location,bitrate:a.bitrate,confidence:a.confidence,throughput:a.throughput,oldserver:a.oldserver});},function(a){return a.manifestIndex;});this.eC=function(a){O.vc(Z.Ie.KEa,!1,X.kg,{strmsel:a.strmsel});};this.dC=function(a){O.vc(Z.Ie.JEa,!1,X.kg,{msg:a.msg});};this.YE=function(a){a=x.JL(a);a.details&&(a.details=JSON.stringify(a.details));O.vc(Z.Ie.yRa,!0,X.hh|X.ZA|X.aN,a);};this.Zjb=function(){O.Ah.flush(!0)["catch"](function(){return O.log.warn("failed to flush logbatcher on midplay interval");});};this.fA=f();this.log=m.bg(a,"LogblobBuilder");this.L7=a.paused.value;this.ba=b.ba;this.oa=this.ot.oa;this.ah={summary:{rEa:0,sEa:0,tEa:[],Dna:0,Ena:0,Fna:[]},GT:void 0,BT:void 0};this.Bc();d&&this.uCa();}Object.defineProperty(c,"__esModule",{value:!0});f=a(49);q=a(9);p=a(57);d=a(28);k=a(75);m=a(4);t=a(14);u=a(18);h=a(3);A=a(61);K=a(2);x=a(19);G=a(35);M=a(337);l=a(323);n=a(643);W=a(8);D=a(45);U=a(15);Q=a(16);r=a(642);Z=a(641);ea=a(148);b.prototype.Bc=function(){this.j.addEventListener(U.S.bl,this.bl);this.j.addEventListener(U.S.OD,this.OD);this.j.addEventListener(U.S.iq,this.iq);this.j.addEventListener(U.S.ME,this.ME);this.j.addEventListener(U.S.Ue,this.Soa);this.j.addEventListener(U.S.Zu,this.xqa,q.kZ);if(this.config().II||this.config().HH)this.j.addEventListener(U.S.Zu,this.Gqa),this.Y3=J.setInterval(this.wqa,this.config().G6a);this.config().Y$&&this.j.addEventListener(U.S.Zu,this.Yoa);};b.prototype.uCa=function(a){var b;b=this;this.xxa||(this.j.Eb.value!==U.hb.ad||(void 0===a?0:a)?this.j.Eb.addListener(this.KQ):this.wj(),this.j.Di.addListener(this.gDa),this.j.Nc.addListener(this.OH),this.j.paused.addListener(this.Sya),this.j.Me.addListener(this.Bza),this.j.Eb.addListener(this.JQ),this.j.Eb.addListener(this.KQ),this.j.Eb.addListener(this.qDa),this.j.ve.addListener(this.nEa),this.j.addEventListener(U.S.jj,this.jj),this.j.addEventListener(U.S.dC,this.dC),this.j.addEventListener(U.S.eC,this.eC),this.j.addEventListener(U.S.YE,this.YE),this.j.addEventListener(U.S.ko,this.ko),this.j.addEventListener(U.S.Fn,this.Fn),this.j.addEventListener(U.S.cF,this.cF),this.j.addEventListener(U.S.Ri,function(){b.Ri=!0;}),this.ot.Xm&&this.ot.Xm.addListener(this.Xm),this.config().ji&&(this.vpb=!0),this.xxa=!0);};b.prototype.J1a=function(){this.Ue();this.xxa&&(this.j.removeEventListener(U.S.bl,this.bl),this.j.removeEventListener(U.S.OD,this.OD),this.j.removeEventListener(U.S.iq,this.iq),this.j.removeEventListener(U.S.ME,this.ME),this.j.Di.removeListener(this.gDa),this.j.Nc.removeListener(this.OH),this.j.paused.removeListener(this.Sya),this.j.Me.removeListener(this.Bza),this.j.Eb.removeListener(this.JQ),this.j.Eb.removeListener(this.KQ),this.j.Eb.removeListener(this.qDa),this.j.ve.removeListener(this.nEa),this.j.removeEventListener(U.S.Zu,this.xqa),this.j.removeEventListener(U.S.Ue,this.Soa),this.j.removeEventListener(U.S.jj,this.jj),this.j.removeEventListener(U.S.dC,this.dC),this.j.removeEventListener(U.S.eC,this.eC),this.j.removeEventListener(U.S.YE,this.YE),this.j.removeEventListener(U.S.ko,this.ko),this.j.removeEventListener(U.S.Fn,this.Fn),this.j.removeEventListener(U.S.cF,this.cF),this.ot.Xm&&this.ot.Xm.removeListener(this.Xm),this.j.removeEventListener(U.S.Zu,this.Gqa),this.j.removeEventListener(U.S.Zu,this.Yoa));};b.prototype.zCa=function(a){var b,f,t,p,q,y,x,K,G,M,l,R,n,T,D,O,ia,ea,E,C,P,bc,S;b={};try{b={browserua:W.Oj,browserhref:location.href,playdelaysdk:u.Wl(this.j.voa()),applicationPlaydelay:u.Wl(this.j.C0a()),playdelay:u.Wl(this.j.I0a()),trackid:this.j.bh,bookmark:u.Wl(this.j.Xx||0),pbnum:this.j.index,endianness:d.lab()};this.config().E7a&&(b.transitiontime=this.j.um,b.uiplaystarttime=this.j.Ya.EW,b.playbackrequestedat=this.j.jl.ea(h.ma),b.clockgettime=this.getTime(),b.clockgetpreciseepoch=this.Sa.Xe.ea(h.ma),b.clockgetpreciseappepoch=this.ya.Vy.ea(h.ma),b.absolutestarttime=this.j.qS(),b.relativetime=this.j.Y5());this.j5(b,"startplay");}catch(Za){this.log.error("error in startplay log fields",Za);}this.j.jj&&(b.blocked=this.j.jj);this.config().endpoint||(b.configendpoint="error");this.j.Of&&(b.playbackcontextid=this.j.Of);this.Iua(b);if(this.config().WW&&this.j.Ya.xca){for(var c={},k=Object.keys(this.j.Ya.xca),g,m=k.length;m--;)g=k[m],c[g.toLowerCase()]=this.j.Ya.xca[g];b.vui=c;}Q.pa(this.j.doa)&&(b.bookmarkact=u.Wl(this.j.doa));(c=this.j.Cc.at&&this.j.Cc.ats?this.j.Cc.at-this.j.Cc.ats:void 0)&&(b.nccpat=c);(c=this.j.Cc.lr&&this.j.Cc.lc?this.j.Cc.lr-this.j.Cc.lc:void 0)&&(b.nccplt=c);(c=this.L6a())&&(b.downloadables=c);J._cad_global.device&&Q.Tb(J._cad_global.device.ZC)&&(b.esnSource=J._cad_global.device.ZC);(c=J._cad_global.platformExtraInfo)&&u.Wa(b,c,{prefix:"pi_"});(c=W.tk&&W.tk.connection&&W.tk.connection.type)&&(b.nettype=c);this.j.Ym&&this.j.Ym.initBitrate&&(b.initvbitrate=this.j.Ym.initBitrate);this.j.Ym&&this.j.Ym.selector&&(b.selector=this.j.Ym.selector);b.fullDlreports=this.j.Wqa;if(this.j.state.value>=U.jb.$c)try{t=this.j.oo();t&&(this.xn=d.Tca(t.map(function(a){return a.P;})),this.Uwa=d.Tca(t.map(function(a){return a.height;})),f=0<t.length?r.ihb(t,function(a){return a.P;}):void 0,b.maxbitrate=this.xn,b.maxresheight=this.Uwa);}catch(Za){this.log.error("Exception computing max bitrate",Za);}try{p=d.ES();p&&(b.pdltime=p);}catch(Za){}try{u.Wa(b,this.j.Cc,{prefix:"sm_"});u.Wa(b,this.j.NS(),{prefix:"vd_"});}catch(Za){}"undefined"!==typeof nrdp&&nrdp.device&&(b.firmware_version=nrdp.device.firmwareVersion);a&&this.j.Uo&&(b.pssh=this.j.Uo);this.j.jf&&this.j.jf.fk&&this.j.jf.fk.keySystem&&(b.keysys=this.j.jf.fk.keySystem);if(this.config().En&&this.Kc())try{t={};q=this.Kc().getStats(void 0,void 0,this.j.M);y=this.j.qS();x=q.Bw.Y1a;t.attempts=q.xza||0;t.num_completed_tasks=x.length;K=this.Xd.$8a;p={};G=A.Zc.xe.Hia;M=A.Zc.xe.Mt;l=A.Zc.xe.$M;R=A.Zc.xe.BF;n=A.Zc.xe.ZM;q.Hi&&(p.scheduled=q.Hi-y);T=this.j.Ja;T&&Q.Tb(T.Oz)&&(p.preauthsent=T.Oz-this.j.af,p.preauthreceived=T.xE-this.j.af);D=x.filter(K("type","manifest"));t.mf_succ=D.filter(K("status",G)).length;t.mf_fail=D.filter(K("status",M)).length;O=this.j.Cc;Q.Tb(O.lg)&&0>O.lg&&this.j.af&&(p.ldlsent=O.lc,p.ldlreceived=O.lr);ia=x.filter(K("type","ldl"));t.ldl_succ=ia.filter(K("status",G)).length;t.ldl_fail=ia.filter(K("status",M)).length;q=!0;if(!p.preauthreceived||0<=p.preauthreceived)q=!1;this.config().o4||(q=!1);ea=ia.filter(K("status",l)).length;E=ia.filter(K("status",R)).length;C=ia.filter(K("status",n)).length;this.config().o4&&0===ea+E+C&&(!p.ldlreceived||0<=p.ldlreceived)&&(q=!1);if(this.config().GR){P=this.j.Zl&&this.j.Zl.stats;if(P){if(P.cS&&(p.headersent=P.cS-this.j.af),P.IT&&(p.headerreceived=P.IT-this.j.af),P.oE&&(p.prebuffstarted=P.oE-this.j.af),P.cV&&(p.prebuffcomplete=P.cV-this.j.af),!p.prebuffcomplete||0<=p.prebuffcomplete)q=!1;}else q=!1;}bc=x.filter(K("type","getHeadersAndMedia"));t.hm_succ=bc.filter(K("status",G)).length;t.hm_fail=bc.filter(K("status",M)).length;u.Wa(b,t,{prefix:"pr_"});b.eventlist=JSON.stringify(p);b.prefetchCompleted=q;this.d7(b);}catch(Za){this.log.warn("error in collecting video prepare data",Za);}b.avtp=this.fA.Xk().eA;this.j.rl&&this.eT(b);if(this.j.wc.value)try{b.ttTrackFields=this.j.wc.value.eg;}catch(Za){}if(x=this.j.Nc&&this.j.Nc.value&&this.j.Nc.value.oc){S={};x.forEach(function(a){S[a.gf]=void 0;});b.audioProfiles=Object.keys(S);}this.e7(b);this.j.Ja&&"boolean"===typeof this.j.Ja.isSupplemental&&(b.isSupplemental=this.j.Ja.isSupplemental);b.headerCacheHit=!!this.j.Zl;this.j.Zl&&(b.headerCacheDataAudio=this.j.Zl.audio,b.headerCacheDataAudioFromMediaCache=this.j.Zl.audioFromMediaCache,b.headerCacheDataVideo=this.j.Zl.video,b.headerCacheDataVideoFromMediaCache=this.j.Zl.videoFromMediaCache);this.j.Ja&&(b.packageId=this.j.Ja.packageId);this.j.Ja&&this.j.Ja.choiceMap&&(b.hasChoiceMap=!0);this.config().Yra&&(b.forceL3WidevineCdm=!0);b.isNonMember=this.gl.Oy;this.jfb(f);this.ifb();this.Gua(this.j,b);this.Hua(this.j,b);this.Jy(this.j,b);this.Iy(this.j,b);this.b7(b);this.c7(b);this.Lua(b);this.Fua(b);this.Mua(b);this.vc(Z.Ie.qRa,a,X.hh|X.ZA|X.kg|X.XN|X.Ft|X.aN|X.SX,b);};b.prototype.Rob=function(a,b){b={playdelay:u.Wl(a),reason:this.BE,intrplayseq:this.pT-1,skipped:b};this.Jy(this.j,b);this.vc(Z.Ie.yQa,!1,X.hh|X.ZA|X.kg,b);"rebuffer"==this.BE&&this.j.il.VYa(Number(u.Wl(a)));};b.prototype.q1a=function(a,b,d,f){a={moff:u.sy(d),vbitrate:b.P,vbitrateold:a.P,vdlid:b.Tc,vdlidold:a.Tc,vheight:b.height,vheightold:a.height,vwidth:b.width,vwidthold:a.width,bw:f};this.Jy(this.j,a);this.Iy(this.j,a);this.vc(Z.Ie.YGa,!1,X.kg,a);};b.prototype.lob=function(a,b,d){a={moff:u.sy(d),vdlidold:a.Tc,vbitrateold:a.P};this.Jy(this.j,a);this.Iy(this.j,a);this.Hy(a,b,this.j.Af.value&&this.j.Af.value.stream);this.vc(Z.Ie.qQa,!1,X.kg,a);};b.prototype.fza=function(){var a,b;a={waittime:u.Wl(this.j.Y5()),abortedevent:"startplay",browserua:W.Oj,browserhref:location.href,trackid:this.j.bh};this.j.Of&&(a.playbackcontextid=this.j.Of);this.j.Ym&&this.j.Ym.initBitrate&&(a.initvbitrate=this.j.Ym.initBitrate);try{b=d.ES();b&&(a.pdltime=b);u.Wa(a,this.j.Cc,{prefix:"sm_"});}catch(va){}this.Z6(a,!0);this.Mua(a);this.e7(a);this.Jua(a);this.Hy(a,this.j.ve.value,this.j.ij.value);this.vc(Z.Ie.Wha,!1,X.hh|X.kg|X.Ft,a);};b.prototype.Jlb=function(a,b){a={waittime:u.Wl(a),abortedevent:"resumeplay",browserua:W.Oj,resumeplayreason:b};this.j.Of&&(a.playbackcontextid=this.j.Of);this.j.Ym&&this.j.Ym.initBitrate&&(a.initvbitrate=this.j.Ym.initBitrate);this.Hy(a,this.j.ve.value,this.j.ij.value);this.vc(Z.Ie.Wha,!1,X.hh|X.kg,a);};b.prototype.Frb=function(a,b){a={newstate:b?"Paused":"Playing",oldstate:a?"Paused":"Playing"};this.Jy(this.j,a);this.Iy(this.j,a);this.Hy(a,this.j.Me.value&&this.j.Me.value.stream,this.j.Af.value&&this.j.Af.value.stream);this.vc(Z.Ie.rRa,!1,X.hh|X.kg,a);};b.prototype.oeb=function(a,b,d){a=u.Wa({vdlid:this.j.ve.value.Tc,playingms:a,pausedms:b,intrplayseq:this.pT++},d);this.j5(a,"intrplay");b=this.j.Wb[f.tc.L.VIDEO].value;d=this.j.Wb[f.tc.L.AUDIO].value;a.cdnid=a.vcdnid=b&&b.id;a.acdnid=d&&d.id;a.locid=this.XJ&&this.XJ.a8;a.loclv=this.XJ&&this.XJ.gwa;a.avtp=this.fA.Xk().eA;this.j.rl&&(this.Z6(a,!0),this.eT(a),this.Kua(a));try{u.Wa(a,this.j.NS(),{prefix:"vd_"});}catch(wa){}this.Jy(this.j,a);this.Iy(this.j,a);this.Hy(a,this.j.Me.value&&this.j.Me.value.stream,this.j.Af.value&&this.j.Af.value.stream);this.vc(Z.Ie.zLa,!1,X.hh|X.kg,a);};b.prototype.wob=function(a,b,d){a={moffold:u.sy(a),reposseq:this.EAa++};this.Iy(this.j,a);this.Hy(a,d&&d.stream,b&&b.stream);this.vc(Z.Ie.uQa,!1,X.hh|X.kg,a);};b.prototype.m_a=function(){this.vc(Z.Ie.AFa,!1,X.hh|X.kg,{switchdelay:u.Wl(this.getTime()-this.qfb),newtrackinfo:this.j.Nc.value.eb,oldtrackinfo:this.G7.eb});};b.prototype.d1a=function(a,b){var d,f,c,k;d=b.serverid;f=b.serverrtt;c=b.serverbw;k={locid:b.location,loclv:b.locationlv,selocaid:d,selcdnid:d,selocaname:b.servername};k.mediatype=b.mediatype;k.selcdnrtt=f;k.selcdnbw=c;k.selreason=b.selreason||"unknown";k.testreason=b.testreason;k.fastselthreshold=b.fastselthreshold;k.seldetail=b.seldetail;k.cdnbwdata=JSON.stringify([{id:d,rtt:f,bw:c}]);a&&(k.oldlocid=a.a8,k.oldloclv=a.gwa,k.oldocaid=a.bqb,k.oldocaname=a.Vz);this.vc(Z.Ie.WGa,!1,X.aN,k);};b.prototype.GCa=function(a){var b,d;b={};b.trigger=a;try{d=this.j.S5();b.subtitleqoescore=this.j.Pn.ccb(d);b.metrics=JSON.stringify(this.j.Pn.h6(d));}catch(wa){this.log.error("error getting subtitle qoe data",wa);}this.vc(Z.Ie.ARa,!1,X.hh|X.Ft|X.ZA,b,"info");};b.prototype.transition=function(a){this.vc(Z.Ie.YRa,!1,0,a);};b.prototype.Sbb=function(a,b){if(a=a.uS())if(b=a[b])return b.om;};b.prototype.Gua=function(a,b){a.Ya.cg&&(b.isBranching=!0);};b.prototype.Hua=function(a,b){b.cachedManifest=a.Nu;b.cachedLicense=a.$x;};b.prototype.Jy=function(a,b){var d,f;if(this.config().Wdb){d=a.T5();if(d){b.segment=d;f=a.zy();b.segmenttime=f;a=this.Sbb(a,d);null!==f&&void 0!==a&&(b.segmentoffset=f-a);}}};b.prototype.Iy=function(a,b){b.pxid=a.$mb;};b.prototype.Kua=function(a){var b,d;b=this.j.J6;d=b&&b.vob;b&&b.Bua&&(a.htwbr=b.Bua,a.pbtwbr=b.UU,a.hptwbr=b.Adb);b&&b.bBa&&(a.rr=b.bBa,a.ra=b.hnb);b&&d&&0<(d.length||0)&&(a.qe=JSON.stringify(d));};b.prototype.e7=function(a){var b,d,f,c,k;b=this;d=this.j.Ef&&this.j.Ef.value&&this.j.Ef.value.oc;if(d){f=new Set();c=new Set();k=new Set();d.forEach(function(a){a=a.gf;f.add(a);c.add(a.replace(b.vja,""));(a=a.match(b.vja))&&0<a.length&&k.add(a[1]);});a.videoProfiles=[].concat(da(f));a.videoProfile=0===c.size?"none":[].concat(da(c))[0];a.videoProfileLevels=[].concat(da(k));}};b.prototype.Jua=function(a){var b,d,f;try{b=this.Xd.createElement("canvas");d=b.getContext("webgl")||b.getContext("experimental-webgl");if(d){f=d.getExtension("WEBGL_debug_renderer_info");f&&(a.WebGLRenderer=d.getParameter(f.UNMASKED_RENDERER_WEBGL),a.WebGLVendor=d.getParameter(f.UNMASKED_VENDOR_WEBGL));}}catch(N){}};b.prototype.Xdb=function(a){a.switchAwaySummary={vsa:this.ah.summary.rEa,vsb:this.ah.summary.sEa,vsbt:this.ah.summary.tEa,asa:this.ah.summary.Dna,asb:this.ah.summary.Ena,asbt:this.ah.summary.Fna};};b.prototype.k8a=function(a){var b,d,f,c,y;b=this;d=this.hza();this.j5(d,"endplay");d.browserua=W.Oj;this.j.At&&"downloaded"===this.j.At.GS()&&(d.trickplay_ms=this.j.sM.offset,d.trickplay_res=this.j.sM.KAa);this.config().fEa&&(d.rtinfo=this.j.Mbb());if(this.config().Y$){f=this.fA.Xk().eA;void 0!==d.avtp?d.avtp_retired=f:d.avtp=f;f=this.HQ.F$a().map(function(a){return{cdnid:a.Qu,avtp:a.eA,tm:a.Z3};});void 0!=d.cdnavtp?d.cdnavtp_retired=f:d.cdnavtp=f;this.j.rl&&this.eT(d);}this.Iua(d);d.endreason=a?"error":this.j.Eb.value===U.hb.ar?"ended":"stopped";f=J._cad_global.platformExtraInfo;this.Rdb(f);f&&u.Wa(d,f,{prefix:"pi_"});f=this.j.Yh;a&&f&&K.BJa(f.errorCode)&&(c="info");try{u.Wa(d,this.j.Cc,{prefix:"sm_"});}catch(eb){}this.j.Y6&&(d.inactivityTime=this.j.Y6);this.Z6(d,"info"!==c&&a);this.Kua(d);if(this.j.Yx){for(var f=this.j.Yx,k=this.config().hC,g=this.j.af,m={iv:k,seg:[]},t=function(a,b,d){return 0===b||void 0===d[b-1]?a:a-d[b-1];},p=f.Zr.map(t),t=f.Ct.map(t),q,h=0;h<p.length;h++){if(p[h]||t[h])q?(q.ams.push(p[h]),q.vms.push(t[h])):q={ams:[f.Zr[h]],vms:[f.Ct[h]],soffms:f.startTime+h*k-g};h!==p.length-1&&p[h]&&t[h]||!q||(m.seg.push(q),q=void 0);}d.bt=JSON.stringify(m);}if(this.j.aU&&0<this.j.aU.length){y=[];this.j.aU.forEach(function(a){y.push({soffms:a.time-b.j.af,maxvb:a.maxvb,maxvb_old:a.maxvb_old,spts:a.spts,reason:a.reason});});d.maxvbevents=y;}this.j.Nza&&(d.psdConservCount=this.j.Nza);a&&this.Jua(d);this.GCa("endplay");this.config().En&&this.Kc()&&this.d7(d);d.isNonMember=this.gl.Oy;this.e7(d);this.Gua(this.j,d);this.Hua(this.j,d);this.Jy(this.j,d);this.Iy(this.j,d);this.b7(d);this.c7(d);this.Lua(d);this.Sdb(d);this.Fua(d);this.Udb(d);this.Tdb(d);this.Xdb(d);this.vc(Z.Ie.yJa,a,X.hh|X.ZA|X.kg|X.Ft|X.XN|X.SX,d,c);};b.prototype.iUa=function(a){var b;b=[];return a?Object.keys(a).map(function(a){return+a;}):b;};b.prototype.L6a=function(){var a,b;a=this;if(this.j.Pq&&this.j.Um){b=[];this.j.Pq.concat(this.j.Um).forEach(function(d){d.oc.forEach(function(d){b.push({dlid:d.Tc,type:d.type,bitrate:d.P,vmaf:d.xc,cdn_ids:a.iUa(d.Rp)});});});return JSON.stringify(b);}};b.prototype.b1a=function(){var b,d,f;function a(a,b){var c,k,g;c=a.cdnId;k=f[c];g=a.vmaf;k||(k={cdnid:c,dls:[]},f[c]=k,d.push(k));t.xI(a.bitrate);t.xI(a.duration);c={bitrate:a.bitrate,tm:W.Lh(a.duration)};g&&(t.xI(a.vmaf),c.vf=g);c[b]=u.Ud(a.downloadableId);k.dls.push(c);}b=this.j.il.l$a();d=[];f={};b.audio.forEach(function(b){a(b,"adlid");});b.video.forEach(function(b){a(b,"dlid");});return JSON.stringify(d);};b.prototype.hza=function(){var a,b,d,f,c,k,g,m,p,y,A;a=this.j.il;b={totaltime:u.sy(a.vJ()),cdndldist:this.b1a(),reposcount:this.EAa,intrplaycount:this.pT};try{d={numskip:0,numlowqual:0};f=this.j.Ag;c=f.AS();Q.pa(c)&&(b.totfr=c,d.numren=c);c=f.xy();Q.pa(c)&&(b.totdfr=c,d.numrendrop=c);c=f.mJ();Q.pa(c)&&(b.totcfr=c,d.numrenerr=c);c=f.BS();Q.pa(c)&&(b.totfdl=c);b.playqualvideo=JSON.stringify(d);k=this.j.ve.value;k&&(b.videofr=k.mS.toFixed(3));g=a.ysa();g&&(b.abrdel=g);m=a.hdb()&&a.p$a();m&&(b.tw_vmaf=m);p=a.o$a();p&&u.Wa(b,p);b.rbfrs=this.pT;b.maxbitrate=this.xn;b.maxresheight=this.Uwa;for(var q=this.j.Fy(),h,a=0;a<q.length;a++){y=q[a];A=this.ot.pK.st(y);if(A){t.Ga(h);b.maxbitrate=h?h.P:0;b.maxresheight=h?h.height:0;b.bitratefilters=A.join("|");break;}h=y;}this.j.At&&(b.trickplay=this.j.At.GS());null!==this.j.Pn.Tna&&(b.avg_subt_delay=this.j.Pn.Tna);}catch(eb){this.log.error("Exception reading some of the endplay fields",eb);}u.Wa(b,this.j.NS(),{prefix:"vd_"});return b;};b.prototype.getTime=function(){return this.ya.Xb().ea(h.ma);};b.prototype.QV=function(a){a.browserua=W.Oj;this.vc(Z.Ie.bRa,!a.success,X.hh|X.Ft,a);this.vc=q.ne;};b.prototype.beb=function(){var a,b,d,f;a=this;d=[];if(this.config().dib){f={ixa:function(){},EBa:function(){a.nxa();}};this.Ah.addListener(f);this.config().eib.forEach(function(b){d.push(J.setTimeout(a.nxa,b));});this.config().oxa&&(b=J.setInterval(this.Zjb,this.config().oxa));this.IDa=function(){a.Ah.removeListener(f);d.forEach(function(a){J.clearTimeout(a);});b&&J.clearInterval(b);};}};b.prototype.d7=function(a){var b;try{b=this.Kc().getStats();a.pr_cache_size=JSON.stringify(b.cache);a.pr_stats=JSON.stringify(b.lsa);}catch(va){}};b.prototype.b7=function(a){this.log.debug("httpstats",this.Jd.Lb);u.Wa(a,this.Jd.Lb,{prefix:"http_"});};b.prototype.Z6=function(a,b){this.config().Vpa&&!(this.oa%this.config().Vpa)&&this.j.nb&&this.j.nb.l7&&(a.ASEstats=JSON.stringify(this.j.nb.l7(b)));};b.prototype.eT=function(a){Object.assign(a,this.j.rl.bf.kcb());};b.prototype.c7=function(a){var b;try{b=W.gr.memory;Q.Zeb(b)&&(a.totalJSHeapSize=b.totalJSHeapSize,a.usedJSHeapSize=b.usedJSHeapSize,a.jsHeapSizeLimit=b.jsHeapSizeLimit);}catch(va){}};b.prototype.Lua=function(a){var b;b=this.j.jf;this.config().V0a&&b&&!this.config().hp&&(a.keystatuses=this.j.gjb(b.UGb()),this.log.trace("keystatuses",a.keystatuses));};b.prototype.Fua=function(a){try{this.config().fI&&(a.battery=this.j.u$a(),this.log.trace("batterystatuses",a.battery));}catch(ca){}};b.prototype.Sdb=function(a){this.j.gR&&(a.dqec=this.j.gR);};b.prototype.Rdb=function(a){this.j.GQ&&u.Wa(a,{cast_interaction_counts:this.j.GQ.V0});};b.prototype.Mua=function(a){var b;b=this.j.Ya.lm;b&&b.isUIAutoPlay&&(a.isUIAutoPlay=!0);};b.prototype.Tdb=function(a){this.A4&&(a.externaldisplay=this.A4.$I);};b.prototype.Udb=function(a){this.Gw&&this.Gw.Sc&&(a.media_capabilities_smooth=this.Gw.Sc.rrb,a.media_capabilities_efficient=this.Gw.Sc.bmb,a.media_capabilities_bitrate=this.Gw.Sc.P,a.media_capabilities_height=this.Gw.Sc.height,a.media_capabilities_width=this.Gw.Sc.width);};b.prototype.Hy=function(a,b,d){d&&(a.adlid=d.Tc,a.abitrate=d.P);b&&(a.vdlid=b.Tc,a.vbitrate=b.P);};b.prototype.Iua=function(a){var b,d;if(this.j.mI){b=this.j.mI;b.UQ&&(a.controllerESN=b.UQ);b.r2a&&(a.controllerUiVer=b.r2a);if(b.q2a)try{d=JSON.parse(b.q2a);a.controllerGroupNames=d;}catch(wa){this.log.error("Exception parsing controller group names",wa);}}};b.prototype.ifb=function(){void 0===this.A4&&(this.A4=this.B4.W8a());};b.prototype.jfb=function(a){void 0===this.Gw&&void 0!==a&&(this.Gw=this.T8.H4(a));};b.prototype.j5=function(a,b){var d;d=this.j.Gs(b);d&&Object.keys(d).forEach(function(b){a[b]=d[b];});};b.prototype.vc=function(a,b,d,f,c){this.OYa(f,this.j,b,d);a=this.fK.Pl(a,c||(b?"error":"info"),f,this.ot);this.Ah.vc(a);};b.prototype.OYa=function(a,b,d,c){var k,g,m,p,q;"undefined"!==typeof nrdp&&nrdp.device&&nrdp.device.deviceModel&&(a.devmod=nrdp.device.deviceModel);b.sC&&(a.pbcid=b.sC);c&X.hh&&(t.Ga(!a||void 0===a.moff),0<=b.Qb.value&&(a.moff=u.sy(b.Qb.value)));if(c&X.ZA){k=b.Wb[f.tc.L.VIDEO].value;g=b.Wb[f.tc.L.AUDIO].value;m=b.Af.value;p=b.Me.value;k&&(a.cdnid=k.id,a.cdnname=k.name);g&&(a.acdnid=g.id,a.acdnname=g.name);m&&(a.adlid=m.stream.Tc,a.abitrate=m.stream.P);p&&(a.vdlid=p.stream.Tc,a.vbitrate=p.stream.P,a.vheight=p.stream.height,a.vwidth=p.stream.width);}c&X.kg&&b.nb&&(a.abuflbytes=b.K1(),a.abuflmsec=b.KH(),a.vbuflbytes=b.vca(),a.vbuflmsec=b.FM());if(c&X.XN){Object.assign(a,ea.Eta());try{q=b.Zg.getBoundingClientRect();a.rendersize=q.width+"x"+q.height;a.renderpos=q.left+"x"+q.top;}catch(ma){}}c&X.Ft&&(k=W.tk.hardwareConcurrency,0<=k&&(a.numcores=k),k=this.ot.c4)&&(g=k.q$a(),a.droppedFrames=JSON.stringify(g),k=k.tJ(this.config().b7a),u.Uc(k,function(b,d){a["droppedFramesP"+b]=JSON.stringify(d);}));if(c&X.aN)try{b.Ei&&(a.cdninfo=JSON.stringify(b.Ei.map(function(a){return{id:a.id,nm:a.name,rk:a.ie,wt:a.location.weight,lv:a.location.level};})));}catch(ma){}d&&c&X.SX&&(t.Ga(b.Yh),(d=b.Yh)?a=Object.assign(a,ea.wta(this.platform.XC,d)):a.errorcode=K.I.bj,a.errorcode===this.platform.XC+K.I.hha&&(a.lastSyncWithVideoElement=this.getTime()-b.fM));};c.aMa=b;(function(a){a[a.hh=1]="MOFF";a[a.ZA=2]="PRESENTEDSTREAMS";a[a.kg=4]="BUFFER";a[a.XN=8]="SCREEN";a[a.Ft=16]="CPU";a[a.aN=32]="CDN";a[a.SX=64]="FATALERROR";}(X||(X={})));},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.$fa="LogblobBuilderFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Rca="AppLogSinkSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.mja="UuidProviderSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Cha="PboLogblobCommandSymbol";},function(g,c,a){var f;function b(){}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.Zf=function(a,b){var d;d=this;return a.map(function(a){return b.call(d,a);});};b.prototype.TC=function(a,b){var d,f;d={};for(f in a)d[f]=b.call(this,a[f]);return d;};f=b;f=g.__decorate([a.N()],f);c.nN=f;},function(g,c,a){var d,k,m;function b(){this.bv=new d.WLa();}function f(a){var d;d=k.nN.call(this)||this;d.pq=a;d.bv=new b();return d;}function q(a,b){this.pq=a;this.profile=b;this.bQ=this.profile.YB.id;this.UD={};}function p(a){this.pq=a;this.PE=m.aa(0);this.UD=[];}Object.defineProperty(c,"__esModule",{value:!0});d=a(650);k=a(329);m=a(35);p.prototype.Ur=function(a){this.PE=this.PE.add(this.pq.measure([a.message]));this.UD.push(a);};p.prototype.Hz=function(a){var b,d;b=this;this.PE=m.aa(0);d=[];this.UD.forEach(function(f){0>a.indexOf(f.id)&&(b.PE=b.PE.add(b.pq.measure([f.message])),d.push(f));});this.UD=d;};oa.Object.defineProperties(p.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.PE;}},fe:{configurable:!0,enumerable:!0,get:function(){return this.UD;}}});q.prototype.Ur=function(a,b,d,f){var c;c=this.fe[a];c||(c=new p(this.pq),this.fe[a]=c);c.Ur({id:b,url:d,message:f});};q.prototype.Hz=function(a){var d;for(var b in this.fe){d=this.fe[b];d&&(d.Hz(a),0===d.fe.length&&delete this.fe[b]);}};oa.Object.defineProperties(q.prototype,{fe:{configurable:!0,enumerable:!0,get:function(){return this.UD;}}});c.jNa=q;ba(f,k.nN);f.prototype.encode=function(a){return{accountId:a.bQ,messages:this.S7a(a.fe)};};f.prototype.decode=function(a){return{bQ:a.accountId,fe:this.o5a(a.messages)};};f.prototype.S7a=function(a){var b,d,f,c;b=this;d={};f={};for(c in a)f.IR=[],a[c].fe.forEach(function(a){return function(d){0<d.id&&a.IR.push(b.bv.encode(d));};}(f)),d[c]=f.IR,f={IR:f.IR};return d;};f.prototype.o5a=function(a){var b,d,f,c;b=this;d={};f={};for(c in a)f.iV=new p(this.pq),a[c].forEach(function(a){return function(d){a.iV.Ur(b.bv.decode(d));};}(f)),d[c]=f.iV,f={iV:f.iV};return d;};c.iNa=f;b.prototype.encode=function(a){return{id:a.id,url:a.url,message:this.bv.encode(a.message)};};b.prototype.decode=function(a){var b;b=this.bv.decode(a.message);return{id:a.id,url:a.url,message:b};};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Bga="MessageQueueSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.aga="LogblobSenderSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.vha="PboBindDeviceCommandSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Fda="CryptoKeysSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Eda="CryptoDeviceIdSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.aea="DeviceProviderSymbol";},function(g,c){function a(b,f,c){if(null!=c){if(0<c(b,f))throw a.Dpa(b,f);}else if(b.Rk&&0<b.Rk(f))throw a.Dpa(b,f);this.start=b;this.end=f;}Object.defineProperty(c,"__esModule",{value:!0});a.Dpa=function(a,f){return new RangeError("end ["+f+"] must be >= start ["+a+"]");};c.qia=a;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.$da="DeviceIdGeneratorSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Hga="MslDispatcherSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Gga="MslClientSendStrategySymbol";},function(g,c,a){var b,f,q,p;Object.defineProperty(c,"__esModule",{value:!0});b=a(9);f=a(18);q=a(16);p=a(75);c.PGa=function(a,b,c,g,u,p,h,K,x,G){var d,k;d=this;k={Type:b,Bitrate:g,DownloadableId:c};f.Wa(d,{track:a,type:b,Tc:c,P:g,xc:u,gf:K,size:p,Rp:h,aq:null,Nqb:function(a,b){if(q.Tb(a)||q.Tb(b))d.width=a,d.height=b,k.Resolution=(d.width||"")+":"+(d.height||"");},jqb:function(a,b,f,c){q.Tb(a)&&q.Tb(b)&&q.Tb(f)&&q.Tb(c)&&(d.P4a=a,d.Jpa=b,d.Ipa=f,d.Hpa=c);},mS:x,tn:G,eg:k,toJSON:function(){return k;}});};c.fxb=function(a,f,c,g,u){if(a==b.TY||a===p.mg.audio)return f;if(a==b.aG||a===p.mg.video)return c;if(a==p.mg.yW)return g;if(a==p.mg.cca)return u;};},function(g,c,a){var f;function b(a){var g,d,k,m,t,u,q;k={};k[f.bX]=a.localName;m={};k[f.Vi]=m;t=[];k[f.aX]=t;u=a.attributes;g=u.length;for(d=0;d<g;d++){q=u[d];m[q.localName]=q.value;}a=a.childNodes;g=a.length;m={};for(d=0;d<g;d++)switch(u=a[d],u.nodeType){case c.Jvb:u=b(u);q=u[f.bX];u[f.AEa]=k;t.push(u);k[q]?m[q][f.wF]=u:k[q]=u;m[q]=u;break;case c.Kvb:case c.Hvb:u=u.text||u.nodeValue,t.push(u),k[f.Vq]||(k[f.Vq]=u);}return k;}Object.defineProperty(c,"__esModule",{value:!0});f=a(124);c.Gvb=function(a){return b(a.nodeType==c.Ivb?a.documentElement:a);};c.hLb=b;c.Jvb=1;c.gLb=2;c.Kvb=3;c.Hvb=4;c.Ivb=9;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(4);f=a(16);c.Fvb=function(a){var c,d;if(f.Sy(a)){c=new DOMParser().parseFromString(a,"text/xml");d=c.getElementsByTagName("parsererror");if(d&&d[0]){try{b.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(d[0]),xmlData:a.slice(0,300),fileSize:a.length});}catch(k){}throw Error("xml parser error");}return c;}throw Error("bad xml text");};},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(193);f=a(192);c.Lkb=function(a,c,d,k){return new Promise(function(g,t){f.BEa(a,function(a){a.W?b.Ckb(a.object,c,d,k,function(a){a.W?g(a.entries):t(a);}):t(a);});});};},function(g){(function(){var X2H,S2H;X2H=2;function c(){var h2H;h2H=2;while(h2H!==5){switch(h2H){case 2:this.vu=this.Vb=0;this.Pa=this.pe=void 0;h2H=5;break;}}}while(X2H!==8){S2H="1SIYbZrNJ";S2H+="C";S2H+="p9";switch(X2H){case 2:c.prototype.start=function(a){var u2H;u2H=2;while(u2H!==1){switch(u2H){case 2:this.pe?a<this.pe?(this.vu+=this.pe-a,this.pe=a):a>this.Pa&&(this.Pa=this.pe=a):this.Pa=this.pe=a;u2H=1;break;}}};c.prototype.stop=function(a){var K2H;K2H=2;while(K2H!==1){switch(K2H){case 2:this.Pa&&a>this.Pa&&(this.vu+=a-this.Pa,this.Pa=a);K2H=1;break;}}};c.prototype.add=function(a,b,f){var G2H;G2H=2;while(G2H!==4){switch(G2H){case 2:this.start(b);this.stop(f);this.Vb+=a;G2H=4;break;}}};c.prototype.get=function(){var j2H;j2H=2;while(j2H!==1){switch(j2H){case 2:return{Fa:this.vu?Math.floor(8*this.Vb/this.vu):null,T3:this.vu?this.vu:0};break;}}};X2H=3;break;case 3:g.T=c;S2H;X2H=8;break;}}}());},function(g,c,a){var f,q;function b(a){this.G={jK:a.maxc||25,P2:a.c||.5,wvb:a.w||15E3,Nk:a.b||5E3};f.call(this,this.G.wvb,this.G.Nk);this.nH();}f=a(152);q=a(196).TDigest;b.prototype=Object.create(f.prototype);b.prototype.shift=function(){var a;a=this.hE(0);f.prototype.shift.call(this);null!==a&&(this.Zd.push(a,1),this.Tm=!0);return a;};b.prototype.flush=function(){var a;a=this.get();this.Zd.push(a,1);this.Tm=!0;f.prototype.reset.call(this);return a;};b.prototype.get=function(){return this.Mta();};b.prototype.Gs=function(){var a;a=this.Mta();return{min:a.min,p10:a.O9,p25:a.tj,p50:a.di,p75:a.uj,p90:a.P9,max:a.max,centroidSize:a.e1a,sampleSize:a.Tz,centroids:a.sg};};b.prototype.Mta=function(){var a;if(0===this.Zd.size())return null;a=this.Zd.Bg([0,.1,.25,.5,.75,.9,1]);if(a[2]===a[4])return null;if(this.Tm||!this.Yd)this.Tm=!1,this.Yd={min:a[0],O9:a[1],tj:a[2],di:a[3],uj:a[4],P9:a[5],max:a[6],Bg:this.Zd.Bg.bind(this.Zd),e1a:this.Zd.size(),Tz:this.Zd.n,sg:this.G$a(),Gs:this.Gs.bind(this)};return this.Yd;};b.prototype.G$a=function(){var a;if(0===this.Zd.size())return null;if(!this.Tm&&this.Yd)return this.Yd.centroids;a=this.Zd.Bg([.25,.75]);if(a[0]===a[1])return null;this.Zd.size()>this.G.jK&&this.Zd.ps();a=this.Zd.iA(!1).map(function(a){return{mean:a.Le,n:a.n};});return JSON.stringify(a);};b.prototype.size=function(){return this.Zd.size();};b.prototype.toString=function(){return"btdtput("+this.WB+","+this.zc+","+this.uh+"): "+this.Zd.summary();};b.prototype.nH=function(){this.Zd=new q(this.G.P2,this.G.jK);};g.T=b;},function(g,c,a){var f,q;function b(a,b,c,g){f.call(this,c,g);this.Bp=new q(a);this.sVa=b;}f=a(152);q=a(208);b.prototype=Object.create(f.prototype);b.prototype.shift=function(){var a;a=this.hE(0);f.prototype.shift.call(this);null!==a&&this.Bp.CH(a);return a;};b.prototype.flush=function(){var a;a=this.get();this.Bp.CH(a);f.prototype.reset.call(this);return a;};b.prototype.get=function(){var a;a=this.tJ();return{Tz:this.By(),VU:a,AK:a.di?(a.uj-a.tj)/a.di:void 0};};b.prototype.By=function(){return this.Bp.By();};b.prototype.tJ=function(){return this.Bp.By()<this.sVa?{tj:void 0,di:void 0,uj:void 0,Tz:void 0,Bg:void 0}:{tj:this.Bp.Ml(25),di:this.Bp.Ml(50),uj:this.Bp.Ml(75),Tz:this.Bp.By(),Bg:this.Bp.Ml.bind(this.Bp)};};b.prototype.toString=function(){return"biqr("+this.WB+","+this.zc+","+this.uh+")";};g.T=b;},function(g,c,a){var q;function b(a){this.Mx=a;this.reset();}function f(a){this.uh=new b(a);this.Dd=0;this.Mb=null;}q=a(6);b.prototype.sP=function(a,b){this.Pa+=a;this.Jm+=a;this.Vb+=b;this.Lg.push({d:a,R1:b});};b.prototype.iH=function(){var a;for(;this.Jm>this.Mx;){a=this.Lg.shift();this.Vb-=a.R1;this.Jm-=a.d;}};b.prototype.reset=function(){this.Lg=[];this.Pa=null;this.Jm=this.Vb=0;};b.prototype.setInterval=function(a){this.Mx=a;this.iH();};b.prototype.start=function(a){q.Ra(this.Pa)&&(this.Pa=a);};b.prototype.add=function(a,b,f){q.Ra(this.Pa)&&(this.Pa=b);b>this.Pa&&this.sP(b-this.Pa,0);this.sP(f>this.Pa?f-this.Pa:0,a);this.iH();};b.prototype.get=function(){return{Fa:Math.floor(8*this.Vb/this.Jm),eh:0};};f.prototype.reset=function(){this.uh.reset();this.Dd=0;this.Mb=null;};f.prototype.add=function(a,b,f){!q.Ra(this.Mb)&&f>this.Mb&&(b>this.Mb&&(this.Dd+=b-this.Mb),this.Mb=null);this.uh.add(a,b-this.Dd,f-this.Dd);};f.prototype.start=function(a){!q.Ra(this.Mb)&&a>this.Mb&&(this.Dd+=a-this.Mb,this.Mb=null);this.uh.start(a-this.Dd);};f.prototype.stop=function(a){this.Mb=q.Ra(this.Mb)?a:Math.min(a,this.Mb);};f.prototype.get=function(){return this.uh.get();};f.prototype.setInterval=function(a){this.uh.setInterval(a);};g.T={oxb:b,KIa:f};},function(g,c,a){var p;function b(a){this.reset();this.zqb(a);}function f(a){this.setInterval(a);this.reset();}function q(a){this.mu=new f(a);this.Dd=0;this.Mb=null;}p=a(6);b.prototype.zqb=function(a){this.jB=Math.pow(.5,1/a);this.TG=a;};b.prototype.reset=function(a){a&&a.Fa&&p.pa(a.Fa)?a.eh&&p.pa(a.eh)?(this.wp=this.PUa,this.yl=a.Fa,this.du=a.eh+a.Fa*a.Fa):(this.wp=this.PUa,this.yl=a.Fa,this.du=a.Fa*a.Fa):this.du=this.yl=this.wp=0;};b.prototype.add=function(a){var b;if(p.pa(a)){this.wp++;b=this.jB;this.yl=b*this.yl+(1-b)*a;this.du=b*this.du+(1-b)*a*a;}};b.prototype.get=function(){var a,b,f;if(0===this.wp)return{Fa:0,eh:0};a=this.yl;b=this.du;f=1-Math.pow(this.jB,this.wp);a=a/f;b=b/f;f=a*a;return{Fa:Math.floor(a),eh:Math.floor(b>f?b-f:0)};};b.prototype.gd=function(){return 0===this.wp?null:{a:Math.round(this.yl),s:Math.round(this.du),n:this.wp};};b.prototype.Ld=function(a){if(p.Ra(a)||!p.has(a,"a")||!p.has(a,"s")||!p.isFinite(a.a)||!p.isFinite(a.s))return this.du=this.yl=this.wp=0,!1;this.yl=a.a;this.du=a.s;p.has(a,"n")&&p.pa(a.n)?this.wp=a.n:this.wp=16*this.TG;return!0;};f.prototype.setInterval=function(a){this.TG=a;this.jB=-Math.log(.5)/a;};f.prototype.reset=function(a){this.Pa=this.pe=null;a&&p.isFinite(a.Fa)?this.yl=a.Fa:this.yl=0;};f.prototype.start=function(a){p.Ra(this.pe)&&(this.Pa=this.pe=a);};f.prototype.add=function(a,b,f){var d,c;p.Ra(this.pe)&&(this.Pa=this.pe=b);this.pe=Math.min(this.pe,b);b=Math.max(f-b,1);d=this.jB;c=f>this.Pa?f:this.Pa;this.yl=this.yl*(c>this.Pa?Math.exp(-d*(c-this.Pa)):1)+8*a/b*(1-Math.exp(-d*b))*(f>c?Math.exp(-d*(c-f)):1);this.Pa=c;};f.prototype.get=function(a){var b;a=Math.max(a,this.Pa);b=this.yl*Math.exp(-this.jB*(a-this.Pa));a=1-Math.exp(-this.jB*(a-this.pe));0<a&&(b/=a);return{Fa:Math.floor(b)};};f.prototype.toString=function(){return"ewmav("+this.TG+")";};q.prototype.setInterval=function(a){this.mu.setInterval(a);};q.prototype.reset=function(a){this.mu.reset(a);this.Dd=0;this.Mb=null;};q.prototype.start=function(a){!p.Ra(this.Mb)&&a>this.Mb&&(this.Dd+=a-this.Mb,this.Mb=null);this.mu.start(a-this.Dd);};q.prototype.add=function(a,b,f){!p.Ra(this.Mb)&&f>this.Mb&&(this.Dd+=b>this.Mb?b-this.Mb:0,this.Mb=null);this.mu.add(a,b-this.Dd,f-this.Dd);};q.prototype.stop=function(a){this.Mb=Math.max(p.Ra(this.mu.Pa)?0:this.mu.Pa+this.Dd,p.Ra(this.Mb)?a:Math.min(this.Mb,a));};q.prototype.get=function(a){return this.mu.get((p.Ra(this.Mb)?a:this.Mb)-this.Dd);};q.prototype.toString=function(){return this.mu.toString();};g.T={LIa:b,pxb:f,JIa:q};},function(g,c,a){g.T={wGb:a(349),rKb:a(348),Uwb:a(676),Twb:a(347),Vwb:a(346),Hea:a(673)};},function(g,c,a){var d,k,m,t,u,h;function b(a){var b;b=a.N_;this.G=a;this.jh=k.Cd.HAVE_NOTHING;this.yB=a.yB;a=new u(this.yB);this.sH=a.create("throughput-location-history",b);this.Ir=a.create("respconn-location-history",b);this.zr=a.create("respconn-location-history",b);this.NP=a.create("throughput-tdigest-history",b);this.YO=a.create("throughput-iqr-history",b);this.Pa=null;}function f(a,d,f,c,k){this.xr=new b(k);this.Rm=[];this.rVa=m.time.da()-Date.now()%864E5;this.vr=null;this.G=k;for(a=0;a<c;++a)this.Rm.push(new b(k));}function q(a,b,f){return d.has(a,b)?a[b]:a[b]=f;}function p(a,d){var f;this.G=a;this.PP=d;this.q8a();this.SG=new b(this.G);this.ZG();f=a.x3;f&&(f={Gc:k.Cd.OF,va:{Fa:parseInt(f,10),eh:0},Eg:{Fa:0,eh:0},Bo:{Fa:0,eh:0}},this.get=function(){return f;});}d=a(6);k=a(11);c=a(24);m=a(5);t=c.XJa;u=a(350).Hea;new m.Console("ASEJS_LOCATION_HISTORY","media|asejs");h={Gc:k.Cd.HAVE_NOTHING};b.prototype.Px=function(a,b){this.jh=b;this.sH.add(a);this.NP.add(a);this.Pa=m.time.da();};b.prototype.rA=function(a,b){this.YO.set(a,b);};b.prototype.Vr=function(a){this.Ir.add(a);};b.prototype.Tr=function(a){this.zr.add(a);};b.prototype.gd=function(){var a,b,f,c,k,g;a=this.sH.gd();b=this.Ir.gd();f=this.zr.gd();c=this.YO.gd();k=this.NP.gd();if(d.Ra(a)&&d.Ra(b)&&d.Ra(f))return null;g={c:this.jh,t:m.time.i9(this.Pa)};d.Ra(a)||(g.tp=a);d.Ra(b)||(g.rt=b);d.Ra(f)||(g.hrt=f);d.Ra(c)||(g.iqr=c);d.Ra(k)||(g.td=k);return g;};b.prototype.Ld=function(a){var b;b=m.time.now();if(!(a&&d.has(a,"c")&&d.has(a,"t")&&d.has(a,"tp")&&d.isFinite(a.c)&&d.isFinite(a.t))||0>a.c||a.c>k.Cd.OF||a.t>b||!this.sH.Ld(a.tp))return this.jh=k.Cd.HAVE_NOTHING,this.vr=this.Pa=null,this.sH.Ld(null),this.Ir.Ld(null),this.zr.Ld(null),!1;this.jh=a.c;this.Pa=m.time.D9(a.t);this.Ir.Ld(d.has(a,"rt")?a.rt:null);this.zr.Ld(d.has(a,"hrt")?a.hrt:null);d.has(a,"iqr")&&this.YO.Ld(a.iqr);d.has(a,"td")&&this.NP.Ld(a.td);return!0;};b.prototype.get=function(){var a,b,f,c,g,u;a=this.G;if(d.Ra(this.Pa))return h;b=(m.time.da()-this.Pa)/1E3;b>a.LUa?this.jh=k.Cd.HAVE_NOTHING:b>a.kUa&&(this.jh=Math.min(this.jh,k.Cd.Nt));a=this.sH.get();f=this.Ir.get();c=this.zr.get();g=this.YO.get();u=this.NP.get();b={Kk:b,Gc:this.jh,va:a,Eg:f,Bo:c,Do:g,pm:u};a&&(b.BKb=t.prototype.n$.bind(a));f&&(b.VJb=t.prototype.n$.bind(f));c&&(b.zHb=t.prototype.n$.bind(c));return b;};b.prototype.time=function(){return this.Pa;};b.prototype.ju=function(){this.get();m.time.da();};f.prototype.wi=function(){return((m.time.da()-this.rVa)/1E3/3600/(24/this.Rm.length)|0)%this.Rm.length;};f.prototype.gd=function(){var a;a={g:this.xr.gd(),h:this.Rm.map(function(a){return a.gd();})};d.Ra(this.vr)||(a.f=m.time.i9(this.vr));return a;};f.prototype.Ld=function(a){var b,f;if(!this.xr.Ld(a.g))return!1;b=this.Rm.length;f=!1;this.Rm.forEach(function(d,c){f=!d.Ld(a.h[c*a.h.length/b|0])||f;});this.vr=d.has(a,"f")?m.time.D9(a.f):null;return f;};f.prototype.Px=function(a,b){this.xr.Px(a,b);this.Rm[this.wi()].Px(a,b);this.vr=null;};f.prototype.rA=function(a,b){this.xr.rA(a,b);this.Rm[this.wi()].rA(a,b);};f.prototype.Vr=function(a){this.xr.Vr(a);this.Rm[this.wi()].Vr(a);};f.prototype.Tr=function(a){this.xr.Tr(a);this.Rm[this.wi()].Tr(a);};f.prototype.fail=function(a){this.vr=a;};f.prototype.get=function(){var a,b;if(!d.Ra(this.vr)){if((m.time.da()-this.vr)/1E3<this.G.jUa)return{Gc:k.Cd.HAVE_NOTHING,oy:!0};this.vr=null;}a=this.Rm[this.wi()].get();b=this.xr.get();a=a.Gc>=b.Gc?a:b;a.oy=!1;return a;};f.prototype.time=function(){return this.xr.time();};f.prototype.ju=function(a){this.xr.ju(a+": global");this.Rm.forEach(function(b,f,c){d.Ra(b.time())||(f=24*f/c.length,b.ju(a+":  "+((10>f?"0":"")+f+"00")+"h"));});};p.prototype.Pka=function(a,b){var d;d=this.G;a=q(this.CB,a,{});return q(a,b,new f(0,0,0,d.Pla||4,d));};p.prototype.ZG=function(){var a,b;a=m.storage.get("lh");b=m.storage.get("gh");a&&this.O0(a);b&&this.wXa(b);};p.prototype.Q_=function(){var a;a={};d.dd(this.CB,function(b,f){d.dd(b,function(b,d){q(a,f,{})[d]=b.gd();},this);},this);return a;};p.prototype.wXa=function(a){this.SG.Ld(a);};p.prototype.O0=function(a){var b,c;b=null;c=this.G;d.dd(a,function(a,k){d.dd(a,function(a,g){var m;m=new f(0,0,0,c.Pla||4,c);m.Ld(a)?(q(this.CB,k,{})[g]=m,b=!0):d.Ra(b)&&(b=!1);},this);},this);return d.Ra(b)?!0:b;};p.prototype.save=function(){var a;a=this.Q_();m.storage.set("lh",a);m.storage.set("gh",this.SG.gd());this.PP&&this.PP.Taa(this.SG.gd());};p.prototype.q8a=function(){this.CB={};this.wB=this.ika="";this.kh=null;};p.prototype.WV=function(a){this.ika=a;this.kh=null;};p.prototype.VV=function(a){this.wB=a;this.kh=null;};p.prototype.SO=function(){d.Ra(this.kh)&&(this.kh=this.Pka(this.ika,this.wB));return this.kh;};p.prototype.Px=function(a,b){this.SO().Px(a,b);this.SG.Px(a,b);};p.prototype.rA=function(a,b){a&&a.tj&&a.di&&a.uj&&(this.SO().rA(a,b),this.SG.rA(a,b));};p.prototype.Vr=function(a){this.SO().Vr(a);};p.prototype.Tr=function(a){this.SO().Tr(a);};p.prototype.fail=function(a,b){this.Pka(a,this.wB).fail(b);};p.prototype.get=function(a,b){var f,c,g,m;a=(a=this.CB[a])?a[this.wB]:null;f=null;if(a&&(f=a.get(),f.Gc>k.Cd.HAVE_NOTHING))return f;if(!1===b)return h;c=f=null;g=!1;m=null;d.dd(this.CB,function(a){d.dd(a,function(a,b){var d;if(!g||b==this.wB){d=a.get();d&&(!c||c<=d.Gc)&&(!m||c<d.Gc||m<a.time())&&(c=d.Gc,g=b==this.wB,m=a.time(),f=d);}},this);},this);return f?f:h;};p.prototype.ju=function(){d.dd(this.CB,function(a,b){d.dd(a,function(a,d){a.ju(b+":"+d);});});};g.T=p;},function(g,c,a){var f,q,p,d,k,m;function b(a){return a.me(d.gc.P9a(Math.floor(a.zf)));}Object.defineProperty(c,"__esModule",{value:!0});g=a(25);f=a(6);g=g.EventEmitter;q=a(11);p=a(54);d=a(60);k=a(5);m=a(687);c.Bxa=b;a=function(){function a(a,b,d,f,c,k,g){this.X=a;this.K=b;this.Sj=d;this.Se=f;this.Mc=c;this.zp=k;this.G=g;this.bd=this.K.error.bind(this.K);this.Ha=this.K.warn.bind(this.K);this.Gk=this.K.trace.bind(this.K);this.reset();}Object.defineProperties(a.prototype,{wQ:{get:function(){return this.Mc?this.Mc.wQ:-1;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{pvb:{get:function(){return this.Ai.length;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ofb:{get:function(){return this.qu;},enumerable:!0,configurable:!0}});a.prototype.reset=function(a){this.Fr=!1;a||(this.Ai=[]);this.dP=this.qu=this.P_=this.$_=void 0;this.hH=d.gc.Ff;this.Ax=void 0;this.oBa=new m.aRa(this.G,this.K);this.I_=!1;this.P0(d.gc.Ff);};a.prototype.C9a=function(){this.P_=!0;};a.prototype.pause=function(){this.Fr=!0;};a.prototype.resume=function(){this.Fr=!1;this.ux();};a.prototype.Qab=function(){return this.qu&&this.qu.Ve;};a.prototype.Rab=function(){return this.qu&&this.qu.ge;};a.prototype.T0a=function(a,b){var f;for(var d=0;d<this.Ai.length;d++){f=this.Ai[d];f.Nf.Rb.xa.id===a&&f.Oc>=b&&(f.abort(),this.Ai.splice(d,1),d--);}};a.prototype.f_a=function(a){var b;if(this.G.OI){b=a.Nf.Rb;if(a.Oc>=b.ha)return;a.hm!==b.Rc&&a.VBa(new d.gc(b.Rc,1E3));}this.Ai.push(a);this.ux();};a.prototype.gp=function(){this.ux();};a.prototype.zV=function(a){a=this.Ai.indexOf(a);-1!==a&&this.Ai.splice(a,1);};a.prototype.jjb=function(){this.ux();};a.prototype.BK=function(){this.I_||(this.I_=!0,this.ux(),this.Mc.endOfStream());};a.prototype.P0=function(a){this.ZXa=a;this.Mc.Iqb(a.Ad,a.ga);};a.prototype.ux=function(){var a,b,d,c,g,m,t;b=this.G;d=Object.getOwnPropertyNames(this.zp);b.B1&&f.R(this.$_)&&1===d.length&&(a=this.zp[d[0]],a.complete&&!f.R(a.za)&&this.Kja(a));if(this.Ai.length)if(this.Mc)if(d=this.Ai[0],this.Fr)this.LB("@"+k.time.da()+", bufferManager _append ignored, paused, nextRequest: "+JSON.stringify(d));else if(!d.complete&&d.Yua())this.Ha("aborted MediaRequest should not appear in the toAppend list"),this.LB("@"+k.time.da()+", append: removing aborted request from toAppend: "+d.toString()),this.Ai.shift();else{c=d.za;if((a=this.zp[c])&&a.data)if(this.P_||c!==this.$_)this.P_=!1,this.Kja(a);else if(a=this.X.hf,a=this.X.ja.xv(a.Oa.M)||a.ns,!b.XW||a){a=d.Nf;g=d.Ic-this.X.ja.lf();if(!(this.Sj===q.L.AUDIO&&d.hq&&d.Ta&&!b.Gn&&!this.I_&&1===this.Ai.length&&g>b.e9)){if(b.OI||b.Xqa)if(c=a.Rb.jo){m=a.Rb.tg;t=d.Ve>=c;g=g>b.e9;if(c<a.Rb.ha&&t&&g&&!m)return;}b.alb&&(b=this.X.jc(a.Rb.ba))&&!b.Rx?this.pause():(this.Ai.shift(),this.SSa(d));}}}else this.LB("@"+k.time.da()+", append: not appending, sourceBuffer not ready");};a.prototype.OSa=function(a){this.G.Sx&&this.G.jn&&a.stream.yj&&(this.hH=a.stream.yj);};a.prototype.Kja=function(a){if(this.Mc.appendBuffer(a.data,{Yb:!0,profile:a.stream.profile}))this.LB("@"+k.time.da()+", header appended, streamId: "+a.za),this.$_=a.za,this.cXa(a.ba||0,a.za),this.OSa(a),this.ux();else throw this.Ha("appendHeader error: "+this.Mc.error),this.LB("@"+k.time.da()+", appendHeader error: "+this.Mc.error),Error("appendHeaderError");};a.prototype.SSa=function(a){var b,f;b=a.Vmb||d.gc.Ff;f=a.Nf.Rb.xa;f.ha&&Infinity!==f.ha&&(f=new d.gc(f.ha,1E3).add(b).Fg,Infinity===this.Se.duration||this.Se.duration<f)&&(this.Se.duration=f);if(void 0===this.dP||b&&!b.equal(this.dP))f=this.hH.add(this.oBa.cu).add(b),this.P0(f),this.dP=b;b=this.oBa.saa(this.Sj,a,this.Ax,this.hH,this.dP,this.qu,this.ZUa,this.P0.bind(this),this.eXa.bind(this));f=b.o_a;if(a.bC(this.Mc,this.qu,this.Ai[0],b.saa,b.V6a))void 0===this.Ax||this.Sj!==q.L.AUDIO||a.h$.equal(this.Ax.add(f))||(this.YWa(a,this.Ax.add(f)),this.Ax=void 0),this.LB("@"+k.time.da()+", request appended, type: "+a.O+", streamId: "+a.za+", pts: "+a.Ic+"-"+a.ge),this.qu=a,a.hq?(this.Ax=a.Slb,this.ZUa=this.mTa(a,this.ZXa||d.gc.Ff)):this.Ax=void 0,this.dXa(a),this.ux();else{if(void 0!==this.Mc.error){if("done"===this.Mc.error)return;this.bd("failure to append queued mediaRequest: "+(a&&a.toJSON())+" err: "+this.Mc.error);throw this.Mc.error;}a=Error("failure to append queued mediaRequest: "+(a&&JSON.stringify(a))+" err: "+this.Mc.error);this.bd(a.message);throw a;}};a.prototype.mTa=function(a,d){var f,c;f=a.stream.Ia;c=a.k2a;this.G.io&&a.stream.yj&&(c=c.me(a.stream.yj));return b(c.me(f)).add(b(f)).add(b(d));};a.prototype.cXa=function(a,b){a={type:"headerAppended",mediaType:this.Sj,manifestIndex:a,streamId:b};this.na(a.type,a);};a.prototype.dXa=function(a){a={type:"requestAppended",mediaType:this.Sj,request:a};this.na(a.type,a);};a.prototype.LB=function(a){a={type:"managerdebugevent",message:a};this.na(a.type,a);};a.prototype.YWa=function(a,b){var d;d=a.Oc;a=a.h$.me(b).zf;d={type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:[d,a]}}};this.na(d.type,d);};a.prototype.eXa=function(a,b){a={type:"logdata",target:"endplay",fields:{maxavsyncerror:a.zf,minavsyncerror:b.zf}};this.na(a.type,a);};return a;}();c.jGa=a;p(g,a.prototype);},function(g,c,a){var p;function b(){}function f(a,b,f){void 0===f&&(f=!1);p(a.length===b.length,"bitrates_kbps and durations_sec must be of the same length.");p(1E-8<q(a),"bitrate zero, won't be able to send anything.");this.Hu=a;this.Nqa=b;this.repeat=f;this.lj=this.Tk=0;}function q(a){return a.reduce(function(a,b){return a+b;},0);}p=a(13).assert;b.prototype=Error();f.prototype.constructor=f;f.prototype.Qp=function(){var a;a=new f(this.Hu,this.Nqa,this.repeat);a.Tk=this.Tk;a.lj=this.lj;return a;};f.prototype.q6=function(){return this.Hu[this.Tk%this.Hu.length];};f.prototype.uv=function(){return this.Nqa[this.Tk%this.Hu.length];};f.prototype.J6a=function(a){p(0<a,"expect x_sec > 0.0");if(!(this.repeat||0<=this.Tk&&this.Tk<this.Hu.length))throw new b();p(this.lj<this.uv(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var d;;){d=this.uv()-this.lj;d=a<d?a:d;a-=d;this.lj+=d;if(this.lj<this.uv())break;this.lj-=this.uv();this.Tk+=1;if(!this.repeat&&this.Tk>=this.Hu.length){if(0<a)throw new b();break;}}};f.prototype.Rya=function(a){this.J6a(a);};f.prototype.K6a=function(a){p(0<a,"expect y_kb > 0.0");if(!(this.repeat||0<=this.Tk&&this.Tk<this.Hu.length))throw new b();p(this.lj<this.uv(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var d,f=0;;){d=this.uv()-this.lj;d=a<d*this.q6()?a/this.q6():d;a-=this.q6()*d;f+=d;this.lj+=d;if(this.lj<this.uv())return f;this.lj-=this.uv();this.Tk+=1;if(!this.repeat&&this.Tk>=this.Hu.length){if(0<a)throw new b();return f;}}};g.T={LRa:f,MRa:b};},function(g,c,a){var q;function b(a,b,f){this.aa=a;this.Kn=b;this.$K=f;}function f(a,b){this.x8=b;void 0===b&&(this.x8=!0);this.Uh=a;this.WSa();}q=a(13).assert;b.prototype.constructor=b;b.prototype.Is=function(){return 8*this.aa/1E3/this.Kn;};f.prototype.constructor=f;f.prototype.Qp=function(a,b,c,g,t){void 0===b&&(b=0);void 0===c&&(c=a.pD());void 0===g&&(g=0);void 0===t&&(t=a.Uh.length);for(var d=[],k,m=g;m<t;m++){g=[];for(var q=b;q<c;q++)k=a.Uh[m][q],g.push(k);d.push(g);}return new f(d,a.x8);};f.prototype.WSa=function(){var a,b;a=this.Uh[0].length;for(b in this.Uh.slice(1))q(this.Uh[b].length===a,"expect this.chunkss[chunksIndex].length === n but got "+this.Uh[b].length+" and "+a);this.x8&&this.XSa();this.YSa();};f.prototype.pD=function(){return this.Uh[0].length;};f.prototype.XSa=function(){for(var a=0;a<this.Uh.length-1;a++)for(var b=0;b<this.pD();b++)q(this.Uh[a][b].aa<=this.Uh[a+1][b].aa,"Chunk size for epoch "+b+" is not monotonic");};f.prototype.YSa=function(){for(var a=0;a<this.Uh.length-1;a++)for(var b=0;b<this.pD();b++)q(1E-8>Math.abs(this.Uh[a][b].Kn-this.Uh[a+1][b].Kn),"Chunk duration for epoch "+b+" is not consistent");};f.prototype.Dcb=function(){var a;a=[];this.Uh[0].forEach(function(b){a.push(b.Kn);});return a;};g.T={aHa:b,bHa:f};},function(g,c,a){var p,d,k;function b(a,b,d){this.Dn=b;this.Ll=d;this.ut=this.MJ=this.UU=this.Uya=this.Tya=this.bE=this.$b=this.Rlb=this.Ll=this.Hg=this.ab=this.U=this.DM=this.EM=this.$=this.Tua=this.Fu=void 0;}function f(a,b,d){this.ha=b;this.rva=d;this.Bna=this.qEa=this.i1=this.EM=this.mq=this.Zj=void 0;}function q(a,d,f,c,g,q){var m;m=new b(0,d,a.Ll);a.forEach(function(a){var b,f;b=a.buffer;f=b.$;a.O===p.L.AUDIO?m.Fu=f.length?f[0].P:void 0:a.O===p.L.VIDEO&&(m.Tua=f.length?f[0].P:void 0,m.$=f,m.EM=b.Sk-b.tf,m.DM=b.rm,m.U=b.tf,m.ab=b.ab,m.Hg=a.vw,m.Ll=a.Ll,m.Rlb=d-a.Ll,m.$b=a.$b.filter(function(a){return k(a);}),m.bE=f.filter(function(a){return m.U<=a.sE;}).length);});this.Gg=m;this.Uk=void 0;this.Wpa=c;this.a2=g;this.O$=this.tV=this.wya=this.ap=this.aC=this.Cra=this.pk=this.$b=this.Uk=void 0;this.vZa=q;}p=a(11);c=a(44);d=c.assert;k=c.Ry;b.prototype.constructor=b;f.prototype.constructor=f;q.prototype.constructor=q;q.prototype.py=function(a,b){var d,c,k,g,m,t,q,h,l,n,D,U,Q,r,Z,ea,O,ca,va,wa,N,ja;d=this.Gg;c=[];g=a[p.L.VIDEO];m=a[p.L.AUDIO];if(void 0===g||void 0===m)return!1;t=g.buffer;q=m.buffer;h=g.headers;l=d.$b.filter(function(a){return h&&h[a.id]&&h[a.id].$;});if(void 0===t||void 0===q||void 0===h||void 0===l||0===l.length)return!1;k=new f(0,g.tf,b===p.Ma.Yt);n=0;D=0;U=0;Q=0;Z=d.U;a=a[p.L.VIDEO].tf;ea=d.$;r=d.bE;for(var X=0;X<r;X++){O=ea[X];ca=O.offset;va=O.offset+O.aa-1;N=O.xs;wa=O.ft;ja=wa+N;O&&wa<=a&&ja>Z&&(N=O.xs,wa=Math.min(N,Math.min(a,ja)-Math.max(wa,Z)+1),Q+=wa,n+=wa/N*(va-ca+1),D+=O.P*wa,U+=O.xc*wa);}d.Tya=n;d.Uya=Q;d.UU=0<Q?D/Q:0;d.jlb=0<Q?U/Q:0;d.MJ||(d.MJ=0,l.some(function(a,b){if(a.P===d.Tua)return d.MJ=b,!0;}));l.forEach(function(a){var b,f;a=h[a.id].$;b=[];d.ut||(d.ut=a.Gi(d.U,void 0,!0));k.Zj||(k.Zj=a.Gi(k.ha,void 0,!0),k.mq=a.length-1);d.Hg!==d.ut+d.bE&&(d.Hg=d.ut+d.bE);r=Math.min(k.mq,k.Zj+1);for(var g=d.ut;g<=r;g++)f=a.get(g),b[g]=f;c.push(b);});b===p.Ma.Yt&&(k.EM=t.Sk-t.tf,k.i1=q.Sk-q.tf,k.qEa=g.hAa,k.Bna=m.hAa);this.Uk=k;this.$b=l;this.pk=c;return this.Cra=!0;};q.prototype.Gs=function(){var a,b,f,c,k,g,q,p,h,l,n,D,U,Q;if(this.JD)return this.JD;b=this.ap;a=this.Gg;c=this.Uk;k=this.$b;g=this.wya;n=this.vZa;d(void 0!==b,"throughput object must be defined before retrieving the logdata from PlaySegment");if(b.trace&&0===b.trace.length||void 0===b.timestamp)c.rva?(h=!1,q=!0):c.Zj-a.ut+1<=a.bE?q=h=!0:(h=!0,q=!1),p=!0;if(g){l=g.cq;for(var W=0;W<n.length;W++)f=n[W],(b=g[f])&&b.$v&&(q=!0);}a={bst:a.Ll,pst:a.Dn,s:a.ut,e:c.Zj,prebuf:a.bE,brsi:a.Hg,pbdlbytes:a.Tya,pbdur:a.Uya,pbtwbr:a.UU,pbvmaf:a.jlb};p&&(a.nt=p);q&&(a.nd=q);l&&(a.invalid=l);this.O$&&(a.rr=this.O$);this.tV&&(a.ra=this.tV);if(!q&&!l&&this.Wpa){a.bitrate=k.map(function(a){return a.P;});b=this.ap;f=b.trace;D=[];U=0;f.forEach(function(a){a=Number(a).toFixed(0);D.push(a-U);U=a;});a.tput={ts:b.timestamp,trace:D,bkms:b.Nk};}if(q||p||l)a.feasible=h;else for(a.sols={},W=0;W<n.length;W++){f=n[W];b=g[f];q={};if(b&&b.Iq&&(q.f=b&&b.Ki||!1,q.dltwbr=b.z6a,q.dlvmaf=b.yqa,q.dlvdur=b.W3,q.dlvbytes=b.V3,q.dlabytes=b.U3,this.Wpa)){U=0;Q=[];b.Iq.filter(function(a){return a;}).map(function(a){return a.yd;}).forEach(function(a){Q.push(a-U);U=a;});q.strmsel=Q;}a.sols[f]=q;}return this.JD=a;};g.T=q;},function(g,c,a){var q,p,d,k,m,t;function b(a,b,d,f){k(!q.R(f),"Must have at least one selected stream");return new t(f);}function f(a,b,d,f){k(!q.R(f),"Must have at least one selected stream");return new t(f);}q=a(6);c=a(44);p=c.console;d=c.debug;k=c.assert;m=c.Ry;t=c.sp;g.T={STARTING:function(a,b,f){var k,g,u,q;function c(f,c){var k,g,m,t;k=f.id;g=f.P;m=f.va||0;t=!!m;d&&p.log("Checking feasibility of ["+c+"] "+k+" ("+g+" Kbps)");if(!f.mf)return d&&p.log("  Not available"),!1;if(!f.inRange)return d&&p.log("  Not in range"),!1;if(f.Tg)return d&&p.log("  Failed"),!1;if(g>a.iK)return d&&p.log("  Above maxInitAudioBitrate ("+a.iK+" Kbps)"),!1;if(!(g*a.mU/8<b.buffer.Pu))return d&&p.log("  audio buffer too small to handle this stream"),!1;if(t){d&&p.log("  Have throughput history = "+t+" : available throughput = "+m+" Kbps");if(g<m/u)return d&&p.log(" +FEASIBLE: bitrate less than available throughput"),!0;d&&p.log(" bitrate requires more than available throughput");return!1;}f=a.uK;b.s7&&(f=Math.max(f,a.tK));if(g<=f)return d&&p.log("  Bitrate is less than max of minInitAudioBitrate ("+a.uK+" Kbps) "+(b.s7?" and also minHCInitAudioBitrate ("+a.tK+" Kbps)":"")),d&&p.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0;d&&p.log("  No throughput history");return!1;}k=new t();u=a.zEb||1;for(q=f.length-1;0<=q;--q){g=f[q];if(c(g,q)){k.yd=q;break;}m(g)&&(k.yd=q);}return k;},BUFFERING:b,REBUFFERING:b,PLAYING:f,PAUSED:f};},function(g){function c(){}function a(a){this.wma=a;this.wl=[];this.Re=null;}c.prototype.clear=function(){this.Ed=null;this.size=0;};c.prototype.find=function(a){var c;for(var b=this.Ed;null!==b;){c=this.Rj(a,b.data);if(0===c)return b.data;b=b.uf(0<c);}return null;};c.prototype.lowerBound=function(a){var d;for(var b=this.Ed,c=this.iterator(),g=this.Rj;null!==b;){d=g(a,b.data);if(0===d)return c.Re=b,c;c.wl.push(b);b=b.uf(0<d);}for(d=c.wl.length-1;0<=d;--d)if(b=c.wl[d],0>g(a,b.data))return c.Re=b,c.wl.length=d,c;c.wl.length=0;return c;};c.prototype.upperBound=function(a){for(var b=this.lowerBound(a),c=this.Rj;null!==b.data()&&0===c(b.data(),a);)b.next();return b;};c.prototype.min=function(){var a;a=this.Ed;if(null===a)return null;for(;null!==a.left;)a=a.left;return a.data;};c.prototype.max=function(){var a;a=this.Ed;if(null===a)return null;for(;null!==a.right;)a=a.right;return a.data;};c.prototype.iterator=function(){return new a(this);};c.prototype.dd=function(a){for(var b=this.iterator(),c;null!==(c=b.next());)a(c);};a.prototype.data=function(){return null!==this.Re?this.Re.data:null;};a.prototype.next=function(){var a;if(null===this.Re){a=this.wma.Ed;null!==a&&this.tla(a);}else if(null===this.Re.right){do if(a=this.Re,this.wl.length)this.Re=this.wl.pop();else{this.Re=null;break;}while(this.Re.right===a);}else this.wl.push(this.Re),this.tla(this.Re.right);return null!==this.Re?this.Re.data:null;};a.prototype.zz=function(){var a;if(null===this.Re){a=this.wma.Ed;null!==a&&this.ola(a);}else if(null===this.Re.left){do if(a=this.Re,this.wl.length)this.Re=this.wl.pop();else{this.Re=null;break;}while(this.Re.left===a);}else this.wl.push(this.Re),this.ola(this.Re.left);return null!==this.Re?this.Re.data:null;};a.prototype.tla=function(a){for(;null!==a.left;)this.wl.push(a),a=a.left;this.Re=a;};a.prototype.ola=function(a){for(;null!==a.right;)this.wl.push(a),a=a.right;this.Re=a;};g.T=c;},function(g,c,a){var f,q;function b(a){this.G={jK:a.maxc||25,P2:a.c||.5,xnb:a.rc||"none",Kcb:a.hl||7200};this.nH();this.WWa=this.G.xnb;this.TG=this.G.Kcb;this.k_=Math.exp(Math.log(2)/this.TG);this.k_=Math.max(this.k_,1);this.IO=1;}f=a(6);q=a(196).TDigest;new(a(5)).Console("ASEJS_NETWORK_HISTORY","media|asejs");b.prototype.gd=function(){var a;if(0===this.Zd.size())return null;a=this.Zd.Bg([.25,.75]);if(a[0]===a[1])return null;this.Zd.size()>this.G.jK&&this.Zd.ps();a=this.Zd.iA(!1).reduce(function(a,b){f.pa(b.Le)&&f.pa(b.n)&&a.push({mean:b.Le,n:b.n/this.IO});return a;}.bind(this),[]);return{tdigest:JSON.stringify(a)};};b.prototype.Ld=function(a){var b;if(f.Ra(a)||!f.has(a,"tdigest")||!f.Sd(a.tdigest))return!1;try{b=JSON.parse(a.tdigest);}catch(k){return!1;}b.forEach(function(a){f.isFinite(a.n)||(a.n=1);});a=b.map(function(a){return{Le:a.mean,n:a.n};});this.IO=1;this.Zd.E$(a);void 0===this.Zd.Bg(0)&&this.nH();};b.prototype.get=function(){var a,b;a=this.Zd;b=a.Bg([0,.1,.25,.5,.75,.9,1]);return{min:b[0],O9:b[1],tj:b[2],di:b[3],uj:b[4],P9:b[5],max:b[6],sg:a.iA(!1)};};b.tbb=function(a){var d;d=new b({});f.Ra(a)||f.R(a)||!f.isArray(a.sg)||(d.Zd.E$(a.sg),void 0===d.Zd.Bg(0)&&d.nH());a=d.Zd.Bg([.25,.75]);return a[0]===a[1]?null:function(a){return d.Zd.Bg(a);};};b.prototype.add=function(a){var b;b=1;"ewma"===this.WWa&&(this.IO=b=this.IO*this.k_);this.Zd.push(a,b);};b.prototype.toString=function(){return"TDigestHist("+this.Zd.summary()+")";};b.prototype.nH=function(){this.Zd=new q(this.G.P2,this.G.jK);};g.T=b;},function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});a(0).__exportStar(a(730),c);},function(g,c,a){(function(){var D2H,k,m,t,u,y,A,K,e2k,X2k,k2k;D2H=2;function b(a,b,d){var k2H,f,c,k;k2H=2;while(k2H!==3){switch(k2H){case 2:k2H=1;break;case 1:k2H=d?5:9;break;case 5:a.some(function(a){var F2H,d;F2H=2;while(F2H!==6){switch(F2H){case 3:return f=k&&d!==c?k+(a-k)/(d-c)*(b-c):a,!0;break;case 4:F2H=b<=d?3:9;break;case 2:d=a.b;a=a.m;F2H=4;break;case 9:c=d;f=k=a;return!1;break;}}});k2H=4;break;case 4:return f;break;case 9:a.some(function(a){var r2H;r2H=2;while(r2H!==5){switch(r2H){case 3:f=a.m;return b<a.b;break;r2H=5;break;case 2:f=a.m;return b<=a.b;break;}}});k2H=4;break;}}}function f(a,b,d){var s2H;s2H=2;while(s2H!==5){switch(s2H){case 2:b=b.va?b.va.Fa:0;return a.L_a?(a=y(a.K_a,d.Sk-d.tf,1),b*(1-a)):b*a.wW/100;break;}}}while(D2H!==23){e2k="1";e2k+="SI";e2k+="YbZr";e2k+="NJCp9";X2k="m";X2k+="edia|ase";X2k+="js";k2k="AS";k2k+="EJ";k2k+="S_PREDIC";k2k+="TOR";switch(D2H){case 2:k=a(6);a(11);new(a(5)).Console(k2k,X2k);D2H=3;break;case 3:m=a(74);t=m.nC;u=m.x1a;y=m.v8a;A=m.w8a;D2H=14;break;case 14:K=m.hpb;c.prototype.NE=function(a){var L2H;L2H=2;while(L2H!==1){switch(L2H){case 4:this.GG=a;L2H=0;break;L2H=1;break;case 2:this.GG=a;L2H=1;break;}}};c.prototype.kca=function(a){var M2H;M2H=2;while(M2H!==1){switch(M2H){case 2:this.G=a;M2H=1;break;case 4:this.G=a;M2H=4;break;M2H=1;break;}}};D2H=11;break;case 11:c.prototype.D_=function(a){var C2H,b,d;C2H=2;while(C2H!==9){switch(C2H){case 3:return a;break;case 2:b=this.G;k.Ra(this.GG)?d=a*(100-b.wW)/100:(d=this.GG,d=a<2*d?a/2:a-d);b.U7&&this.kla?(b=this.kla,a=Math.max(a<2*b?a/2:a-b,d)):a=d;C2H=3;break;}}};h.prototype=Object.create(c.prototype);h.prototype.pUa=function(a,d){var g2H,f,c;g2H=2;while(g2H!==8){switch(g2H){case 2:f=this.G;c=d?f.S2:f.T1;d=d?f.T2:f.V1;g2H=3;break;case 3:k.isArray(d)&&(c=b(d,a.Sk-a.tf,f.U1));return c;break;}}};h.prototype.Tla=function(a,b){var d2H;d2H=2;while(d2H!==1){switch(d2H){case 4:return f(this.G,a,b);break;d2H=1;break;case 2:return f(this.G,a,b);break;}}};h.prototype.Ula=function(a,b){var n2H,d;n2H=2;while(n2H!==3){switch(n2H){case 2:d=this.DXa(a,this.G);a=a.va?a.va.Fa*(100-this.pUa(b,d))/100|0:0;return this.D_(a);break;}}};D2H=17;break;case 24:e2k;D2H=23;break;case 17:h.prototype.DXa=function(a,b){var l2H,d,f;l2H=2;while(l2H!==9){switch(l2H){case 2:d=!1;f=b.kI;a.Eo?d=!0:b.Dba&&a.va&&a.va.Fa<f&&(d=!0);return d;break;}}};Object.create(h.prototype);d.prototype=Object.create(c.prototype);d.prototype.Tla=function(a,b){var N7H;N7H=2;while(N7H!==1){switch(N7H){case 4:return f(this.G,a,b);break;N7H=1;break;case 2:return f(this.G,a,b);break;}}};d.prototype.Ula=function(a,b){var m7H,d,f,c;m7H=2;while(m7H!==13){switch(m7H){case 4:c=b.Sk-b.tf;m7H=3;break;case 8:this.kka?f*=y(this.kka,c,f):this.FXa?(b=y(this.mka,c,1),c=y(this.lka,c,1),f=b*f+c*(1-f)):f=y(K(this.mka,this.lka,f),c,1);a=this.p0&&a[this.p0]&&a[this.p0].AK;m7H=6;break;case 2:d=a.va&&a.va.Fa||0;f=Math.pow(Math.max(1-(a[this.Aka]&&a[this.Aka].Fa||d)/this.bTa,0),this.aTa);m7H=4;break;case 3:m7H=a.fmb?9:8;break;case 6:void 0!==a&&(a=A(this.IVa,a),f=Math.min(f*a,1));t8ii.t2k(0);return this.D_(t8ii.g2k(d,f,1));break;case 9:return this.D_((1-a.fmb)*d);break;}}};g.T=function(a,b){var f7H,U7H,B2k;f7H=2;while(f7H!==5){B2k="m";B2k+="anifo";B2k+="l";B2k+="d";switch(f7H){case 1:return new d(a,b);break;case 2:U7H=a.z8;f7H=U7H===B2k?1:4;break;case 14:return new h(a,b);break;f7H=5;break;case 4:return new h(a,b);break;}}};D2H=24;break;}}function c(a,b){var O2H;O2H=2;while(O2H!==9){switch(O2H){case 3:this.tza=function(a,b){var c2H;c2H=2;while(c2H!==1){switch(c2H){case 4:return this.Ula(a,b);break;c2H=1;break;case 2:return this.Ula(a,b);break;}}}.bind(this);O2H=9;break;case 2:this.GG=null;this.G=a;this.kla=b;this.sza=function(a,b){var i2H;i2H=2;while(i2H!==1){switch(i2H){case 2:return this.Tla(a,b);break;case 4:return this.Tla(a,b);break;i2H=1;break;}}}.bind(this);O2H=3;break;}}}function h(a,b){var o2H;o2H=2;while(o2H!==1){switch(o2H){case 4:c.call(this,a,b);o2H=3;break;o2H=1;break;case 2:c.call(this,a,b);o2H=1;break;}}}function d(a,b){var b2H;b2H=2;while(b2H!==7){switch(b2H){case 2:c.call(this,a,b);Array.isArray(a.Wm.curves)?(this.mka=u(a.Wm.curves[0],0,0,1),this.lka=u(a.Wm.curves[1],0,0,1)):this.kka=u(a.Wm.curves,0,0,1);this.bTa=t(a.Wm.threshold||6E3,1,1E5);b2H=4;break;case 3:this.Aka=a.Wm.filter;this.FXa=!!a.Wm.simpleScaling;a.Wm.niqrfilter&&a.Wm.niqrcurve&&(this.p0=a.Wm.niqrfilter,this.IVa=u(a.Wm.niqrcurve,1,0,4));b2H=7;break;case 4:this.aTa=t(a.Wm.gamma||1,.1,10);b2H=3;break;}}}}());},function(g,c,a){var h,d;function b(a,b,d,f,c,g){return new q(a,b,d,f,c,g);}function f(a){return a&&0<=a.indexOf(".__metadata__");}function q(a,b,d,f,c,g){this.partition=a;this.lifespan=d;this.resourceIndex=b;this.size=f;this.creationTime=c;this.lastRefresh=g;return this.pDa();}h=a(6);d=a(109);a(108);new d.Console("MEDIACACHE","media|asejs");q.prototype.refresh=function(){this.lastRefresh=d.time.now();return this.pDa();};q.prototype.XBa=function(a){this.size=a;};q.prototype.fpa=function(){var a;a=d.time.now();return(this.lastRefresh+1E3*this.lifespan-a)/1E3;};q.prototype.pDa=function(){this.lastMetadataUpdate=d.time.now();return this;};q.prototype.constructor=q;g.T={create:b,e5:function(a){var d;d=a;"string"===typeof a&&(d=JSON.parse(a));if(d&&d.partition&&!h.R(d.lifespan)&&d.resourceIndex&&d.creationTime&&d.lastRefresh)return a=b(d.partition,d.resourceIndex,d.lifespan,-1,d.creationTime,d.lastRefresh),d.lastMetadataUpdate&&(a.lastMetadataUpdate=d.lastMetadataUpdate),!h.R(d.size)&&0<=d.size&&a.XBa(d.size),a.fpa(),a.convertToBinaryData=d.convertToBinaryData,a;},f3:function(a){return a+".__metadata__";},RR:function(a){return f(a)?a.slice(0,a.length-13):a;},yD:f};},function(g,c,a){var K,x,G,l,R,n,W,D,U,Q,r,Z,ea;function b(){}function f(a,d){var f,c,k,g;f=K.Ob(d)?d:b;this.G=a||{};(function(a,b,d){this.qh[a].qd[b]=d;}.bind(this));(function(a,b){return this.qh[a].qd?this.qh[a].qd[b]:void 0;}.bind(this));this.on=this.addEventListener=Z.addEventListener;this.removeEventListener=Z.removeEventListener;this.emit=this.na=a.mGb?Z.na:b;c=l.m4a(a);k=this.G.dailyDiskCacheWriteLimit;if(c){this.xp=c;g=u(a.R8||ea,l.$$a());this.Qr=function(a){return K.R(g)||null===g||void 0===this.qh[a]?!1:!K.R(g[a]);};g?(this.qh={},d=x.Promise.all(Object.keys(g).map(function(b){return new x.Promise(function(d,f){var m;m=g[b];m.dEa=a.dEa;new R(b,c,m,function(a,b){a?f(a):d(b);},k);});})).then(function(a){a.map(function(a){var b;b=a.su;this.qh[b]=a;g[b].M9a=g[b].Pu-a.Pr;this.qh[b].on(R.Bd.REPLACE,function(a){a=a||{};a.partition=b;a.type="save";this.na("mediacache",a);}.bind(this));this.qh[b].on(R.Bd.wja,function(a){a=a||{};a.partition=b;a.type="save";this.na("mediacache",a);}.bind(this));this.qh[b].on(R.Bd.ERROR,function(a){a=a||{};a.partition=b;a.type=R.Bd.ERROR;this.na("mediacache-error",a);}.bind(this));}.bind(this));return this;}.bind(this)).then(function(a){m(c,x.storage.VA,Object.keys(g));return a;}.bind(this)).then(function(a){Object.keys(a.qh).map(function(b){a.qh[b].B5().map(function(d){a["delete"](b,d);});});a.sn=!0;f(null,a);}.bind(this))["catch"](function(a){G.error("Failed to initialize media cache ",a);this.Ky=Q.Mda;f(this.Ky,this);}.bind(this)),r.zq(d)):(this.Ky=Q.kLa,f(this.Ky,this));}else this.Ky=Q.Mda,f(this.Ky,this);}function q(a,b,d,f,c,k){var g;g=k?"mediacache-error":"mediacache";b={partition:d,type:b,resource:f,time:x.time.now()};k&&(b.error=k);c&&(K.pa(c.duration)&&(b.duration=c.duration),K.pa(c.js)&&(b.bytesRead=c.js));try{a.na(g,b);}catch(ka){G.warn("caught exception while emitting basic event",ka);}}function h(a,b,d,f,c){var k;k=c?"mediacache-error":"mediacache";b={partition:d,type:b,resources:f,time:x.time.now()};c&&(b.error=c);try{a.na(k,b);}catch(ja){G.warn("caught exception while emitting basic event",ja);}}function d(a){return!K.R(a)&&!K.Ra(a)&&K.pa(a.lifespan);}function k(a){return!n.yD(a)&&!D.Deb(a);}function m(a,d,f){a.query(d,"",function(c,k){c||Object.keys(k).filter(function(a){return 0>f.indexOf(a.slice(0,a.indexOf(".")));}).map(function(f){a.remove(d,f,b);});});}function t(a,b,d){var c,k;function f(b){a["delete"](c,function(f){f?d(f):(delete a.qd[k],f=Object.keys(b.resourceIndex),f=x.Promise.all(f.map(function(b){return new x.Promise(function(d,f){a["delete"](b,function(a){a?f(a):d(b);});});})).then(function(){d();},function(a){d(a);}),r.zq(f));});}n.yD(b)?(c=b,k=n.RR(b)):(c=n.f3(b),k=b);(b=a.qd[k])?f(b):a.read(c,function(a,b){a?d(a):f(b);});}function u(a,b){var d,f,c;d={};f=a.partitions.reduce(function(a,b){return a+b.capacity;},0);c=b/f;a.partitions.map(function(a){var b;b=a.key;d[b]={};d[b].Pu=Math.floor(c*a.capacity);d[b].U4a=a.dailyWriteFactor||1;d[b].bJb=a.owner;d[b].z8a=a.evictionPolicy;});return d;}function y(a,b,d){if(d)return D.w6a(a,b).reduce(function(a,b){Object.keys(b).map(function(d){a[d]=b[d];});return a;},{});d={};d[a]=b;return d;}function A(a,b,d,f,c,k,g,m,t,u,q){return function(h,p){h?K.isArray(h)?(p=h.map(function(a){return a.error;}),p.some(function(a){return a.code===Q.AA.code;})&&!p.some(function(a){return a.code===Q.mO.code;})?q(u,h,function(){t.save(b,d,f,c,k,g);}):(u["delete"](m),delete u.qd[d],k({error:h[0].error,Zs:h[0].Zs,type:h[0].type,ina:h}))):k({error:h,Zs:b,type:"save"}):(h=p.items.filter(function(b){return 0<=Object.keys(a).indexOf(b.key);}).reduce(function(a,b){return a+b.zT;},0),u.qd[d].XBa(h),h={M9a:p.Ii,GFb:p.zC,Th:0,items:p},0<p.Th&&(h.Th=p.Th),0<p.duration&&(h.duration=p.duration),k(null,h));};}K=a(6);x=a(109);G=new x.Console("MEDIACACHE","media|asejs");l=a(740);R=a(739);n=a(361);W=a(108);D=a(734);U=a(733);Q=a(199);r=a(198);Z=a(25).EventEmitter;ea={kJb:[]};f.prototype.Dz=function(a,d,f){var c;c=K.Ob(f)?f:b;this.Qr(a)?this.qh[a].query(d,function(a,b){a?(G.error("Failed to query resources",a),c([])):c(b.filter(k));}):c([]);};f.prototype.read=function(a,d,f){var c,k,g,m;c=K.Ob(f)?f:b;if(this.Qr(a)){k=this.qh[a];g=k.qd[d];if(!n.yD(d)&&this.G.Mhb){m=function(b){k.rV(Object.keys(b),function(b,f,k){b?c(Q.aB.wm("Failed to read "+d,b)):(q(this,"read",a,d,k),c(null,D.keb(f)));}.bind(this),b);}.bind(this);g?m(g.resourceIndex):this.nnb(a,d,function(a,b){a?c(Q.aB.wm("Failed to read "+d,a)):m(b.resourceIndex);});}else k.read(d,function(b,f,k){b?c(Q.aB.wm("Failed to read "+d,b)):(g&&g.convertToBinaryData&&(f=U.s2a(f)),q(this,"read",a,d,k),c(null,f));}.bind(this));}else c(Q.Qt);};f.prototype.rV=function(a,d,f){var c,k;c=K.Ob(f)?f:b;if(this.Qr(a)){k={};d=x.Promise.all(d.map(function(b){return new x.Promise(function(d,f){this.read(a,b,function(a,c){a?(c={},c[b]=a,f(c)):(k[b]=c,d());});}.bind(this));}.bind(this))).then(function(){c(null,k);},function(a){c(a);});r.zq(d);}else c(Q.Qt);};f.prototype.iBa=function(a,d,f){var c;c=K.Ob(f)?f:b;this.Qr(a)?"[object Object]"!==Object.prototype.toString.call(d)?c(Q.lO.wm("items must be a map of keys to objects")):(f=new x.Promise(function(b){var f,c;f=this.qh[a].B5();c=Object.keys(d);(f=f.filter(function(a){return-1===c.indexOf(a);}))&&0<f.length?this.nqa(a,f,function(){b();}):b();}.bind(this)).then(function(){return x.Promise.all(Object.keys(d).map(function(b){return new x.Promise(function(f,c){this.save(a,b,d[b].jm,d[b].kd,function(a,d){a?(G.error("Received an error saving",b,a),c(a)):f(d);},!0);}.bind(this));}.bind(this)));}.bind(this)).then(function(b){var f,k,g;try{f=Number.MAX_VALUE;k=Number.MAX_VALUE;g=b.reduce(function(a,b){b.Ii&&b.Ii<f&&(f=b.Ii);b.zC&&b.zC<k&&(k=b.zC);f<Number.MAX_VALUE&&(a.freeSize=f);k<Number.MAX_VALUE&&(a.dailyBytesRemaining=k);K.pa(b.Th)&&(a.bytesWritten+=b.Th);K.pa(b.duration)&&(a.duration+=b.duration);return a;},{partition:a,type:"saveMultiple",keys:Object.keys(d),time:x.time.now(),bytesWritten:0,duration:0});this.na("mediacache",g);c(null,g);}catch(pa){c(err);}}.bind(this),function(b){K.isArray(b.ina)?b.ina.forEach(function(b){this.na("mediacache-error",{partition:a,type:"saveMultiple",error:b.error,resources:b.rL});}.bind(this)):this.na("mediacache-error",{partition:a,type:"saveMultiple",error:b});c(b);}.bind(this)),r.zq(f)):(K.Ob(f)?f:b)(Q.Qt);};f.prototype.save=function(a,f,c,k,g,m){var t,u,p,l,M,R,T,D,r;t=K.Ob(g)?g:b;if(this.Qr(a)){u=this.qh[a];p=n.f3(f);g=u.B5();g=g.filter(function(a){return a!==f;});if(d(k)){l=y(f,c,this.G.Mhb);M=u.qd[f]||{};R=M.resourceIndex;R&&Object.keys(R).map(function(a){K.R(l[a])&&u["delete"](a);});k.convertToBinaryData&&(c=U.t2a(l),l=y(f,c,!1));R=x.time.now();T={};T.partition=a;T.resourceIndex=Object.keys(l).reduce(function(a,b){a[b]=W.o6(l[b]);return a;},{});T.creationTime=M.creationTime||R;T.lastRefresh=R;T.lifespan=k.lifespan;T.lastMetadataUpdate=R;T.size=M.size;T.convertToBinaryData=k.convertToBinaryData;D=function(a,b,d){a.V5a(function(c,k){c&&G.error("Evicting","Failed to delete some orphaned records",c);k.S$?d():(c=a.nab())?this["delete"](a.getName(),c,function(c){c?(m||(K.isArray(b)?b.forEach(function(b){h(this,"save",a.getName,b.rL,b.error);}.bind(this)):q(this,"save",a.getName(),f,void 0,b)),t(b)):d();}.bind(this)):t(Q.AA);}.bind(this));}.bind(this);r=function(){var a,b,d;a=this.qh;b=0;d=x.time.now();if(!K.R(a))for(var f in a)b+=a[f].z$a(d);return b;}.bind(this);this.nqa(a,g,function(){u.replace(p,T,function(b,d){d?(u.qd[f]=n.e5(T),u.pob(l,A(l,a,f,c,k,t,m,p,this,u,D),m,r)):b.code===Q.AA.code?D(u,b,function(){this.save(a,f,c,k,t,m);}.bind(this)):t(b);}.bind(this),m,r);}.bind(this));}else t(Q.nMa);}else t(Q.Qt);};f.prototype["delete"]=function(a,d,f){var c;c=K.Ob(f)?f:b;this.Qr(a)?t(this.qh[a],d,function(b){q(this,"delete",a,d,void 0,b);c(b);}.bind(this)):c(Q.Qt);};f.prototype.nqa=function(a,d,f){var c,k;c=K.Ob(f)?f:b;if(this.Qr(a)){k=this.qh[a];f=x.Promise.all(d.map(function(a){return new x.Promise(function(b){t(k,a,function(d){b({W:K.R(d),error:d,jm:a});}.bind(this));}.bind(this));}.bind(this))).then(function(b){var m,t;for(var d=[],f=[],k=[],g=0;g<b.length;g++){m=b[g];m.W?d.push(m.jm):m.error&&f.push(m);}0<d.length&&h(this,"delete",a,d);0<f.length&&(k=f.map(function(a){return a.jm;}),b=r.Xta(f),t=b[0],b.forEach(function(b){G.error("Failed to delete resources ",b.error,b.rL);h(this,"delete",a,b.rL,b.error);}.bind(this)));b={};b.TJb=d;0<k.length&&(b.UJb=k);t?c(t,b):c(void 0,b);}.bind(this),function(b){h(this,"delete",a,d,b);c(b);}.bind(this));r.zq(f);}else c(Q.Qt);};f.prototype.clear=function(a,d){var f;f=K.Ob(d)?d:b;this.Qr(a)?this.qh[a].clear(function(a){f(a.filter(k));}):f(Q.Qt);};f.prototype.nnb=function(a,d,f){var c,k;c=K.Ob(f)?f:b;if(this.Qr(a)){f=n.f3(d);k=this.qh[a];k.read(f,function(a,b){var f;if(a)c(Q.oMa);else{f=n.e5(b)||{};k.vta(Object.keys(f.faa),function(a){f.size=a;(a=k.qd[d])&&(f.lastMetadataUpdate&&a.lastMetadataUpdate&&a.lastMetadataUpdate<=f.lastMetadataUpdate?k.qd[d]=f:a.lastMetadataUpdate&&(a.lastMetadataUpdate>f.lastMetadataUpdate||K.R(f.lastMetadataUpdate))&&(f=a));c(null,f);});}});}else c(Q.Qt);};f.prototype.SDa=function(a){x.JJ(a);};f.prototype.constructor=f;g.T=f;},function(g,c,a){c=a(743);g.T=c;},function(g,c,a){var b,f,q,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(11);f=a(5);q=a(744);h=f.DA;g=function(){function a(){this.cp=[];this.console=new f.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(a,{Av:{get:function(){void 0===a.$ka&&(a.$ka=new a());return a.$ka;},enumerable:!0,configurable:!0}});a.prototype.ZQ=function(a,b,d,f,c,g){var k,m,t;m=g.Uqb?this.h9a(d,b,a):-1;if(-1===m){k={track:this.o4a(d,f,a,c,g),wq:d,M:b,Sza:a,uE:[],po:!1,rqa:!1};this.cp.push(k);t=function(){k.po=!0;k.track.removeListener("created",t);};k.track.on("created",t);k.track.Bc&&k.track.Bc();}else k=this.cp[m];a=new q.xQa(k.track,k.po);k.uE.push(a);return a;};a.prototype.N3=function(a){var b,d;a.hn();b=this.ZR(function(b){return b.track===a.track;});if(-1!==b)if(b=this.cp[b],1===b.uE.length)b.track.hn(),b.rqa=!0;else{d=b.uE.indexOf(a);0<=d&&b.uE.splice(d,1);}else a.track.hn();};a.prototype.Ye=function(){a.Bja.Ye();};a.prototype.o4a=function(d,f,c,g,q){var k,m;k=this;d?1===c?(d=!1,f=1,q.Cn?(d=!0,f=q.PD):q.lq&&2<q.lq&&(d=!0,f=q.lq),q={type:h.VIDEO,openRange:!d,pipeline:d,connections:f,socketBufferSize:q.rF,minRequestSize:q.YD}):0===c?(d=q.Cn&&f&&q.Nub,q={type:h.AUDIO,openRange:!d,pipeline:d,connections:1,socketBufferSize:q.tQ,minRequestSize:q.YD}):q={type:h.hKa,openRange:!1,pipeline:!0,connections:1,socketBufferSize:q.C6,minRequestSize:q.YD}:q={type:0===c?b.L.AUDIO:b.L.VIDEO,openRange:!1,pipeline:!1,connections:1,socketBufferSize:0===c?q.tQ:q.rF,minRequestSize:q.YD};m=new a.Bja(q,g);m.on("transportreport",function(a){var b;b=k.ZR(function(a){return a.track===m;});-1!==b&&(b=k.cp[b],b.uE.length&&b.uE[0].emit("transportreport",a));});m.on("destroyed",function(){var a;a=k.ZR(function(a){return a.track===m;});-1!==a&&k.cp.splice(a,1);m.removeAllListeners();});return m;};a.prototype.h9a=function(a,b,d){return this.ZR(function(f){return!f.rqa&&(a?f.wq&&f.M===b&&f.Sza===d:!f.wq&&f.Sza===d);});};a.prototype.ZR=function(a){for(var b=0;b<this.cp.length;++b)if(a(this.cp[b]))return b;return-1;};a.Bja=h;return a;}();c.Ht=g;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.mpa=function(a,b){var f;if(!Array.isArray(a.lpa))return a;f=Object.create(a);a.lpa.forEach(function(a){if(void 0!==a.xib&&b.duration>=a.xib&&a.config)for(var c in a.config)f[c]=a.config[c];});return f;};},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(13);g=function(a){function c(b,f,c){b=a.call(this,b,f)||this;b.zk=f.Ls;b.X0=!!f.mA;b.yka=f.Sl;b.K=c;return b;}b.__extends(c,a);Object.defineProperties(c.prototype,{Yb:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{data:{get:function(){return this.zk;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ls:{get:function(){return this.zk;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{$:{get:function(){return this.stream.$;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Rn:{get:function(){return this.$&&this.$.Rn;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{mA:{get:function(){return this.X0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Sl:{get:function(){return this.yka;},enumerable:!0,configurable:!0}});c.prototype.tZa=function(a){f.assert(this.Ec.za===a.za);!a.jd&&this.Ec.jd&&a.WQ(this.Ec);!a.location&&this.Ec.location&&(a.location=this.Ec.location,a.Ub=this.Ec.Ub,a.Vz=this.Ec.Vz,a.url=this.Ec.url,a.Ka=this.Ec.Ka);this.Ec=a;};c.prototype.toJSON=function(){return b.__assign({},a.prototype.toJSON.call(this),{isHeader:!0,fragments:this.$});};return c;}(a(156).Kw);c.hX=g;},function(g,c,a){var b,f,q,h,d,k,m,t,u;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(11);q=a(5);h=a(375);d=a(366);k=a(201);g=a(25);m=a(202);t=a(24);a=a(40);u=q.MediaSource;q=function(a){function c(b,f,c,k,g,m,t){g=a.call(this,b,k,g,t)||this;d.hX.call(g,b,k,t);g.Nb=f;g.NO=c;g.oUa=!!k.Ds;g.XTa=!!k.jy;g.OL=!!k.OL;g.AWa=k.aa;g.Y_=(m?"(cache)":"")+g.za+" header";g.PB(b.url||k.url,k.offset,k.aa);return g;}b.__extends(c,a);Object.defineProperties(c.prototype,{Yb:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{track:{get:function(){return this.NO;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ds:{get:function(){return this.oUa;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{jy:{get:function(){return this.XTa;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{rkb:{get:function(){return this.AWa;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{parseError:{get:function(){return this.hEb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{JK:{get:function(){return this.DWa;},enumerable:!0,configurable:!0}});c.prototype.ae=function(){var b;if(!this.complete){b={type:"headerRequestCancelled",request:this};this.emit(b.type,b);}a.prototype.ae.call(this);};c.prototype.mob=function(){if(!this.X0)return!0;this.X0=!1;return this.Nla();};c.prototype.ci=function(b){this.zk=this.zk?t.$m(this.zk,b.response):b.response;b.jL();this.Nla()?a.prototype.ci.call(this,b):this.Jja?(this.PB(b.url,b.offset+b.aa,this.Jja),a.prototype.ci.call(this,b)):this.jS(this);};c.prototype.CVa=function(a,b){a.SU=!1;a.parseError=b.errormsg;};c.prototype.FVa=function(a,b){a.SU=!1;a.nZa=b.bytes;};c.prototype.DVa=function(a,b){a.$=b.fragments;a.Yv=b.movieDataOffsets;a.rg=b.additionalSAPs;a.mA=b.truncated;a.iR=b.defaultSampleDuration;a.ga=b.timescale;};c.prototype.HVa=function(a,b){this.Nb.LK.enabled&&(a.Rn=b.vmafs);};c.prototype.GVa=function(a,b){b.frameDuration&&(a.Ia=b.frameDuration);};c.prototype.EVa=function(a,b){a.JR={uFb:b.keyId,Gva:b.offset,ZHb:b.flipped};};c.prototype.BVa=function(a,b){a.SU=!0;a.Eib=b.moovEnd;a.JK=b.parsedEnd;};c.prototype.PB=function(a,b,d){a=new k.SM(this.stream,this.NO,this.Y_+" ("+this.ta.length+")",{offset:b,aa:d,url:a,location:this.location,Fb:this.Fb,responseType:0},this,this.K);this.push(a);this.Vb=this.ta.reduce(function(a,b){return a+b.aa;},0);};c.prototype.Nla=function(){var a,b,d;b=this.Nb.fvb;d=this.Nb.i_a;this.O===f.L.VIDEO&&b&&!this.Nb.ys?a=b:this.O===f.L.AUDIO&&d&&(a=d);a=new m.sNa(this.stream,this.zk,["sidx"],this.O===f.L.VIDEO&&this.Nb.ys||this.O===f.L.AUDIO&&this.Nb.jn,{truncate:this.mA,pKb:this.stream.track.b4,bW:a,Nya:void 0===this.Ia,Zba:!u.Sc||!u.Sc.Toa,$ba:this.Nb.$ba,io:this.Nb.io&&this.Nb.jn,sA:this.Nb.sA,Wy:this.Nb.Wy,O8:this.Nb.O8});b={};a.addEventListener("error",this.CVa.bind(this,b));a.addEventListener("requestdata",this.FVa.bind(this,b));a.addEventListener("fragments",this.DVa.bind(this,b));a.addEventListener("vmafs",this.HVa.bind(this,b));a.addEventListener("sampledescriptions",this.GVa.bind(this,b));a.addEventListener("keyid",this.EVa.bind(this,b));a.addEventListener("done",this.BVa.bind(this,b));a.parse({Ia:this.Ia});this.Sub=this.Nb.sA&&a.fdb;b.SU?(this.zk=a.Otb(b.Eib||b.JK),this.DWa=b.JK,this.yka=!!b.JR,void 0===this.Ia&&void 0===b.Ia&&this.K.error("No frame duration available for "+this.za),void 0===this.Ia&&void 0===b.Ia&&this.K.error("No frame duration available for "+this.za),this.stream.GU(b.ga,b.Ia||this.Ia,b.$,b.Yv,b.rg,b.Rn)):this.Jja=b.nZa||0;return!!b.SU;};return c;}(h.RM);c.Wca=q;a.mi(d.hX,q,!1);a.mi(g.EventEmitter,q);},function(g,c,a){var f;function b(a,b){a=b.indexOf(a);-1!==a&&b.splice(a,1);}Object.defineProperty(c,"__esModule",{value:!0});f=a(93);g=function(){function a(a){this.endOffset=a;this.done=!1;}a.prototype.$ra=function(){return this.done;};a.prototype.Dqa=function(a,b,f){return this.done=b+f>=this.endOffset;};return a;}();c.Zda=g;g=function(){function a(a,b,f,c){void 0===b&&(b=[]);void 0===f&&(f=[]);void 0===c&&(c=!1);this.Xo=a;this.oR=b;this.RCa=f;this.Oya=c;this.done=!1;this.Pi={};}a.prototype.$ra=function(b,d,f){-1!==a.ldb.indexOf(b)&&(this.Pi[b]={offset:d,size:f});if(-1!==this.RCa.indexOf(b))if(this.Pi[b]={offset:d,size:f},this.Oya)this.endOffset=d+f;else return this.endOffset=d,this.done=!0;else this.Xo&&-1!==this.Xo.indexOf(b)?(b=1<this.Xo.length?4096:0,this.endOffset=Math.max(d+f+b,this.endOffset||0)):-1!==this.oR.indexOf(b)&&(b=this.Xo?4096:0,this.endOffset=Math.max(d+f+b,this.endOffset||0));return this.done;};a.prototype.Dqa=function(a,d,c,g){var k;k=this;if(-1!==this.RCa.indexOf(a))return this.done=!0;a===f.cZ&&this.UBa(g.Pi);a===f.dZ&&this.UBa(g.Pi);this.Xo&&b(a,this.Xo);b(a,this.oR);return this.Xo&&0===this.Xo.length&&!this.oR.some(function(a){return k.Pi[a];})?this.done=!0:this.done;};a.prototype.UBa=function(a){var b;b=this;this.Pi=a;this.endOffset=(this.Xo||[]).concat(this.oR).reduce(function(a,d){return b.Pi[d]?(d=b.Pi[d],Math.max(d.offset+(d.size||4096),a)):a;},this.endOffset||0);};a.ldb=["moov","sidx"];return a;}();c.rKa=g;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=a(93);a=a(32);f=g.dZ;a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){var a,c,g;this.pf();1<=this.version&&(this.Ara=this.J.sV());a=this.J.ub();this.Pi={};for(var b=this.startOffset+this.length,f=0;f<a;++f){c=this.J.eL();"uuid"===c&&(c=this.J.sV());g=this.J.hi();this.Pi[c]={offset:b,size:g};b+=g;}return!0;};c.Xj=f;c.Sb=!1;return c;}(a.Hh);c["default"]=a;},function(g,c,a){var b,f,q;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(93);g=a(32);q=f.cZ;g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){this.pf();this.fileSize=this.J.hi();this.ga=this.J.hi();this.duration=this.J.hi(!1,!0);this.kya=this.J.hi();this.J.hi();this.Njb=this.J.hi();this.bjb=this.J.ub();this.lya=this.J.hi();this.Qra=this.J.ub();this.Ara=this.J.sV();this.Pi={moof:{offset:this.kya},sidx:{offset:this.lya,size:this.Qra}};this.Pi[f.Kga]={offset:this.Njb,size:this.bjb};this.J.offset-this.startOffset<=this.length-24&&(this.Mjb=this.J.hi(),this.Tib=this.J.ub(),this.Ljb=this.J.hi(),this.Rib=this.J.ub(),this.Pi[f.MN]={offset:this.Mjb,size:this.Tib},this.Pi[f.LN]={offset:this.Ljb,size:this.Rib});return!0;};d.Xj=q;d.Sb=!1;return d;}(g.Hh);c["default"]=g;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(32);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(b){b=a.prototype.parse.call(this,b);this.J.offset+=8;this.h1a=this.J.Pf();this.bpb=this.J.Pf();this.J.offset+=4;this.gBa=this.J.Pf();this.J.offset+=2;f.zX&&this.J.console.trace("MP4AudioSampleEntry: channelcount: "+this.h1a+", samplesize: "+this.bpb+", samplerate: "+this.gBa);return b;};return c;}(a(372)["default"]);c["default"]=g;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.prototype.parse=function(){this.J.offset+=6;this.J.Pf();return!0;};f.Sb=!1;return f;}(a(32).Hh);c["default"]=g;},function(g,c,a){var N,ja,ka,pa,xa,ma,Fa,E,C,J,P,Wa,S,Ra,Y,ba,da,fa,qc,ha;function b(a,b,d,f,c){ma.call(this,a,b,d,f,c);}function f(a,b,d,f,c){ma.call(this,a,b,d,f,c);}function q(a,b,d,f,c){ma.call(this,a,b,d,f,c);}function h(a,b,d,f,c){ma.call(this,a,b,d,f,c);this.bW=a.config.bW;this.cd=this.sizes=void 0;}function d(a,b,d,f,c){ma.call(this,a,b,d,f,c);}function k(a,b,d,f,c){ma.call(this,a,b,d,f,c);}function m(a,b,d,f){Ra.call(this,a,b,d,f);}function t(a,b,d,f,c){ma.call(this,a,b,d,f,c);}function u(a,b,d,f,c){ma.call(this,a,b,d,f,c);}function y(a,b,d,f,c){S.call(this,a,b,d,f,c);}function A(a,b,d,f,c){ma.call(this,a,b,d,f,c);}function K(a,b,d,f,c){ma.call(this,a,b,d,f,c);}function x(){for(var a=new DataView(this),b="",d,f=0;f<this.byteLength;f++)d=a.getUint8(f),b+=("00"+d.toString(16)).slice(-2);return b;}function G(a,b,d,f,c){ma.call(this,a,b,d,f,c);}function l(a,b,d,f,c){ma.call(this,a,b,d,f,c);}function R(a,b,d,f,c){ma.call(this,a,b,d,f,c);}function n(a,b,d,f,c){ma.call(this,a,b,d,f,c);}function W(a,b,d,f,c){ma.call(this,a,b,d,f,c);}function D(a){function b(b,d,f,c,k){ma.call(this,b,d,f,c,k);this.Nxa=a;}b.Sb=!1;b.prototype=new ma();b.prototype.constructor=b;Object.defineProperties(b.prototype,{Oda:{get:function(){return this.Nxa;}}});b.prototype.parse=function(){this.J.console.trace("renaming '"+this.type+"' to draft type '"+this.Nxa+"'");this.J.offset=this.startOffset+4;this.Ua.xEa(this.Oda);this.type=this.Oda;return!0;};return b;}function r(a,b,d,f,c){ma.call(this,a,b,d,f,c);}function Q(a,b,d,f,c){ma.call(this,a,b,d,f,c);}function ia(a,b,d,f,c){ma.call(this,a,b,d,f,c);}function Z(a,b,d,f,c){ma.call(this,a,b,d,f,c);}function ea(a,b,d,f,c){ma.call(this,a,b,d,f,c);}function X(a,b,d,f,c){ma.call(this,a,b,d,f,c);}function O(a,b,d,f,c){ma.call(this,a,b,d,f,c);}function ca(a,b,d,f,c){ma.call(this,a,b,d,f,c);}function va(a,b,d,f,c){ma.call(this,a,b,d,f,c);}function wa(a,b,d,f,c){ma.call(this,a,b,d,f,c);}N=a(13).assert;ja=a(93);a(5);ka=a(60).gc;pa=a(377);xa=a(126);a(59);a(59);a(59);ma=a(32).Hh;c=a(757)["default"];Fa=a(756)["default"];E=a(755)["default"];C=a(754)["default"];J=a(753)["default"];P=a(752)["default"];Wa=a(751)["default"];S=a(372)["default"];Ra=a(371)["default"];Y=a(750)["default"];ba=a(749)["default"];da=a(748)["default"];fa=a(370)["default"];qc=a(369)["default"];a(125);a(204);a(203);a(205);a=a(747)["default"];b.Sb=!0;b.prototype=new ma();b.prototype.constructor=b;f.Sb=!0;f.prototype=new ma();f.prototype.constructor=f;q.Sb=!1;q.prototype=new ma();q.prototype.constructor=q;q.prototype.parse=function(){var a;this.pf();1===this.version?(this.J.hi(),this.J.hi(),this.ga=this.J.ub(),this.duration=this.J.hi()):(this.J.ub(),this.J.ub(),this.ga=this.J.ub(),this.duration=this.J.ub());a=this.J.Pf()&32767;this.language=String.fromCharCode(96+(a>>>10),96+(a>>>5&31),96+(a&31));return!0;};h.Sb=!1;h.prototype=new ma();h.prototype.constructor=h;h.prototype.CWa=function(){this.pf();this.J.ub();this.ga=this.J.ub();0===this.version?(this.f4=this.J.ub(),this.Q4=this.J.ub()):(this.f4=this.J.hi(),this.Q4=this.J.hi());this.Cob=this.J.Pf();this.vE=this.J.Pf();};h.prototype.GTa=function(a,b){var d,f,c;d=this.ga;a=a&&a.ga||d;f=a/d;d=this.J.oV(b,12,!1);c=1===f?this.J.oV(b,12,!1):pa.from(Uint32Array,{length:b},function(){var a;a=Math.round(this.J.ub()*f);this.J.offset+=8;return a;},this);this.Cma(b,c,d,a);};h.prototype.eka=function(a){var b,d,f,c,k;b=this.ga;a=a&&a.ga||b;d=a/b;b=this.vE;f=this.J.config.sA&&xa.Rta||xa.Ey;c=f(this.cW,0,b,12,!1);k=4;f=1===d?f(this.cW,k,b,12,!1):pa.from(Uint32Array,{length:b},function(){var a;a=Math.round(this.cW.getUint32(k,!1)*d);k+=12;return a;},this);this.Cma(b,f,c,a);this.cW=void 0;};h.prototype.Cma=function(a,b,d,f){if(this.bW){f=this.bW*f/1E3;for(var c=0,k=1;k<a;k++)Math.abs(b[c]-f)>Math.abs(b[c]+b[k]-f)?(b[c]+=b[k],d[c]+=d[k]):(++c,c!==k&&(b[c]=b[k],d[c]=d[k]));++c;b=new Uint32Array(b.buffer.slice(0,4*c));d=new Uint32Array(d.buffer.slice(0,4*c));}this.sizes=d;this.cd=b;};h.prototype.parse=function(a){var b,d,f,c,k,g;this.CWa();this.Ia=a.Ia;b=this.ga;d=this.Ia&&this.Ia.ga||b;f=this.J.config.truncate&&60<this.vE;c=f?60:this.vE;k=this.startOffset+this.length+this.Q4;b=new ka(this.f4,b).qm(d).Ad;this.$={ga:d,Fj:b,offset:k};d=this.J.config.O8;if(this.J.config.Wy&&!f&&this.vE<d){this.cW=this.J.Xza(12*this.vE);g=this;Object.defineProperty(this.$,"durations",{get:function(){void 0===g.cd&&g.eka(g.Ia);return g.cd;}});Object.defineProperty(this.$,"sizes",{get:function(){void 0===g.sizes&&g.eka(g.Ia);return g.sizes;}});}else this.GTa(this.Ia,c),this.$.cd=this.cd,this.$.sizes=this.sizes;a.Gq=this;return!0;};d.Sb=!1;d.prototype=new ma();d.prototype.constructor=d;d.prototype.parse=function(){this.Rn=[];for(var a=(this.length-8)/2,b=0;b<a;b++)this.Rn.push(this.J.Pf()/100);return!0;};k.Sb=!0;k.prototype=new ma();k.prototype.constructor=k;k.prototype.parse=function(){this.pf();this.J.ub();return!0;};k.prototype.py=function(a){var b;b=Object.keys(this.Fc);b.length&&this.Fc[b[0]].length&&(this.Fc[b[0]][0]instanceof Ra?this.Ia=new ka(this.Fc[b[0]][0].lS,this.Fc[b[0]][0].gBa):this.Fc[b[0]][0]instanceof y&&(b=this.Fc[b[0]][0].Fc[ja.bZ])&&b.length&&(b=b[0].fd,1E3!==b.EI&&1001!==b.EI||0!==b.EU%1E3?this.J.console.warn("Unexpected frame rate in NetflixFrameRateBox: "+b.EU+"/"+b.EI):this.Ia=new ka(b.EI,b.EU)),this.Ia&&(a.Ia=this.Ia));return!0;};m.Sb=!0;m.prototype=Object.create(Ra.prototype);m.prototype.constructor=m;m.prototype.parse=function(a){return Ra.prototype.parse.call(this,a);};m.prototype.py=function(){this.lS=1536;return!0;};t.Sb=!1;t.prototype=Object.create(ma.prototype);t.prototype.parse=function(){this.J.Bf(2);this.J.Bf(5);this.J.Bf(3);this.J.Bf(3);this.ei.HJb(1);this.J.Bf(5);this.J.Bf(5);return!0;};u.Sb=!1;u.prototype=Object.create(ma.prototype);u.prototype.parse=function(){this.vjb=this.J.Pf()&7;for(var a=0;a<this.vjb;a++)this.J.Bf(2),this.J.Bf(5),this.J.Bf(5),this.J.Bf(3),this.ei.Bf(1),0<this.J.Bf(4)?this.ei.Bf(9):this.J.Bf(1);return!0;};y.Sb=!0;y.prototype=Object.create(S.prototype);y.constructor=y;y.prototype.parse=function(a){S.prototype.parse.call(this,a);this.fd=this.Dq([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{qHb:"int32"},{aLb:"int32"},{offset:32,type:"offset"},{L9a:"int16"},{Z1a:{type:"int8",JZa:32}},{depth:"int16"},{offset:16,type:"offset"}]);return!0;};A.Sb=!1;A.prototype=Object.create(ma.prototype);A.constructor=A;A.prototype.parse=function(){var a;this.J.je();this.aFa=this.J.je();this.J.je();this.J.je();this.J.je();this.rCa=this.D0(this.J.je()&31);this.D0(this.J.je());this.B$=this.rCa.length?this.rCa[0][0]:this.aFa;this.Zla=this.J.offset;this.startOffset+this.length<this.J.offset&&(100===this.DJb||110===this.B$||122===this.B$||144===this.B$)&&(this.J.je(),this.J.je(),this.D0(this.J.je()));a=this.startOffset+this.length-this.Zla;0<a&&this.Aj(a,this.Zla);return!0;};A.prototype.D0=function(a){var b,d,f;b=[];for(d=0;d<a;++d)f=this.J.Pf(),b.push(this.J.pV(f));return b;};K.Sb=!1;K.prototype=Object.create(ma.prototype);K.constructor=K;K.prototype.parse=function(){this.pf();this.lpb=this.J.eL();"cenc"==this.lpb&&(this.J.offset-=4,this.Ua.xEa("piff"));this.J.ub();return!0;};G.Sb=!1;G.prototype=new ma();G.prototype.constructor=G;G.prototype.parse=function(){this.pf();this.J.offset+=4;this.Gva=this.J.offset;this.Gv=this.J.Xza(16);this.Gv.toString=x;return!0;};l.Sb=!1;l.prototype=new ma();l.prototype.constructor=l;l.prototype.parse=function(){this.pf();this.Tl=this.J.Pf();this.Chb=this.J.oV(this.Tl,void 0,!0);return!0;};R.Sb=!1;R.prototype=new ma();R.prototype.constructor=R;R.prototype.parse=function(a){var b,d,f,c,k,g;c=a.Gq;N(c);a=a.Ia;b=c.ga;c=c.vE;N(a);N(b);N(c);this.pf();N(2>this.version);this.Tl=this.J.Pf();this.mE=new Uint16Array(c+1);d=a.mcb(b);k=d/b;g=a.qm(d).Ad;if(0===this.version)for(this.DE=new Uint16Array(),this.fm=new Uint32Array(),a=b=0;a<=c;++a){if(this.mE[a]=b,a<this.Tl&&(f=this.J.je(),0!==f))for(d=0;d<f;++d,++b)this.DE[b]=Math.floor((this.J.ub()+1)*k)/g,this.fm[b]=this.J.ub();}else if(1===this.version)for(d=this.J.inb(this.Tl),this.J.offset+=4,this.fm=this.J.oV(this.Tl,10,!1),this.J.offset-=8,this.DE=pa.from(Uint16Array,{length:this.Tl},function(){var a;a=Math.floor((this.J.ub()+1)*k)/g;this.J.offset+=6;return a;},this),b=a=0;a<=c;++a){for(;b<d.length&&d[b]<a;)++b;this.mE[a]=b;}this.rg={mE:this.mE,DE:this.DE,fm:this.fm};return!0;};n.Sb=!0;n.prototype=Object.create(b.prototype);n.prototype.constructor=n;W.Sb=!0;W.prototype=Object.create(b.prototype);W.prototype.constructor=W;W.prototype.py=function(){var a;a=this.ep("tfhd");a&&(this.cs=a.Wna?a.cs:this.parent.startOffset);return!0;};r.Sb=!1;r.prototype=new ma();r.prototype.constructor=r;r.prototype.parse=function(){var a,t,u,d,c;a=this.J.offset;this.pf();if(1===this.version){this.J.console.trace("translating vpcC box to draft equivalent");this.J.offset+=2;for(var b=this.J.offset,d=this.J.je(),f=this.J.je(),c=this.J.je(),k=this.J.je(),g=this.J.Pf(),m=[],t=0;t<g;++t)m=this.J.je();t=(d&240)>>>4;u=(d&14)>>>1;d=d&1;c=16===c?1:0;f!=k&&this.J.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries "+f+" and matrixCoefficients "+k+" should be the same value!");k=2;switch(f){case 1:k=2;break;case 6:k=1;break;case 9:k=5;break;default:this.J.console.warn("VP9: Unknown colourPrimaries "+f+"! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.Ua.$W(this.version,a);this.Ua.$W(t<<4|k,b++);this.Ua.$W(u<<4|c<<1|d,b++);g+=2;m.push(0,0);this.Ua.Cvb(g,b);b+=2;m.forEach(function(a){this.Ua.$W(a,b++);});}return!0;};Q.Sb=!1;Q.prototype=new ma();Q.prototype.constructor=Q;Q.Xj="tfhd";Object.defineProperties(Q.prototype,{Wna:{get:function(){return this.Ke&1;}},apb:{get:function(){return this.Ke&2;}},N5a:{get:function(){return this.Ke&8;}},Q5a:{get:function(){return this.Ke&16;}},O5a:{get:function(){return this.Ke&32;}}});Q.prototype.parse=function(){this.pf();this.Xba=this.J.ub();this.cs=this.Wna?this.J.hi():void 0;this.apb&&this.J.ub();this.jR=this.N5a?this.J.ub():void 0;this.lR=this.Q5a?this.J.ub():void 0;this.kR=this.O5a?this.J.ub():void 0;return!0;};ia.Sb=!1;ia.prototype=new ma();ia.prototype.constructor=ia;ia.prototype.parse=function(){this.pf();this.VH=1===this.version?this.J.hi():this.J.ub();return!0;};ia.prototype.Ta=function(a){var b;b=this.startOffset+12;this.VH+=a;1===this.version?this.Ua.Dvb(this.VH,b):this.Ua.xm(this.VH,!1,b);};Z.Sb=!1;Z.prototype=new ma();Z.prototype.constructor=Z;Object.defineProperties(Z.prototype,{Tpa:{get:function(){return this.Ke&1;}},T4:{get:function(){return this.Ke&4;}},IV:{get:function(){return this.Ke&256;}},JV:{get:function(){return this.Ke&512;}},fBa:{get:function(){return this.Ke&1024;}},oaa:{get:function(){return this.Ke&2048;}}});Z.prototype.parse=function(){this.pf();this.eoa=this.J.offset;this.Wd=this.J.ub();this.vs=this.Tpa?this.J.M$():0;this.T4&&this.J.ub();this.sL=(this.IV?4:0)+(this.JV?4:0)+(this.fBa?4:0)+(this.oaa?4:0);this.bS=this.J.offset;N(this.Tpa,"Expected data offset to be present in Track Run");N(this.length-(this.J.offset-this.startOffset)===this.Wd*this.sL,"Expected remaining data in box to be sample information");return!0;};Z.prototype.jH=function(a,b,d){var f,c,k;f=this.IV?this.J.ub():a.jR;c=this.JV?this.J.ub():a.lR;a=this.fBa?this.J.ub():a.kR;k=0===this.version?this.oaa?this.J.ub():0:this.oaa?this.J.M$():0;return{$ob:k,gKb:a,yJb:d+k-(void 0!==b?b:k),mt:c,tL:f};};Z.prototype.Ta=function(a,b,d,f,c,k,g){var m,t,u,q;m=0;t=0;this.Ua.offset=this.bS;for(f=0;f<c;++f)q=this.jH(b,u,t),0==f&&(u=q.$ob),m+=q.mt,t+=q.tL;f=c;c=this.J.offset;q=this.jH(b,u,t);this.QE=f;this.orb=t;if(g){if(this.wE=this.vs+m,this.ht=0,f===this.Wd)return!0;}else if(this.wE=this.vs,this.ht=m,0===f)return!0;if(0===f||f===this.Wd)return!1;this.Rqa=!0;if(g){this.ht+=q.mt;for(g=f+1;g<this.Wd;++g)q=this.jH(b,u,t),this.ht+=q.mt;this.Ua.offset=this.eoa;this.Wd=f;this.Ua.xm(this.Wd);this.Ua.B8(k);this.T4&&(this.J.offset+=4);this.Aj(this.length-(c-this.startOffset),c);}else b=c-this.bS,this.Ua.offset=this.eoa,this.Wd-=f,this.Ua.xm(this.Wd),this.vs+=m,this.Ua.B8(k),this.Ua.zEa(this.vs),this.T4&&(this.J.offset+=4),this.Aj(b,this.J.offset);d.Aj(this.ht,a.cs+this.wE);return!0;};Z.prototype.qob=function(a,b,d,f,c,k){var m;if(f){f=this.wE;for(var g=this.Wd-1;0<=g&&this.Wd-g<=c;--g){this.Ua.offset=this.bS+g*this.sL;m=this.jH(b);if(m.tL!=k.duration){this.J.console.warn("Could not replace sample of duration "+m.tL+" with silence of duration "+k.duration);break;}if(this.JV)this.Ua.offset-=this.sL-(this.IV?4:0),this.Ua.xm(k.tt.byteLength);else if(k.tt.byteLength!==m.mt){this.J.console.warn("Cannot replace sample with default size with silence of different size");break;}f-=m.mt;d.mL(m.mt,k.tt,a.cs+f);}}else for(f=this.wE+this.ht,g=0;g<this.Wd&&g<c;++g){this.Ua.offset=this.bS+(g+this.QE)*this.sL;m=this.jH(b);if(m.tL!=k.duration){this.J.console.warn("Could not replace sample of duration "+m.tL+" with silence of duration "+k.duration);break;}if(this.JV)this.Ua.offset-=this.sL-(this.IV?4:0),this.Ua.xm(k.tt.byteLength);else if(k.tt.byteLength!==m.mt){this.J.console.warn("Cannot replace sample with default size with silence of different size");break;}d.mL(m.mt,k.tt,a.cs+f);f+=m.mt;}};ea.Sb=!1;ea.prototype=Object.create(ma.prototype);ea.prototype.constructor=ea;Object.defineProperties(ea.prototype,{Vx:{get:function(){return this.Ke&1;}}});ea.prototype.parse=function(){this.pf();this.Vx&&this.J.eL();this.Vx&&this.J.ub();this.P5a=this.J.je();this.Wd=this.J.ub();this.J.pV(this.Wd);return!0;};ea.prototype.Ta=function(a,b){if(a&&0===this.P5a){a=b?this.Wd-a:a;this.Ua.offset=this.startOffset+13+(this.Vx?8:0);this.Wd-=a;this.Ua.xm(this.Wd);this.maa=0;if(b)this.Ua.offset+=this.Wd;else{for(b=0;b<a;++b)this.maa+=this.Ua.je();this.Ua.offset-=a;}this.Aj(a,this.J.offset);}return!0;};X.Sb=!1;X.prototype=Object.create(ma.prototype);X.prototype.constructor=X;Object.defineProperties(X.prototype,{Vx:{get:function(){return this.Ke&1;}}});X.prototype.parse=function(){this.pf();this.Vx&&this.J.eL();this.Vx&&this.J.ub();this.Tl=this.J.ub();N(1===this.Tl,"Expected a single entry in Sample Auxiliary Information Offsets box");this.vs=0===this.version?this.J.M$():this.J.qnb();return!0;};X.prototype.Ta=function(a,b){this.vs+=a;this.Ua.offset=this.startOffset+16+(this.Vx?8:0)+(0===this.version?0:4);this.Ua.B8(b);this.Ua.zEa(this.vs);return!0;};O.Sb=!1;O.prototype=Object.create(ma.prototype);O.prototype.constructor=O;Object.defineProperties(O.prototype,{Hya:{get:function(){return this.Ke&1;}},Rub:{get:function(){return this.Ke&2;}}});O.prototype.parse=function(){this.pf();this.Hya&&(this.J.ub(),this.kfb=this.J.pV(16));this.Wd=this.J.ub();return!0;};O.prototype.Ta=function(a,b){var d,f;d=b?this.Wd-a:a;this.Ua.offset=this.startOffset+28+(this.Hya?20:0);this.Wd-=d;this.Ua.xm(this.Wd);a=this.Ua.offset;if(this.Rub)for(d=b?this.Wd:d;0<d;--d){this.Ua.offset+=8;f=this.Ua.Pf();this.Ua.offset+=6*f;}else this.Ua.offset+=8*(b?this.Wd:d);b?this.Aj(this.length-(this.J.offset-this.startOffset),this.J.offset):this.Aj(this.J.offset-a,a);};ca.Sb=!1;ca.prototype=Object.create(ma.prototype);ca.prototype.constructor=ca;ca.prototype.parse=function(){this.pf();return!0;};ca.prototype.Ta=function(a,b,d){d?this.Aj(b-a,this.startOffset+12+a):this.Aj(a,this.startOffset+12);return!0;};va.Sb=!1;va.prototype=Object.create(ma.prototype);va.prototype.constructor=va;va.prototype.parse=function(){this.pf();this.J.eL();1===this.version&&this.J.ub();this.Tl=this.J.ub();this.uL=[];for(var a=0;a<this.Tl;++a)for(var b=this.J.ub(),d=this.J.ub(),f=0;f<b;++f)this.uL.push(d);return!0;};va.prototype.Ta=function(a,b){this.uL=b?this.uL.slice(0,a):this.uL.slice(a);a=this.uL.reduce(function(a,b){0!==a.length&&a[a.length-1].group===b||a.push({group:b,count:0});++a[a.length-1].count;return a;},[]);this.Ua.offset=this.startOffset+16+(1===this.version?4:0);this.Ua.xm(a.length);a.forEach(function(a){this.Ua.xm(a.count);this.Ua.xm(a.group);}.bind(this));this.Tl>a.length&&this.Aj(8*(this.Tl-a.length));this.Tl=a.length;return!0;};wa.Sb=!1;wa.prototype=Object.create(ma.prototype);wa.prototype.constructor=wa;ha={Fc:{moov:f,trak:b,mdia:b,mdhd:q,minf:b,encv:y,schi:b,sidx:h,sinf:b,stbl:b,stsd:k,tenc:G,mvex:b,moof:n,traf:W,tfhd:Q,trun:Z,sbgp:va,sdtp:ca,saiz:ea,saio:X,tfdt:ia,mdat:wa,vmaf:d},Etb:{vpcC:r,SmDm:D("smdm"),CoLL:D("coll")},ytb:{avcC:A,schm:K},naa:{"ac-3":m,"ec-3":m,dac3:t,dec3:u,avc1:y,avc3:y,avc2:y,avc4:y,hvc1:y,hev1:y}};[Wa,Fa,E,c,C,J,P,a,fa,qc].forEach(function(a){ha.Fc[a.Xj]=a;});[Y,ba].forEach(function(a){ha.naa[a.Xj]=a;});ha.Fc[ja.eha]=G;ha.Fc[ja.MN]=l;ha.Fc[ja.LN]=R;ha.Fc[ja.dha]=O;ha.naa[ja.bZ]=da;ha.Hh=ma;g.T={xK:ha};},function(g,c,a){var b,f,q;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(32);q=a(59);g=function(a){function d(b,d,f,c,g){f=a.call(this,f,c,g)||this;f.b0a=b;f.UE=d;f.Fc={};return f;}b.__extends(d,a);d.prototype.parse=function(a){var b,d,f,c,k,g;this.offset=0;b=[];for(a=a||{};this.offset<this.view.byteLength&&!(8>this.view.byteLength-this.offset);){d=this.offset;f=this.ub();if(0===f)return{done:!1,offset:this.offset,error:"Invalid zero-length box"};c=q.MG(this.ub());if(null===c)return{done:!1,offset:this.offset,error:"Invalid box type"};if("uuid"===c){if(16>this.view.byteLength-this.offset)break;c=this.sV();}if(0===b.length&&this.UE.$ra(c,d,f))break;if(d+f>this.view.byteLength)break;k=this.b0a[c];g=void 0;if(k)if(g=new k(this,c,d,f,b[0]),(b[0]||this).zH(g),g.parse(a))this.config.T9&&k.Sb?b.unshift(g):this.offset=d+f;else return{done:!1,offset:this.offset,error:"parse error in "+c+" box"};else this.offset=d+f;for(;b.length&&this.offset>b[0].byteOffset+b[0].tz-8;){g=b.shift();if(!g.py(a))return{done:!1,offset:this.offset,error:"finalize error in "+g.type+" box"};this.offset=g.byteOffset+g.tz;}if(0===b.length&&this.UE.Dqa(c,d,f,g))break;}return!this.UE.done&&(a=this.UE.endOffset?this.UE.endOffset-this.view.byteLength:4096,0<a)?{done:!1,offset:this.offset,Jxa:a}:{done:!0,offset:Math.min(this.UE.endOffset||Infinity,this.offset)};};d.prototype.zH=function(a){f.Hh.zH(this,a);};return d;}(a(759).zSa);c.qX=g;},function(g,c,a){var b,f,q;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(5);q=a(154);g=function(a){function d(b,d,f,c){b=a.call(this,b,d,f,c)||this;b.ta=[];b.t0=!1;b.WG=!1;b.pd=!1;b.Mg=!1;b.ic=!1;b.gB=!1;b.Jka=!1;b.Ika=!1;b.Cp=void 0;b.Cl=void 0;b.yp=void 0;return b;}b.__extends(d,a);Object.defineProperties(d.prototype,{active:{get:function(){return this.pd;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{nAa:{get:function(){return this.Mg;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{complete:{get:function(){return this.ic||(this.ic=this.ta.every(function(a){return a.complete;}));},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Hl:{get:function(){return this.gB;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{rm:{get:function(){return this.ta.reduce(function(a,b){return a+b.rm;},0);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{se:{get:function(){return this.ta.reduce(function(a,b){return a+b.se;},0);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{uc:{get:function(){return this.Cp||0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{CT:{get:function(){return this.Cl;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{url:{get:function(){return this.ta[0]&&this.ta[0].url;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{readyState:{get:function(){return this.sf||this.ta.reduce(function(a,b){return Math.min(a,b.readyState);},Infinity);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{status:{get:function(){return this.yp&&this.yp.status||0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Xh:{get:function(){return this.yp&&this.yp.Xh;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{aD:{get:function(){return this.yp&&this.yp.aD;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{sj:{get:function(){return this.yp&&this.yp.sj;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{bk:{get:function(){return!!this.ta.length&&this.ta[0].bk;},enumerable:!0,configurable:!0}});d.prototype.push=function(a){this.WG&&a.Bc(this.yb,this.Eu,this.Nb,this.Nf);this.ta.push(a);this.t0&&a.cw();};d.prototype.Bc=function(a,b,d,f){q.Jw.prototype.Bc.call(this,a,b,d,f);this.ta.forEach(function(c){return c.Bc(a,b,d,f);});this.WG=!0;};d.prototype.Yua=function(){return 7===this.sf;};d.prototype.cw=function(){return this.t0=this.ta.every(function(a){return a.cw();});};d.prototype.ae=function(){this.ta.forEach(function(a){return a.ae();});};d.prototype.dM=function(a){this.sf=this.yp=void 0;return this.ta.every(function(b){return 5!==b.readyState&&7!==b.readyState?b.dM(a):!0;});};d.prototype.abort=function(){var a,b;a=this.active;this.sf=7;this.gB=!0;this.Mg=this.pd=!1;b=this.ta.map(function(a){return a.abort();}).every(function(a){return a;});this.iS(this,a);return b;};d.prototype.getResponseHeader=function(a){var b;b=null;this.ta.some(function(d){return!!(b=d.getResponseHeader(a));});return b;};d.prototype.getAllResponseHeaders=function(){var a;a=null;this.ta.some(function(b){return!!(a=b.getAllResponseHeaders());});return a;};d.prototype.qz=function(a){this.pd||(this.pd=!0);this.Jka||(this.Jka=!0,this.hk=0,this.Cp=this.ll=a.uc,this.Cl=f.time.da()-this.Cp,this.uy(this));};d.prototype.aw=function(a){this.Mg||(this.Mg=!0);this.Ika||(this.Ika=!0,this.Cp=a.uc,this.Cl=f.time.da()-this.Cp,this.ty(this));};d.prototype.HK=function(a){this.Cp=a.uc;this.eD(this);this.hk=this.se;this.ll=a.uc;};d.prototype.ci=function(a){this.Cp=a.uc;this.Cl=f.time.da()-this.Cp;this.complete?(this.ic=!0,this.sf=5,this.Mg=this.pd=!1,this.hv(this)):this.eD(this);this.hk=this.se;this.ll=a.uc;};d.prototype.dE=function(a){this.Cp=a.uc;this.Cl=f.time.da()-this.Cp;this.yp=a;this.sf=6;this.jS(this);};d.prototype.KU=function(){};d.prototype.ak=function(){return this.ta[0].ak()+"-"+this.ta[this.ta.length-1].ak();};d.prototype.toString=function(){return"Compound["+this.ta.map(function(a){return a.toString();}).join(",")+"]";};d.prototype.toJSON=function(){return{requests:this.ta};};return d;}(q.Jw);c.RM=g;},function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});a(0).__exportStar(a(383),c);},function(g){var c;c=function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0!==a[0];}()?function(a,b,f){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(b.buffer,b.byteOffset,b.byteLength),f*a.byteLength/a.length);}:function(a,b,f){a.set(b,f);};g.T={from:function(a,b,f,c){a=new a(b.length);for(var g="function"===typeof f,d=0;d<b.length;++d)a[d]=g?f.call(c,b[d],d,b):b[d];return a;},set:c};},function(g,c,a){var b,f,q,h,d,k,m,t;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(13);q=a(126);h=a(377);g=a(5);a=a(380);d=new g.Console("FRAGMENTS","media|asejs");try{k=!0;}catch(u){k=!1;}m=function(a){function d(b,d){d=a.call(this,b.bp,d)||this;d.Hx=b;return d;}b.__extends(d,a);Object.defineProperties(d.prototype,{aa:{get:function(){return this.Hx.lrb(this.wi);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{offset:{get:function(){return this.Hx.fm(this.wi);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{j9:{get:function(){return this.Hx.Yv&&this.Hx.Yv[this.wi];},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{rg:{get:function(){return this.Hx.f$a(this.wi);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{xc:{get:function(){return this.Hx.Rn&&this.Hx.Rn[this.wi];},enumerable:!0,configurable:!0}});d.prototype.toJSON=function(){return{index:this.index,contentStartTicks:this.$a,contentEndTicks:this.wb,durationTicks:this.Rl,timescale:this.ga,startPts:this.U,endPts:this.ha,duration:this.duration,additionalSAPs:this.rg};};return d;}(a.XRa);c.bDb=m;t=function(){function a(a,b,d){this.ga=d;this.cd=a;this.sizes=b;this.length=Math.min(a.length,b.length);this.Vb=void 0;}a.from=function(b){for(var d=new Uint32Array(b.length),f=new Uint32Array(b.length),c=0,k,g,m=0;m<b.length;++m)k=b[m],g=k.Vb,d[m]=k.qr-k.uB,f[m]=g,c+=g;b=new a(d,f,b.length?b[0].ga:1E3);b.Vb=c;return b;};Object.defineProperties(a.prototype,{aa:{get:function(){return void 0!==this.Vb?this.Vb:this.r_();},enumerable:!0,configurable:!0}});a.prototype.subarray=function(b,d){return new a(this.cd.subarray(b,d),this.sizes.subarray(b,d),this.ga);};a.prototype.concat=function(){var d,b,f,c;for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];d=[this];b=d.concat.apply(d,b);d=b.reduce(function(a,b){return a+b.length;},0);f=new Uint32Array(d);c=new Uint32Array(d);d=b.reduce(function(a,b){return a||b.ga;},void 0);b.reduce(function(a,b){h.set(f,b.cd,a);h.set(c,b.sizes,a);return a+b.length;},0);return new a(f,c,d);};a.prototype.r_=function(){for(var a=this.sizes,b=this.length,d=0,f=0;f<b;++f)d+=a[f];return this.Vb=d;};return a;}();c.kRa=t;g=function(){function a(a,b,f,c,k,g,m){this.JB=16;this.Hb=a;this.Dd=b.offset;m?(this.Ek=void 0,this.sa=b):this.Ek=b.sizes;this.qB=this.KG=this.Vf=this.vma=this.Q0=void 0;this.zVa=f;this.h_=c&&c.fm;this.Gma=k;this.ru=this.Ek?Math.min(this.Hb.length,this.Ek.length):this.Hb.length;this.k0=m?void 0:this.uoa();this.Ek&&this.bp.Km.length!==this.Ek.length&&d.error("Mis-matched stream duration ("+this.bp.Km.length+","+this.Ek.length+") for movie id "+g);this.bp.hQ&&!this.h_&&d.error("Mis-matched additional SAPs information for movie id "+g);}a.BFb=function(a,b){var d,f;b=b.ga;d=b/1E3;f=new DataView(a);a=Math.floor(a.byteLength/16);return{ga:b,Fj:f.getUint32(4)*d,offset:65536*f.getUint32(8)+f.getUint16(12),sizes:q.Ey(f,0,a,16),cd:h.from(Uint32Array,{length:a},function(a,b){return f.getUint16(16*b+14)*d;})};};Object.defineProperties(a.prototype,{O:{get:function(){return this.Hb.O;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.ru;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Fj:{get:function(){return this.Hb.Fj;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{era:{get:function(){return this.Hb.era;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{U:{get:function(){return this.Hb.U;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ha:{get:function(){return this.Hb.ha;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{$r:{get:function(){return this.Hb.$r;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{H8:{get:function(){return this.Hb.H8;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ZT:{get:function(){return this.k0||this.uoa();},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ia:{get:function(){return this.Hb.Ia;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ga:{get:function(){return this.Hb.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{rm:{get:function(){return this.vma||this.r_();},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Yv:{get:function(){return this.zVa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ena:{get:function(){return this.h_;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Rn:{get:function(){return this.Gma;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{bp:{get:function(){return this.Hb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{OE:{get:function(){return this.Q0||this.ITa();},enumerable:!0,configurable:!0}});a.prototype.lrb=function(a){void 0===this.Ek&&this.sa&&(this.Ek=this.sa.sizes,this.sa=void 0);if(this.Ek)return this.Ek[a];d.error("sizesByIndex _sizes is undefined");return-1;};a.prototype.sizes=function(){void 0===this.Ek&&this.sa&&(this.Ek=this.sa.sizes,this.sa=void 0);if(this.Ek)return this.Ek;d.error("sizes _sizes is undefined");return new Uint32Array(1);};a.prototype.ig=function(a){return this.Hb.ig(a);};a.prototype.VC=function(a){return this.Hb.ig(a)+this.Hb.cd(a);};a.prototype.fm=function(a){if(this.KG!==a||void 0===this.qB){if(0===a)return this.Dd;if(this.KG===a-1&&void 0!==this.qB)this.qB+=this.sizes()[this.KG],++this.KG;else{for(var b=this.Vf||this.oTa(),d=Math.floor(a/this.JB),f=d*this.JB,b=b[d];f<a;++f)b+=this.sizes()[f];this.KG=a;this.qB=b;}}return this.qB;};a.prototype.cd=function(a){return this.Hb.cd(a);};a.prototype.get=function(a){return new m(this,a);};a.prototype.f$a=function(a){var b,d,c;f.assert(0<=a);b=this.bp.hQ;d=this.bp.fna;c=this.h_;if(!c||!b||!d||a>=b.length)return[];for(var k=[],g=a===b.length-1?d.length:b[a+1],b=b[a];b<g;++b)k.push({km:d[b],Kd:this.ig(a)+this.Ia.l9(d[b]).zf,offset:c[b]});return k;};a.prototype.Lqb=function(a){this.Gma=a;};a.prototype.Gi=function(a,b,d){return this.Hb.Gi(a,b,d);};a.prototype.VR=function(a,b,d){return this.Hb.VR(a,b,d);};a.prototype.b3=function(a,b){return this.Hb.b3(a,b);};a.prototype.yT=function(a,b,d){var f,c,k,g,m,t,u,q,h;f=!0;c=0;g=this.Hb.Km;m=this.sizes();t=Math.floor(a*this.ga/1E3);u=0;q=0;h=0;if(this.Hb.hca&&this.Hb.gca)for(c=this.Hb.hca;c<=this.Hb.gca;++c)u+=g[c],q+=m[c];if(q>b)f=!1;else for(;c<this.length&&(!d||c<d);){k=m[c];a=g[c];if(q+k>b&&u<t){f=!1;this.Hb.hca=h;this.Hb.gca=c;break;}for(;0<c-h&&q+k>b;)u-=g[h],q-=m[h],++h;u+=a;q+=k;++c;}return f;};a.prototype.subarray=function(b,d){f.assert(void 0===b||0<=b&&b<this.length);f.assert(void 0===d||d>b&&d<=this.length);return new a(this.Hb.subarray(b,d),{offset:this.fm(b),sizes:this.sizes().subarray(b,d)},this.Yv&&this.Yv.subarray(b,d),this.ena&&{fm:this.ena});};a.prototype.forEach=function(a){for(var b=0;b<this.length;++b)a(this.get(b),b,this);};a.prototype.map=function(a){for(var b=[],d=0;d<this.length;++d)b.push(a(this.get(d),d,this));return b;};a.prototype.reduce=function(a,b){for(var d=0;d<this.length;++d)b=a(b,this.get(d),d,this);return b;};a.prototype.toJSON=function(){return{length:this.length,averageFragmentDuration:this.$r};};a.prototype.dump=function(){var b;d.trace("StreamFragments: "+this.length+", averageFragmentDuration: "+this.$r+"ms");for(var a=0;a<this.length;++a){b=this.get(a);d.trace("StreamFragments: "+a+": ["+b.U+"-"+b.ha+"] @ "+b.offset+", "+b.aa+" bytes");}};a.prototype.uoa=function(){var a,b,d,f,c;b=0;d=this.Hb.Lwa;f=this.Hb.Km;c=this.sizes();if(void 0===d||d>=this.length){for(var k=0;k<this.length;++k)a=c[k]/f[k],a>b&&(b=a,d=k);void 0===this.Hb.Lwa&&(this.Hb.Lwa=d);}else b=c[d]/f[d];return this.k0=Math.floor(b*this.ga/125);};a.prototype.r_=function(){for(var a=0,b=0;b<this.length;++b)a+=this.sizes()[b];return this.vma=a;};a.prototype.ITa=function(){return this.Q0=new t(this.Hb.Km,this.sizes(),this.Hb.ga);};a.prototype.oTa=function(){var a;if(!this.Vf){a=k?new Float64Array(Math.ceil(this.length/this.JB)):Array(Math.ceil(this.length/this.JB));for(var b=this.Dd,d=0;d<a.length;++d){a[d]=b;for(var f=0;f<this.JB;++f)b+=this.sizes()[d*this.JB+f];}this.Vf=a;}return this.Vf;};return a;}();c.uRa=g;g.prototype.yCa=a.w8(g.prototype.ig);},function(g,c,a){var f,q,h;function b(a){return void 0===a?!0:a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(60);q=a(378);h=a(94);a(13);g=function(){function a(a,d,c){this.G=d;this.K=c;this.Sm=a.track;this.NXa=a.Rf;this.aH=a.Ygb;this.TUa=-1===this.profile.indexOf("none");this.sa=this.yr=void 0;this.mf=b(a.mf);this.inRange=b(a.inRange);this.HC=a.HC;this.nu=void 0;this.nla=this.pr=0;this.url=this.Vz=this.Ub=this.pl=this.Z7=this.location=this.va=this.Ka=void 0;this.Tg=!1;this.Yeb=this.Qd=void 0;a=this.G&&"object"===typeof this.G.Kza&&this.G.Kza[this.profile];"object"===typeof a&&(a=a[this.P])&&(this.hH=new f.gc(a));}Object.defineProperties(a.prototype,{jd:{get:function(){return!!this.sa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Oa:{get:function(){return this.Sm.Oa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{M:{get:function(){return this.Sm.M;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{O:{get:function(){return this.Sm.O;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ia:{get:function(){return this.Sm.Ia;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ga:{get:function(){return this.Sm.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Zv:{get:function(){return this.Sm.Zv;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{eb:{get:function(){return this.Sm.eb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{track:{get:function(){return this.Sm;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Rf:{get:function(){return this.NXa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{za:{get:function(){return this.aH.downloadable_id;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{id:{get:function(){return this.za;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{tn:{get:function(){return this.TUa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{P:{get:function(){return this.aH.bitrate;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{xc:{get:function(){return this.aH.vmaf||null;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{profile:{get:function(){return this.aH.content_profile;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{gf:{get:function(){return this.profile;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Gq:{get:function(){return this.aH.sidx;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{yj:{get:function(){return this.hH;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{$:{get:function(){return this.sa||this.tUa();},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ZT:{get:function(){return this.sa&&this.sa.ZT;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{c5:{get:function(){return this.Sm.c5;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{b5:{get:function(){return this.Sm.b5;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{LH:{get:function(){return this.Sm.LH;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{NH:{get:function(){return this.Sm.NH;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{k7:{get:function(){return this.Ia.zf;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{U:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{gCa:{get:function(){return this.Teb();},enumerable:!0,configurable:!0}});a.prototype.GU=function(a,b,d,f,c,g){this.G.Wy&&this.track.jd?this.yr={Zv:a,Ia:b,$:d,Yv:f,rg:c,Rn:g}:this.aka(d,a,b,c,f,g,this.G.Wy);};a.prototype.WQ=function(a){this.jd||(this.track.x2a(a.track),this.sa=a.$);};a.prototype.ag=function(a){return new h.qk(this,this.$.get(a));};a.prototype.Xsa=function(a){var b;b=this.ag(a.index);a.Ta&&(b.Ej(a.Ta),b.HL(a.Aw));return b;};a.prototype.yT=function(){var a;if(!this.jd)return!0;if(this.track.I6>=this.P)return this.nu=!0;if(this.track.uwa<=this.P)return this.nu=!1;a=this.sa.yT(this.G.nU,this.pr,this.nla);if(a){if(!this.track.b4||this.tn)this.track.I6=this.P;}else this.track.uwa=this.P;return this.nu=a;};a.prototype.Teb=function(){return void 0!==this.nu?!this.nu:!this.yT();};a.prototype.LDa=function(a,b){this.pr=a;this.nla=b;};a.prototype.D1a=function(){this.va=this.Ka=this.Ub=this.location=this.url=void 0;};a.prototype.toJSON=function(){return{movieId:this.M,mediaType:this.O,streamId:this.za,bitrate:this.P};};a.prototype.toString=function(){return(0===this.O?"a":"v")+":"+this.za+":"+this.P;};Object.defineProperties(a.prototype,{gv:{get:function(){return void 0!==this.nu?this.nu:this.yT();},set:function(a){this.nu=a;},enumerable:!0,configurable:!0}});a.prototype.tUa=function(){if(!this.yr)return this.sa;this.aka(this.yr.$,this.yr.Zv,this.yr.Ia,this.yr.rg,this.yr.Yv,this.yr.Rn,this.G.Wy);this.yr=void 0;return this.sa;};a.prototype.aka=function(a,b,d,f,c,g,h){a&&void 0!==a.Fj&&(this.track.jd||h||void 0!==a.cd&&a.cd.length)&&void 0!==a.offset&&(h||void 0!==a.sizes&&a.sizes.length)?(this.G.io&&this.yj&&0===a.Fj&&(a.Fj+=this.yj.qm(a.ga).Ad),this.jd||(this.track.GU(this,b,d,a,f),this.sa=new q.uRa(this.track.bp,a,c,f,g,this.M,h))):a?this.K.error("AseStream._constructFragments with missing fragments data:"+(void 0!==a.Fj)+","+this.track.jd+","+this.track.b4+","+(void 0!==a.cd)+","+!(!a.cd||!a.cd.length)+","+(void 0!==a.offset)+","+(void 0!==a.sizes)+","+!(!a.sizes||!a.sizes.length)):this.K.error("AseStream._constructFragments fragments was undefined:");};return a;}();c.xFa=g;},function(g,c,a){var f,q,h;function b(a){return function(){for(var b=Array(this.length),d=0;d<this.length;++d)b[d]=a.call(this,d);return b;};}Object.defineProperty(c,"__esModule",{value:!0});f=a(13);q=new(a(5)).Console("FRAGMENTS","media|asejs");h=function(){function a(a,b){this.Hb=a;this.wi=b;}Object.defineProperties(a.prototype,{index:{get:function(){return this.wi;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{$a:{get:function(){return this.Hb.rH+this.Hb.Kr[this.wi];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{wb:{get:function(){return this.$a+this.Hb.Km[this.wi];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Rl:{get:function(){return this.Hb.Km[this.wi];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ia:{get:function(){return this.Hb.Ia;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ga:{get:function(){return this.Hb.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{LH:{get:function(){return this.Hb.Ia.Ad;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{NH:{get:function(){return this.Hb.Ia.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{U:{get:function(){return Math.floor(1E3*this.$a/this.ga);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ha:{get:function(){return Math.floor(1E3*(this.$a+this.Rl)/this.ga);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{duration:{get:function(){return Math.floor(1E3*this.Rl/this.ga);},enumerable:!0,configurable:!0}});a.prototype.toJSON=function(){return{startPts:1E3*this.$a/this.Ia.ga,endPts:1E3*this.wb/this.Ia.ga,duration:1E3*this.Rl/this.Ia.ga,index:this.index};};return a;}();c.XRa=h;g=function(){function a(a,b,d,f){this.O=a;this.length=d.cd.length;this.Nr=d.ga;this.Km=d.cd;this.hQ=f&&f.mE;this.fna=f&&f.DE;this.zB=b;this.gca=this.hca=this.lla=void 0;this.rH=d.Fj;this.Kr=new Uint32Array(this.length+1);if(this.length){for(b=a=0;b<this.length;++b)this.Kr[b]=a,a+=this.Km[b];this.Kr[b]=a;this.ha=this.ig(this.length);this.$r=Math.floor((this.ha-this.U)/this.length);}}Object.defineProperties(a.prototype,{Fj:{get:function(){return this.rH+this.Kr[0];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{era:{get:function(){return this.rH+this.Kr[this.length];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{U:{get:function(){return this.ig(0);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{H8:{get:function(){return this.lla||this.lTa();},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ia:{get:function(){return this.zB;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ga:{get:function(){return this.Nr;},enumerable:!0,configurable:!0}});a.prototype.ig=function(a){return Math.floor(1E3*(this.rH+this.Kr[a])/this.ga);};a.prototype.VC=function(a){return a<this.length-1?this.ig(a+1):this.ha;};a.prototype.cd=function(a){return this.VC(a)-this.ig(a);};a.prototype.get=function(a){return new h(this,a);};a.prototype.Gi=function(a,b,d){if(0===this.length||a<this.ig(0))return-1;a=Math.max(a,b||0);for(var f=0,c=this.length-1,k,g;c>=f;)if(k=f+(c-f>>1),g=this.ig(k),a<g)c=k-1;else if(a>=g+this.cd(k))f=k+1;else{for(;b&&k<this.length&&this.ig(k)<b;)++k;return k<this.length?k:d?this.length-1:-1;}return d?this.length-1:-1;};a.prototype.VR=function(a,b,d){a=this.Gi(a,b,d);return 0<=a?this.get(a):void 0;};a.prototype.b3=function(a,b){var d,f;d=Math.floor(b*this.ga/1E3);b=Math.min(a+Math.ceil(b/this.$r),this.length);f=this.Kr[b]-this.Kr[a];if(f>d){for(;f>=d;)--b,f-=this.Km[b];return b-a+1;}for(;f<d&&b<=this.length;)f+=this.Km[b],++b;return b-a;};a.prototype.subarray=function(b,d){f.assert(void 0===b||0<=b&&b<this.length);f.assert(void 0===d||d>b&&d<=this.length);return new a(this.O,this.Ia,{ga:this.ga,Fj:this.rH+this.Kr[b],cd:this.Km.subarray(b,d)},this.hQ&&{mE:this.hQ.subarray(b,d+1),DE:this.fna});};a.prototype.forEach=function(a){for(var b=0;b<this.length;++b)a(this.get(b),b,this);};a.prototype.map=function(a){for(var b=[],d=0;d<this.length;++d)b.push(a(this.get(d),d,this));return b;};a.prototype.reduce=function(a,b){for(var d=0;d<this.length;++d)b=a(b,this.get(d),d,this);return b;};a.prototype.toJSON=function(){return{length:this.length,averageFragmentDuration:this.$r};};a.prototype.dump=function(){var b;q.trace("TrackFragments: "+this.length+", averageFragmentDuration: "+this.$r+"ms");for(var a=0;a<this.length;++a){b=this.get(a);q.trace("TrackFragments: "+a+": ["+b.U+"-"+b.ha+"]");}};a.prototype.lTa=function(){for(var a=0,b=0;b<this.length;b++)a=Math.max(this.Km[b],a);return this.lla=a;};return a;}();c.dja=g;c.w8=b;g.prototype.yCa=b(g.prototype.ig);c.yEb=function(a){return"["+Array(a.length).map(function(b,d){return a[d].toString();}).join(",")+"]";};},function(g,c,a){var b,f,q;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(765);q=a(11);g=function(){function a(a,c){var d,k,g,h,p,K,x,G,l,R,n,W,D,r;d=this;k=a.qc;g=a.ba;h=a.Ja;p=a.Kya;K=a.Pya;x=a.xg;G=a.gs;l=a.config;R=a.K;this.Yka=[];this.Nja=[];this.mla=[];this.fo=1;this.xka=!1;this.H5a=function(){d.fo--;0>=d.fo&&d.cUa();};this.qc=k;this.M=h.movieId;this.Ja=h;this.ba=g||0;this.cUa=c;n=[];["audio_tracks","video_tracks"].forEach(function(a,b){var c;c=b===q.L.VIDEO;b===q.L.AUDIO&&!p||c&&!K||h[a].forEach(function(a){a=new f.yFa({M:String(h.movieId),Oa:d,Zy:a,O:b,xg:x,gs:G},l,R);n.push(a);});});W=[{},{}];D=[0,0];r=!1;n.forEach(function(a){W[a.O]=b.__assign({},W[a.O],a.Hs());a.xn>D[a.O]&&(D[a.O]=a.xn);r=r||a.zJ;});this.Gna=n;this.Xrb=W;this.hK=D;this.zJ=r;l&&l.n4&&l.S6&&0<l.S6.length&&-1!==l.S6.indexOf(String(this.M))&&(this.xka=!0);}Object.defineProperties(a.prototype,{Vc:{get:function(){return this.Yka;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Una:{get:function(){return this.Nja;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{phb:{get:function(){return this.mla;},enumerable:!0,configurable:!0}});a.prototype.fq=function(){return void 0!==this.Ja.choiceMap;};a.prototype.getTracks=function(a){return this.Gna.filter(function(b){return b.O===a;});};a.prototype.LS=function(a){var b;this.Gna.some(function(d){return d.eb===a?(b=d,!0):!1;});return b;};a.prototype.Zp=function(a,b){return(a=this.Hs(a))&&a[b];};a.prototype.Hs=function(a){return this.Xrb[a];};a.prototype.lca=function(a,b){this.Yka[a]=b;b.$&&this.Zta(a,b.$);};a.prototype.Zta=function(a,b){this.Nja[a]=b.$r;this.mla[a]=b.H8;};a.prototype.QC=function(a){return void 0===a||a===q.L.VIDEO?this.xka:!1;};return a;}();c.Xca=g;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(6);c.D1=function(a,c,g){var d,f;d=!0;g.some(function(k){var g;if(a===k.profile){g=k.ranges;d=b.R(g)?c>=k.min&&c<=k.max:g.some(function(a){return c>=a.min&&c<=a.max;});!d&&k.disallowed&&k.disallowed.some(function(a){if(a.stream.bitrate===c)return f=a.disallowedBy,!0;});return!0;}});return{inRange:d,HC:f};};},function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});g=a(0);g.__exportStar(a(770),c);g.__exportStar(a(382),c);},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.qga="ManifestVerifyErrorFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.gja="TrickPlayFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.eja="TrackStreamFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Zha="PlayerTextTrackFactorySymbol";},function(g,c){function a(a,f){this.log=a;this.BW=f;}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.tDa=function(a,f){var b;b=this;if(!a)return this.log.warn("There are no media streams for "+f.type+" track - "+f.eb),[];a=a.map(function(a){var d;d=b.BW(f,f.type,a.NC,a.P,a.xc,a.size,b.eab(a.Yc),a.qC,a.isa/a.hsa,a.tn);d.Nqb(a.MAa,a.LAa);d.jqb(a.Mpa,a.Npa,a.Lpa,a.Kpa);f.Yj&&(d.Yj=f.Yj);a.qC&&(d.gf=a.qC);return d;});a.sort(function(a,b){return a.P-b.P;});return a;};a.prototype.eab=function(a){return a.reduce(function(a,b){a[b.Aoa]=b.url;return a;},{});};c.IN=a;},function(g,c,a){var b,f,h;b=a(216);f=a(110);c=a(50);h=a(788);a=c(function(a,d){return 1===a?f(d):b(a,h(a,[],d));});g.T=a;},function(g){g.T=function(c,a){for(var b=0,f=a.length,g=Array(f);b<f;)g[b]=c(a[b]),b+=1;return g;};},function(g,c,a){var b,f,h,p,d;c=a(110);b=a(218);f=a(791);h=!{toString:null}.propertyIsEnumerable("toString");p="constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString".split(" ");d=function(){return arguments.propertyIsEnumerable("length");}();a=c("function"!==typeof Object.keys||d?function(a){var c,k,g,q;if(Object(a)!==a)return[];g=[];k=d&&f(a);for(c in a)!b(c,a)||k&&"length"===c||(g[g.length]=c);if(h)for(k=p.length-1;0<=k;){c=p[k];if(q=b(c,a)){a:{for(q=0;q<g.length;){if(g[q]===c){q=!0;break a;}q+=1;}q=!1;}q=!q;}q&&(g[g.length]=c);--k;}return g;}:function(a){return Object(a)!==a?[]:Object.keys(a);});g.T=a;},function(g){g.T={Bc:function(){return this.NM["@@transducer/init"]();},result:function(c){return this.NM["@@transducer/result"](c);}};},function(g){g.T=Array.isArray||function(c){return null!=c&&0<=c.length&&"[object Array]"===Object.prototype.toString.call(c);};},function(g,c,a){var b,f;b=a(393);f=a(798);g.T=function(a,c,d){return function(){var k,g;if(0===arguments.length)return d();k=Array.prototype.slice.call(arguments,0);g=k.pop();if(!b(g)){for(var t=0;t<a.length;){if("function"===typeof g[a[t]])return g[a[t]].apply(g,k);t+=1;}if(f(g))return c.apply(null,k)(g);}return d.apply(this,arguments);};};},function(g,c,a){var b,f,h,p,d,k;c=a(50);b=a(394);f=a(797);h=a(396);p=a(217);d=a(792);k=a(391);a=c(b(["filter"],d,function(a,b){return h(b)?p(function(d,f){a(b[f])&&(d[f]=b[f]);return d;},{},k(b)):f(a,b);}));g.T=a;},function(g){g.T=function(c){return"[object Object]"===Object.prototype.toString.call(c);};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.oga="ManifestProviderConfigSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.pga="ManifestParserFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.kda="CDMAttestedDescriptorStore";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.gda="BookmarkConfigParserSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.hda="BookmarkConfigSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.bea="DiskStorageRegistrySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Aga="MemoryStorageSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Rfa="LocalStorageSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Dda="CorruptedStorageValidatorConfigSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.PZ="Storage";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.EN="IndexedDBConfigSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.gia="PresentationAPISymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.sga="MediaCapabilitiesLogHelperSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.tga="MediaCapabilitiesSymbol";},function(g,c,a){var f,h,p;function b(a,b){var d;d=h.bN.call(this,a,b,f.gG.Audio)||this;d.config=a;d.W8=b;d.type=f.Lw.Qw;return d;}Object.defineProperty(c,"__esModule",{value:!0});f=a(29);h=a(413);p=a(66);a(129);new(a(97)).ox();ba(b,h.bN);b.prototype.XL=function(){return!1;};b.prototype.fy=function(){var a;a={};a[p.Xi.xN]="mp4a.40.2";a[p.Xi.hY]="mp4a.40.5";this.config().k4&&(a[p.Xi.yN]="mp4a.40.2");this.config().i4&&(a[p.Xi.cN]="ec-3");this.config().h4&&(a[p.Xi.yX]="ec-3");this.config().NI&&(a[p.Xi.dN]="ec-3");return a;};b.prototype.zta=function(){return this.config().MH;};c.GX=b;b.jF="audio/mp4;codecs={0};";},function(g,c){function a(){}Object.defineProperty(c,"__esModule",{value:!0});c.ni=a;a.Pea=/^hevc-main/;a.Oea=/^hevc-hdr-|hevc-dv/;a.cr=/^hevc-hdr-/;a.Zq=/^hevc-dv/;a.MF=/-h264mpl/;a.wA=/-h264hpl/;a.au=/^vp9-/;a.Eh=/^av1-/;a.cX=/^heaac-2-/;a.kKa=/^heaac-2hq-dash/;a.vHa=/ddplus-2/;a.wHa=/ddplus-5/;a.xHa=/ddplus-atmos/;},function(g,c,a){var f,h,p;function b(a,b,c){this.config=a;this.W8=b;this.O=c;this.X8={};this.X8[f.gG.Audio]="audio";this.X8[f.gG.tja]="video";}Object.defineProperty(c,"__esModule",{value:!0});f=a(29);g=a(97);h=a(412);p=new g.ox().format;b.prototype.Lta=function(){return this.j6a(this.zta());};b.prototype.ks=function(a){return this.W8.isTypeSupported(a);};b.prototype.h7=function(){this.ml=[];this.yq=[];this.config().Fya&&this.yq.push(h.ni.Pea);this.config().Eya&&this.yq.push(h.ni.Oea);this.config().OU&&this.yq.push(h.ni.wA);this.config().Gya&&this.yq.push(h.ni.au);this.config().N9&&this.yq.push(h.ni.Eh);this.yq=this.yq.concat([h.ni.cX,h.ni.MF]);!this.config().i4&&this.ml.push(h.ni.vHa);!this.config().h4&&this.ml.push(h.ni.wHa);!this.config().NI&&this.ml.push(h.ni.xHa);!this.config().k4&&this.ml.push(h.ni.kKa);!this.config().y7a&&this.ml.push(/prk$/);this.config().Fya||this.config().p7a||this.ml.push(h.ni.Pea);this.config().Eya||this.config().o7a||this.ml.push(h.ni.Oea);this.config().N9||this.config().FR||this.ml.push(h.ni.wA);this.config().Gya||this.config().D7a||this.ml.push(h.ni.au);this.config().N9||this.config().l7a||this.ml.push(h.ni.Eh);};b.prototype.I4=function(a){var b;b=this;return a.filter(function(a){for(var d=P(b.yq),f=d.next();!f.done;f=d.next())if(f.value.test(a))return!0;d=P(b.ml);for(f=d.next();!f.done;f=d.next())if(f.value.test(a))return!1;a=b.z$[a];f="";if(a)return Array.isArray(a)&&(f=1<a.length?" "+a[1]:"",a=a[0]),a=p("{0}/mp4;codecs={1};{2}",b.X8[b.O],a,f),b.ks(a);});};b.prototype.j6a=function(a){var b;b={};this.h7();this.I4(a).forEach(function(a){return b[a]=1;});return Object.keys(b);};oa.Object.defineProperties(b.prototype,{z$:{configurable:!0,enumerable:!0,get:function(){this.Yla||(this.Yla=this.fy());return this.Yla;}}});c.bN=b;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Zca={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.rda="CapabilityDetectorFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Cea="ExtraPlatformInfoProviderSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.uda="CdnThroughputTracker";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.bja="ThroughputTrackerConfigSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.uja="VideoPlayerFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Xha="PlaybackFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Kia="SegmentConfigFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Ega="MomentObserverFactory";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Dga="MomentFactorySymbol";},function(g,c,a){var f;function b(a,b,d,f,c,g){this.level=a;this.Ok=b;this.timestamp=d;this.message=f;this.fd=c;this.index=void 0===g?0:g;this.FLa={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(c,"__esModule",{value:!0});f=a(3);b.prototype.zW=function(a,b){var d;d=""+this.message;this.fd.forEach(function(f){d+=f.kA(a,b);});return(this.timestamp.ea(f.ma)/1E3).toFixed(3)+"|"+this.index+"|"+(this.FLa[this.level]||this.level)+"|"+this.Ok+"| "+d;};c.Wfa=b;},function(g,c,a){var f,h;function b(){}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(435);a=a(1);b.prototype.create=function(){return new f.Lj();};h=b;h=g.__decorate([a.N()],h);c.HJa=h;c.oN="EventSourceFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.oN="EventSourceFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.kja="UserAgentUtilities";},function(g,c,a){var f,h,p;function b(){}Object.defineProperty(c,"__esModule",{value:!0});f=a(4);h=a(17);p=a(9);b.prototype.Wp=function(){return this.veb()?p.ZIa:/widevine/i.test(this.config().Td)?p.iea:/fps/i.test(this.config().Td)?"fairplay":p.LX;};b.prototype.veb=function(){return/clearkey/i.test(this.config().Td);};oa.Object.defineProperties(b.prototype,{config:{configurable:!0,enumerable:!0,get:function(){this.G||(this.G=f.V.get(h.ld));return this.G;}}});c.uga=new b();},function(g,c,a){var f,h,p,d;function b(a,b,d,f,c,g,q){this.debug=a;this.config=b;this.platform=d;this.exa=f;this.debug.assert(c&&c!=h.I.bj,"There should always be a specific error code");this.errorCode=c||h.I.bj;g&&p.Ze(g)?(this.Y=g.Y||g.Jc,this.Hc=g.Hc||g.wg,this.OR=g.OR||g.ky,this.Qa=g.Qa||g.EC,this.GI=g.kn,this.WC=g.WC||g.Exa||g.qq,this.Bs=g.Bs||g.data,g.nK&&(this.nK=g.nK),this.Wh=g.Wh,this.method=g.method,this.wU=g.wU,this.alert=g.alert,this.debug.assert(!this.Wh||this.Wh==this.Hc)):(this.Y=g,this.Hc=q);this.stack=[this.errorCode];this.Y?this.stack.push(this.Y):this.Hc&&this.stack.push(h.u.bj);this.Hc&&this.stack.push(this.Hc);this.tR=this.platform.XC+this.stack.join("-");}Object.defineProperty(c,"__esModule",{value:!0});f=a(9);h=a(2);p=a(19);d=a(16);a(18);b.prototype.toString=function(){var a;a="[PlayerError #"+this.tR+"]";this.Qa&&(a+=" "+this.Qa);this.GI&&(a+=" (CustomMessage: "+this.GI+")");return a;};b.prototype.Uba=function(){var a,b;this.GI&&(a=["streaming_error"]);a||this.exa.Wp()!==f.LX||("80080017"==this.Hc&&(a=["admin_mode_not_supported","platform_error"]),"8004CD12"===this.Hc&&(a=["pause_timeout"]));a||this.exa.Wp()!==f.iea||this.errorCode!==h.I.oea&&this.errorCode!==h.I.nea||(a=["no_cdm","platform_error","plugin_error"]);this.Reb()&&(a=["received_soad"]);b=this.D$a();b&&(a=[b],this.GI=void 0);if(!a)switch(this.errorCode){case h.I.RN:case h.I.CN:case h.I.WEa:case h.I.iha:a=["pause_timeout"];break;case h.I.wfa:case h.I.xfa:a=this.Y?["platform_error"]:["multiple_tabs"];break;case h.I.JLa:case h.I.VQa:case h.I.cLa:case h.I.bLa:case h.I.eLa:a=["should_signout_and_signin"];break;case h.I.KY:case h.I.lha:case h.I.kha:case h.I.rZ:case h.I.uOa:a=["platform_error","plugin_error"];break;case h.I.EOa:a=["no_cdm","platform_error","plugin_error"];break;case h.I.pZ:a=this.Y?["platform_error","plugin_error"]:["no_cdm","platform_error","plugin_error"];break;case h.I.mN:case h.I.TN:case h.I.mha:switch(this.Hc){case"FFFFD000":a=["device_needs_service","platform_error"];break;case"48444350":a=["unsupported_output","platform_error"];break;case"00000024":a=["private_mode"];}break;case h.I.jha:case h.I.oZ:a=["unsupported_output"];}!a&&h.FJa(this.Y)&&(a=this.Y==h.u.IA?["geo"]:["internet_connection_problem"]);if(!a)switch(this.FCa(this.Y)){case h.u.b_:a=["should_upgrade"];break;case h.u.yNa:case h.u.kga:a=["should_signout_and_signin"];break;case h.u.zNa:a=["internet_connection_problem"];break;case h.u.pha:case h.u.nha:case h.u.qha:case h.u.oha:case h.u.Kda:a=["platform_error","plugin_error"];break;case h.u.BX:case h.u.$ea:case h.u.afa:a=["private_mode"];}a=a||[];a.push(this.platform.XC+this.errorCode);if(this.Y)switch(this.FCa(this.Y)){case h.u.cha:a.push("incorrect_pin");break;default:a.push(""+this.Y);}a={display:{code:this.tR,text:this.GI},messageIdList:a,alert:this.alert};if(this.WC||this.Exa)a.mslErrorCode=this.WC||this.Exa||this.qq;return a;};b.prototype.FCa=function(a){var b;b=parseInt(a,10);return isNaN(b)?a:b;};b.prototype.Reb=function(){var a;a=d.pa(this.Hc)?this.Hc.toString():d.Sd(this.Hc)?this.Hc:"";return this.WC===h.aZ.ZZ&&(a.endsWith("2018")||a.endsWith("2020"));};b.prototype.D$a=function(){if(this.errorCode===h.I.Xw&&(this.Y===h.u.nZ||this.Y===h.u.bha))return this.E$a(this.Y===h.u.nZ);};b.prototype.E$a=function(a){var b,d,f;b=(this.config().browserInfo||{}).os||{};d=b.name;f=(b.version||"").split(".");b=parseInt(f&&f[0]);f=parseInt(f&&f[1]);switch(d){case"Windows":return 6>b||6===b&&1>f?a?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":a?"cdm_not_supported_warning_update":"cdm_not_supported_update";case"Mac OS X":return 10>b||10===b&&10>f?a?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":a?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return a?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};c.MPa=b;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.jja="UrlFactorySymbol";},function(g,c,a){var f;function b(a){this.XUa=void 0===a?!1:a;this.Ed={0:[]};}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.add=function(a,b){var d;b=void 0===b?0:b;d=this.Ed[b];d?this.XUa&&-1!==d.indexOf(a)||d.push(a):this.Ed[b]=[a];};b.prototype.remove=function(a,b){this.Hr(a,void 0===b?0:b);};b.prototype.removeAll=function(a){this.Hr(a);};b.prototype.u9a=function(){var a;a=this;return Object.keys(this.Ed).sort().reduce(function(b,d){return b.concat(a.Ed[d]);},[]);};b.prototype.Hr=function(a,b){var d;d=this;Object.keys(this.Ed).forEach(function(f){var c;if(void 0===b||b===parseInt(f)){f=d.Ed[f];-1<(c=f.indexOf(a))&&f.splice(c,1);}});};f=b;f=g.__decorate([a.N()],f);c.hia=f;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.kAb=function(){};c.Fga="MseConfigSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Yda="DecoderTimeoutPathologistSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Gda="CsvEncoderSymbol";},function(g,c,a){var f,h;function b(){this.Ul={};this.id="$es$"+f.A2a++;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.addListener=function(a,b,f){var d,c;d="$netflix$player$order"+this.id+"$"+a;if(this.Ul){c=this.Ul[a]?this.Ul[a].slice():[];f&&(b[d]=f);0>c.indexOf(b)&&(c.push(b),c.sort(function(a,b){return(a[d]||0)-(b[d]||0);}));this.Ul[a]=c;}};b.prototype.removeListener=function(a,b){if(this.Ul&&this.Ul[a]){for(var d=this.Ul[a].slice(),f;0<=(f=d.indexOf(b));)d.splice(f,1);this.Ul[a]=d;}};b.prototype.Jb=function(a,b,f){var d;if(this.Ul){d=this.A5(a);for(a={Ji:0};a.Ji<d.length;a={Ji:a.Ji},a.Ji++)f?function(a){return function(){var f;f=d[a.Ji];setTimeout(function(){f(b);},0);};}(a)():d[a.Ji].call(this,b);}};b.prototype.KC=function(){this.Ul=void 0;};b.prototype.on=function(a,b,f){this.addListener(a,b,f);};b.prototype.A5=function(a){return this.Ul&&(this.Ul[a]||(this.Ul[a]=[]));};h=f=b;h.A2a=0;h=f=g.__decorate([a.N()],h);c.Lj=h;},function(g,c,a){var f,h,p,d;function b(a,b){this.is=a;this.vh=b;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);a(2);h=a(21);p=a(99);d=a(8);b.prototype.gk=function(a,b,d){var f,c,k,g;f=this;if(b)if(d){c=d.LD;k=d.prefix;g=d.uq;this.cv(b,function(b,d){if(!g||f.is.Fd(d))a[(k||"")+(c?b.toLowerCase():b)]=d;});}else this.cv(b,function(b,d){a[b]=d;});return a;};b.prototype.cv=function(a,b){for(var d in a)a.hasOwnProperty(d)&&b(d,a[d]);};b.prototype.Su=function(a,b){if(a.length==b.length){for(var d=a.length;d--;)if(a[d]!=b[d])return!1;return!0;}return!1;};b.prototype.j2a=function(a,b){if(a.length!=b.length)return!1;a.sort();b.sort();for(var d=a.length;d--;)if(a[d]!==b[d])return!1;return!0;};b.prototype.ud=function(a){var b,d,f;if(a){b=a.stack;d=a.number;f=a.message;f||(f=""+a);b?(a=""+b,0!==a.indexOf(f)&&(a=f+"\n"+a)):a=f;d&&(a+="\nnumber:"+d);return a;}};b.prototype.Oqa=function(a,b){var d,f;a=a.target.keyStatuses.entries();for(d=a.next();!d.done;)f=d.value[0],d=d.value[1],b&&b(f,d),d=a.next();};b.prototype.getFunctionName=function(a){return(a=/function (.{1,})\(/.exec(a.toString()))&&1<a.length?a[1]:"";};b.prototype.Lsa=function(a){return this.getFunctionName(a.constructor);};b.prototype.iya=function(a){var b,d;b=this;d="";this.is.Xr(a)||this.is.nna(a)?d=Array.prototype.reduce.call(a,function(a,b){return a+(32<=b&&128>b?String.fromCharCode(b):".");},""):this.is.Ci(a)?d=a:this.cv(a,function(a,f){d+=(d?", ":"")+"{"+a+": "+(b.is.vH(f)?b.getFunctionName(f)||"function":f)+"}";});return"["+this.Lsa(a)+" "+d+"]";};b.prototype.createElement=function(a,b,f,c){var k;k=d.Nd.createElement(a);b&&(k.style.cssText=b);f&&(k.innerHTML=f);c&&this.cv(c,function(a,b){k.setAttribute(a,b);});return k;};b.prototype.$8a=function(a,b){return function(d){return d[a]===b;};};b.prototype.RU=function(a){var b;b={};(a||"").split("&").forEach(function(a){var d;a=a.trim();d=a.indexOf("=");0<=d?b[decodeURIComponent(a.substr(0,d)).toLowerCase()]=decodeURIComponent(a.substr(d+1)):b[a.toLowerCase()]=void 0;});return b;};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.we)),g.__param(1,f.l(p.Nw))],a);c.lja=a;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Xga="OneWayCounterFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.xda="ClockConfigSymbol";},function(g,c){var a;Object.defineProperty(c,"__esModule",{value:!0});(function(a){a[a.Tva=0]="licenseStarted";a[a.jAa=1]="receivedLicenseChallenge";a[a.iAa=2]="receivedLicense";a[a.kAa=3]="receivedRenewalChallengeComplete";a[a.lAa=4]="receivedRenewalLicenseComplete";a[a.mAa=5]="receivedRenewalLicenseFailed";a[a.vnb=6]="receivedIndivChallengeComplete";a[a.wnb=7]="receivedIndivLicenseComplete";a[a.Uma=8]="addLicenseComplete";a[a.Zma=9]="addRenewalLicenseComplete";a[a.$ma=10]="addRenewalLicenseFailed";}(a=c.kp||(c.kp={})));c.S6a=function(b){switch(b){case a.Tva:return"lg";case a.jAa:return"lc";case a.iAa:return"lr";case a.kAa:return"renew_lc";case a.lAa:return"renew_lr";case a.mAa:return"renew_lr_failed";case a.vnb:return"ilc";case a.wnb:return"ilr";case a.Uma:return"ld";case a.Zma:return"renew_ld";case a.$ma:return"renew_ld_failed";default:return"unknown";}};},function(g,c,a){var f,h,p,d,k,m,t;function b(a,b){this.vU=a;this.is=b;p.al(this,"nav");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(1);p=a(47);d=a(2);k=a(37);m=a(21);t=a(87);b.prototype.rv=function(){if(this.X)return this.X.sessionId;};b.prototype.FAa=function(a,b){return this.vU.requestMediaKeySystemAccess(a,b);};b.prototype.ypa=function(a,b){return b.createMediaKeys();};b.prototype.rs=function(a,b){this.X=a.createSession(b);};b.prototype.tva=function(){return!!this.X;};b.prototype.WBa=function(a,b){return this.is.vH(a.setServerCertificate)?a.setServerCertificate(b):Promise.resolve();};b.prototype.nsa=function(a,b){return this.X?this.X.generateRequest(a,b):Promise.reject(new t.Gf(d.I.pea,d.u.IF,void 0,"Unable to generate a license request, key session is not valid"));};b.prototype.update=function(a){return this.X?this.X.update(a):Promise.reject(new t.Gf(d.I.mN,d.u.IF,void 0,"Unable to update the EME with a response, key session is not valid"));};b.prototype.load=function(a){return this.X?this.X.load(a):Promise.reject(new t.Gf(d.I.iJa,d.u.IF,void 0,"Unable to load a key session, key session is not valid"));};b.prototype.close=function(){var a;if(!this.X)return Promise.reject(new t.Gf(d.I.cJa,d.u.IF,void 0,"Unable to close a key session, key session is not valid"));a=Promise.resolve();this.rv()&&(a=this.X.close());this.X=void 0;return a;};b.prototype.remove=function(){return this.X?this.X.remove():Promise.reject(new t.Gf(d.I.tea,d.u.IF,void 0,"Unable to remove a key session, key session is not valid"));};b.prototype.Vma=function(a){if(!this.X)throw ReferenceError("Unable to add message handler, key session is not valid");this.X.addEventListener(f.GA,a);};b.prototype.Sma=function(a){if(!this.X)throw ReferenceError("Unable to add key status handler, key session is not valid");this.X.addEventListener(f.vea,a);};b.prototype.Pma=function(a){if(!this.X)throw ReferenceError("Unable to add error handler, key session is not valid");this.X.addEventListener(f.FA,a);};b.prototype.xAa=function(a){if(!this.X)throw ReferenceError("Unable to remove message handler, key session is not valid");this.X.removeEventListener(f.GA,a);};b.prototype.vAa=function(a){if(!this.X)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.X.removeEventListener(f.vea,a);};b.prototype.uAa=function(a){if(!this.X)throw ReferenceError("Unable to remove error handler, key session is not valid");this.X.removeEventListener(f.FA,a);};a=f=b;a.GA="message";a.vea="keystatuseschange";a.FA="error";a=f=g.__decorate([h.N(),g.__param(0,h.l(k.WA)),g.__param(1,h.l(m.we))],a);c.GZ=a;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.wea="EmeSessionFactorySymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.gea="DrmProviderSymbol";},function(g,c,a){var b;b=a(101);c.lva=function(a){return!b.isArray(a)&&0<=a-parseFloat(a)+1;};},function(g,c,a){var b,f,h,p,d,k;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};f=a(449);h=a(101);g=a(79);p=a(78);c.pz=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];1===a.length&&h.isArray(a[0])&&(a=a[0]);return function(b){return b.dg(new d(a));};};c.Yjb=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];1===a.length&&h.isArray(a[0])&&(a=a[0]);b=a.shift();return new f.Iea(b,null).dg(new d(a));};d=function(){function a(a){this.u9=a;}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.u9));};return a;}();k=function(a){function d(b,d){a.call(this,b);this.destination=b;this.u9=d;}b(d,a);d.prototype.z9=function(){this.tW();};d.prototype.fl=function(){this.tW();};d.prototype.bd=function(){this.tW();};d.prototype.ic=function(){this.tW();};d.prototype.tW=function(){var a;a=this.u9.shift();a?this.add(p.vt(this,a)):this.destination.complete();};return d;}(g.kr);},function(g,c){c.o7=function(a){return a instanceof Date&&!isNaN(+a);};},function(g,c,a){var b,f,h,p;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};f=a(78);g=a(79);c.TD=function(a,b,f){void 0===f&&(f=Number.POSITIVE_INFINITY);return function(d){"number"===typeof b&&(f=b,b=null);return d.dg(new h(a,b,f));};};h=function(){function a(a,b,d){void 0===d&&(d=Number.POSITIVE_INFINITY);this.Dg=a;this.jk=b;this.Q2=d;}a.prototype.call=function(a,b){return b.subscribe(new p(a,this.Dg,this.jk,this.Q2));};return a;}();c.iAb=h;p=function(a){function d(b,d,f,c){void 0===c&&(c=Number.POSITIVE_INFINITY);a.call(this,b);this.Dg=d;this.jk=f;this.Q2=c;this.qD=!1;this.buffer=[];this.index=this.active=0;}b(d,a);d.prototype.ph=function(a){this.active<this.Q2?this.cYa(a):this.buffer.push(a);};d.prototype.cYa=function(a){var b,d;d=this.index++;try{b=this.Dg(a,d);}catch(y){this.destination.error(y);return;}this.active++;this.U_(b,a,d);};d.prototype.U_=function(a,b,d){this.add(f.vt(this,a,b,d));};d.prototype.ic=function(){this.qD=!0;0===this.active&&0===this.buffer.length&&this.destination.complete();};d.prototype.nz=function(a,b,d,f){this.jk?this.bWa(a,b,d,f):this.destination.next(b);};d.prototype.bWa=function(a,b,d,f){var c;try{c=this.jk(a,b,d,f);}catch(K){this.destination.error(K);return;}this.destination.next(c);};d.prototype.fl=function(a){var b;b=this.buffer;this.remove(a);this.active--;0<b.length?this.ph(b.shift()):0===this.active&&this.qD&&this.destination.complete();};return d;}(g.kr);c.jAb=p;},function(g,c,a){var b;b=a(235);c.jI=function(){return b.Vv(1);};},function(g,c,a){var h,p;function b(a){var b;b=a.value;a=a.Cf;a.closed||(a.next(b),a.complete());}function f(a){var b;b=a.ny;a=a.Cf;a.closed||a.error(b);}h=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};p=a(80);g=function(a){function d(b,d){a.call(this);this.rE=b;this.ka=d;}h(d,a);d.create=function(a,b){return new d(a,b);};d.prototype.Wf=function(a){var d,c,k;d=this;c=this.rE;k=this.ka;if(null==k)this.Ar?a.closed||(a.next(this.value),a.complete()):c.then(function(b){d.value=b;d.Ar=!0;a.closed||(a.next(b),a.complete());},function(b){a.closed||a.error(b);}).then(null,function(a){p.root.setTimeout(function(){throw a;});});else if(this.Ar){if(!a.closed)return k.Kb(b,0,{value:this.value,Cf:a});}else c.then(function(f){d.value=f;d.Ar=!0;a.closed||a.add(k.Kb(b,0,{value:f,Cf:a}));},function(b){a.closed||a.add(k.Kb(f,0,{ny:b,Cf:a}));}).then(null,function(a){p.root.setTimeout(function(){throw a;});});};return d;}(a(10).Da);c.jia=g;},function(g,c,a){var b,f,h,p,d,k,m,t,u,y,A,K;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};f=a(101);h=a(453);p=a(452);d=a(448);k=a(984);m=a(100);t=a(983);u=a(165);y=a(10);A=a(458);K=a(240);g=function(a){function c(b,d){a.call(this,null);this.afb=b;this.ka=d;}b(c,a);c.create=function(a,b){if(null!=a){if("function"===typeof a[K.observable])return a instanceof y.Da&&!b?a:new c(a,b);if(f.isArray(a))return new m.Iw(a,b);if(p.pva(a))return new d.jia(a,b);if("function"===typeof a[u.iterator]||"string"===typeof a)return new k.CLa(a,b);if(h.Zua(a))return new t.mFa(a,b);}throw new TypeError((null!==a&&typeof a||a)+" is not observable");};c.prototype.Wf=function(a){var b,d;b=this.afb;d=this.ka;return null==d?b[K.observable]().subscribe(a):b[K.observable]().subscribe(new A.Wga(a,d,0));};return c;}(y.Da);c.Iea=g;},function(g,c,a){g=a(449);c.from=g.Iea.create;},function(g,c,a){g=a(100);c.of=g.Iw.of;},function(g,c){c.pva=function(a){return a&&"function"!==typeof a.subscribe&&"function"===typeof a.then;};},function(g,c){c.Zua=function(a){return a&&"number"===typeof a.length;};},function(g,c){c.zna=function(a,b){var t;for(var f=0,c=b.length;f<c;f++)for(var g=b[f],d=Object.getOwnPropertyNames(g.prototype),k=0,m=d.length;k<m;k++){t=d[k];a.prototype[t]=g.prototype[t];}};},function(g,c){c.vG=function(){return function(a){this.msb=a;};}();},function(g,c,a){var b;b=a(455);g=function(){function a(){this.WL=[];}a.prototype.kwa=function(){this.WL.push(new b.vG(this.ka.now()));return this.WL.length-1;};a.prototype.lwa=function(a){var f;f=this.WL;f[a]=new b.vG(f[a].msb,this.ka.now());};return a;}();c.Ria=g;},function(g,c,a){var b,f,h,p,d,k,m;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};g=a(166);f=a(10);h=a(46);p=a(71);d=a(996);a=function(a){function f(b,d){a.call(this);this.source=b;this.sW=d;this.fo=0;this.$O=!1;}b(f,a);f.prototype.Wf=function(a){return this.IS().subscribe(a);};f.prototype.IS=function(){var a;a=this.KP;if(!a||a.$e)this.KP=this.sW();return this.KP;};f.prototype.connect=function(){var a;a=this.gu;a||(this.$O=!1,a=this.gu=new p.wk(),a.add(this.source.subscribe(new k(this.IS(),this))),a.closed?(this.gu=null,a=p.wk.EMPTY):this.gu=a);return a;};f.prototype.vV=function(){return d.vV()(this);};return f;}(f.Da);c.yda=a;a=a.prototype;c.e2a={L9:{value:null},fo:{value:0,writable:!0},KP:{value:null,writable:!0},gu:{value:null,writable:!0},Wf:{value:a.Wf},$O:{value:a.$O,writable:!0},IS:{value:a.IS},connect:{value:a.connect},vV:{value:a.vV}};k=function(a){function d(b,d){a.call(this,b);this.Ol=d;}b(d,a);d.prototype.bd=function(b){this.Or();a.prototype.bd.call(this,b);};d.prototype.ic=function(){this.Ol.$O=!0;this.Or();a.prototype.ic.call(this);};d.prototype.Or=function(){var a,b;a=this.Ol;if(a){this.Ol=null;b=a.gu;a.fo=0;a.KP=null;a.gu=null;b&&b.unsubscribe();}};return d;}(g.xRa);(function(){function a(a){this.Ol=a;}a.prototype.call=function(a,b){var d;d=this.Ol;d.fo++;a=new m(a,d);b=b.subscribe(a);a.closed||(a.mo=d.connect());return b;};return a;}());m=function(a){function d(b,d){a.call(this,b);this.Ol=d;}b(d,a);d.prototype.Or=function(){var a,b;a=this.Ol;if(a){this.Ol=null;b=a.fo;0>=b?this.mo=null:(a.fo=b-1,1<b?this.mo=null:(b=this.mo,a=a.gu,this.mo=null,!a||b&&a!==b||a.unsubscribe()));}else this.mo=null;};return d;}(h.ri);},function(g,c,a){var b,f,h,p,d;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};g=a(46);f=a(237);c.WIb=function(a,b){void 0===b&&(b=0);return function(d){return d.dg(new h(a,b));};};h=function(){function a(a,b){void 0===b&&(b=0);this.ka=a;this.Gd=b;}a.prototype.call=function(a,b){return b.subscribe(new p(a,this.ka,this.Gd));};return a;}();c.iBb=h;p=function(a){function c(b,d,f){void 0===f&&(f=0);a.call(this,b);this.ka=d;this.Gd=f;}b(c,a);c.Ab=function(a){a.notification.observe(a.destination);this.unsubscribe();};c.prototype.qaa=function(a){this.add(this.ka.Kb(c.Ab,this.Gd,new d(a,this.destination)));};c.prototype.ph=function(a){this.qaa(f.Notification.h3(a));};c.prototype.bd=function(a){this.qaa(f.Notification.vpa(a));};c.prototype.ic=function(){this.qaa(f.Notification.c3());};return c;}(g.ri);c.Wga=p;d=function(){return function(a,b){this.notification=a;this.destination=b;};}();c.hBb=d;},function(g,c,a){var b,f,h,p,d,k,m;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};g=a(166);f=a(1001);h=a(71);p=a(458);d=a(461);k=a(460);a=function(a){function c(b,d,f){void 0===b&&(b=Number.POSITIVE_INFINITY);void 0===d&&(d=Number.POSITIVE_INFINITY);a.call(this);this.ka=f;this.qg=[];this.gTa=1>b?1:b;this.uYa=1>d?1:d;}b(c,a);c.prototype.next=function(b){var d;d=this.Rka();this.qg.push(new m(d,b));this.xma();a.prototype.next.call(this,b);};c.prototype.Wf=function(a){var b,f,c;b=this.xma();f=this.ka;if(this.closed)throw new d.YA();this.AJ?c=h.wk.EMPTY:this.$e?c=h.wk.EMPTY:(this.Ws.push(a),c=new k.Qia(this,a));f&&a.add(a=new p.Wga(a,f));for(var f=b.length,g=0;g<f&&!a.closed;g++)a.next(b[g].value);this.AJ?a.error(this.Nba):this.$e&&a.complete();return c;};c.prototype.Rka=function(){return(this.ka||f.gi).now();};c.prototype.xma=function(){for(var a=this.Rka(),b=this.gTa,d=this.uYa,f=this.qg,c=f.length,k=0;k<c&&!(a-f[k].time<d);)k++;c>b&&(k=Math.max(k,c-b));0<k&&f.splice(0,k);return f;};return c;}(g.aj);c.WN=a;m=function(){return function(a,b){this.time=a;this.value=b;};}();},function(g,c,a){var b;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};g=function(a){function f(b,d){a.call(this);this.VL=b;this.Cf=d;this.closed=!1;}b(f,a);f.prototype.unsubscribe=function(){var a,b;if(!this.closed){this.closed=!0;a=this.VL;b=a.Ws;this.VL=null;!b||0===b.length||a.$e||a.closed||(a=b.indexOf(this.Cf),-1!==a&&b.splice(a,1));}};return f;}(a(71).wk);c.Qia=g;},function(g,c){var a;a=this&&this.__extends||function(a,f){function b(){this.constructor=a;}for(var c in f)f.hasOwnProperty(c)&&(a[c]=f[c]);a.prototype=null===f?Object.create(f):(b.prototype=f.prototype,new b());};g=function(b){function f(){var a;a=b.call(this,"object unsubscribed");this.name=a.name="ObjectUnsubscribedError";this.stack=a.stack;this.message=a.message;}a(f,b);return f;}(Error);c.YA=g;},function(g,c){c.dv={e:{}};},function(g,c){c.Ob=function(a){return"function"===typeof a;};},function(g,c){c.Ze=function(a){return null!=a&&"object"===typeof a;};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Nga="NetworkMonitorConfigSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.HZ="QueryStringDataProviderSymbol";},function(g,c,a){var f,h;function b(a,b,f,c,g){this.version=a;this.iE=b;this.DCa=f;this.Ch=c;this.Lq=g;this.Np=[];}Object.defineProperty(c,"__esModule",{value:!0});f=a(2);h=a(56);b.prototype.load=function(a){return this.Zfb(a);};b.prototype.add=function(a){this.Np.push(a);return this.W9();};b.prototype.remove=function(a,b){a=this.Fsa(this.xo(a,b));return 0<=a?(this.Np.splice(a,1),this.W9()):Promise.resolve();};b.prototype.update=function(a,b){b=this.Fsa(this.xo(a,b));return 0<=b?(this.Np[b]=a,this.W9()):Promise.resolve();};b.prototype.Zfb=function(a){var b;b=this;this.$va||(this.$va=new Promise(function(d,c){function k(a){b.T5a().then(function(){c(a);})["catch"](function(){c(a);});}b.g6().then(function(a){b.storage=a;return b.storage.load(b.iE);}).then(function(f){var c;f=f.value;try{c=a(f);b.version=c.version;b.Np=c.data;d();}catch(A){k(A);}})["catch"](function(a){a.Y!==f.u.rp?c(a):d();});}));return this.$va;};b.prototype.W9=function(){var a,b,f,c,g;a=this;if(!this.DCa)return Promise.resolve();if(this.pW){c=new Promise(function(a,d){b=a;f=d;});g=function(){a.pW=c;a.CCa().then(function(){b();})["catch"](function(a){f(a);});};this.pW.then(g)["catch"](g);return c;}return this.pW=this.CCa();};b.prototype.CCa=function(){var a,d;a=this;d=this.Lq();return new Promise(function(c,g){a.g6().then(function(b){return b.save(a.iE,d,!1);}).then(function(){c();})["catch"](function(a){g(b.ftb(f.I.rOa,a));});});};b.prototype.T5a=function(){var a;a=this;return this.DCa?new Promise(function(b,f){a.g6().then(function(b){return b.remove(a.iE);}).then(function(){b();})["catch"](function(a){f(a);});}):Promise.resolve();};b.prototype.g6=function(){return this.storage?Promise.resolve(this.storage):this.Ch.create();};b.prototype.xo=function(a,b){for(var d=0;d<this.Np.length;++d)if(b(this.Np[d],a))return this.Np[d];};b.prototype.Fsa=function(a){return a?this.Np.indexOf(a):-1;};b.ftb=function(a,b){var d;if(b.Y&&b.cause)return new h.Qc(a,b.Y,void 0,void 0,void 0,void 0,void 0,b.cause);if(void 0!==b.Jc){d=(b.message?b.message+" ":"")+"";b.code=a;b.message=""===d?void 0:d;return b;}return b instanceof Error?new h.Qc(a,f.u.fh,void 0,void 0,void 0,void 0,b.stack,b):new h.Qc(a,f.u.bj,void 0,void 0,void 0,void 0,void 0,b);};c.zfa=b;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.fea="DrmDataFactorySymbol";},function(g,c){function a(){}Object.defineProperty(c,"__esModule",{value:!0});c.UM=a;a.WOa="PSK";a.pMa="MGK";a.Yzb="MGK_WITH_FALLBACK";a.Xzb="MGK_JWE";a.Ezb="JWEJS_RSA";a.Jfa="JWK_RSA";a.Fzb="JWK_RSAES";},function(g,c,a){var h;function b(a,b){this.Oe=b;this.Qs=Math.floor(a);this.display=this.Qs+" "+this.Oe.name;}function f(a,b,f){this.Oe=a;this.name=b;this.Jl=f?f:this;h.al(this,"base");}Object.defineProperty(c,"__esModule",{value:!0});h=a(47);f.prototype.VI=function(a){return this.Oe==a.Oe;};f.prototype.toJSON=function(){return this.name;};c.iO=f;b.prototype.ea=function(a){return this.Oe.VI(a)?this.Qs:Math.floor(this.Qs*this.Oe.Oe/a.Oe);};b.prototype.dV=function(a){return this.Oe.VI(a)?this.Qs:this.Qs*this.Oe.Oe/a.Oe;};b.prototype.to=function(a){return new b(this.ea(a),a);};b.prototype.toString=function(){return this.display;};b.prototype.toJSON=function(){return{magnitude:this.Qs,units:this.Oe.name};};b.prototype.add=function(a){return this.Zoa(a);};b.prototype.me=function(a){return this.Zoa(a,function(a){return-a;});};b.prototype.scale=function(a){return new b(this.ea(this.Oe.Jl)*a,this.Oe.Jl);};b.prototype.Rk=function(a){return this.ea(this.Oe.Jl)-a.ea(this.Oe.Jl);};b.prototype.VI=function(a){return 0==this.Rk(a);};b.prototype.zva=function(){return 0==this.Qs;};b.prototype.jva=function(){return 0>this.Qs;};b.prototype.nva=function(){return 0<this.Qs;};b.prototype.Zoa=function(a,d){d=void 0===d?function(a){return a;}:d;return new b(this.ea(this.Oe.Jl)+d(a.ea(this.Oe.Jl)),this.Oe.Jl);};c.op=b;},function(g,c,a){var h;function b(a){return function(b){function d(d){return null!==d&&null!==d.target&&d.target.D8(a)(b);}d.lxa=new h.Metadata(a,b);return d;};}function f(a,b){a=a.Ys;return null!==a?b(a)?!0:f(a,b):!1;}Object.defineProperty(c,"__esModule",{value:!0});g=a(31);h=a(67);c.xDa=f;c.PCa=b;c.Ixa=b(g.Wt);c.CDa=function(a){return function(b){var d;return null!==b?(d=b.WH[0],"string"===typeof a?d.Ne===a:a===b.WH[0].pj):!1;};};},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(249);f=a(248);g=function(){function a(a){this.zb=a;this.HG=new f.oX(this.zb);this.l_=new b.XM(this.zb);}a.prototype.when=function(a){return this.HG.when(a);};a.prototype.JM=function(){return this.HG.JM();};a.prototype.tq=function(a){return this.l_.tq(a);};return a;}();c.Ow=g;},function(g,c,a){var b,f,h,p;Object.defineProperty(c,"__esModule",{value:!0});b=a(31);f=a(103);h=a(67);p=a(1046);g=function(){function a(a,d,c,g){this.id=f.id();this.type=a;this.Ne=c;this.name=new p.gQa(d||"");this.kd=[];a=null;"string"===typeof g?a=new h.Metadata(b.Wt,g):g instanceof h.Metadata&&(a=g);null!==a&&this.kd.push(a);}a.prototype.kua=function(a){for(var b=0,d=this.kd;b<d.length;b++)if(d[b].key===a)return!0;return!1;};a.prototype.isArray=function(){return this.kua(b.ax);};a.prototype.ahb=function(a){return this.D8(b.ax)(a);};a.prototype.u7=function(){return this.kua(b.Wt);};a.prototype.x7=function(){return this.kd.some(function(a){return a.key!==b.WF&&a.key!==b.ax&&a.key!==b.KN&&a.key!==b.xG&&a.key!==b.Wt;});};a.prototype.mva=function(){return this.D8(b.Vga)(!0);};a.prototype.jbb=function(){return this.u7()?this.kd.filter(function(a){return a.key===b.Wt;})[0]:null;};a.prototype.S$a=function(){return this.x7()?this.kd.filter(function(a){return a.key!==b.WF&&a.key!==b.ax&&a.key!==b.KN&&a.key!==b.xG&&a.key!==b.Wt;}):null;};a.prototype.D8=function(a){var b;b=this;return function(d){var k;for(var f=0,c=b.kd;f<c.length;f++){k=c[f];if(k.key===a&&k.value===d)return!0;}return!1;};};return a;}();c.dO=g;},function(g,c,a){var b,f,h,p;Object.defineProperty(c,"__esModule",{value:!0});b=a(52);f=a(31);h=a(67);p=a(88);g=function(){function a(a){this.vTa=a;}a.prototype.bub=function(){return this.vTa();};return a;}();c.RY=g;c.l=function(a){return function(d,c,g){var k;if(void 0===a)throw Error(b.jSa(d.name));k=new h.Metadata(f.WF,a);"number"===typeof g?p.dA(d,c,g,k):p.iM(d,c,k);};};},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(52);c.uva=function(a){return a instanceof RangeError||a.message===b.OQa;};},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(31);g=function(){function a(){}a.prototype.Ksa=function(a){var f;f=Reflect.getMetadata(b.mZ,a);a=Reflect.getMetadata(b.Tia,a);return{apa:f,Uub:a||{}};};a.prototype.Cbb=function(a){return Reflect.getMetadata(b.Uia,a)||[];};return a;}();c.$Y=g;},function(g,c,a){var b,f,h,p,d,k,m,t;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(247);f=a(1027);h=a(246);p=a(245);d=a(1021);k=a(1013);m=a(1008);t=a(893);a=a(519);c.Wc=new g.FF({rw:!0});t.$fb(c.Wc);c.Wc.load(f.platform);c.Wc.load(d.config);h.j1.load(k.YB);p.MI.load(m.i7a);c.Wc.load(a.z1);c.Wc.bind(b.Bfa).Dh(c.Wc);},function(g,c,a){var b,f,h,p,d,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(122);f=a(9);g=a(2);h=a(4);p=a(112);d=a(61);a=a(20);h.V.get(a.He).register(g.I.lfa,function(a){var c,g;c=J._cad_global.videoPreparer;g=J._cad_global.playerPredictionModel;c&&J._cad_global.playerPredictionModel&&(k=h.V.get(p.eia).create(g,c.mmb.bind(c)),J._cad_global.prefetchEvents=k,c.Ng.on("deletedCacheItem",function(a){k.cI(d.Zc.nG[a.type],parseInt(a.movieId,10),a.reason);}),b.Lk.addEventListener("cacheEvict",function(a){k.cI(p.ye.Wi.PF,a.movieId,"ase_cacheEvict");k.cI(p.ye.Wi.MEDIA,a.movieId,"ase_cacheEvict");}),b.Lk.addEventListener("flushedBytes",function(){b.Lk.l2().forEach(function(a){k.cI(p.ye.Wi.MEDIA,a.M,"ase_flushedBytes");},this);}),c.On.addEventListener(c.On.events.Xia,function(a){k.w0a(d.Zc.nG[a.type],a.M,a.reason);}),c.On.addEventListener(c.On.events.Via,function(a){k.s0a(d.Zc.nG[a.type],a.M,a.reason);}),c.On.addEventListener(c.On.events.Wia,function(a){k.u0a(d.Zc.nG[a.type],a.M,a.reason);}),c.On.addEventListener(c.On.events.Yia,function(a){k.y0a(d.Zc.nG[a.type],a.M,a.reason);}));a(f.yc);});},function(g,c,a){var h,p,d,k,m,t,u,y,A,K;function b(a,b){this.Bh=a;this.kj=b;}function f(a){this.K=a;this.reset();}h=a(170);p=a(169);c=a(252);d=a(251).config;k=c.K$a;m=c.v$a;t=c.i6a;u=c.Jjb;y=c.Ijb;A=c.Hjb;K=c.Kra;f.prototype.constructor=f;f.prototype.reset=function(){this.Vla=void 0;this.Ph=[];this.Fla=this.Gla=!1;};f.prototype.update=function(a,b){var f;this.Ph&&(this.Ph=this.Ph.filter(this.$qb,this));if(!1===this.Gla){f=k(a.Ca).slice(0,d.Rpa);0<f.length&&(this.fz(f,p.Yq.pi),this.Gla=!0,this.Ph=this.pA(f.concat(this.Ph)));}!1===this.Fla&&(f=m(a.Ca).slice(0,d.Rpa),0<f.length&&(this.fz(f,p.Yq.pi),this.Fla=!0,this.Ph=this.pA(f.concat(this.Ph))));switch(b){case p.Wq.Dea:b=this.Ncb(a);break;case p.Wq.uia:b=this.Xcb(a);break;case p.Wq.YN:b=this.Ycb(a);break;case p.Wq.lG:b=this.Tcb(a);break;default:b=this.Mcb(a);}this.Vla=a;return b;};f.prototype.Ncb=function(a){a=u(a.Ca,d.ZAa,d.Woa);this.fz(a,p.Yq.pi);return this.Ph=this.pA(this.Ph.concat(a));};f.prototype.Xcb=function(a){var b,f;this.K.log("handleScrollHorizontal");b=a.Ca;a=u(b,d.aBa,d.Xoa);f=t(b,this.Vla.Ca);b=b[f].list.slice(0,d.Wob);b.concat(a);this.fz(b,p.Yq.VZ);return this.pA(b.concat(this.Ph));};f.prototype.fz=function(a,b){a.forEach(function(a){if(void 0===a.Mu||a.Mu<b)a.Mu=b;void 0===a.bF&&(a.bF=h());void 0===a.Hi&&(a.Hi=h());});};f.prototype.Ycb=function(a){this.K.log("handleSearch");a=y(a.Ca,d.rpb);this.fz(a,p.Yq.xia);this.Ph=a.concat(this.Ph);return this.Ph=this.pA(this.Ph);};f.prototype.Tcb=function(a){var f,c,k,g,m;this.K.log("handlePlayFocus: ",d.DJ);f=a.direction;c=a.Ca;a=[];k=K(c);if(void 0!==k.Bh)switch(a.push(k),f){case p.np.pia:for(f=1;f<d.DJ;f++)a.push(new b(k.Bh,k.kj+f));a.push(new b(k.Bh-1,k.kj));a.push(new b(k.Bh+1,k.kj));break;case p.np.Nfa:for(f=1;f<d.DJ;f++)a.push(new b(k.Bh,k.kj-f));a.push(new b(k.Bh-1,k.kj));a.push(new b(k.Bh+1,k.kj));break;case p.np.mSa:a.push(new b(k.Bh-1,k.kj));for(f=1;f<=d.DJ/2;f++)a.push(new b(k.Bh,k.kj+f)),a.push(new b(k.Bh,k.kj-f));break;case p.np.sIa:for(a.push(new b(k.Bh+1,k.kj)),f=1;f<=d.DJ/2;f++)a.push(new b(k.Bh,k.kj+f)),a.push(new b(k.Bh,k.kj-f));}g=[];a.forEach(function(a){m=A(c,a.Bh,a.kj);void 0!==m&&g.push(m);});this.fz(g,p.Yq.VZ);return this.pA(g.concat(this.Ph));};f.prototype.Mcb=function(a){this.K.log("ModelOne: handleDefaultCase");a=u(a.Ca,d.aBa,d.Xoa);this.fz(a,p.Yq.VZ);return this.pA(a.concat(this.Ph));};f.prototype.$qb=function(a){return a.Mu==p.Yq.pi|a.Mu==p.Yq.xia&h()-a.bF<d.xdb;};f.prototype.pA=function(a){var b,d,f,c,k,g,m;b=[];d={};g=0;m=a.length;for(k=0;k<m;k++)f=a[k].qc,c=a[k],!1===f in d?(b.push(c),d[f]=g,g++):(f=b[d[f]],c.Hi<f.Hi&&(f.Hi=c.Hi),c.Mu>f.Mu&&(f.Mu=c.Mu),c.bF>f.bF&&(f.bF=c.bF));return b;};g.T=f;},function(g,c,a){var p,d,k,m,t,u,y;function b(a,b,d,f,c,k){this.M=this.qc=a;this.Vd=b;this.Kd=d;k&&k.ue&&(this.ue=k.ue);void 0!==f&&(this.vz=f);this.Hi=c;this.cb=k;}function f(a,b,d,f,c){k(void 0!==f,"video preparer is null");k(void 0!==c,"ui preparer is null");this.K=b||console;this.K=b;this.rb=d;this.qYa=f;this.gYa=c;this.Sla=u.o$;this.RB=[];this.d1=!1;this.Im=0;new y().on(u,"changed",h,this);this.reset();}function h(){this.K.log("config changed");u.o$&&(this.Sla=u.o$);u.vK!==this.HB&&(this.reset(),this.rob());}p=a(170);d=a(169);c=a(252);k=c.assert;m=c.Kra;t=a(479);u=a(251).config;y=a(25).Uw;u.declare({o$:["ppmConfig",{Rwb:{gya:0,fya:2,dya:0,eya:5,aCa:0},UCb:{gya:0,fya:1,dya:0,eya:3,aCa:1E3},hxb:{gya:0,fya:1,dya:0,eya:3,aCa:1E3}}]});f.prototype.constructor=f;f.prototype.reset=function(){this.O_=!0;this.HB=u.vK;this.K.log("create model: "+u.vK,u.ZAa,u.Woa);switch(u.vK){case"modelone":this.HB=new t(this.K);break;default:this.HB=new t(this.K);}};f.prototype.rob=function(){var b,d;if(!1===this.d1){this.d1=!0;for(var a=0;a<this.RB.length;a++){this.K.log("PlayPredictionModel replay: ",JSON.stringify(this.RB[a]));b=this.rpa(this.RB[a]);d=this.qsa(b);this.HB.update(b,d);this.O_=!1;}this.RB=[];}};f.prototype.update=function(a){var b,d,f;this.K.log("PlayPredictionModel update: ",JSON.stringify(a));if(a&&a.Ca&&a.Ca[0]){!1===this.d1&&this.RB.length<u.thb&&this.RB.push(a);b=this.rpa(a);d=this.qsa(b);this.K.log("actionType",d);b="mlmodel"==u.vK?this.HB.update(a,d):this.HB.update(b,d);b=this.Z9a(b,u.cfb||1);this.K.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(b));0===this.Im&&(this.Im=p(),this.rb&&this.rb.oL&&this.rb.oL({pR:this.Im}));if(this.rb&&this.rb.DAa){f={pR:this.Im,offset:this.yS(),uza:[]};b.forEach(function(a){f.uza.push({$o:a.qc});});f.pza=JSON.stringify(a);f.qza=JSON.stringify(b);this.rb.DAa(f);}this.qYa.iw(b);this.gYa.iw(b);this.O_=!1;}};f.prototype.Dob=function(){this.Im=0;};f.prototype.yS=function(){return p()-this.Im;};f.prototype.oL=function(){this.Im=p();this.rb&&this.rb.oL&&this.rb.oL({pR:this.Im});};f.prototype.rpa=function(a){var b,f,c,k,g;b={};k=a.Ca||[];g=function(a){var k,g;k={};f=d.XF.name.indexOf(a.context);k.context=0<=f?f:d.XF.jr;k.rowIndex=a.rowIndex;k.requestId=a.requestId;k.list=[];c=a.list||[];c.forEach(function(a){g={qc:a.qc,Kd:a.Kd,index:a.index,vz:a.vz,qE:a.qE,list:a.list,cb:a.cb};void 0!==a.property&&(f=d.MA.name.indexOf(a.property),g.property=0<=f?f:d.MA.jr);k.list.push(g);}.bind(this));b.Ca.push(k);}.bind(this);void 0!==a.direction&&(f=d.np.name.indexOf(a.direction),b.direction=0<=f?f:d.np.jr);void 0!==a.gJ&&(b.IGb=a.gJ.rowIndex,b.HGb=a.gJ.N1a);b.gJ=a.gJ;b.Ca=[];k.forEach(g);return b;};f.prototype.qsa=function(a){var b,f,c;b=a.direction||d.np.jr;f=a.gJ;c=a.Ca||[];!0===this.O_?a=d.Wq.Dea:!0===c.some(this.gdb)?(a=d.Wq.lG,this.yV(c,b,f)):a=c[0].context===d.XF.YN?d.Wq.YN:b===d.np.pia||b===d.np.Nfa?d.Wq.uia:d.Wq.jr;return a;};f.prototype.gdb=function(a){return(a.list||[]).some(function(a){return a.property===d.MA.lG||a.property===d.MA.Ida;});};f.prototype.yV=function(a,b,f){var c,k;this.K.log("reportPlayFocusEvent: ",b,f);c={};k=m(a);this.rb&&this.rb.yV&&(c.vGb=p(),c.direction=d.np.name[b],f&&(c.rowIndex=f.rowIndex,c.J2=f.N1a),void 0!==k.Bh&&(c.requestId=a[k.Bh].requestId),this.rb.yV&&this.rb.yV(c));};f.prototype.Z9a=function(a,b){for(var d=a.length,f=[],c,k,g,m,t=0;t<d;t++){k=a[t];c=Math.floor(t/b)+1;if(void 0!==k.list){g=k.list;m=g.length;for(var h=0;h<Math.min(u.L1a,m)&&!(g[h].Hi=k.Hi,this.Xma(g[h],c,f),f.length>=u.Rwa);h++);}else this.Xma(k,c,f);if(f.length>=u.Rwa)break;}return f;};f.prototype.Xma=function(a,d,f){var k,g;function c(a){a.ue&&(a.cb||(a.cb={}),a.cb.ue=a.ue);return a.cb;}k=a.qE;void 0!==k&&k instanceof Array?k.forEach(function(k){void 0!==k.qc&&(g=c(k),f.push(new b(k.qc,d,k.Kd,k.vz,a.Hi,g)));}):void 0!==k&&void 0!==k.qc&&(k=a.qE,g=c(k),f.push(new b(k.qc,d,k.Kd,k.vz,a.Hi,g)));void 0!==a.qc&&(g=c(a),f.push(new b(a.qc,d,a.Kd,a.vz,a.Hi,g)));};f.prototype.mv=function(a){var b;b=this.Sla;return a?b[a]:b;};g.T=f;},function(g,c,a){var b,f,h,p;Object.defineProperty(c,"__esModule",{value:!0});b=a(12);f=a(9);g=a(2);h=a(4);c=a(20);h.V.get(c.He).register(g.I.mfa,function(d){var c,g;if(b.config.Tlb){c=h.Lf("PlayerPredictionModel");J._cad_global.videoPreparer||(c.error("videoPreparer is not defined"),d(f.yc));g=a(480);c.log=c.trace.bind(c);p=new g({},c,{oL:function(a){J._cad_global.prefetchEvents.h6a(a.pR);},DAa:function(a){J._cad_global.prefetchEvents.nmb(a);}},J._cad_global.videoPreparer,{iw:function(){}});J._cad_global.playerPredictionModel=p;c.info("ppm v2 initialized");}d(f.yc);});},function(g){g.T={ev:{Ja:12E5,YJ:9E5,kd:12E5},Lu:{Ja:10,YJ:10,kd:10},Ku:{Ja:10240,YJ:10240,kd:10240}};},function(g){function c(a){var b;b=[];return function q(a){if(a&&"object"===typeof a){if(-1!==b.indexOf(a))return!0;b.push(a);for(var d in a)if(a.hasOwnProperty(d)&&q(a[d]))return!0;}return!1;}(a);}g.T=function(a,b){var g;if(b&&c(a))return-1;b=[];a=[a];for(var f=0;a.length;){g=a.pop();if("boolean"===typeof g)f+=4;else if("string"===typeof g)f+=2*g.length;else if("number"===typeof g)f+=8;else if("object"===typeof g&&-1===b.indexOf(g)){b.push(g);for(var h in g)a.push(g[h]);}}return f;};},function(g,c,a){var d,k;function b(){return Object.create(null);}function f(a){this.log=a.log;this.Sa=a.Sa;this.gz=b();this.Promise=a.Promise;this.ps=a.ps;this.fca=a.fca;this.Vg=a.Vg||!1;this.ev=b();this.Lu=b();this.Ku=b();this.zXa(a);a.$C&&(this.$C=a.$C,d(this.$C,f.prototype));}function h(a){return"undefined"!==typeof a;}function p(a){var f;for(var b=0,d=arguments.length;b<d;){f=arguments[b++];if(h(f))return f;}}d=a(48);a(483);k=a(482);f.prototype.zXa=function(a){this.ev.manifest=p(a.z4,k.ev.Ja);this.ev.ldl=p(a.y4,k.ev.YJ);this.ev.metadata=p(a.AGb,k.ev.kd);this.Lu.manifest=p(a.n2,k.Lu.Ja);this.Lu.ldl=p(a.m2,k.Lu.YJ);this.Lu.metadata=p(a.$Eb,k.Lu.kd);this.Ku.manifest=p(a.YEb,k.Ku.Ja);this.Ku.ldl=p(a.XEb,k.Ku.YJ);this.Ku.metadata=p(a.ZEb,k.Ku.kd);};f.prototype.TS=function(a,b,d){this.Pg("undefined"!==typeof a);this.Pg("undefined"!==typeof b);return!!this.Eka(a,b,d).value;};f.prototype.Eka=function(a,b,d){var f,c;f={value:null,reason:"",log:""};c=this.gz[b];if("undefined"===typeof c)return f.log="cache miss: no data exists for field:"+b,f.reason="unavailable",f;"undefined"===typeof c[a]?(f.log="cache miss: no data exists for movieId:"+a,f.reason="unavailable"):(d=c[a][d?d:"DEFAULTCAPS"])&&d.value?this.rT(b,d.Og)?(f.log="cache miss: "+b+" data expired for movieId:"+a,f.reason="expired"):(f.log=this.Promise&&d.value instanceof this.Promise?"cache hit: "+b+" request in flight for movieId:"+a:"cache hit: "+b+" available for movieId:"+a,f.value=d.value):(f.log="cache miss: "+b+" data not available for movieId:"+a,f.reason="unavailable");return f;};f.prototype.getData=function(a,b,d){this.Pg("undefined"!==typeof a);this.Pg("undefined"!==typeof b);a=this.Eka(a,b,d);this.log.trace(a.log);return a.value?this.Promise?a.value instanceof this.Promise?a.value:Promise.resolve(a.value):this.fca?JSON.parse(this.fca(a.value,"gzip",!1)):a.value:this.Promise?Promise.reject(a.reason):a.reason;};f.prototype.setData=function(a,d,f,c,k){var g;this.Pg("undefined"!==typeof a);this.Pg("undefined"!==typeof d);g=this.gz;k=k?k:"DEFAULTCAPS";g[d]||(g[d]=b(),Object.defineProperty(g[d],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(g[d],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));f=this.ps?this.ps(JSON.stringify(f),"gzip",!0):f;g=g[d];this.iVa(a,d,k,g);d={Og:this.Sa.getTime(),value:f,size:0,type:d,M3:c};g[a]=g[a]||b();g[a][k]=g[a][k]||b();g[a][k]=d;g.size+=0;g.numEntries++;this.$C&&this.emit("addedCacheItem",d);return d;};f.prototype.iVa=function(a,b,d,f){var c,k,g,m,t,h,q,u,p;c=this;k=f.numEntries;g=this.Lu[b];h=f[a]&&f[a][d];if(h&&h.value)m=a,t="promise_or_expired";else if(k>=g){u=Number.POSITIVE_INFINITY;Object.keys(f).every(function(a){var k;k=f[a]&&f[a][d];k&&k.value&&c.rT(b,k.Og)&&(p=a);k&&k.value&&k.Og<u&&(u=k.Og,q=a);return!0;});m=p||q;t="cache_full";}this.Vg&&this.log.debug("makespace ",{maxCount:g,currentCount:f.numEntries,field:b,movieId:a,movieToBeRemoved:m});m&&(c.clearData(m,b,d,void 0,t),this.log.debug("removed from cache: ",m,b));};f.prototype.A2=function(a,b){var d,f;d=this;d.Pg("undefined"!==typeof a);f=a+"";b.forEach(function(a){var b;b=d.gz[a];b&&Object.keys(b).forEach(function(b){b!=f&&d.clearData(b,a,void 0,void 0,"clear_all");});});};f.prototype.clearData=function(a,b,d,f,c){var k;this.Pg("undefined"!==typeof a);this.Pg("undefined"!==typeof b);k=this.gz[b];b=k?k[a]:void 0;d=d?d:"DEFAULTCAPS";if(b&&b[d]){k.size-=b[d].size;k.numEntries--;if(k=b&&b[d])b[d]=void 0,!f&&k.M3&&k.M3();this.$C&&(a={creationTime:k.Og,destroyFn:k.M3,size:k.size,type:k.type,value:k.value,reason:c,movieId:a},this.emit("deletedCacheItem",a));}};f.prototype.flush=function(a){var d;this.Pg("undefined"!==typeof a);d=this.gz;d[a]=b();d[a].numEntries=0;d[a].size=0;};f.prototype.rT=function(a,b){return this.Sa.getTime()-b>this.ev[a];};f.prototype.getStats=function(a,b,d){var f,c,k,g,m;f={};c=this;k=c.gz;g=h(a)&&h(b);m=d||"DEFAULTCAPS";Object.keys(k).forEach(function(d){var t,q;t=Object.keys(k[d]);q=k[d];t.forEach(function(k){!(k=q&&q[k]&&q[k][m])||!h(k.value)||k.value instanceof this.Promise||(f[d]=(f[d]|0)+1,c.rT(k.type,k.Og)&&(f[d+"_expired"]=(f[d+"_expired"]|0)+1),g&&k.Og>=a&&k.Og<b&&(f[d+"_delta"]=(f[d+"_delta"]|0)+1));});});return f;};f.prototype.gd=function(a){var b,d,f,c;b=[];d=this;f=d.gz;c=a||"DEFAULTCAPS";Object.keys(f).forEach(function(a){var k,g;k=Object.keys(f[a]);g=f[a];k.forEach(function(f){var k,m;k=g&&g[f]&&g[f][c];k&&h(k.value)&&(m=d.rT(k.type,k.Og)?"expired":k.value instanceof this.Promise?"loading":"cached",b.push({movieId:f,state:m,type:a,size:k.size}));});});return b;};f.prototype.SBa=function(a,b){this.Pg("undefined"!==typeof a);this.Pg("undefined"!==typeof b);this.Ku[a]=b;};f.prototype.Pg=function(a){if(!a&&(this.log.error("Debug Assert Failed for"),this.Vg))throw Error("Debug Assert Failed ");};g.T=f;},function(g,c,a){var f,h;function b(a,b,c,g,t,q,y){this.M=a;this.Vd=b;this.type=c;this.id=++h;this.po=g;this.status=f.xe.pda;this.slb=void 0===t?!1:t;this.Xxa=y;}Object.defineProperty(c,"__esModule",{value:!0});f=a(61);h=0;b.prototype.Yp=function(){var a;a={id:this.id,type:this.type,created:this.po,status:this.status,movieId:this.M};this.startTime&&(a.startTime=this.startTime);this.endTime&&this.startTime&&(a.duration=this.endTime-this.startTime,a.endTime=this.endTime);return a;};b.prototype.fl=function(a){this.Xxa&&this.Xxa(a);};c.eO=b;},function(g,c,a){var p,d,k;function b(){}function f(a){this.log=a.log;this.Sa=a.Sa;this.aR=this.uI=0;this.Bw=[];this.paused=!1;this.mW=[];this.dpa=[];this.QJ=a.QJ||b.Dca;this.Wc=a.Wc;this.dj=this.Wc.get(d.pN);this.addEventListener=this.dj.addListener.bind(this.dj);this.events={Xia:"taskstart",Via:"taskabort",Wia:"taskfail",Yia:"tasksuccess"};}function h(a){return a.Yp();}Object.defineProperty(c,"__esModule",{value:!0});g=a(139);p=a(61);d=a(70);b.SOa="prepend";b.Dca="append";b.yKa="ignore";k=g.Rt;c.GRa=f;f.prototype.bna=function(a){this.log.trace("adding tasks, number of tasks: "+a.length);this.paused=!1;this.Bw=this.SUa(a);this.uI=0;this.aR+=1;this.Ab();};f.prototype.SUa=function(a){var d,f;d=this.Bw.filter(function(a){return a.slb&&a.status===p.xe.pda;});f=this.QJ;if(f===b.yKa)return[].concat(a);if(f===b.SOa)return d.concat(a);if(f===b.Dca)return a.concat(d);};f.prototype.pause=function(){this.paused=!0;};f.prototype.Ab=function(){var a,b;if(this.uI===this.Bw.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.uI,numberOfTasks:this.Bw.length});else{a=this.lbb();b=this.aR;a.startTime=this.Sa.getTime();a.status=p.xe.Bia;this.dj.Jb(this.events.Xia,{M:a.M,type:a.type});this.mW.push(a);a.nf(function(d){a.endTime=this.Sa.getTime();d?0<=[p.xe.zA,p.xe.$M,p.xe.BF,p.xe.ZM].indexOf(d.status)?(a.status=d.status,this.B0(a,this.events.Via,"cancelled task")):(a.status=p.xe.Mt,this.B0(a,this.events.Wia,"task failed",d)):(a.status=p.xe.Hia,this.B0(a,this.events.Yia,"task succeeded"));this.dpa.push(a);this.mW.splice(this.mW.indexOf(a),1);this.aR===b&&(this.uI++,this.Ab());}.bind(this));}};f.prototype.lbb=function(){return this.Bw[this.uI];};f.prototype.B0=function(a,b,d,f){var c;c=a.Yp();f?this.log.warn(d,c,f):this.log.trace(d,c);this.dj.Jb(b,{M:a.M,type:a.type,reason:a.status});a.fl(c);};f.prototype.getStats=function(a,b,d){var f,c,g,m;f=this.dpa.map(h);c=this.mW.map(h);g=k.Fd(a)&&k.Fd(b);m={};if(k.Fd(d))return m.Y1a=f.filter(function(a){return a.movieId===d;}),m;f.concat(c).forEach(function(d){var f;m[d.type+"_"+d.status]=(m[d.type+"_"+d.status]|0)+1;f=d.status==p.xe.Bia?d.startTime:d.endTime;g&&f>=a&&f<b&&(m[d.type+"_"+d.status+"_delta"]=(m[d.type+"_"+d.status+"_delta"]|0)+1);});return m;};},function(g,c,a){var f,h,p,d,k,m,t,u,y,A;function b(a){this.log=a.log;this.Sa=a.Sa;this.kD=a.kD;this.CS=a.CS;this.pv=a.pv;this.lD=a.lD;this.Yy=a.Yy;this.x2=a.x2;this.AI=a.AI;this.Wc=a.Wc;this.config=this.Wc.get(m.ld)();this.CI=a.CI;this.BI=a.BI;this.Aca=a.Aca;this.H9=a.H9;this.I9=a.I9;this.EK=a.EK;this.y5=a.y5;this.Vg=a.Vg||!1;this.e1={};this.iP={};this.GP={num_of_calls:0,num_of_movies:0};this.w2=a.w2;this.k9=a.k9;this.h$a=a.h$a;this.m5=a.m5;this.Ng=new t({log:this.log,Sa:this.Sa,Promise:Promise,Vg:this.Vg,n2:a.n2,m2:a.m2,z4:a.z4,y4:a.y4,$C:u});this.On=new f.GRa({log:this.log,Sa:this.Sa,QJ:a.QJ,Wc:this.Wc});this.xo=this.Ng.getData.bind(this.Ng);this.qw=this.Ng.setData.bind(this.Ng);this.RS=this.Ng.TS.bind(this.Ng);}Object.defineProperty(c,"__esModule",{value:!0});f=a(486);h=a(485);g=a(139);p=a(233);d=a(436);k=a(112);m=a(17);t=a(484);u=a(25).EventEmitter;y=g.Rt;A=new d.lja(y,new p.mX());c.wSa=b;b.prototype.Esa=function(a){var b;b=this.Ng.getData(a,"ldl");this.Ng.clearData(a,"ldl",void 0,!0);return b;};b.prototype.iw=function(a,b){var d,f,c;d=this;a=a.map(function(a){a.cb=a.cb||{PH:{Yya:!1},bh:0};y.Ql(a.cb.bh)||(a.cb.bh=0);y.Ql(a.Kd)&&(a.cb.U=a.Kd);return a;});f=a.map(function(a){return d.fka(a,b);}).reduce(function(a,b){return a.concat(b);},[]);c=f.map(function(a){return a.M+"-"+a.type;});this.log.trace("prepare tasks",c);this.On.bna(f);this.GP.num_of_calls++;this.GP.num_of_movies+=a.length;};b.prototype.jmb=function(a,b){var d,f,c;d=this;f=a.map(function(a){return a.M+"";});a=a.map(function(a){a.cb=a.cb||{PH:{Yya:!1},bh:0};a.cb.le=!0;a.cb.zxa=f;return d.fka(a,b);}).reduce(function(a,b){return a.concat(b);},[]);c=a.map(function(a){return a.M+"-"+a.type;});this.log.trace("predownload tasks",c);this.On.bna(a);};b.prototype.qub=function(a,b){this.iP[a]||(this.iP[a]={});a=this.iP[a];a.xza=(a.xza|0)+1;a.Hi=b;};b.prototype.getStats=function(a,b,d){var f;f=d&&this.iP[d]||{};f.Bw=this.On.getStats(a,b,d);f.cache=this.Ng.getStats(a,b);f.lsa=A.gk(this.y5(),this.GP);return f||{};};b.prototype.fka=function(a,b){var d,f,c,k,g;a.ue&&(a.cb.ue=a.ue);d=[];f=a.M;c=!!a.cb.le;this.qub(f,a.Hi);k=null;if(this.Ng.TS(f,"manifest"))this.log.trace("manifest exists in cache for "+f);else{g=new h.eO(f,a.Vd,"manifest",this.Sa.getTime(),c,void 0,b);k=g.id;g.nf=this.kD.bind(this,f,a);d.push(g);}this.CS&&this.x2()&&(this.Ng.TS(f,"ldl")?this.Vg&&this.log.trace("ldl exists in cache for "+f):(g=new h.eO(f,a.Vd,"ldl",this.Sa.getTime(),c,k,b),g.nf=this.CS.bind(this,f,a),d.push(g)));this.pv&&this.lD&&this.w2()&&(this.k9(f)?this.Vg&&this.log.trace("headers/media exists in cache for "+f):(f=new h.eO(a.M,a.Vd,"getHeaders",this.Sa.getTime(),c,k,b),f.nf=this.pv.bind(this,a.M,a),d.push(f),b=new h.eO(a.M,a.Vd,"getMedia",this.Sa.getTime(),c,k,b),b.nf=this.lD.bind(this,a.M,a),d.push(b)));return d;};b.prototype.Wcb=function(a){this.I9(a);};b.prototype.Vcb=function(a){this.log.trace("task scheduler paused on playback created");this.On.pause();this.CI&&this.Ng.A2(a,["manifest"]);this.BI&&this.Ng.A2(a,["ldl"]);this.H9(a);};b.prototype.aua=function(){this.log.info("track changed, clearing all manifests from cache");this.Ng.A2("none",["manifest"]);};b.prototype.Ucb=function(a){var b;b=this;this.AI?this.Ng.clearData(a,"manifest"):this.Ng.TS(a,"manifest")&&this.Ng.getData(a,"manifest").then(function(d){d.isSupplemental||b.Ng.clearData(a,"manifest");},function(d){b.log.warn("Failed to get manifest for movieId ["+a+"] from cacheManager.",d);});this.E2(a);this.EK();};b.prototype.E2=function(a){this.e1[a]=void 0;};b.prototype.p6=function(a){return this.e1[a];};b.prototype.Gpa=function(a){return this.e1[a]=this.Aca();};b.prototype.mmb=function(){var a;a=[];a=this.Ng.gd().map(function(a){return{$o:parseInt(a.movieId,10),state:a.state,Yr:a.type,size:a.size||void 0};});this.m5().map(function(b){2===b.Ao?a.push({$o:b.M,state:"cached",Yr:k.ye.Wi.PF,size:void 0}):b.t9a&&!b.vfb&&a.push({$o:b.M,state:"loading",Yr:k.ye.Wi.PF,size:void 0});b.kEa&&0<b.kEa&&b.Lna&&0<b.Lna?a.push({$o:b.M,state:"cached",Yr:k.ye.Wi.MEDIA,size:void 0}):b.emb&&!b.dmb&&a.push({$o:b.M,state:"loading",Yr:k.ye.Wi.MEDIA,size:void 0});});return a;};b.prototype.$ua=function(a){return a&&0<=a.indexOf("billboard");};},function(g,c,a){var b,f,h,p,d,k,m,t,u,y,A,K,x,l,M,n,T,W,D,r,Q,ia,Z,ea,X,O,ca;Object.defineProperty(c,"__esModule",{value:!0});b=a(49);f=a(122);h=a(90);p=a(12);d=a(9);k=a(28);m=a(26);g=a(2);t=a(4);u=a(21);y=a(220);A=a(3);K=a(77);x=a(119);l=a(113);M=a(61);n=a(173);T=a(19);W=a(33);D=a(487);r=a(160);Q=a(189);ia=a(147);Z=a(123);ea=a(39);X=a(58);c=a(20);O=a(135);t.V.get(c.He).register(g.I.qfa,function(a){var U,ma,va,E,C,eb,P,Wa,S,Ra,Y,ba,da,fa;function c(){var a,b,d;if(p.config.En){a={};a.trigger=M.Zc.ROa.pOa;b=U.getTime();d=ca.getStats(da,b);a.startoffset=da;da=a.endoffset=b;a.cache=JSON.stringify(d.cache);a.tasks=JSON.stringify(d.Bw);a.general=JSON.stringify(d.lsa);b=t.V.get(ea.Mj);a=t.V.get(X.Yn).Pl("prepare","info",a);b.vc(a);}}function g(a,b,d){var c,k;k=a.video_tracks;k&&k.length&&k[0].streams&&k[0].streams.length&&(c=k[0].streams[0].content_profile);k=p.jpa(b.ue);c=p.ipa(!!a.choiceMap,!1,c);c=f.Nb.Qp(Object.assign(Object.assign({},k),c));return{M:d,Vd:0,abb:function(){return{Ja:a,xg:!1,fC:a.defaultTrackOrderList[0].audioTrackId};},config:c,le:!!b.le,zxa:b.zxa};}function q(a,b,d){ca.xo(a,"ldl").then(function(a){d(null,a);})["catch"](function(f){P.trace("ldl not available in cache",f);ca.xo(a,"manifest").then(function(f){var k,g,m;function c(b){P.warn("ldl is now invalid",b);g.close();ca.qw(a,"ldl",void 0);ca.E2(a);}if(ca.RS(a,"ldl"))d({status:M.Zc.xe.zA});else if(f.hasDrmStreams)if(p.config.Aqa&&Wa&&Wa!==a&&!b.force)d({status:M.Zc.xe.$M});else if(p.config.Bqa&&S&&S!==a&&!b.force)d({status:M.Zc.xe.BF});else{Wa&&Wa!==a&&(Ra[a]=(Ra[a]|0)+1);S&&S!==a&&(Y[a]=(Y[a]|0)+1);k=f.video_tracks[0].drmHeader.bytes;g=R({$db:"cenc",Uqa:P,rJ:function(b){var d;d=[];b.Pp.forEach(function(a){d.push({sessionId:a.sessionId,dataBase64:t.as(a.data)});});b={Pp:d,zR:[f.drmContextId],zh:M.Zc.qpa(b.zh),Of:f.playbackContextId,oa:ca.Gpa(a),xf:f.xf};P.trace("xid created ",{MovieId:a,xid:b.oa});return E.Nx(b,h.hj.profile);},Nrb:void 0,r8a:c,Pc:void 0,B9:T.ne,Sa:C});ca.qw(a,"ldl",g,function(){g.close();});m=eb.shift();t.log.trace("cached mediakeys count "+eb.length);return g.create(p.config.Td,m).then(function(){return g.Mf(K.Zi.Tt,[t.Mk(k)],!0);}).then(function(){d(null,g);})["catch"](function(a){c(a);d(a);});}else d({status:M.Zc.xe.ZM});})["catch"](function(a){P.warn("Manifest not available for ldl request",a);d({status:M.Zc.xe.zA});});});}function G(a,b,d){ca.xo(a,"ldl").then(function(a){d(null,a);})["catch"](function(f){P.trace("ldl not available in cache",f);ca.xo(a,"manifest").then(function(f){var k,g;function c(b,d){P.warn(b+" LDL is now invalid.",d);ca.qw(a,"ldl",void 0);ca.E2(a);}if(ca.RS(a,"ldl"))d({status:M.Zc.xe.zA});else if(f.hasDrmStreams)if(p.config.Aqa&&Wa&&Wa!==a&&!b.force)d({status:M.Zc.xe.$M});else if(p.config.Bqa&&S&&S!==a&&!b.force)d({status:M.Zc.xe.BF});else{Wa&&Wa!==a&&(Ra[a]=(Ra[a]|0)+1);S&&S!==a&&(Y[a]=(Y[a]|0)+1);k=f.video_tracks[0].drmHeader.bytes;g=t.V.get(x.lN)().then(function(b){var d;d={type:K.Zi.Tt,gT:t.Mk(k),context:{Td:p.config.Td},Cg:{M:a,oa:ca.Gpa(a),Of:f.playbackContextId,Yj:f.drmContextId,profileId:h.hj.profile.id,xf:f.xf}};return b.iw(d,t.V.get(O.eG)());}).then(function(a){d(null,a);return a;})["catch"](function(a){c("Unable to prepare an EME session.",a);});ca.qw(a,"ldl",g,function(){try{g.then(function(a){a.close().subscribe(void 0,function(a){c("Unable to cleanup LDL session, unable to close the session.",a);});})["catch"](function(a){c("Unable to cleanup LDL session, Unable to get the session.",a);});}catch(Ke){c("Unable to cleanup LDL session, unexpected exception.",Ke);}});}else d({status:M.Zc.xe.ZM});})["catch"](function(a){P.warn("Manifest not available for ldl request",a);d({status:M.Zc.xe.zA});});});}function R(a){var b,d;b=new W.Jg.It(a.Uqa,a.rJ,a.Nrb,{Vg:!1,SJ:!1});d=t.V.get(l.cB);return W.Jg.Kt(a.Uqa,a.$db,a.Pc,{Vg:!1,SJ:!1,sva:p.config.ji,tBa:{kxa:p.config.sBa,Foa:p.config.waa},pL:b,Lza:p.config.C$,La:void 0,mF:p.config.mF,tA:p.config.j4,onerror:a.r8a,B9:a.B9,Sa:a.Sa,Klb:!1,dT:p.config.dT,Mna:d.nI([]),lEa:d.tI([]),uD:p.config.uD});}U={getTime:m.Yf,QGb:m.NQ};ma=t.V.get(u.we);va=t.V.get(Q.WY);E=t.V.get(ia.ZF);C=U;eb=[];P=t.Lf("VideoPreparer");Ra={};Y={};if(!W.Jg.Kt||!W.Jg.It){ba={};W.Jg.Kt=ba.yb;W.Jg.It=ba.request;}P.info("instance created");ca=new D.wSa({log:P,Sa:U,Aca:m.G1a,kD:function(a,b,d){var c;function f(){var b,d;ma.Qx(c)||(c={trackingId:c});b={Ya:c,qc:a,fJ:M.Zc.ao.sha};P.trace("manifest request for:"+a);d=t.V.get(Z.oG)();return va.kD(b,d);}c=b.cb;P.trace("getManifest: "+a);p.config.FYa&&c&&c.Ja&&!ca.RS(a,"manifest")&&(!c.Ja.clientGenesis||Date.now()-c.Ja.clientGenesis<p.config.yza)?(c.Ja.Oz=U.getTime(),c.Ja.xE=U.getTime(),b=c.Ja.runtime?t.V.get(r.XY).decode(c.Ja):c.Ja,ca.qw(a,"manifest",b),d(null,b)):ca.xo(a,"manifest").then(function(a){d(null,a);})["catch"](function(b){var c;P.trace("manifest not available in cache",b);if(ca.RS(a,"manifest"))d({status:M.Zc.xe.zA});else{c=U.getTime();b=f();ca.qw(a,"manifest",b);b.then(function(b){b.Oz=c;b.xE=U.getTime();ca.qw(a,"manifest",b);d(null,b);})["catch"](function(b){d(b);ca.qw(a,"manifest",void 0);});}});},CS:p.config.hp?G:q,x2:function(){return p.config.o4&&k.t7(p.config);},pv:function(a,b,d){var c;c=b.cb;ca.xo(a,"manifest").then(function(b){b=g(b,c,a);f.Lk.qoa(b,function(){d(null,{});});})["catch"](function(a){P.error("Exception in getHeaders",a);d(a);});},lD:function(a,b,d){var c;c=b.cb;ca.xo(a,"manifest").then(function(k){var h,m,q;h=g(k,c,a);m=k.duration;k=t.V.get(y.pX).gna({qA:A.Db(k.bookmark),M:a,OK:A.Db(m),Ya:c}).ea(A.ma);t.V.get(u.we).Hp(c.U)&&(k=c.U);h.Kd=k;if(Wa!=a||c.le||b.force){q=function(b){b.movieId===a&&b.stats&&b.stats.prebuffcomplete&&(f.Lk.removeEventListener("prebuffstats",q),d(null,{}));};f.Lk.addEventListener("prebuffstats",q);f.Lk.qoa(h);}else d({status:M.Zc.xe.BF});})["catch"](function(a){P.error("Exception in getMedia",a);d(a);});},Yy:function(){return f.Lk.Yy();},w2:function(){return p.config.GR;},k9:function(a){var b;b=!1;f.Lk.l2().forEach(function(d){d.M==a&&(b=!0);});return b;},m5:function(){return f.Lk.l2().map(function(a){var d,c;d=f.Lk.Lgb(a.M);c=d[b.tc.Kh.AUDIO]&&d[b.tc.Kh.AUDIO].data;d=d[b.tc.Kh.VIDEO]&&d[b.tc.Kh.VIDEO].data;return{M:a.M,Ao:a.Ao,Lna:c&&c.length,kEa:d&&d.length,t9a:ma.Hp(a.Lb.cS),vfb:ma.Hp(a.Lb.IT),emb:ma.Hp(a.Lb.oE),dmb:ma.Hp(a.Lb.cV)};});},H9:function(a){Wa=a;},I9:function(a){fa&&(fa.D2(),c());S=a;},EK:function(){fa&&fa.$aa();S=Wa=void 0;},y5:function(){return{ldls_after_create:Ra,ldls_after_start:Y};},AI:p.config.AI,CI:p.config.CI,BI:p.config.BI,QJ:p.config.omb,n2:p.config.rmb,m2:p.config.pmb,z4:p.config.yza,y4:p.config.qmb,Vg:!1,Wc:t.V});J._cad_global.videoPreparer=ca;ba=p.config.rlb;da=U.getTime();ba&&(fa=new n.ria(ba,c),fa.$aa());a(d.yc);});},function(g,c,a){var b,f,h,p,d,k,m,t,u,y,A,K;Object.defineProperty(c,"__esModule",{value:!0});b=a(120);f=a(104);h=a(90);p=a(171);d=a(9);k=a(28);g=a(2);m=a(4);t=a(131);u=a(14);y=a(19);A=a(8);c=a(20);K=a(26);m.V.get(c.He).register(g.I.sfa,function(a){function c(a,b){function d(a){a=new t.CA(m.Mk(a));a.ke();return{Fv:a.Vza(),h8a:a.Vza()};}return{encrypt:function(b,d){var f;b=y.Sd(b)?m.AM(b):b;f=A.Xt.getRandomValues(new Uint8Array(16));k.eE(A.dn.encrypt({name:"AES-CBC",iv:f},a,b)).then(function(a){var b,c;a=new Uint8Array(a);b=[];c=new t.CA(b);c.MM(2);c.yEa(f);c.yEa(a);a=m.as(b);d({success:!0,encryptedDataAsn1Base64:a});},function(a){u.Ga(!1,"Encrypt error: "+a);d({success:!1});});},decrypt:function(b,f){b=d(b);k.eE(A.dn.decrypt({name:"AES-CBC",iv:b.Fv},a,b.h8a)).then(function(a){a=new Uint8Array(a);f({success:!0,text:m.OW(a)});},function(a){u.Ga(!1,"Decrypt error: "+a);f({success:!1});});},hmac:function(a,d){a=y.Sd(a)?m.AM(a):a;k.eE(A.dn.sign({name:"HMAC",hash:{name:"SHA-256"}},b,a)).then(function(a){a=new Uint8Array(a);d({success:!0,hmacBase64:m.as(a)});},function(a){u.Ga(!1,"Hmac error: "+a);d({success:!1});});}};}b.kO.IH.mdx={getEsn:function(){return f.xh.Rg;},createCryptoContext:function(a){var b,d,f;b=p.zn.Yg.getStateForMdx(h.hj.profile.id);d=b.cryptoContext;f=b.masterToken;b=b.userIdToken;f&&b?(u.Ga(d),f=["1",m.as(JSON.stringify(f.toJSON())),m.as(JSON.stringify(b.toJSON()))].join(),a({success:!0,cryptoContext:{cTicket:f,encrypt:function(a,b){a=y.Sd(a)?m.AM(a):a;d.encrypt(a,{result:function(a){a=m.as(a);b({success:!0,mslEncryptionEnvelopeBase64:a});},timeout:function(){b({success:!1});},error:function(a){u.Ga(!1,"Encrypt error: "+a);b({success:!1});}});},decrypt:function(a,b){a=m.Mk(a);d.decrypt(a,{result:function(a){b({success:!0,text:m.OW(a)});},timeout:function(){b({success:!1});},error:function(a){u.Ga(!1,"Decrypt error: "+a);b({success:!1});}});},hmac:function(a,b){a=y.Sd(a)?m.AM(a):a;d.sign(a,{result:function(a){b({success:!0,hmacBase64:m.as(a)});},timeout:function(){b({success:!1});},error:function(a){u.Ga(!1,"Hmac error: "+a);b({success:!1});}});}}})):(u.Ga(!1,"Must login first"),a({success:!1}));},createCryptoContextFromSharedSecret:function(a,b){var d;d=m.Mk(a);a=d.subarray(32,48);d=d.subarray(0,32);if(16!=a.length||32!=d.length)throw Error("Bad shared secret");Promise.all([k.eE(A.dn.importKey("raw",a,{name:"AES-CBC"},!1,["encrypt","decrypt"])),k.eE(A.dn.importKey("raw",d,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(a){b({success:!0,cryptoContext:c(a[0],a[1])});},function(){b({success:!1});});},getServerEpoch:function(){return K.F2();}};a(d.yc);});},function(g,c,a){var b,f,h,p,d,k,m,t,u;Object.defineProperty(c,"__esModule",{value:!0});g=a(120);b=a(9);f=a(12);h=a(57);c=a(7);p=a(4);d=a(39);k=a(95);m=a(14);t=a(19);u=a(8);J.netflix=J.netflix||{};m.Ga(!J.netflix.player);J.netflix.player={VideoSession:g.kO,diag:{togglePanel:function(a,b){var d;if(!f.config||f.config.lL){switch(a){case"info":d=h.mr.map(function(a){return a.YU;});break;case"streams":d=h.mr.map(function(a){return a.Plb;});break;case"log":d=[];}d&&d.forEach(function(a){t.Tb(b)?b?a.show():a.rD():a.toggle();});}},addLogMessageSink:function(a){p.V.get(d.Mj).addListener({EBa:function(){},ixa:function(b){a({data:b.data});}});}},log:p.Lf("Ext"),LogLevel:c.Jh,addLogSink:function(a,b){p.V.get(k.OA).wV(a,b);},getVersion:function(){return"6.0019.057.011";},isWidevineSupported:function(a){var f;function d(a){return function(b,d){return d.contentType==a;};}if("function"!==typeof a)throw Error("input param is not a function");f=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:b.vl,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:b.$w,robustness:"SW_SECURE_CRYPTO"}]}];try{u.tk.requestMediaKeySystemAccess("com.widevine.alpha",f).then(function(f){var c;c=f.getConfiguration();f=c.videoCapabilities||[];c=(c.audioCapabilities||[]).reduce(d(b.$w),!1);f=f.reduce(d(b.vl),!1);a(c&&f);})["catch"](function(){a(!1);});}catch(x){a(!1);}}};},function(g,c,a){var b,f,h,p,d,k,m,t,u,y,A;Object.defineProperty(c,"__esModule",{value:!0});g=a(20);c=a(2);b=a(7);f=a(72);h=a(142);p=a(9);d=a(12);k=a(4);m=a(122);t=a(57);u=a(120);y=a(178);A=a(90);k.V.get(g.He).register(c.I.tfa,function(a){var g,q,K;function c(a,b){return void 0===a||void 0===b?Promise.reject("Invalid email and/or password"):k.V.get(y.tZ).Ye(this.log,A.hj.profile,{},{DR:a,password:b}).then(function(){});}if(d.config.G8a){g=k.V.get(h.VN);q=k.V.get(f.pp);K=k.V.get(b.ob).lb("Test");u.kO.IH.test={pboRequests:g.pL,playbacks:t.mr,aseManager:{cacheDestroy:function(){return m.Lk.poa();}},device:{esn:J._cad_global.device.Rg,esnPrefix:q.ln,errorPrefix:q.XC},log:{info:function(a,b){for(var d=[],f=1;f<arguments.length;++f)d[f-1]=arguments[f];return K.info(a,d);},error:function(a,b){for(var d=[],f=1;f<arguments.length;++f)d[f-1]=arguments[f];return K.error(a,d);},warn:function(a,b){for(var d=[],f=1;f<arguments.length;++f)d[f-1]=arguments[f];return K.warn(a,d);},trace:function(a,b){for(var d=[],f=1;f<arguments.length;++f)d[f-1]=arguments[f];return K.trace(a,d);},log:function(a,b){for(var d=[],f=1;f<arguments.length;++f)d[f-1]=arguments[f];return K.log(a,d);},debug:function(a,b){for(var d=[],f=1;f<arguments.length;++f)d[f-1]=arguments[f];return K.debug(a,d);}},login:c};}a(p.yc);});},function(g,c,a){var b,f,h,p,d,k,m,t,u,y,A,K,x,l,M,n;Object.defineProperty(c,"__esModule",{value:!0});b=a(104);f=a(90);h=a(120);p=a(179);d=a(171);k=a(69);m=a(9);t=a(12);u=a(2);y=a(4);A=a(14);K=a(18);x=a(19);l=a(16);M=a(39);n=a(58);g=a(20);y.V.get(g.He).register(u.I.rfa,function(a){var g,q;function c(a,b){var d;d={profile:f.hj.profile,log:g,Jd:k.Jd};a.email&&(d.DR=a.email,d.password=a.password||"");a.sendNetflixIdUserAuthData&&(d.useNetflixUserAuthData=a.sendNetflixIdUserAuthData);a.Bz&&(d.Bz=a.Bz);b({W:!0,An:d});}g=y.Lf("NccpApi");q=K.LZa();h.kO.IH.nccp={getEsn:function(){return b.xh.Rg;},getPreferredLanguages:function(){return t.config.yh.pE;},setPreferredLanguages:function(a){A.Ga(l.isArray(a)&&x.Sy(a[0]));t.config.yh.pE=a;},netflixId:function(a,b){c(a,function(a){p.cn.Y1(a.An).then(function(){b&&b({success:!0});})["catch"](function(a){b({success:!1,error:y.CZ(u.I.Jga,a)});});});},getDeviceTokens:function(a){A.Ga(l.Ob(a));p.cn.Y1({log:g,Jd:k.Jd}).then(function(b){a&&a(b);})["catch"](function(b){a({success:!1,error:y.CZ(u.I.Jga,b)});});},getRegistered:function(a,b){var c;try{c=d.zn.Yg.hasUserIdToken(a.id||f.hj.profile.id);b({success:!0,registered:c});}catch(ea){b({success:!1});}},unregister:function(a,b){try{d.zn.Yg.removeUserIdToken(a.id||f.hj.profile.id);b({success:!0});}catch(Z){b({success:!1});}},queueLogblob:function(a,b,d){var f;if(a&&b)if(b=b.toLowerCase(),q[b]){f=y.V.get(M.Mj);a=y.V.get(n.Yn).Pl(a,b,d);f.vc(a);}else g.warn("Invalid severity",{severity:b});},flushLogblobs:function(){y.V.get(M.Mj).flush(!0);}};a(m.yc);});},function(g,c,a){var b,f,h,p,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(69);f=a(28);h=a(14);p=a(18);d=a(19);c.iHa=function(a,b){h.Ga(a);h.Ga(b);h.yI(b.l8a,"endpointURL property is required");h.Ga(b.Lp);this.log=a;this.kza=b;};c.iHa.prototype.mv=function(){var a,c,g;a=this;a.log.trace("Downloading config data.");c={browserInfo:JSON.stringify(a.kza.Lp)};g=a.kza.l8a+"?"+f.DK(c);return new Promise(function(f,c){function k(b){var d;try{if(b.W){d=new Uint8Array(b.content);return{W:!0,config:JSON.parse(String.fromCharCode.apply(null,d)).core.initParams};}return{W:!1,message:"Unable to download the config. "+b.Qa,EJ:b.Wh};}catch(T){return b=p.ud(T),a.log.error("Unable to download the config. Received an exception parsing response",{message:T.message,exception:b,url:g}),{W:!1,Qa:b,message:"Unable to download the config. "+T.message};}}function h(b,f,c){return f>c?(a.log.error("Config download failed, retry limit exceeded, giving up",d.Wa({Attempts:f-1,MaxRetries:c},b)),!1):!0;}function m(a){return new Promise(function(b){setTimeout(function(){b();},a);});}function t(g,q,u){b.Jd.download(g,function(b){var y;b=k(b);if(b.W)f(b);else{a.log.warn("Config download failed, retrying",d.Wa({Attempt:q,WaitTime:y,MaxRetries:u},b));if(h(b,q+1,u))return y=p.Tza(1E3,1E3*Math.pow(2,Math.min(q-1,u))),m(y).then(function(){return t(g,q+1,u);});c(b);}});}return b.Jd?t({url:g,responseType:3,withCredentials:!0,GC:"config-download"},1,3):Promise.reject({W:!1,message:"Unable to download Config. There was no HTTP object supplied"});});};},function(g,c,a){var b,f,h,p;Object.defineProperty(c,"__esModule",{value:!0});b=a(12);f=a(9);g=a(2);h=a(4);p=a(167);a=a(20);h.V.get(a.He).register(g.I.gfa,function(a){b.config.U9a&&h.V.get(p.Lea).start();a(f.yc);});},function(g,c,a){var b,f,h,p,d,k,m,t,u,y,A,K,x,l;Object.defineProperty(c,"__esModule",{value:!0});b=a(148);f=a(253);g=a(57);h=a(12);p=a(53);d=a(9);k=a(28);m=a(26);t=a(18);u=a(8);y=a(4);A=a(85);K=a(15);x=a(33);l=a(20);g.Vha(g.Qha,function(a){var Z,ea,X,O,ca,va;function c(b){b.newValue>=K.jb.LOADING&&(a.state.removeListener(c),r("type=openplay&sev=info&locstor="+u.fZ(M())),X=m.Yf(),G());}function g(){va("type=startplay&sev=info&outcome=success");}function q(){var d,f;d=a.Yh;if(d){f="type=startplay&sev=error&outcome=error";d=b.wta(x.mJa,d);t.Uc(d,function(a,b){f+="&"+u.fZ(a)+"="+u.fZ(b||"");});va(f);}else va("type=startplay&sev=info&outcome=abort");}function G(){var a,b;a=O.shift();if(0<a){b=u.Bm(a-(m.Yf()-X),0);ea=setTimeout(function(){r("type=startstall&sev=info&kt="+a);G();},b);}}function n(){va("type=startplay&sev=info&outcome=unload");}function M(){var a,b,d;try{b=""+m.NQ();localStorage.setItem("player$test",b);d=localStorage.getItem("player$test");localStorage.removeItem("player$test");a=b==d?"success":"mism";}catch(ka){a="ex: "+ka;}return a;}function r(b){b=ca+"&soffms="+a.Y5()+"&"+b;a.Cc&&Object.keys(a.Cc).length&&(b+="&"+k.DK(t.Wa({},a.Cc,{prefix:"sm_"})));f.otb("playback",b,Z);}Z=y.V.get(A.Dt).host+h.config.Yba;if(h.config.rDa&&Z&&h.config.sDa.playback){O=h.config.ptb.slice();ca="xid="+a.oa+"&pbi="+a.index+"&uiLabel="+(a.ue||"");a.state.addListener(c);a.addEventListener(K.S.wj,g);a.addEventListener(K.S.Ue,q);p.Ee.addListener(p.Yk,n,d.XA);va=function(b){var f;va=d.ne;f=y.V.get(l.He);b+="&initstart="+f.startTime+"&initend="+f.endTime;r(b);clearTimeout(ea);a.removeEventListener(K.S.wj,g);a.removeEventListener(K.S.Ue,q);p.Ee.removeListener(p.Yk,n);};}});},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});g=a(89);b=a(12);f=a(4);g.fG(function(a,c){var d,k,g,h;d={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480};Object.assign(d,b.config.Stb);k=d[c.ue];if(b.config.Ttb&&k){g={};h=f.bg(a,"MediaStreamFilter");return{cJ:"uiLabel",st:function(a){if(a.lower&&a.height>k)return g[a.height]||(g[a.height]=!0,h.warn("Restricting resolution due to uiLabel",{MaxHeight:k,streamHeight:a.height}),c.Xm.set({reason:"uiLabel",height:a.height})),!0;}};}});},function(g,c,a){var f,h,p,d;function b(a){var c,k;function b(f){f=f.Op;a.removeEventListener(d.S.m9,b);try{h.Neb(f.data)&&(k=!0,a.Jqb());c.trace("RA check",{HasRA:k});}catch(A){c.error("RA check exception",A);}}c=f.bg(a,"RAF");a.addEventListener(d.S.m9,b);return{cJ:"ra",st:function(a){if(!k&&a.tn)return a=a.gf,!(0<a.toLowerCase().indexOf("l30")||0<a.toLowerCase().indexOf("l31"));}};}Object.defineProperty(c,"__esModule",{value:!0});g=a(89);f=a(4);h=a(254);p=a(33);d=a(15);p.nia&&g.fG(b);c.hAb=b;},function(g,c,a){var f,h;function b(a,b){var d,c;d=h.bg(a,"MSS");if(f.config.bib)return{cJ:"mss",st:function(a){var f,k;if(a.lower&&2160<=a.height)a:{for(f=a;f.lower;){if(2160>f.height&&1080<f.height){f=!0;break a;}if(1080>=f.height)break;f=f.lower;}f=!1;}else f=void 0;if(f){if(void 0===c){try{k=J.MSMediaKeys;c=k&&k.isTypeSupportedWithFeatures?"probably"===k.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(A){d.error("hasUltraHdDisplay exception");c=!0;}c||(d.warn("Restricting resolution due screen size",{MaxHeight:a.height}),b.Xm.set({reason:"microsoftScreenSize",height:a.height}));}return!c;}}};}Object.defineProperty(c,"__esModule",{value:!0});g=a(89);f=a(12);h=a(4);g.fG(b);c.gAb=b;},function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});a(89).fG(function(){return{cJ:"op",st:function(){}};});},function(g,c,a){var f,h,p,d,k,m,t,u,y;function b(a,b){var q,A,K,l,n,r,Q,ia,Z,ea,X;function c(){var d;d=a.Eb.value===u.hb.ad&&a.state.value===u.jb.$c&&a.ba===b.ba;X?d||(clearInterval(X),r=X=void 0):d&&(X=J.setInterval(g,1E3));}function g(){var b,f,c,k,g,h;b=a.Me.value;b=(b=b&&b.stream)&&b.height;if(null!==b&&0<b){f=d.Yf();c=a.Ag.xy();if(c){if(r&&2E3>f-r.time&&b===r.height){k=c-r.X6a;g=A[b];g||(A[b]=g=[],b>ia&&(n.push(b),p.dX(n)));0<k&&!(ea&&ea<b)&&(ea=b);g.push(k);g.length>Q&&g.shift();(g=l[b])||(l[b]=g={});h=g[k];g[k]=h?h+1:1;}r={time:f,X6a:c,height:b};a.YU&&a.YU.kqb(A);}}}q=k.bg(a,"DFF");A={};K=f.config.a7a;l={};n=[];Q=f.config.Z6a;ia=f.config.$6a;Z=h.iMa;if(f.config.Y6a)return b.c4={q$a:function(){var a;a={};l&&n.forEach(function(b){var d,f,c;d=l[b];if(d){f=0;c=0;y.Uc(d,function(a,b){c+=m.Ud(a);f+=b;});a[b]=c/f;}});return a;},tJ:function(a){var b;b={};a.forEach(function(a){b[a]={};});l&&(p.dX(a),n.forEach(function(d){var f,c,k,g;f=l[d];if(f){c=0;k=0;y.Uc(f,function(a,b){c+=b;});g=Object.keys(f).map(Number);p.dX(g);for(var h=g.length-1,m=g[h],q=a.length-1;0<=q;q--){for(var u=a[q];m>=u&&0<=h;)(m=f[m])&&(k+=m),m=g[--h];b[u][d]=t.Lh(k/c*100);}}}));return b;}},a.state.addListener(c),a.Eb.addListener(c),a.addEventListener(u.S.bl,c),{cJ:"df",st:function(a){var d,c,k,g;if(a.lower&&a.height>ia){a=a.height;a:{if(ea){d=n.length;for(var f=0;f<d;f++){c=n[f];if(c>=ea&&c<Z){k=A[c];if(g=k)b:{g=K.length;for(var h=k.length,m=0;m<g;m++)for(var t=K[m],u=t[0],t=t[1],p=0;p<h;p++)if(k[p]>=t&&0>=--u){g=!0;break b;}g=!1;}if(g&&Z!=c){q.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:c});b.Xm.set({reason:"droppedFrames",height:c});d=Z=c;break a;}}}ea=void 0;}d=Z;}a=a>=d;}else a=!1;return a;}};}Object.defineProperty(c,"__esModule",{value:!0});g=a(89);f=a(12);h=a(9);p=a(28);d=a(26);k=a(4);m=a(19);t=a(8);u=a(15);y=a(18);g.fG(b);c.fAb=b;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});},function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});g=a(4);a=a(326);a=g.V.get(a.Rca);a;},function(g,c,a){var b,f,h,p,d,k,m,t,u,y,A,K,x,l,n;Object.defineProperty(c,"__esModule",{value:!0});b=a(148);f=a(9);h=a(12);p=a(57);d=a(26);g=a(2);k=a(4);m=a(114);t=a(8);u=a(45);y=a(16);A=a(39);K=a(58);a=a(20);n=k.V.get(a.He);n.register(g.I.ifa,function(a){var g;function c(){var a,f,c,k;a=n.startTime;f={browserua:t.Oj,browserhref:t.gZ.href,initstart:a,initdelay:n.endTime-a};(a=t.Nd.documentMode)&&(f.browserdm=""+a);"undefined"!==typeof J.nrdp&&J.nrdp.device&&(f.firmware_version=J.nrdp.device.firmwareVersion);y.Sy(h.config.zra)&&(f.fesn=h.config.zra);Object.assign(f,b.Eta());c=t.gr&&t.gr.timing;c&&h.config.zgb.map(function(a){var b;b=c[a];b&&(f["pt_"+a]=b-d.H1a());});k=g.hta();Object.keys(k).forEach(function(a){return f["m_"+a]=k[a];});a=l.Pl("startup","info",f,p.rG.R4);x.vc(a);}l=k.V.get(K.Yn);x=k.V.get(A.Mj);g=k.V.get(m.qx);n.dK(function(){x.Bc();u.Ab(c);});a(f.yc);});},function(g,c,a){var b,f,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(9);f=a(12);h=a(26);c.Swb=function(a){var d;d={pEb:a,pra:!0,Ynb:!1,nfb:h.Yf(),load:function(a){(a||b.ne)(b.yc);},save:function(){d.pra=!0;},remove:function(a){d.pra=!1;(a||b.ne)(b.yc);},uDb:f.config.yh.pE,JHb:!0};return d;};},function(g,c,a){var p,d,k,m;function b(a,b,c,g){var t,q,u;p.Ga(m.Ze(a)&&!m.isArray(a));g=g||"";t="";q=a.hasOwnProperty(k.Vi)&&a[k.Vi];q&&d.Uc(q,function(a,b){t&&(t+=" ");t+=a+'="'+h(b)+'"';});c=(b?b+":":"")+c;q=g+"<"+c+(t?" "+t:"");u=a.hasOwnProperty(k.Vq)&&a[k.Vq].trim&&""!==a[k.Vq].trim()&&a[k.Vq];if(u)return q+">"+h(u)+"</"+c+">";a=f(a,b,g+"  ");return q+(a?">\n"+a+"\n"+g+"</"+c+">":"/>");}function f(a,f,c){var k;p.Ga(m.Ze(a)&&!m.isArray(a));c=c||"";k="";d.Uc(a,function(a,g){var u;if("$"!=a[0])for(var t=d.w8(g),q=0;q<t.length;q++)if(g=t[q],k&&(k+="\n"),m.Ze(g))k+=b(g,f,a,c);else{u=(f?f+":":"")+a;k+=c+"<"+u+">"+h(g)+"</"+u+">";}});return k;}function h(a){if(m.Sd(a))return d.O6(a);if(m.pa(a))return p.dR(a,"Convert non-integer numbers to string for xml serialization."),""+a;if(null===a||void 0===a)return"";p.Ga(!1,"Invalid xml value.");return"";}Object.defineProperty(c,"__esModule",{value:!0});p=a(14);d=a(18);k=a(124);m=a(16);c.XHb=b;c.YHb=f;c.FKb=h;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});g=a(2);b=a(4);f=a(305);a=a(20);b.V.get(a.He).register(g.I.hfa,function(a){b.V.get(f.kea)().then(function(){a({W:!0});})["catch"](function(f){b.log.error("error in initializing indexedDb debug tool",f);a({W:!0});});});},function(g,c,a){var b,f,h,p,d,k,m,t;Object.defineProperty(c,"__esModule",{value:!0});b=a(28);f=a(9);h=a(12);p=a(2);d=a(469);k=a(33);m=a(8);g=a(4);a=a(20);t=g.V.get(a.He);k.VY&&t.register(p.I.ufa,function(a){m.dn&&m.dn.generateKey&&m.dn.importKey&&m.dn.unwrapKey?!k.Jg.Jda&&h.config.QH!=d.UM.WOa&&h.config.QH!=d.UM.pMa||m.eZ?(t.Pc("wcs"),b.eE(m.dn.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){t.Pc("wcdone");a(f.yc);},function(b){var d;b=""+b;0<=b.indexOf("missing crypto.subtle")?d=p.u.b_:0<=b.indexOf("timeout waiting for iframe to load")&&(d=p.u.ESa);a({Y:d,Qa:b});})):a({Y:p.u.DSa}):a({Y:p.u.b_});});},function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});a(12);a(9);g=a(4);a(95);a(185);a(2);a(96);a(3);a=a(20);g.V.get(a.He);},function(g,c,a){var m,t,u,y,A;function b(a){var b,f;t.yI(a);if(u.Sd(a)&&c.mLa.test(a)){b=a.split(".");if(4===b.length){for(var d=0;d<b.length;d++){f=u.Ud(b[d]);if(0>f||!A.Cv(f,0,255)||1!==b[d].length&&0===b[d].indexOf("0"))return;}return a;}}}function f(a){var d;d=0;if(b(a)===a)return a=a.split("."),d+=u.Ud(a[0])<<24,d+=u.Ud(a[1])<<16,d+=u.Ud(a[2])<<8,d+u.Ud(a[3]);}function h(a){var b;t.yI(a);if(u.Sd(a)&&a.match(c.nLa)){b=a.split(":");-1!==b[b.length-1].indexOf(".")&&(a=p(b[b.length-1]),b.pop(),b.push(a[0]),b.push(a[1]),a=b.join(":"));a=a.split("::");if(!(2<a.length||1===a.length&&8!==b.length)&&(b=1<a.length?d(a):b,a=b.length,8===a)){for(;a--;)if(!A.Cv(parseInt(b[a],16),0,m.jMa))return;return b.join(":");}}}function p(a){var b;a=f(a)>>>0;b=[];b.push((a>>>16&65535).toString(16));b.push((a&65535).toString(16));return b;}function d(a){var b,d,f;b=a[0].split(":");a=a[1].split(":");1===b.length&&""===b[0]&&(b=[]);1===a.length&&""===a[0]&&(a=[]);d=8-(b.length+a.length);if(1>d)return[];for(f=0;f<d;f++)b.push("0");for(f=0;f<a.length;f++)b.push(a[f]);return b;}function k(a){return-1<<32-a;}Object.defineProperty(c,"__esModule",{value:!0});m=a(9);t=a(14);u=a(19);y=a(8);A=a(16);c.mLa=/^[0-9.]*$/;c.nLa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;c.LA="0000000000000000";c.xzb=b;c.tzb=f;c.yzb=h;c.vzb=p;c.wzb=d;c.zzb=function(a,d,g){var m,t,q,u;m=b(a);t=h(a);q=b(d);u=h(d);if(!m&&!t||!q&&!u||m&&!q||t&&!u)return!1;if(a===m)return g=k(g),(f(a)&g)!==(f(d)&g)?!1:!0;if(a===t){a=a.split(":");d=d.split(":");for(m=y.bx(g/c.LA.length);m--;)if(a[m]!==d[m])return!1;g%=c.LA.length;if(0!==g)for(a=parseInt(a[m],16).toString(2),d=parseInt(d[m],16).toString(2),a=c.LA.substring(0,c.LA.length-a.length)+a,d=c.LA.substring(0,c.LA.length-d.length)+d,m=0;m<g;m++)if(a[m]!==d[m])return!1;return!0;}return!1;};c.uzb=k;},function(g,c,a){var b,f,h,p,d,k,m,t;Object.defineProperty(c,"__esModule",{value:!0});b=a(4);f=a(14);a(18);h=a(19);p=a(2);d=a(33);k=a(45);m=a(8);a(16);t=a(130);c.eIb=function(a,c){var u,y,l;function g(a){var b;b=c;c=h.ne;b(a);}function q(a){var b,d,c,h;try{b=JSON.parse(a.data);d=b.method;c=b.success;h=b.payload;f.Ga("ready"==d);"ready"==d&&(y.removeEventListener("message",q),l.$g(),k.Ab(function(){u.info("Plugin sent ready message");c?g({success:!0,pluginObject:y,pluginVersion:h&&h.version}):g({Y:p.u.nha,Hc:b.errorCode});}));}catch(Q){u.error("Exception while parsing message from plugin",Q);g({Y:p.u.oha});}}u=b.Lf("Plugin");f.Ga(a);if(a){a=a[0].type;u.info("Injecting plugin OBJECT",{Type:a});y=h.createElement("OBJECT",d.Jg.OOa,void 0,{type:a,"class":"netflix-plugin"});y.addEventListener("message",q);l=b.V.get(t.eB)(8E3,function(){u.error("Plugin load timeout");g({Y:p.u.qha});});m.Nd.body.appendChild(y);l.As();}else g({Y:p.u.pha});};c.gIb=function(){};c.fIb=function(a){var d,f,c;d=b.Lf("Plugin");f=1;c={};a.addEventListener("message",function(a){var b,f,k,g;try{b=JSON.parse(a.data);f=b.success;k=b.payload;g=c[b.idx];g&&(f?g({W:!0,wEb:k}):g({W:!1,Y:p.u.MOa,Qa:b.errorMessage,Hc:b.errorCode}));}catch(W){d.error("Exception while parsing message from plugin",W);}},!1);return function(k,g,h){var q,u,y,A;function m(a){a.W||d.info("Plugin called back with error",{Method:k},p.Xn(a));y.$g();delete c[q];h(a);}try{q=f++;u={idx:q,method:k};u.argsObj=g||{};y=b.V.get(t.eB)(8E3,function(){d.error("Plugin never called back",{Method:k});delete c[q];h({Y:p.u.NOa});});y.As();A=JSON.stringify(u);c[q]=m;a.postMessage(A);}catch(Q){d.error("Exception calling plugin",Q);h({Y:p.u.POa});}};};},function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});g=a(4);c=a(95);a=a(185);g.V.get(c.OA).wV(a.bga.EGa,function(a){var b,c;b=a.level;if(!J._cad_global.config||b<=J._cad_global.config.Dgb){a=a.zW();c=J.console;1>=b?c.error(a):2>=b?c.warn(a):c.log(a);}});},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(19);f=a(8);c.eDb=function(a,b,d){for(d=(d-a.length)/b.length;0<d--;)a+=b;return a;};c.cDb=function(a,f,d){d=b.Sd(d)?d:"...";return a.length<=f?a:a.substr(0,a.length-(a.length+d.length-f))+d;};c.dDb=function(a,b){var c;for(var d=1;d<arguments.length;++d);c=f.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,b){return"undefined"!=typeof c[b]?c[b]:a;});};c.fDb=function(a){for(var b=a.length,d=new Uint16Array(b),f=0;f<b;f++)d[f]=a.charCodeAt(f);return d.buffer;};c.XKb=function(a){var b;b=new Uint8Array(a.length);Array.prototype.forEach.call(a,function(a,f){b[f]=a.charCodeAt(0);});return b;};},function(g){function c(a,b){return a.id===b.id&&a.displayTime+a.duration===b.displayTime;}function a(a){return a.duration;}function b(a,b){return a+b;}g.T={Q1a:function(a,b,c){for(var d=0;d<a.length;d++)if(a[d]!==b[d])return c.error("indexId mismatch in sidx",{sIndexId:a,mIndexId:b}),!1;return!0;},l3:function(a,b,c){var d;d={};d.displayTime=a.Fi;d.duration=a.duration;d.originX=a.LU;d.originY=a.MU;d.sizeX=a.fW;d.sizeY=a.gW;d.imageData=b;d.id=a.bq;d.rootContainerExtentX=c.FV;d.rootContainerExtentY=c.GV;return d;},cab:function(a,b){return"o_"+a+"s_"+b;},iEa:function(a,b){b("P"==String.fromCharCode(a[1]));b("N"==String.fromCharCode(a[2]));b("G"==String.fromCharCode(a[3]));},Tb:function(a){return"undefined"!==typeof a;},qpb:function(a,b){return a.some(function(a){return a.id===b;});},d7a:function(f,g){return f.filter(c.bind(null,g)).map(a).reduce(b,0);},pJ:function(a,b){var f,d;f=Object.create({});for(d in a)f[d]=a[d];a instanceof Error&&(f.message=a.message,f.stack=a.stack);f.errorString=b;return f;},assert:function(a,b){if(!a)throw b&&b.error(Error("Assertion Failed").stack),Error("Assertion Failed");}};},function(g){function c(a){this.buffer=a;this.position=0;}c.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},oj:function(){return this.buffer.length-this.position;},ke:function(){return this.buffer[this.position++];},wd:function(a){var b;b=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(b,this.position):a.slice(b,this.position);},mc:function(a){for(var b=0;a--;)b=256*b+this.buffer[this.position++];return b;},Cq:function(a){for(var b="";a--;)b+=String.fromCharCode(this.buffer[this.position++]);return b;},L$:function(){for(var a="",b;b=this.ke();)a+=String.fromCharCode(b);return a;},Bb:function(){return this.mc(2);},Na:function(){return this.mc(4);},Qf:function(){return this.mc(8);},qV:function(){return this.mc(2)/256;},fL:function(){return this.mc(4)/65536;},cf:function(a){for(var b,f="";a--;)b=this.ke(),f+="0123456789ABCDEF"[b>>>4]+"0123456789ABCDEF"[b&15];return f;},kw:function(){return this.cf(4)+"-"+this.cf(2)+"-"+this.cf(2)+"-"+this.cf(2)+"-"+this.cf(6);},gL:function(a){for(var b=0,f=0;f<a;f++)b+=this.ke()<<(f<<3);return b;},Gz:function(){return this.gL(4);},vF:function(a){this.Tq(a,2);},Uq:function(a){this.Tq(a,4);},MM:function(a){this.buffer[this.position++]=a;},Tq:function(a,b){this.position+=b;for(var f=1;f<=b;f++)this.buffer[this.position-f]=a&255,a=Math.floor(a/256);},Sq:function(a){for(var b=0;b<a.length;b++)this.buffer[this.position++]=a.charCodeAt(b);},uA:function(a){for(var b=a.length,f=0;f<b;f++)this.buffer[this.position++]=a[f];},vA:function(a,b){this.uA(a.wd(b));}};g.T=c;},function(g,c,a){var D,r,Q,ia,Z,ea;function b(a){D.call(this);this.O$a=m;this.Bi=a.url;this.mH=a.request;this.rP=a.Kd||0;this.aP=a.Vg;this.rb=a.ia;this.fj=this.oh=null;this.OG={};this.hu=0;this.bH=a.bufferSize||4194304;this.v0={};this.Fma=a.version||1;a.key&&(this.hka=a.crypto,this.yx=this.hka.importKey("raw",a.key,{name:"AES-CTR"},!1,["encrypt","decrypt"]));a.Lo?this.oh=a.Lo:(this.Dd=a.offset,this.GXa=a.size);}function f(){}function h(){}function p(a,b){var c,g,k,h,m,t,q,u;if(a)this.emit(Z.ERROR,ia.pJ(a,ea.qMa));else try{if(2===this.Fma){g=new f();k=Q.J$(b)[0];h=k.nv("636F6D2E-6E65-7466-6C69-782E68696E66");m=k.nv("636F6D2E-6E65-7466-6C69-782E6D696478");g.fT=h.Hna;g.Og=h.Og;g.Bn=h.Bn;g.M=h.M;g.FV=h.FV;g.GV=h.GV;g.language=h.mfb;g.Lsb=h.nsb;g.startOffset=m.Epb;t=[];q=0;for(a=0;a<m.xd.length;a++){u=m.xd[a];b={};b.duration=u.duration;b.size=u.size;t.push(b);q+=b.duration;}g.entries=t;g.endTime=q;c=g;}else{t=new r(b);q=new f();q.identifier=t.Cq(4);ia.assert("midx"===q.identifier);q.version=t.mc(4);ia.assert(0===q.version);q.fT=t.wd(36);q.Og=t.Qf();q.Bn=t.Qf();q.M=t.Qf();q.FV=t.Bb();q.GV=t.Bb();q.language=t.wd(16);q.Lsb=t.wd(16);q.startOffset=t.Qf();q.Tp=t.Bb();g=[];for(u=m=0;u<q.Tp;u++)a={},a.duration=t.mc(4),a.size=t.Bb(),g.push(a),m+=a.duration;q.entries=g;q.endTime=m;c=q;}this.oh=c;d.call(this);}catch(ma){this.emit(Z.ERROR,ia.pJ(ma,ea.rMa));}}function d(){var a,b;a=this.oh;b=a.startOffset;(a=a.entries.reduce(function(a,b){return a+b.size;},0))?(b={url:this.Bi,offset:b,size:a},this.emit(Z.sMa,this.oh),this.mH(b,k.bind(this))):this.emit(Z.ERROR,ia.pJ({},ea.BNa));}function k(a,b){var d,f,c,g;d=this;if(a)d.emit(Z.ERROR,ia.pJ(a,ea.IQa));else{f=0;c=[];g=0;try{d.oh.entries.forEach(function(a){var k,m,t,q,u,y,A;m=f;t=d.oh.fT;q=d.rb;if(2===d.Fma){k=new h();u=Q.J$(b);k.entries=[];k.images=[];for(var p=0;p<u.length;p++)for(t=u[p],m=t.nv("636F6D2E-6E65-7466-6C69-782E73696478"),t=t.nv("636F6D2E-6E65-7466-6C69-782E73656E63"),q=0;q<m.Jn.length;q++){y={};A=m.Jn[q];y.Fi=A.Fi;y.duration=A.duration;y.LU=A.LU;y.MU=A.MU;y.fW=A.fW;y.gW=A.gW;y.bq=A.bq;y.sD=A.sD;if(A=t&&t.Jn[q])y.JR={Fv:A.Fv.slice(0),mode:A.dra};k.entries.push(y);}}else{k=new r(b);u=new h();p=0;k.position=m;u.identifier=k.Cq(4);ia.assert("sidx"===u.identifier);u.fT=k.wd(36);ia.Q1a(u.fT,t,q);u.duration=k.mc(4);u.Tp=k.Bb();u.entries=[];for(u.images=[];p<u.Tp;)m={},m.Fi=k.mc(4),m.duration=k.mc(4),m.LU=k.Bb(),m.MU=k.Bb(),m.fW=k.Bb(),m.gW=k.Bb(),m.bq=k.Qf(),m.sD=k.mc(4),p++,u.entries.push(m);k=u;}c.push(k);a.dba=k;k.H$=g;k.dL=g+a.duration;g=k.dL;u=k.entries;u.length&&(k.startTime=u[0].Fi,k.endTime=u[u.length-1].Fi+u[u.length-1].duration);f+=a.size;});}catch(ja){d.emit(Z.ERROR,ia.pJ(ja,ea.JQa));return;}d.fj=c;d.emit(Z.KQa,this.fj);a=t.call(d,d.rP,2);a.length?K.call(d,a,d.rP,function(a){a&&d.rb.error("initial sidx download failed");d.emit(Z.mia);}):d.emit(Z.mia);}}function m(a){var b,d,f,c,k;b=t.call(this,a,2);d=(d=this.oh)?d.endTime:void 0;if(a>d)return[];f=this.OG.Gq;c=this.OG.index;d=[];c=ia.Tb(c)&&this.fj[c+1];if(!(c&&c.entries.length||f&&!(a>f.endTime)))return[];b.length&&K.call(this,b,a);f&&f.images.length&&(d=y(f,a,[],this.oh));c&&c.images.length&&(b=y(c,a,d,this.oh),d.push.apply(d,b));b=A(d);if(this.fj&&0!=this.fj.length){d=this.fj[Math.floor(a/6E4)];if(!(d.H$<=a&&a<=d.dL))a:{d=this.fj.length;if(!this.s8a){this.s8a=!0;b:{try{k=String.fromCharCode.apply(String,this.oh.language);break b;}catch(ja){}k="";}this.rb.error("bruteforce search for ",{movieId:this.oh.M,packageId:this.oh.Bn,lang:k});}for(k=0;k<d;k++)if(f=this.fj[k],f.H$<=a&&a<=f.dL){d=f;break a;}d=void 0;}k=d;}else k=void 0;if(d=k&&0<k.entries.length&&0===k.images.length)a:{d=k.entries.length;for(c=0;c<d;c++)if(f=k.entries[c],f.Fi<=a&&f.Fi+f.duration>=a){d=!0;break a;}d=!1;}return d?null:b;}function t(a,b){var d,k;d=[];if(a=u.call(this,a))this.OG=a;else return this.OG={},d;for(var f=0,c=this.fj?this.fj.length:0;f<b&&a.index+f<c;){k=this.fj[a.index+f];k&&!k.images.length&&d.push(k);f++;}return d;}function u(a){var b,d,f,c,k,g,h;d=this.OG;f=d.Gq;c=d.index;k=this.fj;this.Pg(ia.Tb(a));f&&(0===c&&a<=f.startTime?(h=!0,b=d):a>=f.startTime&&a<=f.endTime?(h=!0,b=d):(g=k[c-1],k=k[c+1],g&&a>g.endTime&&a<=f.startTime?(h=!0,b=d):k&&a>=f.endTime&&a<=k.endTime&&(h=!0,b={Gq:k,index:c+1})));if(!h)for(d=this.oh.entries,f=d.length,c=0;c<f;c++)if(g=d[c].dba,a<=g.startTime||a>g.startTime&&a<=g.endTime){b={Gq:d[c].dba,index:c};break;}return b;}function y(a,b,d,f){var c,k,g,h,m,t;c=a.entries;k=c.length;g=[];m=0;if(!c.length)return g;for(;m<k;){h=c[m];if(h.Fi<=b)h.Fi+h.duration>=b&&g.push(ia.l3(h,a.images[m].data,f));else{t=g.length&&g[g.length-1]||d.length&&d[d.length-1];if(t&&t.Fi>b&&t.Fi!==h.Fi)break;t.bq!==h.bq&&g.push(ia.l3(h,a.images[m].data,f));}m++;}return g;}function A(a){return a.map(function(b,d){b.duration+=ia.d7a(a.slice(d+1),b);return b;}).reduce(function(a,b){ia.qpb(a,b.id)||a.push(b);return a;},[]);}function K(a,b,d){var f,c,k,g,h,m;f=this;c=a[0];k=a[a.length-1];0<c.entries.length&&(g=c.entries[0].bq,h=c.entries[c.entries.length-1]);0<k.entries.length&&(ia.Tb(g)||(g=k.entries[0].bq),h=k.entries[k.entries.length-1]);if(g){c=h.bq+h.sD-g;m=ia.cab(g,c);f.v0[m]||(f.v0[m]=!0,x.call(f,a,b),f.mH({url:f.Bi,offset:g,size:c},function(b,c){var k,h,t,q;setTimeout(function(){delete f.v0[m];},1E3);if(b)d&&d(b);else{k=new r(c);h=0;q=[];a.forEach(function(a){a.entries.forEach(function(b,d){var c,m;k.position=b.bq-g;c={data:k.wd(b.sD)};m=b.JR;m&&(c.Fv=m.Fv,c.dra=m.mode,t=!0,q.push(c));a.images[d]=c;!b.JR&&ia.iEa(a.images[d].data,f.Pg.bind(f));h+=a.images[d].data.length;});});f.hu+=h;t?f.yx.then(function(a){return W.call(f,q,a);}).then(function(){d&&d(null);})["catch"](function(a){f.rb.error("decrypterror",a);d&&d({W:!1});}):d&&d(null);}}));}else d&&d(null);}function x(a,b){var k,g,h,m,t,q;function d(){return{pts:b,hasEnoughSpace:k.hu+g<=k.bH,required:g,currentSize:k.hu,max:k.bH,currentIndex:u.call(k,b).index,sidxWithImages:n.call(k),newSidxes:a.map(function(a){return k.fj.indexOf(a);})};}function f(a,b){k.aP&&!a&&k.rb.info("not done in iteration",b);}function c(a){var b,d,f;b=k.fj[a];d=b.images&&b.images.length;if(0<d){f=l([b]);b.images=[];k.hu-=f;k.aP&&k.rb.info("cleaning up space from sidx",{index:a,start:b.startTime,size:f,images:d});if(k.hu+g<=k.bH)return!0;}}k=this;g=l(a);k.rb.info("make space start:",d());if(!(k.hu+g<=k.bH)){h=u.call(k,b).index;m=!1;t=0;q=k.fj.length-1;if(0>h){k.rb.error("inconsistent sidx index");return;}for(;!m&&t<h-2;)m=c(t),t++;for(f(m,1);!m&&q>h+2;)m=c(q),q--;for(f(m,2);!m&&t<h;)m=c(t),t++;for(f(m,3);!m&&q>h;)m=c(q),q--;f(m,4);m||k.rb.error("could not make enough space",{maxBuffer:this.bH});}k.rb.info("make space end",d());}function l(a){return a.reduce(function(a,b){return a+b.entries.reduce(function(a,b){return b.sD+a;},0);},0);}function n(){var a;a=[];this.oh&&this.oh.entries&&this.oh.entries.reduce(function(b,d,f){var c;d=d.dba;c=0;d&&d.images.length&&(a.push(f),c=d.images.reduce(function(a,b){return a+b.data.length;},0));return b+c;},0);return a.join(", ");}function R(a,b){return a&&a.H$<=b&&a.dL>=b;}function T(a,b){var d,f,c,k,g,h;d=this;f=d.oh;c=d.fj;k=c&&c.length;if(a>b||0>a)throw Error("invalid range startPts: "+a+", endPts: "+b);if(f&&c){if(0===k)return[];f=c[0].duration;if(ia.Tb(f)&&0<f)f=Math.floor(a/f),g=f<k&&R(c[f],a)?c[f]:void 0;else for(d.aP&&d.rb.warn("duration not defined, so use brute force to get starting sidx"),f=0;f<k;f++){h=c[f];if(R(h,a)){g=h;break;}}if(ia.Tb(g)){g=[];for(var m=function(d){var f;f=d.Fi<=a&&a<=d.Fi+d.duration;return a<=d.Fi&&d.Fi<=b||f;};f<k;){h=c[f];g=g.concat(h.entries.filter(m));if(b<h.dL)break;f++;}g=g.map(function(a){return ia.l3(a,null,d.oh);});return A(g);}}}function W(a,b){var f,c;function d(a,b){var d,f;d=this;f=new Uint8Array(16);f.set(a.Fv);return d.hka.decrypt({name:"AES-CTR",counter:f,length:128},b,a.data).then(function(b){a.data.set(new Uint8Array(b));ia.iEa(a.data,d.Pg.bind(d));});}f=this;try{c=[];a.forEach(function(a){a.Fv&&(a=d.call(f,a,b),c.push(a));});return(void 0).all(c);}catch(N){return f.rb.error("decrypterror",N),(void 0).reject(N);}}D=a(144).EventEmitter;r=a(514);Q=a(298);ia=a(513);Z=b.events={sMa:"midxready",KQa:"sidxready",mia:"ready",ERROR:"error"};ea=b.tGb={qMa:"midxdownloaderror",rMa:"midxparseerror",BNa:"nosidxfoundinmidx",IQa:"sidxdownloaderror",JQa:"sidxparseerror"};b.prototype=Object.create(D.prototype);b.prototype.constructor=b;b.prototype.start=function(){var a;if(this.oh)this.rb.warn("midx was prefectched and provided"),d.call(this);else{a={url:this.Bi,offset:this.Dd,size:this.GXa,responseType:"binary"};this.rb.warn("downloading midx...");this.mH(a,p.bind(this));}};b.prototype.close=function(){};b.prototype.Pg=function(a){this.aP&&ia.assert(a,this.rb);};b.prototype.sv=function(a,b){return T.call(this,a,b);};b.prototype.i6=function(a,b){return(a=this.sv(a,b))?a.length:a;};g.T=b;},function(g,c,a){var h;function b(a,b){return b.reduce(f.bind(this,a),[]);}function f(a,b,f){var d,c;d=f.displayTime-a;a=f.displayTime+f.duration-a;c=0<b.length?b[0].timeout:Infinity;return 0<d&&d<c?[{timeout:d,type:"showsubtitle",ee:f}]:d===c?b.concat([{timeout:d,type:"showsubtitle",ee:f}]):0<a&&a<c?[{timeout:a,type:"removesubtitle",ee:f}]:a===c?b.concat([{timeout:a,type:"removesubtitle",ee:f}]):b;}h=a(144).EventEmitter;c=a(255)({});a=function d(a,b,f){if(!(this instanceof d))return new d(a,b,f);h.call(this);this.wr=a;this.AUa=b;this.Jr={};this.OB={};this.rb=f||console;this.wO=!1;};a.prototype=Object.create(h.prototype);a.prototype.stop=function(){var a;a=this;clearTimeout(a.Uj);Object.keys(a.Jr).forEach(function(b){a.emit("removesubtitle",a.Jr[b]);});a.Jr={};};a.prototype.pause=function(){clearTimeout(this.Uj);};a.prototype.gp=function(a,f){var d,c;d=this;c=d.wr();clearTimeout(this.Uj);a=d.AUa(c);null!==a&&d.wO&&(d.wO=!1,d.emit("bufferingComplete"));f="number"===typeof f?f:0;Object.keys(d.Jr).forEach(function(a){a=d.Jr[a];a.displayTime<=c&&c<a.displayTime+a.duration||(delete d.Jr[a.id],d.emit("removesubtitle",a));});Object.keys(d.OB).forEach(function(a){a=d.OB[a];c>=a.displayTime+a.duration&&delete d.OB[a.id];});null!==a&&0<a.length?(f=a.length,d.rb.info("found "+f+" entries for pts "+c),a.forEach(function(a){a.displayTime<=c&&c<a.displayTime+a.duration&&!d.Jr[a.id]&&(d.emit("showsubtitle",a),d.Jr[a.id]=a,delete d.OB[a.id]);}),f=a[a.length-1],d.Jr[f.id]||d.OB[f.id]||(d.emit("stagesubtitle",f),d.OB[f.id]=f),f=b(c,a),0<f.length?d.zP(f[0].timeout):d.zP(2E4)):null===a?(a=250*Math.pow(2,f),2E3<a&&(a=2E3),d.rb.warn("checking buffer again in "+a+"ms"),d.wO||(d.wO=!0,d.emit("underflow")),d.zP(a,f+1)):d.zP(2E4);};a.prototype.zP=function(a,b){var d;d=this;d.rb.trace("Scheduling pts check.");d.Uj=setTimeout(function(){d.gp(d.wr(),b);},a);};g.T=c(["function","function","object"],a);},function(g,c,a){var d,k,m;function b(a){var b;b=1;"dfxp-ls-sdh"===this.qP&&(b=a.MEb.length);this.rb.info("show subtitle called at "+this.wr()+" for displayTime "+a.displayTime);this.emit("showsubtitle",a);this.ou[this.ou.length-1].ZV+=b;}function f(a){this.rb.info("remove subtitle called at "+this.wr()+" for remove time "+(a.displayTime+a.duration));this.emit("removesubtitle",a);}function h(){this.rb.info("underflow fired by the subtitle timer");this.emit("underflow");}function p(){this.rb.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");}d=a(144).EventEmitter;k=a(516);c=a(255)();m=a(515);a=function u(a,c){var g,q;g=this;q=a.Vg||!1;if(!(g instanceof u))return new u(a,c);d.call(g);g.rb=a.ia||console;g.mH=a.request;g.wr=a.Ata;g.Uj=null;g.Fr=!0;g.ou=[];g.qP=c.profile;g.Bi=c.url;g.rP=c.Kd;g.LWa=c.lmb;g.QTa=c.gn;a={url:g.Bi,request:g.mH,Kd:g.rP,xml:c.xml,lmb:g.LWa,gn:g.QTa,ia:g.rb,Vg:q,bufferSize:c.bufferSize,crypto:c.crypto,key:c.key,Lo:c.Lo};if("nflx-cmisc"===g.qP)a.offset=c.sK,a.size=c.fU,g.Ec=new m(a);else if("nflx-cmisc-enc"===g.qP)a.version=2,a.offset=c.sK,a.size=c.fU,g.Ec=new m(a);else throw Error("SubtitleManager: "+g.qP+" is an unsupported profile");g.Ec.on("ready",function(){var a,d;a=!!c.x_a;g.rb.info("ready event fired by subtitle stream");g.emit("ready");d=g.Ec.O$a.bind(g.Ec);g.Uj=new k(g.wr,d,g.rb);g.Uj.on("showsubtitle",b.bind(g));g.Uj.on("removesubtitle",f.bind(g));g.Uj.on("underflow",h.bind(g));g.Uj.on("bufferingComplete",p.bind(g));a&&(g.rb.info("autostarting subtitles"),setTimeout(function(){g.gp(g.wr());},10));});g.Ec.on("error",g.emit.bind(g,"error"));};a.prototype=Object.create(d.prototype);a.prototype.start=function(){this.Ec.start();};a.prototype.gp=function(a){this.Fr&&(this.Fr=!1,this.rb.info("creating a new subtitle interval at "+a),this.ou.push({U:a,ZV:0}));null!==this.Uj&&this.Uj.gp(a);};a.prototype.stop=function(){var a;this.wr();this.rb.info("stop called");this.Fr||this.pause();this.Ec.removeAllListeners(["ready"]);null!==this.Uj&&this.Uj.stop();a=this.ou.reduce(function(a,b){a.fCa+=b.ZV;a.ZI+=b.qra;a.meb.push(b);return a;},{fCa:0,ZI:0,meb:[]});"object"===typeof this.Ec&&this.Ec.close();this.rb.info("metrics: "+JSON.stringify(a));return a;};a.prototype.pause=function(){var a,b;a=this.wr();if(this.Fr)this.rb.warn("pause called on subtitle manager, but it was already paused!");else{this.rb.info("pause called at "+a);this.Fr=!0;this.rb.info("ending subtitle interval at "+a);b=this.ou[this.ou.length-1];b.ha=a;b.ha<b.U&&(this.rb.warn("correcting for interval where endPts is smaller than startPts"),b.U=0<b.ha?b.ha-1:0);b.qra=this.Ec.i6(b.U,b.ha);this.rb.info("showed "+b.ZV+" during this interval");this.rb.info("expected "+b.qra+" for this interval");}null!==this.Uj&&this.Uj.pause();};a.prototype.sv=function(a,b){return this.Ec.sv(a,b);};a.prototype.i6=function(a,b){return this.Ec.i6(a,b);};a=c([{request:"function",Ata:"function",ia:"object"},"object"],a);g.T=a;},function(g,c,a){var f,h,p,d,k,m;function b(a,b,f,c){a=d.ze.call(this,a,void 0===c?"AppInfoConfigImpl":c)||this;a.config=b;a.aca=f;return a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(51);p=a(34);d=a(36);k=a(27);a=a(219);ba(b,d.ze);oa.Object.defineProperties(b.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host+"/api";}},gra:{configurable:!0,enumerable:!0,get:function(){return this.host+"/nq"+(this.aca.NW?"/msl_v1":"");}},host:{configurable:!0,enumerable:!0,get:function(){var a;switch(this.config.UI){case h.Lt.oRa:a="www.stage";break;case h.Lt.$ia:a="www-qa.test";break;case h.Lt.Dfa:a="www-int.test";break;default:a="www";}return"https://"+a+".netflix.com";}},Zna:{configurable:!0,enumerable:!0,get:function(){return"pbo_events";}}});m=b;g.__decorate([p.config(p.string,"apiEndpoint")],m.prototype,"endpoint",null);g.__decorate([p.config(p.string,"nqEndpoint")],m.prototype,"gra",null);g.__decorate([p.config(p.string,"bindService")],m.prototype,"Zna",null);m=g.__decorate([f.N(),g.__param(0,f.l(k.cj)),g.__param(1,f.l(h.zm)),g.__param(2,f.l(a.gO)),g.__param(3,f.l(k.BA)),g.__param(3,f.optional())],m);c.fFa=m;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(518);f=a(85);g=a(1);c.z1=new g.ac(function(a){a(f.Dt).to(b.fFa).Z();});},function(g,c,a){var b,f,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(2);f=[b.I.RKa,b.I.pfa,b.I.nfa,b.I.ofa,b.I.ufa,b.I.jfa,b.I.hfa,b.I.KY,b.I.vfa,b.I.kfa,b.I.cfa,b.I.ffa,b.I.ifa,b.I.Pt,b.I.dfa,b.I.gfa,b.I.rfa,b.I.sfa,b.I.tfa,b.I.SKa,b.I.UKa,b.I.YKa,b.I.WKa,b.I.VKa,b.I.TKa,b.I.XKa,b.I.qfa,b.I.mfa,b.I.lfa,b.I.efa];(function(a){a.LNa=function(a){var c;for(var d={},f=0;f<a.length;f++){c=a[f];if(d[c.errorCode])return{errorCode:c.errorCode,Y:b.u.OEa};d[c.errorCode]=1;}};a.MNa=function(a){var c;for(var d=0;d<a.length;d++){c=a[d];if(-1===f.indexOf(c.errorCode))return{errorCode:c.errorCode,Y:b.u.PEa};}};}(h||(h={})));c.Bmb=function(a){return new Promise(function(b,c){var d;d=h.MNa(a);d&&c(d);(d=h.LNa(a))&&c(d);b(a.sort(function(a,b){return f.indexOf(a.errorCode)-f.indexOf(b.errorCode);}));});};},function(g,c,a){var f,h,p,d,k,m,t,u,y,A,K,x,l;function b(a,b,d,f,c,g){var k;k=this;this.ki=a;this.config=d;this.zj=f;this.debug=c;this.ya=g;this.jDa=[];this.Cc={};this.log=b.lb("loadAsync");this.Tgb=K.WJa(function(a){k.Znb=!0;k.startTime=k.ya.Xb().ea(y.ma);k.load(k.jDa).then(function(){k.endTime=k.ya.Xb().ea(y.ma);a(l.yc);})["catch"](function(b){k.endTime=k.ya.Xb().ea(y.ma);a(b);});});}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(114);h=a(2);p=a(520);d=a(61);k=a(1);m=a(7);t=a(17);u=a(62);y=a(3);A=a(86);K=a(256);x=a(23);l=a(9);b.prototype.dK=function(a){this.Tgb(a);};b.prototype.register=function(a,b){this.debug.assert(!this.Znb);this.jDa.push({egb:this.P0a(b),errorCode:a});};b.prototype.Pc=function(a){this.debug.assert(void 0===this.Cc[a]);this.Cc[a]=this.ya.Xb().ea(y.ma);};b.prototype.load=function(a){var b;b=this;return p.Bmb(a).then(function(a){b.ki.mark(d.Zc.si.UEa);return a.reduce(function(a,d){return a.then(function(){return b.agb(d);});},Promise.resolve()).then(function(){b.ki.mark(d.Zc.si.SEa);});});};b.prototype.agb=function(a){var b,f;b=this;f=a.egb;return this.zj.nl(y.Db(this.config().c_a),f())["catch"](function(f){b.log.error("Failed to load component "+a.errorCode,f);b.ki.mark(d.Zc.si.TEa);if(f instanceof u.Fm)throw{Y:h.u.REa,errorCode:a.errorCode};f.errorCode=f.errorCode||a.errorCode;f.Y=f.Y||h.u.QEa;throw f;});};b.prototype.P0a=function(a){return function(){return new Promise(function(b,d){a(function(a){a.W?b():d(a);});});};};a=b;a=g.__decorate([k.N(),g.__param(0,k.l(f.qx)),g.__param(1,k.l(m.ob)),g.__param(2,k.l(t.ld)),g.__param(3,k.l(u.hx)),g.__param(4,k.l(A.Gt)),g.__param(5,k.l(x.Pe))],a);c.zFa=a;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(521);f=a(20);c.d_a=new g.ac(function(a){a(f.He).to(b.zFa).Z();});},function(g,c,a){var f;function b(){}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.ztb=function(a){return{wD:a.initialSegment,xd:this.Dtb(a.segments)};};b.prototype.Dtb=function(a){var b;b=this;return Object.keys(a).reduce(function(d,f){d[f]=b.Atb(a[f]);return d;},{});};b.prototype.Atb=function(a){var b;b={};b=a.next&&this.Ctb(a.next)||a.defaultNext&&(b[a.defaultNext]={},b)||void 0;return{qc:a.viewableId,om:a.startTimeMs,UC:a.endTimeMs,CC:a.defaultNext,next:b};};b.prototype.Ctb=function(a){var b;b=this;return Object.keys(a).reduce(function(d,f){d[f]=b.Btb(a[f]);return d;},{});};b.prototype.Btb=function(a){return{weight:a.weight,f7a:a.earliestSkipRequestOffset};};f=b;f=g.__decorate([a.N()],f);c.TPa=f;},function(g,c,a){var f,h,p,d;function b(a){return h.ze.call(this,a,"PlaygraphConfigImpl")||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(36);p=a(27);a=a(34);ba(b,h.ze);oa.Object.defineProperties(b.prototype,{zza:{configurable:!0,enumerable:!0,get:function(){return 2;}},tca:{configurable:!0,enumerable:!0,get:function(){return!1;}}});d=b;g.__decorate([a.config(a.Ew,"prepareSegmentsUpfront")],d.prototype,"zza",null);g.__decorate([a.config(a.$d,"usePlaygraphForPostPlay")],d.prototype,"tca",null);d=g.__decorate([f.N(),g.__param(0,f.l(p.cj))],d);c.OPa=d;},function(g,c,a){var f,h;function b(){}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(262);b.prototype.D4a=function(a){var c,g;for(var b=[],f=0;f<arguments.length;++f)b[f-0]=arguments[f];c=this;if(0===b.length)throw Error("Empty playgraph");return{wD:this.i5(b[0]),xd:b.reduce(function(a,b){var d;d=c.i5(b);a[d]={qc:b,om:0};g&&(a[g].CC=d);g=d;return a;},{})};};b.prototype.i5=function(a,b){return a+":["+(void 0===b?0:b)+"..-1]";};b.prototype.EZa=function(a,b){var d,f,c;d=void 0===d?this.i5(b.M,b.U):d;f=this.Qoa(a);f.xd[d]={qc:b.M,om:b.U||0,mrb:b.dm,xtb:h.bia.aha};b=this.Uab(a);c={};f.xd[b].next=Object.assign({},a.xd[b].next||{},(c[d]={},c));f.xd[b].CC=d;return f;};b.prototype.pub=function(a,b,f){a=this.Qoa(a);a.xd[b].mrb=f;return a;};b.prototype.Qoa=function(a){return JSON.parse(JSON.stringify(a));};b.prototype.Uab=function(a){for(var b=a.wD,f=b;f=a.xd[f].CC;)b=f;return b;};a=b;a=g.__decorate([f.N()],a);c.PPa=a;},function(g,c,a){var f,h;function b(){}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);b.prototype.create=function(b,d,f,c,g){return new(a(258)).uSa(b,d,f,c,g);};h=b;h=g.__decorate([f.N()],h);c.UPa=h;},function(g,c){function a(a){this.jP={};this.Po=a;this.wh=a.wD;}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.GL=function(a){var g;for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];g=this;b.filter(function(a){return g.GE(a.kk);}).filter(function(a){a=a.BU;return!a||g.GE(a);}).forEach(function(a){g.jP[a.kk]=g.cya(a.BU);});};a.prototype.Ina=function(a){var b;b=this;a.filter(function(a){return b.GE(a);}).forEach(function(a){b.jP[a]=b.cya(b.Cy(a).CC);});};a.prototype.Qn=function(a,f){var b,c;b=this;c=this.Cy(a);c&&c.next&&Object.keys(f).filter(function(a){return b.GE(a,c.next);}).forEach(function(a){return c.next[a].weight=f[a];});};a.prototype.GE=function(a,f){f=void 0===f?this.Po.xd:f;return a in f;};a.prototype.DS=function(a){return this.jP[a];};a.prototype.Cy=function(a){return this.Po.xd[a];};a.prototype.cya=function(a){return null===a?void 0:a;};oa.Object.defineProperties(a.prototype,{Po:{configurable:!0,enumerable:!0,get:function(){return this.JWa;},set:function(a){if(this.wh&&!this.GE(this.wh,a.xd))throw Error("Provided playgraphMap does not contain the current segmentId "+this.wh);this.JWa=a;this.jP={};a=Object.keys(a.xd);this.Ina(a);}},wh:{configurable:!0,enumerable:!0,get:function(){return this.MTa;},set:function(a){if(!this.GE(a))throw Error("Provided currentSegmentId "+a+" does not exist in the current playgraph");this.MTa=a;}},fa:{configurable:!0,enumerable:!0,get:function(){return this.Cy(this.wh);}}});c.QPa=a;},function(g,c,a){var f;function b(a){this.vd=a;this.Qq={};this.sya();}Object.defineProperty(c,"__esModule",{value:!0});f=a(261);b.prototype.sya=function(){var a,b;a=this;b=this.vd.Po.xd;Object.keys(b).map(function(d){d=b[d].qc;a.Qq[d]=a.Qq[d]||{state:f.vp.Rga};});this.GW();};b.prototype.Uta=function(a){return this.Qq[a];};b.prototype.rqb=function(a){this.Qq[a].state=f.vp.Gea;this.GW();};b.prototype.qqb=function(a,b){a=this.Qq[a];a.state=f.vp.Error;a.error=b;this.GW();};b.prototype.mqb=function(a,b){a=this.Qq[a];a.state=f.vp.cea;a.OZa={ba:b,id:"m"+b};this.GW();};b.prototype.cZa=function(a,b){this.Qq[a].cb=b;};b.prototype.GW=function(){var b;this.Qxa=void 0;for(var a=this.vd.wh;a=this.vd.DS(a);){b=this.Acb(a);if(this.Qq[b].state===f.vp.Error)break;if(this.Qq[b].state===f.vp.Gea)break;if(this.Qq[b].state===f.vp.Rga){this.Qxa={qc:b,kk:a};break;}}};b.prototype.Acb=function(a){return this.vd.Po.xd[a].qc;};c.VPa=b;},function(g,c,a){var f,h,p,d,k,m,t,u;function b(a,b,d,f,c,g,k,h,u,q,p,l,n){b=void 0===b?{}:b;this.ya=f;this.bV=q;this.SK=p;this.lA=l;this.he=n;this.s$=Promise.resolve();this.Pra=!1;this.vd=new t.QPa(a);this.Hw=new m.VPa(this.vd);this.Ib=h.create();this.log=c.lb("PlaygraphManager");this.Eq=k.y4a(u);a=this.ya.Xb();this.mEa=g.create(this.vd.fa.qc,Object.assign({startPts:b.playbackState&&b.playbackState.currentTime||this.vd.fa.om,uiPlayStartTime:Date.now()},b,{endPts:this.vd.fa.UC,isPlaygraph:!0}),d,a,this);this.Sqb();}Object.defineProperty(c,"__esModule",{value:!0});f=a(49);h=a(15);p=a(262);d=a(3);k=a(261);m=a(528);t=a(527);u=a(2);b.prototype.Q$a=function(){return this.vd.wh;};b.prototype.R5=function(){return this.vd.Po;};b.prototype.GL=function(a){for(var b=[],d=0;d<arguments.length;++d)b[d-0]=arguments[d];this.vd.GL.apply(this.vd,[].concat(da(b)));};b.prototype.C1a=function(a){for(var b=[],d=0;d<arguments.length;++d)b[d-0]=arguments[d];this.vd.Ina(b);};b.prototype.mub=function(a){this.Waa(a);this.VK();};b.prototype.Qn=function(a,b){this.vd.Qn(a,b);};b.prototype.Wta=function(a,b){var f,c,g;if(a!==this.vd.wh)throw Error("Invalid currentSegmentId");if(b!==this.vd.DS(a))throw Error("Invalid nextSegmentId");f=this.Hw.Uta(this.vd.Cy(b).qc);if(f.state!==k.vp.cea)return a=f.state===k.vp.Error?f.error:this.he(u.I.sOa,{Qa:b}),this.Wk().j.Ecb(a),Promise.reject();c=this.Wk().j;g=c.nb;if(!g)throw this.log.debug("No streaming session. Aborting transition"),Error("No streaming session");f=f.OZa;this.log.debug("going to next segment: "+a+" -> "+b+" ("+f.id+" in ASE)");c.Yl(f.ba).um=this.ya.Xb().ea(d.ma);if(g.Isa(f.id))return this.log.debug("Segment is already pre-buffered - triggering a transition"),this.Fcb(b,f);a=this.R5().xd[b].om;this.log.debug("Segment is not pre-buffered - performing a regular seek");return Promise.resolve(this.Wk().seek(a,h.ng.kx,f.ba,!0));};b.prototype.addListener=function(a,b,d){this.Ib.addListener(a,b,d);};b.prototype.removeListener=function(a,b){this.Ib.removeListener(a,b);};b.prototype.FS=function(){return this.Eq.FS();};b.prototype.Wk=function(){return this.Eq.Wk();};b.prototype.q1=function(a){var b,d;b=this;if(this.SK.tca&&this.Pra){this.log.info("Adding segment - movieId: "+a.M+", startPts: "+a.U+", logicalEnd: "+(""+a.dm));if(Object.keys(this.vd.Po.xd).find(function(d){return b.vd.Po.xd[d].qc===a.M;})){if(a.dm){d=this.bV.pub(this.vd.Po,this.vd.wh,a.dm);this.Waa(d);}return null;}d=this.bV.EZa(this.vd.Po,a);this.Waa(d);this.Hw.cZa(a.M,a.cb);return this.VK();}this.log.info("Adding segment to SegmentManager - movieId: "+a.M+", startPts: "+a.U+", "+("logicalEnd: "+a.dm));d=this.Eq.q1(a);this.Pra=!0;this.s$=this.Wk().j.Eb.when(function(a){return a!==h.hb.Tf;}).then(function(){});return d;};b.prototype.transition=function(a){if(this.SK.tca){a=this.vd.DS(this.vd.wh);this.log.info("Transition initiated: "+this.vd.wh+" -> "+a);if(a)return this.Wta(this.vd.wh,a);this.log.error("Next segment is not defined");return Promise.reject();}return this.Eq.transition(a);};b.prototype.close=function(a){return this.Eq.close(a);};b.prototype.Waa=function(a){this.vd.Po=a;this.Hw.sya();};b.prototype.Sqb=function(){var a;a=this;this.Eq.addListener(h.qb.loaded,function(){return a.VK();});this.addListener(h.sG.zL,function(){return a.ikb();});this.Eq.addListener(h.sG.zL,function(){return a.Ib.Jb(h.sG.zL);});Object.keys(h.qb).forEach(function(b){var d;d=h.qb[b];a.Eq.addListener(d,function(b){return a.Ib.Jb(d,b);});});};b.prototype.Fcb=function(a,b){var d,f,c,g,k;d=this;f=this.Wk().j;c=f.nb;if(!c)throw Error("No streaming session");g=new Promise(function(a){function b(){d.log.debug("Stopped ASE");c.removeEventListener("stop",b);a();}c.addEventListener("stop",b);});k=new Promise(function(a){function b(){d.log.debug("Repositioned");f.removeEventListener(h.S.Fn,b);a();}function g(){d.log.debug("Repositioning");f.removeEventListener(h.S.Kz,g);c.stop();}f.addEventListener(h.S.Kz,g);f.addEventListener(h.S.Fn,b);});g=Promise.all([g,k]).then(function(){c.Ru(b.id,!1,!0);f.fireEvent(h.S.AU,{wh:d.vd.wh,BU:a});});k=c.X2(b.ba,this.R5().xd[a].om);this.log.debug("Calling seek on internal player to "+k);this.Wk().seek(k,h.ng.bB,b.ba,!0);return g;};b.prototype.ikb=function(){var a;a=this.Wk().getError();a?this.Ib.Jb(h.qb.j2,a):(this.Ib.Jb(h.qb.Ona),this.Ib.Jb(h.qb.OH),this.Ib.Jb(h.qb.hA),this.Ib.Jb(h.qb.eF),this.Ib.Jb(h.qb.rM),this.Ib.Jb(h.qb.j2));};b.prototype.VK=function(){var a,b;if(!this.FS())return Promise.resolve(!1);a=this.Hw.Qxa;if(a){b=this.bab(this.vd.wh,a.kk);if(0<b&&b<this.SK.zza)return this.tmb(a);}else this.b9a();return Promise.resolve(!1);};b.prototype.tmb=function(a){var c,g,k,m,t,u,q,y;function b(a){var d;d=void 0===a.metrics;c.lA.Jza(a,c.Wk().j,d);m.removeEventListener(h.S.yL,b);}function d(a){a.index===t&&(c.vd.wh=g,c.VK(),m.removeEventListener(h.S.bl,d),c.Ib.Jb(h.sG.zL));}c=this;g=a.kk;k=this.vd.Cy(g);m=this.Wk().j;a=Object.assign(this.Hw.Uta(a.qc).cb||{},{U:k.om,ha:k.UC,cg:!1,EW:Date.now(),xT:!0});t=m.Yma(k.qc,a);a=m.Yl(t);this.log.debug("Creating new playback xid: "+a.oa+", movieId: "+a.M+", manifestIndex: "+a.ba);m.addEventListener(h.S.bl,d);m.addEventListener(h.S.yL,b);u=k.xtb!==p.bia.aha;if(!u){q=function(){var a;a=c.Wk();2E3>=a.u5()-(a.v5()||0)&&m.Ag&&(m.Ag.BK({mediaType:f.tc.Kh.VIDEO}),m.Ag.BK({mediaType:f.tc.Kh.AUDIO}),m.Eb.set(h.hb.ad));};m.addEventListener(h.S.ko,q);y=function(a){a.index===t&&(m.removeEventListener(h.S.ko,q),m.removeEventListener(h.S.bl,y));};m.addEventListener(h.S.bl,y);}this.Hw.rqb(k.qc);this.s$=a=this.s$.then(function(){return m.cnb(t,u);}).then(function(){c.Hw.mqb(k.qc,t);})["catch"](function(a){c.Hw.qqb(k.qc,a);throw a;});a.then(function(){return c.VK();});return a.then(function(){return!0;})["catch"](function(){return!1;});};b.prototype.b9a=function(){var a;a=this.Wk().j;a.nb&&a.nb.Cqb();};b.prototype.bab=function(a,b){for(var d=0;a!==b&&void 0!==a;)d++,a=this.vd.DS(a);return a?d:-1;};c.SPa=b;},function(g,c,a){var f,h,p,d,k,m,t,u,y,A,l,x,G,n;function b(b,d,f,c,g,k,h,m,t,u,q){this.ya=b;this.yf=d;this.Wlb=f;this.Dpb=g;this.w4=k;this.SK=h;this.bV=m;this.lA=u;this.he=q;d=a(33).$n;this.Bpb=c.mv(!1,"6.0019.057.011",b.id,d,t());}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(529);p=a(7);d=a(23);k=a(260);m=a(259);t=a(421);u=a(229);y=a(17);A=a(426);l=a(172);x=a(228);G=a(55);b.prototype.create=function(a,b,d){return new h.SPa(a,b,d,this.ya,this.yf,this.Wlb,this.Dpb,this.w4,this.Bpb,this.bV,this.SK,this.lA,this.he);};n=b;n=g.__decorate([f.N(),g.__param(0,f.l(d.Pe)),g.__param(1,f.l(p.ob)),g.__param(2,f.l(k.cia)),g.__param(3,f.l(t.Kia)),g.__param(4,f.l(u.NZ)),g.__param(5,f.l(A.oN)),g.__param(6,f.l(m.$ha)),g.__param(7,f.l(l.DZ)),g.__param(8,f.l(y.ld)),g.__param(9,f.l(x.YZ)),g.__param(10,f.l(G.vk))],n);c.RPa=n;},function(g,c,a){var b,f,h,p,d,k,m,t,u,y;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(263);f=a(530);h=a(260);p=a(526);d=a(172);k=a(525);m=a(524);t=a(259);u=a(257);y=a(523);c.Oi=new g.ac(function(a){a(b.EZ).to(f.RPa).Z();a(h.cia).to(p.UPa).Z();a(d.DZ).to(k.PPa).Z();a(t.$ha).to(m.OPa).Z();a(u.aia).to(y.TPa).Z();});},function(g,c,a){var f,h,p,d,k,m,t,u,y,A;function b(a,b,f,c,g){f=u.WM.call(this,f,c,g)||this;f.config=a;f.Kc=b;f.log=h.bg(f.j,"LegacyLicenseBroker");f.Td=f.config().Td;f.config().C$?d.qva()?f.MW=!0:f.log.error("Promise based eme requested but platform does not support it",{browserua:k.Oj}):f.MW=!1;return f;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(2);h=a(4);p=a(113);d=a(28);k=a(8);m=a(1);t=a(184);u=a(264);y=a(77);ba(b,u.WM);b.prototype.upa=function(a){var b;b=void 0===b?this.j:b;return new this.MK.It(a,function(a){return b.cn.rJ(a);},function(a){return b.cn.release(a);},{Vg:!1,SJ:!1});};b.prototype.pI=function(b,d){var c,g,k,m,t,u;d=void 0===d?this.j:d;c=this;m=a(26).Yf;this.MK.It||this.sd(f.I.Xw,f.u.eJa);k=h.bg(d,"Eme");g=this.upa(k);t=h.V.get(p.cB);u=t.nI(d.Nc.value.oc);t=t.tI(d.Ef.value.oc);return this.MK.Kt(k,b,function(a){return d.Pc(a);},{Vg:!1,SJ:!1,sva:this.config().ji,tBa:{kxa:this.config().sBa,Foa:this.config().waa},Sa:{getTime:m},pL:g,Lza:this.MW,La:this.xb.La,mF:this.config().mF,tA:this.config().j4,onerror:function(a,b,d){return c.sd(a,b,d);},B9:function(a){return c.PS(a);},Klb:!0,dT:this.config().dT,Mna:u,lEa:t,uD:this.config().uD});};b.prototype.Xz=function(a){var b;b=this;return this.MW?new Promise(function(d,c){if(b.xb.La)b.xb.La.setMediaKeys(a).then(function(){d();})["catch"](function(a){var d;d=b.Sta(a);c({W:!1,code:f.I.qZ,Jc:d.Y,wg:d.Hc,Qa:d.Qa,message:"Set media keys is a failure",cause:a});});else return Promise.resolve();}):Promise.resolve();};b.prototype.lra=function(a){return{code:a.code,subCode:a.Jc,extCode:a.wg,edgeCode:a.ky,message:a.message,errorDetails:a.Qa,errorData:a.Bs,state:a.state};};b.prototype.Uaa=function(a,b,d){var c,g;function f(){g.AAa()["catch"](function(a){c.log.error("Unable to set the license",c.lra(a));a.cause&&a.cause.Qa&&(a.Qa=a.Qa?a.Qa+a.cause.Qa:a.cause.Qa);c.sd(a.code,a,a.wg);});}d=void 0===d?this.j:d;c=this;g=d.jf;this.log.info("Setting the license");d=b?function(){return Promise.resolve();}:function(){return g.Mf(c.K5(),a);};return(b?function(){return g.vEb(c.xb.La);}:function(){return g.create(c.Td).then(function(){return Promise.resolve();});})().then(function(){return c.config().TBa?c.Xz(g.fk):Promise.resolve();}).then(d).then(function(){return c.config().TBa?Promise.resolve():c.Xz(g.fk);}).then(function(){c.log.info("license set");c.L4();c.xb.uEa.then(function(){c.config().Kv&&(b||c.config().hJ)&&(c.BAa=J.setTimeout(f,c.config().Kv));});})["catch"](function(a){c.log.error("Unable to set the license",c.lra(a));a.cause&&a.cause.Qa&&(a.Qa=a.Qa?a.Qa+a.cause.Qa:a.cause.Qa);if(b)throw Error(a&&a.message?a.message:"failed to set license");c.sd(a.code,a,a.wg);});};b.prototype.Wya=function(){return Promise.resolve();};b.prototype.G9=function(a){var c;function b(){var b;c.j.jf=c.pI(a.initDataType);b=[];c.j.Uo.forEach(function(a){b.push(h.Mk(a));});c.Uaa(b);}c=this;this.log.trace("Received event: "+a.type);this.$J||(this.$J=!0,this.MK.Kt?this.j.Uo?d.t7(this.config())&&this.config().En&&this.Kc()?this.Kc().Esa(this.j.M).then(function(a){c.j.jf=a;return a.dLb.then(function(){var b;b=[];c.j.Uo.forEach(function(a){b.push(h.Mk(a));});return c.Uaa(b,!0).then(function(){var b;if(a.kFb)c.sd(f.I.hJa);else{b=h.bg(c.j,"Eme");a.TKb({log:b,XIb:function(a){return c.j.Pc(a);}},{pL:c.upa(b),onerror:function(a,b,d){return c.sd(a,b,d);}});(b=a.mJb)&&c.PS(b);c.j.zv(a.Cc||{});c.j.$x="videopreparer";}});});})["catch"](function(a){c.log.warn("eme not in cache",a);b();}):b():(this.log.error("Missing the PSSH on the video track, closing the player"),this.sd(f.I.BOa)):this.sd(f.I.Xw,f.u.fJa));};b.prototype.GAa=function(a){var b;a=void 0===a?this.j:a;a.jf=this.pI("cenc");b=[];a.Uo.forEach(function(a){b.push(h.Mk(a));});return this.Uaa(b,!1,a);};b.prototype.K5=function(){return this.config().hJ?y.Zi.Tt:y.Zi.Dm;};oa.Object.defineProperties(b.prototype,{MK:{configurable:!0,enumerable:!0,get:function(){return a(33).Jg;}},jz:{configurable:!0,enumerable:!0,get:function(){return this.MW?"encrypted":this.xb.QX+"needkey";}}});A=b;g.__decorate([t.JT],A.prototype,"MK",null);g.__decorate([t.JT],A.prototype,"jz",null);A=g.__decorate([m.N()],A);c.KLa=A;},function(g,c,a){var f,h,p,d,k,m,t,u,y,A,l;function b(a,b,d,f,c,g,k,m){f=y.WM.call(this,f,c,g)||this;f.Td=a;f.config=b;f.Kc=d;f.OC=k;f.U8=m;f.log=h.bg(f.j,"LicenseBroker");f.$J=new Set();f.gxa=!1;return f;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(2);h=a(4);p=a(28);d=a(9);k=a(439);m=a(3);t=a(1);u=a(184);y=a(264);A=a(77);l=a(15);ba(b,y.WM);b.prototype.G9=function(){var a,b;a=this;b=this.j.fa;this.$J.has(b.M)||(this.$J.add(b.M),(p.t7(this.config)&&this.config.En&&this.Kc()?this.Wab():Promise.reject())["catch"](function(){return a.HAa(b);}).then(function(){return a.yna(b);})["catch"](function(d){return a.xna(b,d);})["catch"](function(b){return a.sd(b.code,b,b.wg,a.j);}));};b.prototype.Wab=function(){var a,b;a=this;b=this.j.fa;return this.Kc().Esa(b.M).then(function(d){a.Eza(d,b);b.$x="videopreparer";a.U8.Xz(d.fk);return d.F1().nM();})["catch"](function(b){a.log.warn("eme not in cache",b);throw b;});};b.prototype.I9a=function(a){var b;b={};a.forEach(function(a){b[k.S6a(a.gib)]=a.time.ea(m.ma);});return b;};b.prototype.Ocb=function(a,b){this.log.trace("Key status",{viewable:a.M,keyId:h.as(b.Gv),status:b.value});};b.prototype.Eza=function(a,b){var f,c,g;f=this;b.jf=a;c={next:function(a){f.Ocb(b,a);},error:d.ne,complete:d.ne};g={next:function(a){f.sd(a.code,a,a.wg,f.j);},error:d.ne,complete:d.ne};a.gfb().subscribe(c);(a=a.YI())&&a.subscribe(g);};b.prototype.yna=function(a){var b;this.log.info("Successfully applied license for xid: "+a.oa+", viewable: "+a.M+", manifestIndex: "+a.ba);b=a.jf;b&&b.T7&&this.PS(b.T7);this.zv(a);this.Xz();};b.prototype.xna=function(a,b){this.zv(a);throw b;};b.prototype.zv=function(a){a.jf&&a.zv(this.I9a(a.jf.Cc));};b.prototype.HAa=function(a){var b,f;b=this;f={next:function(d){b.$J.add(a.M);b.PS(d);},error:d.ne,complete:d.ne};return this.OC().then(function(d){var c;c={type:b.K5(),gT:h.Mk(a.Uo[0]),context:{Td:b.Td,La:b.xb.La},Cg:{M:a.M,oa:a.oa,Of:a.Of,Yj:a.Yj,profileId:a.profile.id,xf:a.Ja.xf}};d.bK().subscribe(f);return d.Mf(c,b.U8).Es(function(d){b.Eza(d,a);b.j.fireEvent(l.S.cK,{ba:a.ba});return d.F1();}).nM();});};b.prototype.Xz=function(){var a;a=this;if(this.gxa)this.log.trace("Media Keys already set");else{this.gxa=!0;try{this.xb.La?this.xb.La.setMediaKeys(this.j.jf.fk).then(function(){a.L4();})["catch"](function(b){b=a.Sta(b);a.sd(f.I.qZ,b,b.Hc,a.j);}):this.L4();}catch(G){this.sd(f.I.qZ,G,void 0,this.j);}}};b.prototype.Wya=function(){var a,b;a=this;b=this.j.fa.jf;return b?this.OC().then(function(d){return new Promise(function(f){d.Prb(b,a.U8).Es(function(a){return a.HZa();}).Es(function(b){a.log.trace("Fulfilled the last secure stop");a.config.ji&&a.j.jq.QV({success:!0,persisted:!1});return b.close();}).subscribe({error:function(b){a.log.error("Unable to get/add secure stop data",b);a.config.ji&&a.j.jq.QV({success:b.W,ErrorCode:b.code,ErrorSubCode:b.Jc,ErrorExternalCode:b.wg,ErrorEdgeCode:b.ky,ErrorDetails:b.EC});f();},complete:function(){f();}});});}):Promise.resolve();};b.prototype.GAa=function(a){var b;a=void 0===a?this.j:a;b=this;return this.HAa(a).then(function(){return b.yna(a);})["catch"](function(d){return b.xna(a,d);});};b.prototype.K5=function(){return this.config.hJ?A.Zi.Tt:A.Zi.Dm;};oa.Object.defineProperties(b.prototype,{jz:{configurable:!0,enumerable:!0,get:function(){return"encrypted";}}});a=b;g.__decorate([u.JT],a.prototype,"jz",null);a=g.__decorate([t.N()],a);c.MLa=a;},function(g,c,a){var f,h,p,d,k,m,t,u,y;function b(a,b,d,f,c,g){this.OC=a;this.Qg=b;this.he=d;this.config=f;this.dU=c;this.Kc=g;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(119);p=a(533);d=a(532);k=a(64);m=a(55);t=a(17);u=a(135);a=a(107);b.prototype.create=function(a,b,f){return a?new p.MLa(this.config().Td,this.Qg,this.Kc,this.he,b,f,this.OC,this.dU()):new d.KLa(this.config,this.Kc,this.he,b,f);};y=b;y=g.__decorate([f.N(),g.__param(0,f.l(h.lN)),g.__param(1,f.l(k.Wn)),g.__param(2,f.l(m.vk)),g.__param(3,f.l(t.ld)),g.__param(4,f.l(u.eG)),g.__param(5,f.l(a.fB))],y);c.LLa=y;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(278);f=a(534);c.qj=new g.ac(function(a){a(b.Qfa).to(f.LLa);});},function(g,c,a){var f,h,p,d;function b(a){return h.ze.call(this,a,"TransportConfigImpl")||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(36);p=a(27);a=a(34);ba(b,h.ze);oa.Object.defineProperties(b.prototype,{NW:{configurable:!0,enumerable:!0,get:function(){return!0;}}});d=b;g.__decorate([a.config(a.$d,"usesMsl")],d.prototype,"NW",null);d=g.__decorate([f.N(),g.__param(0,f.l(p.cj))],d);c.$Ra=d;},function(g,c,a){var f,h,p,d,k;function b(a,b,d){this.receiver=b;this.Jd=d;this.log=a.lb("SslTransport");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(3);p=a(7);d=a(142);a=a(82);b.prototype.send=function(a,b){var d,f;d=this;f={url:a.url.href,GC:"nq-"+a.Qk,m$:JSON.stringify(b),SQ:a.timeout.ea(h.ma),headers:a.headers,withCredentials:!0};return new Promise(function(a,b){d.Jd.download(f,function(d){d.W?a(d):b(d);});}).then(function(f){f={status:"success",body:f.content};d.receiver.tE({command:a.Qk,inputs:b,outputs:f});return f;})["catch"](function(f){var c;if(!f.error)throw f.Jc=f.Y||f.Jc,d.receiver.tE({command:a.Qk,inputs:b,outputs:f}),f;c=f.error;c.Cj=f.Cj;d.log.error("Error sending SSL request",{subCode:c.Jc,data:c.content,message:c.message});d.receiver.tE({command:a.Qk,inputs:b,outputs:c});throw c;});};b.prototype.V2=function(){return{};};k=b;k=g.__decorate([f.N(),g.__param(0,f.l(p.ob)),g.__param(1,f.l(d.VN)),g.__param(2,f.l(a.Ut))],k);c.nRa=k;},function(g,c,a){var f,h,p,d,k,m;function b(a,b,d){this.Yg=b;this.receiver=d;this.log=a.lb("MslTransport");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(7);p=a(111);d=a(3);a=a(142);k={license:!0};b.prototype.send=function(a,b){var f,c;f=this;c={An:Object.assign({Jd:a.Jd,log:a.log,profile:a.profile},a.U_a),method:a.Qk,url:a.url.href,body:JSON.stringify(b),timeout:a.timeout.ea(d.ma),zM:a.profile.id,sob:!k[a.Qk],w9:!!k[a.Qk],Sl:!0,nw:a.jaa,headers:a.headers};return this.Yg.send(c).then(function(d){f.receiver.tE({command:a.Qk,inputs:b,outputs:d});return d;})["catch"](function(d){var c;if(!d.error)throw d.Jc=d.Y||d.Jc,f.receiver.tE({command:a.Qk,inputs:b,outputs:d}),d;c=d.error;c.Cj=d.Cj;f.log.error("Error sending MSL request",{mslCode:c.qq,subCode:c.Jc,data:c.data,message:c.message});f.receiver.tE({command:a.Qk,inputs:b,outputs:c});throw c;});};b.prototype.V2=function(){return{userTokens:this.Yg.Yg.getUserIdTokenKeys()};};m=b;m=g.__decorate([f.N(),g.__param(0,f.l(h.ob)),g.__param(1,f.l(p.RA)),g.__param(2,f.l(a.VN))],m);c.wNa=m;},function(g,c,a){var b,f,h,p,d;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(219);f=a(294);h=a(538);p=a(537);d=a(536);c.Ftb=new g.ac(function(a){a(b.gO).to(d.$Ra).Z();a(f.Iga).to(h.wNa);a(f.Mia).to(p.nRa);a(f.fja).Sf(function(a){return function(){return a.ec.get(b.gO).NW?a.ec.get(f.Iga):a.ec.get(f.Mia);};});});},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.mPa="PboPingCommandSymbol";},function(g,c,a){var f,h,p,d,k;function b(a){return d.Fh.call(this,a,h.I.qOa,1,p.Oh.ping,p.og.dr,p.Oh.ping)||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);p=a(38);d=a(73);a=a(43);ba(b,d.Fh);b.prototype.Ye=function(a,b,d,f){var c;c=this;return this.send(a,b,"/"+this.name,d,void 0,void 0,f).then(function(a){return a.result;})["catch"](function(a){throw c.pn(a);});};b.prototype.nn=function(){return Promise.reject(Error("Links are unsupported with ping"));};k=b;k=g.__decorate([f.N(),g.__param(0,f.l(a.uk))],k);c.lPa=k;},function(g,c,a){var f,h,p,d,k;function b(a){return d.Fh.call(this,a,h.I.GFa,2,p.Oh.bind,p.og.dr,p.Oh.bind)||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);p=a(38);d=a(73);a=a(43);ba(b,d.Fh);b.prototype.Ye=function(a,b,d,f){var c;c=this;return this.send(a,b,"/bindDevice",d,void 0,void 0,f).then(function(a){return a.result;})["catch"](function(a){throw c.pn(a);});};b.prototype.nn=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};k=b;k=g.__decorate([f.N(),g.__param(0,f.l(a.uk))],k);c.ZOa=k;},function(g,c,a){var f,h,p,d,k;function b(a){return d.Fh.call(this,a,h.I.YNa,2,p.Oh.Jya,p.og.dr,p.Oh.Jya)||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);p=a(38);d=a(73);a=a(43);ba(b,d.Fh);b.prototype.Ye=function(a,b,d,f){var c;c=this;return this.send(a,b,"/"+this.name,d,void 0,void 0,f).then(function(a){return a.result;})["catch"](function(a){throw c.pn(a);});};b.prototype.nn=function(){return Promise.reject(Error("Links are unsupported with pair"));};k=b;k=g.__decorate([f.N(),g.__param(0,f.l(a.uk))],k);c.kPa=k;},function(g,c,a){var f,h,p,d,k;function b(a){return d.Fh.call(this,a,h.I.FFa,2,p.Oh.bind,p.og.dr,p.Oh.bind)||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);p=a(38);d=a(73);a=a(43);ba(b,d.Fh);b.prototype.Ye=function(a,b,d,f){var c;c=this;return this.send(a,b,"/"+this.name,d,void 0,void 0,f).then(function(a){return a.result;})["catch"](function(a){throw c.pn(a);});};b.prototype.nn=function(){return Promise.reject(Error("Links are unsupported with bind"));};k=b;k=g.__decorate([f.N(),g.__param(0,f.l(a.uk))],k);c.YOa=k;},function(g,c,a){var f,h,p,d,k,m,t;function b(a,b,d,f,c,g,k){this.Kf=a;this.Jd=b;this.gl=d;this.x6a=f;this.yv=c;this.Hub=g;this.eR=k;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(85);p=a(91);d=a(295);k=a(116);m=a(82);t=a(430);a=a(70);b=g.__decorate([f.N(),g.__param(0,f.l(h.Dt)),g.__param(1,f.l(m.Ut)),g.__param(2,f.l(p.gx)),g.__param(3,f.l(d.xha)),g.__param(4,f.l(k.NA)),g.__param(5,f.l(t.jja)),g.__param(6,f.l(a.GF))],b);c.aPa=b;},function(g,c,a){var f,h,p,d,k,m;function b(a){return p.Sn.call(this,a,h.I.lJa,d.ul.TI,3,m.og.PA)||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);p=a(121);d=a(76);k=a(43);m=a(38);ba(b,p.Sn);b.prototype.zQ=function(a){return Object.assign(Object.assign({},p.Sn.prototype.zQ.call(this,a)),{action:a.action});};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(k.uk))],a);c.AJa=a;},function(g,c,a){var f,h,p,d,k,m;function b(a){return p.Sn.call(this,a,h.I.yia,d.ul.splice,1,m.og.PA)||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);p=a(121);d=a(76);k=a(43);m=a(38);ba(b,p.Sn);a=b;a=g.__decorate([f.N(),g.__param(0,f.l(k.uk))],a);c.mRa=a;},function(g,c,a){var f,h,p,d,k,m;function b(a){return p.Sn.call(this,a,h.I.QY,d.ul.WJ,1,m.og.PA)||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);p=a(121);d=a(76);k=a(43);m=a(38);ba(b,p.Sn);a=b;a=g.__decorate([f.N(),g.__param(0,f.l(k.uk))],a);c.DLa=a;},function(g,c,a){var f,h,p,d,k,m;function b(a){return p.Sn.call(this,a,h.I.Dia,d.ul.stop,3,m.og.ZY)||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);p=a(121);d=a(76);k=a(43);m=a(38);ba(b,p.Sn);a=b;a=g.__decorate([f.N(),g.__param(0,f.l(k.uk))],a);c.tRa=a;},function(g,c,a){var f,h,p,d,k,m;function b(a){return p.Sn.call(this,a,h.I.Aia,d.ul.start,3,m.og.dr)||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);p=a(121);d=a(76);k=a(43);m=a(38);ba(b,p.Sn);a=b;a=g.__decorate([f.N(),g.__param(0,f.l(k.uk))],a);c.pRa=a;},function(g,c,a){var f,h,p;function b(a,b){this.pc=a;this.Kl=b;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(22);a=a(41);b.prototype.rtb=function(a){var b,d;b=this;d=a.map(function(a){return a.links.releaseLicense.href;}).map(function(a){return b.pc.RU(a.substring(a.indexOf("?")+1));});return{W:!0,kc:a.map(function(a,b){return{id:a.sessionId,Jv:d[b].drmlicensecontextid,GD:d[b].licenseid};}),Lv:a.map(function(a){return{data:b.Kl.decode(a.licenseResponseBase64),sessionId:a.sessionId};})};};b.prototype.utb=function(a){return{W:!0,response:{data:a.reduce(function(a,b){var d;d=b.secureStopResponseBase64;(b=b.sessionId)&&d&&(a[b]=d);return a;},{})}};};p=b;p=g.__decorate([f.N(),g.__param(0,f.l(h.df)),g.__param(1,f.l(a.Jj))],p);c.gPa=p;},function(g,c,a){var f,h,p;function b(a){this.Sa=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(42);p=a(3);b.prototype.qtb=function(a){var b;b=this.Sa.Xe.ea(p.Em);return{inputs:a.Pp.map(function(d){return{sessionId:d.sessionId,clientTime:b,challengeBase64:d.dataBase64,xid:a.oa.toString(),mdxControllerEsn:a.mK};}),Xva:"standard"===a.zh.toLowerCase()?"license":"ldl"};};b.prototype.ttb=function(a){var b,d,f,c;b=this;d=a.upb||{};f=[];c=a.kc.map(function(c){var g;f.push(c.id);g=d[c.id];delete d[c.id];return{url:b.loa(c.Jv,c.GD),echo:"sessionId",params:{sessionId:c.id,secureStop:g,secureStopId:g?c.GD:void 0,xid:a.oa.toString()}};});Object.keys(d).forEach(function(f){c.push({url:b.loa(a.kc[0].Jv),echo:"sessionId",params:{sessionId:f,secureStop:d[f],secureStopId:void 0,xid:a.oa.toString()}});});return c;};b.prototype.loa=function(a,b){return"/releaseLicense?drmLicenseContextId="+a+(b?"&licenseId="+b:"");};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.Kj))],a);c.fPa=a;},function(g,c,a){var f,h,p,d,k;function b(a){return d.Fh.call(this,a,h.I.CQa,3,p.Oh.Mf,p.og.ZY,p.Oh.Mf)||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);p=a(38);d=a(73);a=a(43);ba(b,d.Fh);b.prototype.Ye=function(a,b,d){var f;f=this;return this.send(a,b,"/bundle",d).then(function(a){a=a.result;f.Goa(a);return a;})["catch"](function(a){throw f.pn(a);});};b.prototype.nn=function(){return Promise.reject(Error("Links are unsupported with release"));};k=b;k=g.__decorate([f.N(),g.__param(0,f.l(a.uk))],k);c.tPa=k;},function(g,c,a){var f,h,p,d,k;function b(a){return d.Fh.call(this,a,h.I.Xw,3,p.Oh.Mf,p.og.dr,p.Oh.Mf)||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);p=a(38);d=a(73);a=a(43);ba(b,d.Fh);b.prototype.Ye=function(){return Promise.reject(Error("Links are required with acquire command"));};b.prototype.nn=function(a,b,d,f){var c;c=this;d=d.L5(f.Xva).href;return this.send(a,b,d,f.inputs,"sessionId","license"===f.Xva?p.og.dr:p.og.PA).then(function(a){a=a.result;c.Goa(a);c.j1a(a);return a;})["catch"](function(a){throw c.pn(a);});};b.prototype.j1a=function(a){a.forEach(function(a){if(!a.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};k=b;k=g.__decorate([f.N(),g.__param(0,f.l(a.uk))],k);c.XOa=k;},function(g,c,a){var f,h,p,d,k,m,t,u,y,A,l,x,G,n,R;function b(a,b,d,f,c,g,k){a=y.Fh.call(this,a,h.I.MANIFEST,3,p.Oh.Ja,p.og.dr,p.Oh.Ja)||this;a.platform=b;a.config=d;a.eR=f;a.Y0a=c;a.Llb=g;a.yn=k;return a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);p=a(38);d=a(428);k=a(4);m=a(17);t=a(61);u=a(70);a(149);y=a(73);A=a(43);l=a(215);x=a(399);G=a(292);n=a(118);a=a(72);ba(b,y.Fh);b.prototype.Ye=function(a,b,d){var f;f=this;return this.$ab(d).then(function(c){return f.send(a,b,"/"+f.name,c,void 0,f.Jbb(d.fJ));}).then(function(a){return a.result;})["catch"](function(a){throw f.pn(a);});};b.prototype.nn=function(a,b,d,f){return this.Ye(a,b,f).then(function(a){d.gQ(a.links);a.xf=d;return a;});};b.prototype.$ab=function(a){var b,f,c,g,h,m,u,q,p;b=this;f=a.Ya;c=Object.assign({},f.PH,f.lm);g={};h=a.qc;g[h]={unletterboxed:!!c.preferUnletterboxed};m=this.config().Oub?30:25;u=k.hD();q=u.ecb().concat(u.dcb()).concat(this.config().xt).concat(["BIF240","BIF320"]).filter(Boolean);p=this.config().hp?this.yn.hab():Promise.resolve(d.uga.Wp());return Promise.all([u.mD(),u.uJ(),this.C$a(a.oa),p]).then(function(d){var k,u,p,y;k=P(d);d=k.next().value;u=k.next().value;p=k.next().value;k=k.next().value;y=u&&void 0!==u.SUPPORTS_SECURE_STOP?!!u.SUPPORTS_SECURE_STOP:void 0;u=u?u.DEVICE_SECURITY_LEVEL:void 0;d={type:"standard",viewableId:h,profiles:q,flavor:t.Zc.u2a(a.fJ),drmType:k,drmVersion:m,usePsshBox:!0,isBranching:!!a.Ya.cg,useHttpsStreams:!0,supportsUnequalizedDownloadables:b.config().Bsb,imageSubtitleHeight:l.TZ.V5(),uiVersion:b.context.gl.kF,uiPlatform:b.context.gl.DW,clientVersion:b.platform.version,supportsPreReleasePin:b.config().yh.usb,supportsWatermark:b.config().yh.wsb,showAllSubDubTracks:b.config().yh.grb||!!c.showAllSubDubTracks,packageId:b.sbb(f),deviceSupportsSecureStop:y,deviceSecurityLevel:u,videoOutputInfo:d,titleSpecificData:g,preferAssistiveAudio:!!c.assistiveAudioPreferred,preferredTextLocale:c.preferredTextLocale,preferredAudioLocale:c.preferredAudioLocale,isUIAutoPlay:!!c.isUIAutoPlay,challenge:p,isNonMember:b.context.gl.Oy,pin:f.a$,desiredVmaf:b.config().Lub?b.config().f6a:b.config().g6a};f.rra&&(d.extraParams=f.rra);return d;});};b.prototype.sbb=function(a){if(this.config().lV.enabled){if(void 0!==a.Bn)return a.Bn;if(void 0!==this.config().lV.Bn)return Number(this.config().lV.Bn);}};b.prototype.Jbb=function(a){switch(a){case t.ao.Dm:case t.ao.tIa:return p.og.dr;case t.ao.lia:case t.ao.Iia:return p.og.ZY;case t.ao.sha:return p.og.PA;}};b.prototype.C$a=function(a){var b;b=this;return this.Y0a.Hsa().then(function(d){var f;f=a&&b.Llb.wbb(a);f&&f.Il("cad");return d;});};R=b;R=g.__decorate([f.N(),g.__param(0,f.l(A.uk)),g.__param(1,f.l(a.pp)),g.__param(2,f.l(m.ld)),g.__param(3,f.l(u.GF)),g.__param(4,f.l(x.kda)),g.__param(5,f.l(G.AZ)),g.__param(6,f.l(n.cx))],R);c.jPa=R;},function(g,c,a){var f,h,p,d,k;function b(a){return d.Fh.call(this,a,h.I.ILa,1,p.Oh.nwa,p.og.PA,p.Oh.nwa)||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);p=a(38);d=a(73);a=a(43);ba(b,d.Fh);b.prototype.Ye=function(a,b,d){var f;f=this;return this.send(a,b,"/"+this.name,d).then(function(a){return a.result;})["catch"](function(a){throw f.pn(a);});};b.prototype.nn=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};k=b;k=g.__decorate([f.N(),g.__param(0,f.l(a.uk))],k);c.iPa=k;},function(g,c,a){var b,f,h,p,d,k,m,t,u,y,A,l,x,G,n,R,T,W,D,r,Q,ia,Z,ea,X,O,ca,E,C,N;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(328);f=a(556);h=a(316);p=a(555);d=a(315);k=a(554);m=a(313);t=a(553);u=a(312);y=a(552);A=a(311);l=a(551);x=a(76);G=a(550);n=a(549);R=a(56);T=a(2);W=a(548);D=a(547);r=a(546);Q=a(43);ia=a(545);Z=a(178);ea=a(544);X=a(282);O=a(543);ca=a(333);E=a(542);C=a(541);N=a(540);c.O1a=new g.ac(function(a){a(Q.uk).to(ia.aPa);a(b.Cha).to(f.iPa);a(Z.tZ).to(ea.YOa);a(ca.vha).to(E.ZOa);a(X.Eha).to(O.kPa);a(h.Dha).to(p.jPa);a(d.uha).to(k.XOa);a(m.Jha).to(t.tPa);a(u.zha).to(y.fPa);a(A.Aha).to(l.gPa);a(x.Nia).to(G.pRa);a(x.Oia).to(n.tRa);a(x.Lfa).to(W.DLa);a(x.Lia).to(D.mRa);a(x.xea).to(r.AJa);a(N.mPa).to(C.lPa);a(x.RX).Sf(function(a){return function(b){switch(b){case x.ul.start:return a.ec.get(x.Nia);case x.ul.stop:return a.ec.get(x.Oia);case x.ul.WJ:return a.ec.get(x.Lfa);case x.ul.splice:return a.ec.get(x.Lia);case x.ul.TI:return a.ec.get(x.xea);}throw new R.Qc(T.I.gOa,void 0,void 0,void 0,void 0,"The event key was invalid - "+b);};});});},function(g,c,a){var f,h,p,d,k,m,t;function b(a,b,d,c,g,h,q,l,n){var u;u=this;this.Mtb=a;this.j=b;this.id=d;this.height=c;this.width=g;this.Alb=h;this.Blb=q;this.size=l;this.Yc=n;this.type=f.mg.cca;this.kt=!0;this.state=k.Gm.ON;this.eg={};this.sQ={};this.Jmb=function(a){if(a.W)try{u.data=u.Mtb.parse(a.content);u.state=k.Gm.LOADED;u.log.trace("TrickPlay parsed",{Images:u.data.images.length},u.eg);u.j.fireEvent(m.S.rM);}catch(U){u.state=k.Gm.$ga;u.log.error("TrickPlay parse failed.",U);}else u.state=k.Gm.ON,u.log.error("TrickPlay download failed.",t.Xn(a),u.eg);};this.log=p.bg(b,"TrickPlay");}Object.defineProperty(c,"__esModule",{value:!0});f=a(75);h=a(12);p=a(4);d=a(69);k=a(290);m=a(15);t=a(2);b.prototype.vab=function(a){if(this.data&&(a=Math.floor(a/this.data.aq.iDa),0<=a&&a<this.data.images.length))return{image:this.data.images[a],time:a*this.data.aq.iDa,height:this.height,width:this.width,pixelAspectHeight:this.Alb,pixelAspectWidth:this.Blb};};b.prototype.GS=function(){switch(this.state){case k.Gm.LOADED:return"downloaded";case k.Gm.LOADING:return"loading";case k.Gm.YF:return"downloadfailed";case k.Gm.$ga:return"parsefailed";default:return"notstarted";}};b.prototype.download=function(){var a;a=this.vcb();a?(this.state=k.Gm.LOADING,this.F6a(a)):this.kt=!1;};b.prototype.gd=function(){return this.state;};b.prototype.vcb=function(){var a,b,d;a=this;b=Object.keys(this.Yc).find(function(b){return(a.sQ[a.Yc[b]]||0)<=h.config.Itb;});if(b){d=this.Yc[b];d in this.sQ?this.sQ[d]++:this.sQ[d]=1;return{url:d,Qu:b};}};b.prototype.F6a=function(a){this.log.trace("Downloading",a.url,this.eg);a={responseType:d.$S,Wb:this.q5(a.Qu),url:a.url,track:this};this.j.FJ.download(a,this.Jmb);};b.prototype.q5=function(a){return this.j.Ei.find(function(b){return b&&b.id===a;});};c.bSa=b;},function(g,c,a){var f,h,p;function b(){}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(131);a=a(1);b.prototype.parse=function(a){var b,d;if(!a)throw Error("invalid array buffer");b=new Uint8Array(a);d=new h.CA(b);a=this.Nkb(d);b=this.Pkb(d,b,a);return{aq:a,images:b};};b.prototype.Nkb=function(a){var b,d,c,g;if(a.oj()<this.Bob())throw Error("array buffer too short");f.cga.forEach(function(b){if(b!=a.ke())throw Error("BIF has invalid magic.");});b=a.Gz();if(b>f.VERSION)throw Error("BIF version in unsupported");d=a.Gz();if(0==d)throw Error("BIF has no frames.");c=a.Gz();g=a.wd(f.oia);return{version:b,yjb:d,iDa:c,Cob:g};};b.prototype.Pkb=function(a,b,f){var g,k;for(var d=[],c=0;c<=f.yjb;c++){k={timestamp:a.Gz(),offset:a.Gz()};void 0!=g&&d.push(b.subarray(g.offset,k.offset));g=k;}return d;};b.prototype.Bob=function(){return f.cga.length+4+4+4+f.oia;};p=f=b;p.cga=[137,66,73,70,13,10,26,10];p.VERSION=0;p.oia=44;p=f=g.__decorate([a.N()],p);c.eSa=p;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.ija="TrickPlayParserSymbol";},function(g,c,a){var f,h;function b(a,b,c,g,h,u,q,A,l,x,n){this.index=a;this.ba=b;this.M=c;this.Ya=g;this.oa=h;this.jl=u;this.f8=q;this.m2a=l;this.pxa=n;this.Nc=new f.Lc(null);this.Ef=new f.Lc(null);this.wc=new f.Lc(null);this.Di=new f.Lc(null);this.Kq=new f.Lc(void 0);this.ve=new f.Lc(null);this.ij=new f.Lc(null);this.Af=new f.Lc(null);this.Me=new f.Lc(null);this.Qb=new f.Lc(void 0);this.Xm=new f.Lc(null);this.Nu=this.$x="notcached";this.background=!1;A&&(this.ve.set(A.ve.value),this.ij.set(A.ij.value),this.profile=A.profile);this.il=x(this);this.d$=this.pxa.Xnb(this.oa,this.jl);}Object.defineProperty(c,"__esModule",{value:!0});f=a(176);h=a(3);b.prototype.Pc=function(a){this.d$.Il(a);};b.prototype.zv=function(a){var b;b=this;Object.keys(a).forEach(function(d){b.d$.Il(d,h.Db(a[d]-b.jl.ea(h.ma)));});};b.prototype.DU=function(){this.pxa.hob(this.oa);};oa.Object.defineProperties(b.prototype,{ue:{configurable:!0,enumerable:!0,get:function(){return this.Ya.ue;}},Yj:{configurable:!0,enumerable:!0,get:function(){return this.Zb&&this.Zb.Yj;}},Um:{configurable:!0,enumerable:!0,get:function(){return this.Zb&&this.Zb.Um;}},Pq:{configurable:!0,enumerable:!0,get:function(){return this.Zb&&this.Zb.Pq;}},Bt:{configurable:!0,enumerable:!0,get:function(){return this.Zb&&this.Zb.Bt;}},Hj:{configurable:!0,enumerable:!0,get:function(){return this.Zb&&this.Zb.Hj;}},Of:{configurable:!0,enumerable:!0,get:function(){return this.Zb&&this.Zb.Of;}},Dv:{configurable:!0,enumerable:!0,get:function(){return this.Zb&&this.Zb.Dv;}},Uo:{configurable:!0,enumerable:!0,get:function(){return this.Zb&&this.Zb.Uo;}},Ei:{configurable:!0,enumerable:!0,get:function(){return this.Zb&&this.Zb.Ei;}},eV:{configurable:!0,enumerable:!0,get:function(){return this.Zb&&this.Zb.eV;}},qs:{configurable:!0,enumerable:!0,get:function(){return this.w_&&0<this.w_.ea(h.ma)?this.w_:h.Db(this.Ja?this.Ja.duration:0);},set:function(a){this.w_=a;}},bh:{configurable:!0,enumerable:!0,get:function(){return this.Ya.bh||0;}},r3:{configurable:!0,enumerable:!0,get:function(){return void 0!==this.TQ?this.TQ:void 0===this.Qb.value?null:this.m2a(this.Qb.value,this.ba);}},sC:{configurable:!0,enumerable:!0,get:function(){return this.Ja&&this.Ja.cdnResponseData?this.Ja.cdnResponseData.pbcid:void 0;}},Wz:{configurable:!0,enumerable:!0,get:function(){return this.Ja&&this.Ja.cdnResponseData?this.Ja.cdnResponseData.sessionABTestCell:void 0;}},Cc:{configurable:!0,enumerable:!0,get:function(){return this.d$.Cc;}}});c.HPa=b;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Nha="PlayTimeTrackerFactorySymbol";},function(g,c,a){var h,p,d,k,m,t,u,y;function b(a,b,d,f,c){var g;g=this;this.vj=a;this.config=d;this.Ba=f;this.debug=c;this.$U=[];this.Oo=[];this.e$=[];this.Wx={};this.Eqa=!1;this.TH={};this.m7=0;this.log=b.lb("PlayTimeTracker");this.startTime=this.vj.Qb.value;this.PT=this.config().DYa;this.KM();this.Wx.abrdel=0;this.PT.forEach(function(a){a="abrdel"+a;g.TH[a]=0;g.Wx[a]=0;});}function f(){}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(1);p=a(7);d=a(17);k=a(247);a(3);m=a(21);t=a(86);u=a(9);y=a(18);f.prototype.encode=function(a){return{key:a.key,downloadableId:a.Tc,bitrate:a.P,vmaf:a.xc,duration:a.duration,metric:a.rK,cdnId:a.Qu};};f.prototype.decode=function(a){return{key:a.key,Tc:a.downloadableId,P:a.bitrate,xc:a.vmaf,duration:a.duration,rK:a.metric,Qu:a.cdnId};};b.prototype.vJ=function(){var a;this.NL(this.vj.Qb.value);a=0;this.Oo.forEach(function(b){a+=b.endTime-b.startTime;});this.debug.assert(a===Math.floor(a),"Value of totalPlayTime is not an integer.");return Math.floor(a);};b.prototype.l$a=function(){this.NL(this.vj.Qb.value);return{audio:this.oJ(this.$U,this.Rsa),video:this.oJ(this.Oo,this.Rsa)};};b.prototype.ubb=function(){var a;a={total:this.vJ(),audio:this.oJ(this.$U,this.zS),video:this.oJ(this.Oo,this.zS),timedtext:this.oJ(this.e$,this.zS)};this.debug.assert(!(!a.audio||!a.video));return a;};b.prototype.ysa=function(){var a,b;this.NL(this.vj.Qb.value);a=this.l5(this.Oo,this.w$a);try{b=this.zsa(a);}catch(x){return this.log.warn("Failed to calc average bitrate."),null;}this.Wx.abrdel=Math.round(b);return this.Wx.abrdel;};b.prototype.p$a=function(){var a,b;this.NL(this.vj.Qb.value);a=this.l5(this.Oo,this.Bcb);try{b=this.zsa(a);}catch(x){return this.log.warn("Failed to calc average vmaf."),null;}return Math.round(b);};b.prototype.o$a=function(){var a,b;a=this;if(!this.Eqa){b=this.vJ();this.PT.forEach(function(d){var f,c,g;if(0===a.TH["abrdel"+d]&&b>d*u.Nj){f=0;c=0;g=0;a.Oo.some(function(a){f+=a.stream.P*(a.endTime-a.startTime);c+=a.endTime-a.startTime;g=a.stream.P;if(c>d*u.Nj)return!0;});f&&(a.TH["abrdel"+d]=Math.round((f-g*(c-d*u.Nj))/(d*u.Nj)));}});0!==this.TH["abrdel"+this.PT[this.PT.length-1]]&&(this.Eqa=!0);y.Uc(this.TH,function(b,d){a.Wx[b]=0===d?a.Wx.abrdel:d;});}return this.Wx;};b.prototype.VYa=function(a){this.m7+=a;};b.prototype.hdb=function(){return!!(this.Oo[0]&&this.Oo[0].stream&&this.Ba.Fd(this.Oo[0].stream.xc));};b.prototype.KM=function(){var a;a=this;this.vj.Af.addListener(function(b){a.wC=a.Eoa(a.wC,a.$U,b.newValue);});this.vj.Me.addListener(function(b){a.yC=a.Eoa(a.yC,a.Oo,b.newValue);});this.vj.Di.addListener(this.Ojb.bind(this));};b.prototype.qjb=function(a,b){this.NL(a);this.startTime=b;this.yC=this.wC=void 0;this.xC&&(this.xC.startTime=this.startTime);};b.prototype.Ojb=function(a){this.ZK(this.xC,this.e$,this.vj.Qb.value);this.xC=a.newValue?{track:a.newValue,startTime:this.vj.Qb.value,endTime:k.Zw}:void 0;};b.prototype.NL=function(a){a&&this.wC&&this.yC&&(a=Math.min(a,this.wC.endTime,this.yC.endTime),this.ZK(this.wC,this.$U,a),this.wC.startTime=a,this.ZK(this.yC,this.Oo,a),this.yC.startTime=a,this.xC&&(this.ZK(this.xC,this.e$,a),this.xC.startTime=a),this.startTime=a);};b.prototype.Eoa=function(a,b,d){a&&this.ZK(a,b,Math.min(a.endTime,this.vj.Qb.value));if(d&&d.stream)return a=d.Zm,b=d.stream,{Wb:d.Wb,track:b.track,stream:b,startTime:Math.max(a.startTime,this.startTime),endTime:a.endTime};};b.prototype.ZK=function(a,b,d){a&&d&&d>=a.startTime&&(a={Wb:a.Wb,track:a.track,stream:a.stream,startTime:a.startTime,endTime:d},(d=b[b.length-1])&&d.track===a.track&&d.stream===a.stream&&d.Wb===a.Wb&&d.endTime===a.startTime?d.endTime=a.endTime:b.push(a));};b.prototype.l5=function(a,b){var d,f;d=this;f={};return a.reduce(function(a,c){var g,k,h;g=b.bind(d,c)();k=g.key;c=c.endTime-c.startTime;h=f[k];h?h.duration+=c:(delete g.key,h=g,h.duration=c,a.push(h),f[k]=h);return a;},[]);};b.prototype.oJ=function(a,b){return this.l5(a,b).map(function(a){return new f().encode(a);});};b.prototype.zS=function(a){var b,d,f;f=a.stream;f?(a=f.Tc,b=f.P,d=f.xc):a=a.track.Tc;return{key:a+"$"+(b||0),Tc:a,P:b,xc:d};};b.prototype.Rsa=function(a){var b;b=this.zS(a);a=a.Wb.id;return Object.assign({},b,{key:b.key+"$"+a,Qu:a});};b.prototype.w$a=function(a){a=(a=a.stream)?a.P:0;return{key:a,rK:a};};b.prototype.Bcb=function(a){a=(a=a.stream)?a.xc:0;return{key:a,rK:a};};b.prototype.zsa=function(a){var b,d,f;b=this;d=0;a.forEach(function(a){if(b.Ba.Fd(a.duration)&&b.Ba.Fd(a.rK))d+=a.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!d)return 0;f=0;a.forEach(function(a){f+=a.rK*a.duration/d;});return f;};a=b;a=g.__decorate([h.N(),g.__param(1,h.l(p.ob)),g.__param(2,h.l(d.ld)),g.__param(3,h.l(m.we)),g.__param(4,h.l(t.Gt))],a);c.yPa=a;},function(g,c,a){var f,h,p,d,k,m;function b(a){var b,c;b=this;this.j=a;this.Vjb=function(){var a;p.Ee.removeListener(p.s6,b.uya);a=b.rn.yy();a&&a.parentNode&&a.parentNode.removeChild(a);};this.J9=function(a){b.rn.oqb(a.newValue);};this.lkb=function(a){b.rn.tqb(a.newValue?a.newValue.UJ:void 0);};this.uya=function(){b.rn.kL();};this.rn=new k.ORa(d.config.Qba,a.wc.value?a.wc.value.UJ:void 0);c=a.qF;h.Ga(.1<c.width/c.height);this.rn.fqb(c.width/c.height);a.Zg.appendChild(this.rn.yy());a.Kq.addListener(this.J9);a.wc.addListener(this.lkb);a.addEventListener(m.S.Ue,this.Vjb,f.XA);p.Ee.addListener(p.s6,this.uya);}Object.defineProperty(c,"__esModule",{value:!0});f=a(9);h=a(14);p=a(53);d=a(12);k=a(272);m=a(15);b.prototype.Zaa=function(a){this.rn.Zaa(a);};b.prototype.m6=function(){return this.rn.m6();};b.prototype.Xaa=function(a){this.rn.Xaa(a);};b.prototype.k6=function(){return this.rn.k6();};b.prototype.Yaa=function(a){this.rn.Yaa(a);};b.prototype.l6=function(){return this.rn.l6();};c.QRa=b;},function(g,c,a){var f,h,p,d,k,m,t,u,y;function b(a,b,d,f,c){a=k.wG.call(this,b,a,a,"1",{0:d},void 0,"xx",f||a,m.up.$A,"primary","custom",{},!1,!1,!1)||this;a.j=b;a.url=d;a.content=c;return a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(57);f=a(12);h=a(53);p=a(4);d=a(19);k=a(214);m=a(157);t=a(69);u=a(106);y=a(15);g.Vha(g.Rha,function(a){var c;function b(b){var f;if(b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==u.er.CRa){f=d.createElement("INPUT",void 0,void 0,{type:"file"});f.addEventListener("change",function(){var b,d,g;b=f.files[0];if(b){d=b.name;c.info("Loading file",{FileName:d});g=new FileReader();g.readAsText(b);g.addEventListener("load",function(){return a.Pn.n1("nourl",d,g.result);});}});f.click();}}c=p.bg(a,"TimedTextCustomTrack");f.config.t3&&(c.info("Loading url",{Url:f.config.t3}),a.Pn.n1(f.config.t3,"custom"));h.Ee.addListener(h.Gy,b);a.addEventListener(y.S.Ue,function(){h.Ee.removeListener(h.Gy,b);});});ba(b,k.wG);b.j4a=function(a,d,f,c){var g;g="custom"+b.jeb++;return new b(g,a,d,f,c);};b.prototype.Hqa=function(){var a;a=this;return new Promise(function(b,d){var f;if(a.content)b(a.content);else if(a.url){f={responseType:t.xua,url:a.url,track:a,Wb:null,GC:"tt-"+a.Wj};a.j.FJ.download(f,function(c){c.W?b(c.content):(c.reason="downloadfailed",c.url=f.url,c.track=a,d(c));});}});};c.NRa=b;b.jeb=0;},function(g,c){function a(a,b,f){this.start=a;this.track=b;this.aA=f;this.end=void 0;this.aA=Array.isArray(f)?f:[];}function b(a,b,f){this.log=a;this.tA=b;this.Wa=f.Wa;this.Pg=f.Pg||function(){};this.current=void 0;this.I$=[];this.orphans=[];}function f(a){var b;b=!1;a.reduce(function(a,d){a[d]=(a[d]|0)+1;1<a[d]&&(b=!0);return a;},Object.create(null));return b;}function h(a,b){return f(a)?(b.error("duplicates in entries"),a.filter(function(a,b,d){return d.indexOf(a)===b;})):a;}function p(a){return Object.keys(a).map(function(b){return a[b];});}Object.defineProperty(c,"__esModule",{value:!0});b.prototype.JYa=function(a,b){this.Mxa(a,b,"activating");};b.prototype.X4a=function(a){this.r4(a,"de-activating");};b.prototype.Mxa=function(b,f,c){var d;d=[];this.current&&this.r4(b,"close current for new");this.orphans.length&&(d.push(this.orphans),this.orphans=[]);this.current=new a(b,f,d);this.tA&&this.log.trace("new range: "+c,this.Wa({},this.current));};b.prototype.r4=function(a,b){this.current&&(this.current.end=a,this.I$.push(this.current),this.tA&&this.log.trace("end range: "+b,this.Wa({},this.current||{})),this.current=void 0);};b.prototype.VDa=function(a){this.current?this.current.aA.push(a):this.orphans.push(a);};b.prototype.h6=function(b){var d,f,c;d=this;f=d.I$.slice(0);if(d.current&&"undefined"!=typeof b){c=new a(d.current.start,d.current.track,d.current.aA);c.end=b;f.push(c);}b=f.reduce(function(a,b){var f,c,g,k;if(!b.track)return a;f=b.track.Tc;c=b.track.sv(b.start,b.end);if(!c)return a;g=h(b.aA,d.log);a[f]?(k=a[f],k.expected+=c.length,k.missed+=c.length-g.length):(k={},k.dlid=f,k.bcp47=b.track.Wj,k.profile=b.track.profile,k.expected=c.length,k.missed=c.length-g.length,k.startPts=b.track.Xbb(),a[f]=k);return a;},{});b=p(b);d.tA&&d.log.trace("subtitleqoe:",JSON.stringify(b,null,"\t"));return b;};b.prototype.Obb=function(b){var d,f,c,g,q;d=this;f=d.I$.slice(0);c=0;g=0;d.current&&"undefined"!=typeof b&&(q=new a(d.current.start,d.current.track,d.current.aA),q.end=b,f.push(q));f.forEach(function(a){var b,f;if(a.track){if(a.end<a.start){d.Pg("negative range",a);a.ow=0;return;}b=h(a.aA,d.log);f=a.track.sv(a.start,a.end);a.ZI=f?f.map(function(a){return a.id;}):[];a.ow=f?0===f.length?100:100*b.length/f.length:0;}else a.ow=100;b=a.end-a.start;c+=b;g+=a.ow*b;});q=c?Math.round(g/c):100;d.log.trace("qoe score "+q+", at pts: "+b);d.tA&&(b=f.map(function(a){return{start:a.start,"end  ":a.end,duration:a.end-a.start,score:Math.round(a.ow),lang:a.track?a.track.Wj:"none","actual  ":a.aA.join(" "),expected:(a.ZI||[]).join(" ")};}),d.log.trace("score for each range: ",JSON.stringify(b,function(a,b){return b;}," ")));return q;};c.BRa=b;},function(g,c,a){var f,h,p,d,k,m,t,u,y,A,l,x,n,M;function b(a){var d;d=this;this.j=a;this.yba=this.Gxa=0;this.Ue=this.kl=!1;this.nw=0;this.eF=function(){var a,b;a=d.lf();d.EV();d.Ppa&&(d.log.info("Deactivating",d.Ppa),d.ww.X4a(d.lf()));d.j.Di.set(null);d.gA.QBa(d.entries=void 0);d.Loa();b=d.j.wc.value;b&&b.VJ()&&!b.sT()&&(b=null);b&&d.j.Eb.value!==x.hb.Tf&&d.ww.JYa(a,b);b?(d.log.info("Activating",b),d.j.Gj.set(x.qf.Ij),d.kl||d.j.Pc("tt_start"),b.getEntries().then(d.iD)["catch"](d.iD)):d.j.Gj.set(x.qf.$c);d.Ppa=b;d.lF();};this.Gba=function(){d.kl&&(d.gA.start(),d.j.Eb.value!==x.hb.ad&&d.gA.stop());};this.lF=function(){var a;d.j.state.value===x.jb.$c&&d.j.Eb.value!==x.hb.Tf&&(d.entries?a=d.gA.c$a():d.j.wc.value&&(a=b.Grb[d.j.wc.value.gd()]));a&&l.Tb(a.startTime)&&(d.Gxa++,d.yba+=d.gA.kta()-a.startTime,d.Tna=Math.ceil(d.yba/(d.Gxa+0)));d.j.Kq.set(a);};this.lf=function(){return d.j.S5();};this.kkb=function(a){d.fireEvent(b.irb,a);a&&a.id&&d.ww.VDa(a.id);d.log.trace("showsubtitle",d.Kta(a));};this.ekb=function(a){d.fireEvent(b.kob,a);d.log.trace("removesubtitle",d.Kta(a));};this.K9=function(){d.log.warn("imagesubs buffer underflow",d.j.wc.value.eg);d.j.Gj.set(x.qf.Ij);};this.Qjb=function(){d.log.info("imagesubs buffering complete",d.j.wc.value.eg);d.j.Gj.set(x.qf.$c);};this.oya=function(){d.kl&&d.wf&&d.wf.gp(d.lf());};this.rya=function(a){d.wf&&d.wf.GL&&d.wf.GL(a.wh,a.BU);};this.vya=function(a){d.wf&&d.wf.Qn&&d.wf.Qn(a.kk,a.zub);};this.IU=function(){d.kl=!0;A.Ab(function(){d.wf?d.wf.gp(d.lf()):d.Gba();d.lF();});};this.EK=function(){d.entries=void 0;d.Loa();d.gA.stop();d.lF();d.Ue=!0;d.EV();};this.J9=function(a){(a=a.newValue)&&l.Tb(a.id)&&d.ww.VDa(a.id);};this.bkb=function(a){d.tub(a.newValue,a.oldValue);d.Gba();};this.iD=function(a){var b,f;if(!d.Ue){b=a.track;f=!1;if(b==d.j.wc.value)if(b.gq)if(a.W)d.EV(),d.wf=b.wf,d.zwa("addListener"),d.log.info("Activated",b),d.j.Di.set(b),d.kl?A.Ab(function(){d.wf.gp(d.lf());}):d.wf.pause();else{if(f=!!(d.nw<p.config.Vwa))d.UAa=setTimeout(d.VAa.bind(d,b),p.config.dDa);d.log.error("Failed to activate img subtitle",{retry:f},a,b);}else{if(f=a.entries)d.EV(),d.gA.QBa(d.entries=f),d.log.info("Activated",b),d.j.Di.set(b);else{if(f=!!(d.nw<p.config.Vwa))d.UAa=setTimeout(d.VAa.bind(d,b),p.config.dDa);d.log.error("Failed to activate",{retry:f},y.Xn(a),b);}d.lF();}d.kl||d.j.Pc(a.W?"tt_comp":"tt_err");a.W?(p.config.cBa?setTimeout(function(){d.j.Gj.set(x.qf.$c);},p.config.cBa):d.j.Gj.set(x.qf.$c),b.gq||d.lF()):a.Hl?d.log.warn("aborted timed text track loading"):p.config.R8a?(b=k.V.get(M.vk),d.j.sd(b(y.I.fLa,{Qa:a.track?a.track.eg:{}}))):(d.log.error("ignore subtitle initialization error",a),d.j.Gj.set(x.qf.$c));}};this.Ib=new h.Lj();this.ww=new m.BRa(k.bg(a,"SubtitleTracker"),p.config.C7a,{Wa:u.Wa,Pg:t.Ga});this.log=k.bg(a,"TimedTextManager");this.gA=new f.TRa(this.lf,this.lF);this.j.wc.addListener(this.eF);p.config.cmb?(this.j.addEventListener(x.S.wj,this.IU),this.eF()):(this.j.Gj.set(x.qf.$c),this.j.addEventListener(x.S.wj,function(){d.kl=!0;d.eF();}));this.j.Eb.addListener(this.bkb);this.j.addEventListener(x.S.Kba,this.Gba);this.j.Kq.addListener(this.J9);this.j.addEventListener(x.S.Ue,this.EK);}Object.defineProperty(c,"__esModule",{value:!0});g=a(214);f=a(276);h=a(68);p=a(12);d=a(28);k=a(4);m=a(566);t=a(14);u=a(18);y=a(2);A=a(45);l=a(16);x=a(15);n=a(565);M=a(55);b.prototype.addEventListener=function(a,b,d){this.Ib.addListener(a,b,d);};b.prototype.removeEventListener=function(a,b){this.Ib.removeListener(a,b);};b.prototype.fireEvent=function(a,b,d){this.Ib.Jb(a,b,d);};b.prototype.n1=function(a,b,f){var c;c=n.NRa.j4a(this.j,a,b,f);this.j.Hj.push(c);this.j.Um.forEach(function(a){d.kFa(a.Hj,c);});this.j.wc.set(c);this.j.fireEvent(x.S.hA);};b.prototype.ccb=function(a){return this.ww.Obb(a);};b.prototype.h6=function(a){return this.ww.h6(a);};b.prototype.KS=function(){var a,b;a=this.j.mM;b=p.config.eDa.characterSize;b={size:p.config.Rba.characterSize||b};a&&(b.visibility=a.m6(),b.YH=a.k6(),b.wn=a.l6());return b;};b.prototype.Hqb=function(a){p.config.Rba.characterSize=a;a=this.j.wc.value;!a||a.VJ()||a.gq||a.getEntries().then(this.iD)["catch"](this.iD);};b.prototype.tub=function(a,b){a===x.hb.ad||a==x.hb.oi?b!==x.hb.ad&&b!==x.hb.oi&&((b=this.j.wc.value)&&b.VJ()&&!b.sT()||this.ww.Mxa(this.lf(),b,"presentingstate:"+a)):a!==x.hb.Tf&&a!==x.hb.ar||this.ww.r4(this.lf(),"presentingstate:"+a);};b.prototype.EV=function(){this.nw=0;clearTimeout(this.UAa);};b.prototype.Loa=function(){this.wf&&(this.wf.stop(),this.zwa("removeListener"));this.wf=void 0;};b.prototype.zwa=function(a){this.wf&&(this.wf[a]("showsubtitle",this.kkb),this.wf[a]("removesubtitle",this.ekb),this.wf[a]("underflow",this.K9),this.wf[a]("bufferingComplete",this.Qjb),"addListener"===a?(this.j.addEventListener(x.S.en,this.oya),this.j.addEventListener(x.S.AU,this.rya),this.j.addEventListener(x.S.Qn,this.vya)):(this.j.removeEventListener(x.S.en,this.oya),this.j.removeEventListener(x.S.AU,this.rya),this.j.removeEventListener(x.S.Qn,this.vya)));};b.prototype.Kta=function(a){return{currentPts:this.lf(),displayTime:a.displayTime,duration:a.duration,id:a.id,originX:a.originX,originY:a.originY,sizeX:a.sizeX,sizeY:a.sizeY,rootContainerExtentX:a.rootContainerExtentX,rootContainerExtentY:a.rootContainerExtentY};};b.prototype.VAa=function(a){this.nw++;a.getEntries().then(this.iD)["catch"](this.iD);};c.PRa=b;c={};b.Grb=(c[g.wG.Cia.LOADING]={hIb:!0},c[g.wG.Cia.YF]={oy:!0},c);b.irb="showsubtitle";b.kob="removesubtitle";},function(g,c,a){var d,k,m,t,u,y,A,l,x,n,M,R,T,r,D,U,Q,ia,Z,ea,X,O,ca,E,C,N;function b(a){var b;b=this;this.j=a;this.uEa=Promise.resolve();this.QX=J.WebKitMediaKeys||HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.yu=[];this.dj=new y.Lj();this.jka=this.i_=0;this.EO=[];this.fb=x.bg(this.j,"MediaElementASE");this.ima=D.ne;this.C_=!1;this.ff={};this.RG={};this.AS=this.GO(function(){var a;if(b.La){a=b.TO();return a?a.totalVideoFrames:b.La.webkitDecodedFrameCount;}});this.xy=this.GO(function(){var a;if(b.La){a=b.TO();return a?a.droppedVideoFrames:b.La.webkitDroppedFrameCount;}});this.mJ=this.GO(function(){var a;if(b.La){a=b.TO();return a&&a.corruptedVideoFrames;}});this.BS=this.GO(function(){var a;if(b.La){a=b.TO();return a&&Q.Lh(a.totalFrameDelay*D.Nj);}});this.hla=function(){return b.dj.Jb(ea.Mh.Vva);};this.qj=x.V.get(Z.Qfa).create(u.config.hp,this,this.j);u.config.Kv&&(this.uEa=new Promise(function(a){b.ima=a;b.j.addEventListener(ca.S.Ue,a);}));this.fb.trace("Created Media Element");this.addEventListener=this.dj.addListener;this.removeEventListener=this.dj.removeListener;this.La=f(this.j.qF);this.sourceBuffers=this.yu;}function f(a){var b,d;b=x.V.get(X.yja).Gbb();a=a.width/a.height*b.height;d=(b.width-a)/2;return u.config.Kqb?D.createElement("VIDEO","position:absolute;width:"+a+"px;height:"+b.height+"px;left:"+d+"px;top:0px"):D.createElement("VIDEO","position:absolute;width:100%;height:100%");}function h(a){a.preventDefault();return!1;}function p(a,b){var d,f,c;d=a.target;d=d&&d.error;f=a.errorCode;c=d&&d.code;D.Tb(c)||(c=f&&f.code);f=d&&d.msExtendedCode;D.Tb(f)||(f=d&&d.systemCode);D.Tb(f)||(f=a.systemCode);a=D.Wa({},{code:c,systemCode:f},{uq:!0});b={Y:b(c),Qa:U.xwa(a)};try{d&&d.message&&(b.nK=d.message);}catch(Fa){}f=D.Ud(f);ia.pa(f)&&(b.Hc=x.Vna(f,4));return{YC:b,vgb:a};}Object.defineProperty(c,"__esModule",{value:!0});d=a(49);k=a(140);m=a(55);t=a(9);u=a(12);y=a(68);A=a(53);l=a(28);x=a(4);n=a(2);M=a(14);R=a(105);T=a(437);r=a(18);D=a(19);U=a(175);Q=a(8);ia=a(16);Z=a(278);ea=a(174);X=a(302);O=a(3);ca=a(15);E=a(130);C=!!(Q.TA&&HTMLVideoElement&&URL&&HTMLVideoElement.prototype.play);N=C&&(HTMLVideoElement.prototype.webkitGenerateKeyRequest||Q.hG);b.prototype.wy=function(a){try{this.La&&(this.jka=this.La.currentTime);}catch(ka){this.fb.error("Exception while getting VIDEO.currentTime",ka);a&&this.tB(n.I.FOa,ka);}return Q.Lh(this.jka*D.Nj);};b.prototype.seek=function(a){var b;M.Ga(!this.Fl);this.fma();b=this.wy(!0);if(!u.config.xZa&&Q.cG(b-a)<=this.yaa)this.fb.trace("Seek delta too small",{currentTime:b,seekTime:a,min:this.yaa});else try{this.fb.trace("Setting video elements currentTime",{From:R.ih(b),To:R.ih(a)});this.Fl={};this.La.currentTime=a/D.Nj;this.dj.Jb(ea.Mh.en);}catch(pa){this.fb.error("Exception while setting VIDEO.currentTime",pa);this.tB(n.I.GOa,pa);}};b.prototype.Pbb=function(){return!!this.Fl;};b.prototype.addSourceBuffer=function(a){var b,f;b=D.Ud(this.i_.toString()+this.yu.length.toString());b={sourceId:this.i_,wQ:b};try{f=new k.vga(this.j,a,this.Se,b,this.fb);this.yu.push(f);a==t.aG&&f.P4&&f.P4.addListener(this.ima);return f;}catch(xa){f=D.ud(xa);this.fb.error("Unable to add source buffer.",{error:f});b=x.V.get(m.vk);this.j.sd(b(n.I.rZ,{Y:a===d.tc.Kh.AUDIO?D.u.gga:D.u.hga,Qa:f}));}};b.prototype.r1=function(a){var b;b=this;a.forEach(function(a){return b.addSourceBuffer(a);});this.dj.Jb(ea.Mh.pCa);return!0;};b.prototype.removeSourceBuffer=function(a){this.yu=this.yu.filter(function(b){return!l.$oa(a,b);});this.Se.removeSourceBuffer(a);};b.prototype.endOfStream=function(){u.config.o2&&this.Se.endOfStream();};b.prototype.hn=function(a){this.yu=[];a&&a.ZIb();return!0;};b.prototype.eqb=function(a){this.i_=a;};b.prototype.jta=function(){if(this.Se)return O.gmb(this.Se.duration);};b.prototype.wqb=function(a){this.Se&&(this.Se.duration=a.dV(O.Em));};b.prototype.n6a=function(){var a;if(!this.C_&&this.La&&2<=this.La.readyState){a=this.La.webkitDecodedFrameCount;if(void 0===a||0<a||u.config.uvb)this.C_=!0;}return this.C_;};b.prototype.open=function(){var a,b,d;a=this;this.j.addEventListener(ca.S.eCa,function(b){return a.xWa(b);});if(C){if(this.j.Dv){if(!N){this.Al(n.I.kha);return;}if(Q.hG&&Q.hG.isTypeSupported&&this.qj.Td)try{if(!Q.hG.isTypeSupported(this.qj.Td,"video/mp4")){this.bYa(function(b){a.Al(n.I.pZ,b);});return;}}catch(xa){this.tB(n.I.pZ,xa);return;}}try{this.Se=new Q.TA();}catch(xa){this.tB(n.I.vOa,xa);return;}try{this.Bi=URL.createObjectURL(this.Se);}catch(xa){this.tB(n.I.wOa,xa);return;}try{this.qj.XYa(this.hla);this.Se.addEventListener("sourceopen",function(b){return a.Kla(b);});this.Se.addEventListener(this.QX+"sourceopen",function(b){return a.Kla(b);});this.La.addEventListener("error",this.ff.error=function(b){return a.eH(b);});this.La.addEventListener("seeking",this.ff.seeking=function(){return a.wWa();});this.La.addEventListener("seeked",this.ff.seeked=function(){return a.s0();});this.La.addEventListener("timeupdate",this.ff.timeupdate=function(){return a.yWa();});this.La.addEventListener("loadstart",this.ff.loadstart=function(){return a.lP();});this.La.addEventListener("volumechange",this.ff.volumechange=function(b){return a.zWa(b);});this.La.addEventListener(this.qj.jz,this.ff[this.qj.jz]=function(b){return a.sWa(b);});b=this.j.Zg;d=b.lastChild;d?b.insertBefore(this.La,d):b.appendChild(this.La);u.config.vqa&&this.La.addEventListener("contextmenu",h);this.La.src=this.Bi;A.Ee.addListener(A.wJ,this.RG[A.wJ]=function(){return a.Ila();});this.Ila();}catch(xa){this.tB(n.I.xOa,xa);}}else this.Al(n.I.lha);};b.prototype.close=function(){var b;function a(){b.Bi&&(b.fma(),A.Ee.removeListener(A.wJ,b.RG[A.wJ]),b.BTa());}b=this;this.La.removeEventListener(this.qj.jz,this.ff[this.qj.jz]);this.La.removeEventListener("error",this.ff.error);this.La.removeEventListener("seeking",this.ff.seeking);this.La.removeEventListener("seeked",this.ff.seeked);this.La.removeEventListener("timeupdate",this.ff.timeupdate);this.La.removeEventListener("loadstart",this.ff.loadstart);this.La.removeEventListener("volumechange",this.ff.volumechange);this.qj.eob(this.hla);u.config.hp?this.qj.Wya().then(function(){return a();}):a();this.qj.BAa&&clearTimeout(this.qj.BAa);};b.prototype.sWa=function(a){return this.qj.G9(a);};b.prototype.TO=function(){if(this.La)return this.La.getVideoPlaybackQuality&&this.La.getVideoPlaybackQuality()||this.La.videoPlaybackQuality||this.La.playbackQuality;};b.prototype.CXa=function(){var a;a=this.j.Yh;return(a=a&&a.errorCode)&&0<=[n.I.RN,n.I.CN].indexOf(a);};b.prototype.BTa=function(){var a;a=!1;u.config.zmb&&this.CXa()&&(a=!0);u.config.E1a&&!a&&(this.La.removeAttribute("src"),this.La.load&&this.La.load());URL.revokeObjectURL(this.Bi);u.config.vqa&&this.La.removeEventListener("contextmenu",h);!a&&this.La&&this.j.Zg.removeChild(this.La);this.La=this.Se=void 0;this.Bi="";};b.prototype.Ila=function(){!0===Q.Nd.hidden?this.EO.forEach(function(a){a.refresh();a.wrb();}):this.EO.forEach(function(a){a.refresh();a.Lrb();});};b.prototype.GO=function(a){var b;b=x.V.get(T.Xga)(a);this.EO.push(b);return function(){b.refresh();return b.L$a();};};b.prototype.tB=function(a,b){var d,f;d={Y:D.u.fh,Qa:D.ud(b)};try{(f=b.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase())&&8==f.length&&(d.Hc=f);}catch(ma){}b=x.V.get(m.vk);this.j.sd(b(a,d));};b.prototype.fma=function(){this.EO.forEach(function(a){a.refresh();});};b.prototype.uUa=function(){return this.La&&this.La.msGraphicsTrustStatus;};b.prototype.Al=function(a,b,d){var f;f=x.V.get(m.vk);this.j.sd(f(a,b,d));};b.prototype.bYa=function(a){var d,f;function b(f){b=D.ne;d.$g();a(f);}d=x.V.get(E.eB)(500,function(){b();});d.As();try{f=this.j.ve.value.aq.GIb.children.filter(function(a){return"pssh"==a.type&&a.T6a==t.XIa;})[0];new Q.hG(this.qj.Td).createSession("video/mp4",f.raw,null).addEventListener(this.QX+"keyerror",function(a){a=p(a,n.zea);b(a.YC);});}catch(ma){b();}};b.prototype.xWa=function(a){var b,f,c,g,k,h,m;if(this.La){a=a.GM;b=this.uUa();b&&(a.ConstrictionActive=b.constrictionActive,a.Status=b.status);try{a.readyState=""+this.La.readyState;a.currentTime=""+this.La.currentTime;a.pbRate=""+this.La.playbackRate;}catch(Nc){}for(var b=this.yu.length,d;b--;){d=this.yu[b];f="";d.type==t.TY?f="audio":d.type==t.aG&&(f="video");D.Wa(a,d.tS(),{prefix:f});u.config.u7a&&this.j.Yh&&t.aG==d.type&&(f=D.JL(d.vx),3E3>(f.data&&f.data.length)&&(f.data=r.w2a(f.data).join(),D.Wa(a,f,{prefix:d.type})));}this.Se&&(b=this.Se.duration)&&!isNaN(b)&&(a.duration=b.toFixed(4));if(u.config.wgb)try{c=this.j.jf;g=c&&c.Hva;if(g){k=g.expiration;isNaN(k)||(a.exp=k);h=g.keyStatuses.entries();if(h.next){m=h.next().value;m&&(a.keyStatus=m[1]);}}}catch(Nc){}}};b.prototype.Kla=function(a){this.JXa||(this.JXa=!0,this.dj.Jb(ea.Mh.qCa,a));};b.prototype.wWa=function(){this.fb.trace("Video element event: seeking");this.Fl?this.Fl.Djb=!0:(this.fb.error("unexpected seeking event"),u.config.T8a&&this.Al(n.I.LOa));};b.prototype.s0=function(){this.fb.trace("Video element event: seeked");this.Fl?(M.Ga(this.Fl.Djb),this.Fl.Cjb=!0,this.yma()):(this.fb.error("unexpected seeked event"),u.config.S8a&&this.Al(n.I.KOa));};b.prototype.yWa=function(){this.Fl&&(this.Fl.Fjb=!0,this.yma());this.dj.Jb(ea.Mh.en);};b.prototype.lP=function(){this.fb.trace("Video element event: loadstart");};b.prototype.zWa=function(a){this.fb.trace("Video element event:",a.type);try{this.j.volume.set(this.La.volume);this.j.muted.set(this.La.muted);}catch(ka){this.fb.error("error updating volume",ka);}};b.prototype.eH=function(a){a=p(a,n.GJa);this.fb.error("Video element event: error",a.vgb);this.Al(n.I.DOa,a.YC);};b.prototype.yma=function(){this.Fl&&this.Fl.Cjb&&this.Fl.Fjb&&(this.Fl=void 0,this.dj.Jb(ea.Mh.wL));};oa.Object.defineProperties(b.prototype,{yaa:{configurable:!0,enumerable:!0,get:function(){return u.config.qrb;}}});c.WMa=b;},function(g,c,a){var m,t,u,y,A,l,x,n,M,R,T,r,D,U,Q,ia,Z,ea;function b(a,b,d){this.Ok=a;this.u6=b;this.prefix=d;a=r(a,b,d);this.info=a.info.bind(a);this.fatal=a.fatal.bind(a);this.error=a.error.bind(a);this.warn=a.warn.bind(a);this.trace=a.trace.bind(a);this.debug=a.debug.bind(a);this.log=a.log.bind(a);}function f(){this.qqa=m.ro.qqa.bind(m.ro);this.XQ=m.ro.XQ.bind(m.ro);this.JC=m.ro.JC;this.VA="NDA";}function h(){}function p(){}function d(){return M?M:"0.0.0.0";}function k(a){a({Cya:0,gM:0,tua:0,yra:0});}m=a(141);f.prototype.set=function(a,b){y[a]=b;A.save(a,b);};f.prototype.get=function(a,b){if(y.hasOwnProperty(a))return y[a];n.trace("key: "+a+", is not available in storage cache and needs to be retrieved asynchronously");A.load(a,function(d){d.W?(y[a]=d.data,b&&b(d.data)):y[a]=void 0;});};f.prototype.remove=function(a){A.remove(a);};f.prototype.clear=function(){n.info("WARNING: Calling unimplemented function Storage.clear()");};h.prototype.now=function(){return l();};h.prototype.da=function(){return x();};h.prototype.i9=function(a){return a+l()-x();};h.prototype.D9=function(a){return a+x()-l();};c=a(25).EventEmitter;a(48)(c,p.prototype);b.prototype.Epa=function(a){var d;d=[];this.prefix&&Array.isArray(this.prefix)?d.push.apply(d,[].concat(da(this.prefix))):this.prefix&&d.push(this.prefix);d.push(a);return new b(this.Ok,this.u6,d);};D=function(){var a;a=Promise;a.prototype.fail=Promise.prototype["catch"];return a;}();g.T=function(a){t=a.wz;r=a.Lf;A=a.storage;y=a.FD;l=a.nbb;R=a.sJ;T=a.KJ;x=a.getTime;n=a.NZa;U=a.sk;ea=a.nr;Q=a.DA;ia=a.SourceBuffer;Z=a.MediaSource;M=a.IHb;u=a.oo;return{name:"cadmium",oo:u,wz:t,sJ:R,KJ:T,storage:new f(),Storage:f,time:new h(),events:new p(),console:new b("JS-ASE",void 0,"default"),Console:b,options:{},Promise:D,sk:U,DA:Q,dNa:ia,MediaSource:Z,nr:ea,el:{name:d},memory:{Bab:k},qta:a.qta};};},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(4);f=a(69);c.bQa=function(){b.Lf("ProbeDownloader");return{kJ:function(a){f.Jd.Gmb({url:a.url,Dmb:a});}};}();},function(g,c,a){var f,h,p,d,k,m,t;function b(){var a;a=new h.Lj();this.addEventListener=a.addListener.bind(this);this.removeEventListener=a.removeListener.bind(this);this.emit=a.Jb.bind(this);this.xP=m++;this.fb=p.Lf("ProbeRequest");this.Wla=f.bQa;d.Ga(void 0!==this.Wla);this.sf=c.nr.bc.UNSENT;}Object.defineProperty(c,"__esModule",{value:!0});f=a(570);h=a(68);p=a(4);d=a(14);k=a(19);m=0;(function(){function a(){return JSON.stringify({url:this.Bi,id:this.xP,affected:this.rO,readystate:this.sf});}k.Wa(b.prototype,{fl:function(a){a.affected=this.rO;a.probed={requestId:this.xP,url:this.Bi,Fb:this.nma,groupId:this.UO};this.emit(c.nr.Bd.jG,a);},C9:function(a){this.MXa=a.httpcode;a.affected=this.rO;a.probed={requestId:this.xP,url:this.Bi,Fb:this.nma,groupId:this.UO};this.emit(c.nr.Bd.fx,a);},open:function(a,b,d,f){if(!a)return!1;this.Bi=a;this.rO=b;this.nma=d;this.sf=c.nr.bc.OPENED;this.cVa=f;this.Wla.kJ(this);return!0;},ae:function(){return!0;},ak:function(){return this.xP;},toString:a,toJSON:a});Object.defineProperties(b.prototype,{readyState:{get:function(){return this.sf;},set:function(){}},status:{get:function(){return this.MXa;}},url:{get:function(){return this.Bi;}},sEb:{get:function(){return this.rO;}},rgb:{get:function(){return this.cVa;}}});}());(function(a){a.Bd={jG:"pr0",fx:"pr1"};a.bc={UNSENT:0,OPENED:1,Zt:2,DONE:3,Mt:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};}(t||(t={})));c.nr=Object.assign(b,t);},function(g,c,a){var f,h,p;function b(a){this.yv=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(116);h=a(1);b.prototype.create=function(b,f,c){return new(a(288)).DPa(b,f,c,this.yv);};p=b;p=g.__decorate([h.N(),g.__param(0,h.l(f.NA))],p);c.CPa=p;},function(g,c){function a(a){this.j=a;}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.UDa=function(){var a;a=this.j.rl&&this.j.rl.bf.get()||{};a.Eg&&(this.j.Eg=a.Eg.Fa);a.va&&(this.j.va=a.va.Fa);};a.prototype.Xk=function(){-1===this.j.va&&this.UDa();return this.j.va;};a.prototype.D0a=function(a){-1!==this.j.Eg&&-1!==this.j.va||this.UDa();return-1===this.j.Eg||-1===this.j.va?Number.MAX_VALUE:this.j.Eg+8*a/this.j.va;};c.UFa=a;},function(g,c,a){var f,h,p,d,k,m;function b(a,b){this.app=a;this.config=b;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(15);h=a(290);p=a(23);d=a(1);k=a(3);a=a(17);b.prototype.SC=function(a){var b;a.sM={};if(!a.AD()&&a.Bt&&0<a.Bt.length&&(a.At=this.bta(a),a.At)){b=this.Rqb(a);b()||(a.addEventListener(f.S.wj,b),a.ve.addListener(b));}};b.prototype.Rqb=function(a){var d;function b(){var c,g;if(!a.ve.value||!a.lW)return!1;c=a.At;g=c.gd();return g===h.Gm.LOADING?!1:g!==h.Gm.LOADED&&c.kt?(c=d.qcb(a))?(a.sM.offset=d.app.Xb().ea(k.ma),a.At=c,c.download(),!0):!1:(a.removeEventListener(f.S.wj,b),a.ve.removeListener(b),!1);}d=this;return b;};b.prototype.qcb=function(a){var b,d;b=this.config();d=a.il.vJ()<b.Ktb;b=(a.ve.value?a.ve.value.P:0)>b.Jtb;return this.Nbb(a,d&&b);};b.prototype.Nbb=function(a,b){if(b&&(b=this.bta(a),this.Dta(a,b.size)))return a.sM.KAa="h",b;b=this.Zab(a);if(this.Dta(a,b.size))return a.sM.KAa="l",b;};b.prototype.Dta=function(a,b){var d,f;d=this.config();f=Math.min(a.KH(),a.FM());return a.M_a.D0a(b)*(1+.01*d.oZa[2])<f*d.Ntb;};b.prototype.bta=function(a){return a.Bt[a.Bt.length-1];};b.prototype.Zab=function(a){return a.Bt[0];};m=b;m=g.__decorate([d.N(),g.__param(0,d.l(p.Pe)),g.__param(1,d.l(a.ld))],m);c.dSa=m;},function(g,c,a){var h,p,d,k;function b(a,b,d,f){this.oa=a;this.Aob=b;this.ia=d;this.app=f;this.Cc={};}function f(a,b){this.yf=a;this.app=b;this.kd={};this.ia=a.lb("PlaybackMilestoneStoreImpl");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(1);p=a(7);d=a(23);k=a(3);f.prototype.Xnb=function(a,d){this.kd[a]&&this.ia.warn("registerPlayback: xid "+a+" already registered, overriding");d=(d?d:this.app.Xb()).ea(k.ma);this.ia.trace("registerPlayback: xid "+a+" at "+d);this.kd[a]=new b(a,d,this.ia,this.app);return this.kd[a];};f.prototype.wbb=function(a){this.kd[a]||this.ia.warn("getPlaybackMilestones: xid "+a+" is not registered");return this.kd[a];};f.prototype.hob=function(a){this.ia.trace("removePlayback: xid "+a);delete this.kd[a];};a=f;a=g.__decorate([h.N(),g.__param(0,h.l(p.ob)),g.__param(1,h.l(d.Pe))],a);c.GPa=a;b.prototype.Il=function(a,b){b=b?b.ea(k.ma):this.app.Xb().ea(k.ma)-this.Aob;this.ia.trace("addMilestone: xid "+this.oa+" "+a+" at "+b);this.Cc[a]=b;};},function(g,c,a){var b,f,h,p,d,k,m,t,u,y,A,l,x,n,M,R,T,r,D;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(292);f=a(575);h=a(385);p=a(291);d=a(574);k=a(289);m=a(573);t=a(420);u=a(572);y=a(563);A=a(17);l=a(86);x=a(21);n=a(7);M=a(562);R=a(177);T=a(561);r=a(560);D=a(559);c.j=new g.ac(function(c){c(b.AZ).to(f.GPa).Z();c(h.gja).Sf(function(b){var d;d=b.ec;return function(b,f,c,g,k,h,m,t){return new(a(558)).bSa(d.get(r.ija),b,f,c,g,k,h,m,t);};});c(r.ija).to(D.eSa).Z();c(p.hja).to(d.dSa).Z();c(t.Xha).to(u.CPa).Z();c(k.dda).Sf(function(){return function(a){return new m.UFa(a);};});c(M.Nha).Sf(function(a){var b;b=a.ec;return function(a){return new y.yPa(a,b.get(n.ob),b.get(A.ld),b.get(x.we),b.get(l.Gt));};});c(R.BZ).Sf(function(a){var d;d=a.ec;return function(a,f,c,g,k,h,m,t,u){return new T.HPa(a,f,c,g,k,h,m,t,u,d.get(M.Nha),d.get(b.AZ));};});});},function(g,c,a){var f,h;function b(){this.VL=new h.aj();}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(102);b.prototype.tE=function(a){this.VL.next(a);};oa.Object.defineProperties(b.prototype,{pL:{configurable:!0,enumerable:!0,get:function(){return this.VL;}}});a=b;a=g.__decorate([f.N()],a);c.sPa=a;},function(g,c,a){var f,h,p;function b(a,b){this.FC=b;this.log=a.lb("Pbo");this.links={};}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(7);a=a(92);b.prototype.gQ=function(a){a&&(this.links=Object.assign(Object.assign({},this.links),a));};b.prototype.L5=function(a){return this.links[a];};b.prototype.WYa=function(a){var b;b="playbackContextId="+a.playbackContextId+"&esn="+this.FC().Rg;a="drmContextId="+a.drmContextId;this.gQ({events:{rel:"events",href:"/events?"+b},license:{rel:"license",href:"/license?licenseType=standard&"+b+"&"+a},ldl:{rel:"ldl",href:"/license?licenseType=limited&"+b+"&"+a}});};p=b;p=g.__decorate([f.N(),g.__param(0,f.l(h.ob)),g.__param(1,f.l(a.Rw))],p);c.hPa=p;},function(g,c,a){var f,h,p,d,k,m;function b(a,b,d){a=h.ze.call(this,a,"PboConfigImpl")||this;a.config=b;a.BZa=d;return a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(36);p=a(27);d=a(34);k=a(17);a=a(85);ba(b,h.ze);oa.Object.defineProperties(b.prototype,{kF:{configurable:!0,enumerable:!0,get:function(){return this.config().yh.kF||"";}},DW:{configurable:!0,enumerable:!0,get:function(){return this.config().yh.DW||"";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},Bya:{configurable:!0,enumerable:!0,get:function(){return"cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().yh.pE;}},Oy:{configurable:!0,enumerable:!0,get:function(){return!1;}},$wa:{configurable:!0,enumerable:!0,get:function(){return!0;}},Q8:{configurable:!0,enumerable:!0,get:function(){return!0;}},IBa:{configurable:!0,enumerable:!0,get:function(){return{logblob:{service:"pbo_logblobs",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},manifest:{service:"pbo_manifests",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},license:{service:"pbo_licenses",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},events:{service:"pbo_events",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},bind:{service:this.BZa.Zna,serviceNonMember:"pbo_nonmember",version:"^1.0.0"},pair:{service:"pbo_mdx",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},ping:{service:"pbo_events",serviceNonMember:"pbo_nonmember",version:"^1.0.0"}};}},N6:{configurable:!0,enumerable:!0,get:function(){return 10;}}});m=b;g.__decorate([d.config(d.string,"uiVersion")],m.prototype,"kF",null);g.__decorate([d.config(d.string,"uiPlatform")],m.prototype,"DW",null);g.__decorate([d.config(d.Ew,"pboVersion")],m.prototype,"version",null);g.__decorate([d.config(d.string,"pboOrganization")],m.prototype,"Bya",null);g.__decorate([d.config(d.xba,"pboLanguages")],m.prototype,"languages",null);g.__decorate([d.config(d.$d,"hasLimitedPlaybackFunctionality")],m.prototype,"Oy",null);g.__decorate([d.config(d.$d,"mdxBindUsingNodeQuark")],m.prototype,"$wa",null);g.__decorate([d.config(d.$d,"mdxPairUsingNodeQuark")],m.prototype,"Q8",null);g.__decorate([d.config(d.object(),"pboCommands")],m.prototype,"IBa",null);g.__decorate([d.config(d.Ew,"pboHistorySize")],m.prototype,"N6",null);m=g.__decorate([f.N(),g.__param(0,f.l(p.cj)),g.__param(1,f.l(k.ld)),g.__param(2,f.l(a.Dt))],m);c.bPa=m;},function(g,c,a){var p,d,k,m,t,u,y,A,l,x,n,M,R,T,r;function b(a){this.config=a;this.Nl=[];}function f(a,b,d){this.ya=a;this.hF=b;this.context=d;this.startTime=this.ya.Xb();}function h(a,d,f,c,g,k,h,m,t){this.wDa=d;this.json=f;this.ya=c;this.vy=g;this.bL=k;this.ka=h;this.Ib=t;this.log=a.lb("Pbo");this.Nl=new b(m);this.hF=this.wDa();}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);p=a(1);d=a(3);k=a(2);m=a(294);t=a(7);u=a(37);y=a(23);A=a(51);l=a(115);x=a(30);n=a(293);M=a(91);R=a(70);T=a(15);r=a(38);h.prototype.send=function(a,b){var d;d=new f(this.ya,this.hF,a);this.Nl.append(d);return this.LE(a,b,d);};h.prototype.LE=function(a,b,d){var f;f=this;return new Promise(function(c,g){f.kt(a,b).then(function(a){var b,k;f.Ppb(a);b=P(f.$ub(a));k=b.next().value;b=b.next().value;k&&(f.K1a(d),c(a));b&&(f.Uoa(d,b),g(b));})["catch"](function(a){var b;b=f.Uoa(d,a);a.Qa&&(a.Qa=[a.Qa," ",b].join(""));g(a);});});};h.prototype.Ppb=function(a){(a=a.serverTime)&&this.Ib.Jb(T.Efa.HBa,d.Db(a));};h.prototype.$ub=function(a){if(a.result)return[a.result,void 0];if(a.code)return this.log.error("Response did not contain a result or an error but did contain an error code",a),[,{code:a.code,detail:{message:a.message}}];this.log.error("Response did not contain a result or an error",a);return[,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};h.prototype.Ukb=function(a){var b;if(a){try{b=this.json.parse(a);}catch(Q){throw{uz:!0,code:"FAIL",message:"Unable to parse the response body",data:a};}if(b.error)throw b.error;if(b.result)return b;throw{uz:!0,code:"FAIL",message:"There is no result property on the response"};}throw{uz:!0,code:"FAIL",message:"There is no body property on the response"};};h.prototype.g_a=function(a,b,d){var f;f=this;this.wub(b,a);this.hF=this.wDa();return this.hF.send(b,d).then(function(a){return{kt:!1,result:f.Ukb(a.body)};})["catch"](function(d){var c,g;g=d&&d.Cj&&void 0!==d.Cj.maxRetries?Math.min(d.Cj.maxRetries,b.jaa):b.jaa;return f.YV(b,d,a,g)?(c=f.J0a(d,a,g),f.log.warn("Method failed, retrying",Object.assign({Method:b.Qk,Attempt:a+1,WaitTime:c,MaxRetries:g},f.B3(d))),Promise.resolve({kt:!0,Gd:c,error:d})):Promise.resolve({kt:!1,error:d});});};h.prototype.wub=function(a,b){var d;d=a.url.searchParams;d.set(r.IZ.vQa,(b+1).toString());d.set(r.IZ.og,a.$$.toString());d.set(r.IZ.wQa,a.Z$);};h.prototype.kt=function(a,b,d){var f;d=void 0===d?0:d;f=this;return this.g_a(d++,a,b).then(function(c){if(c.kt)return f.IM(c.Gd).then(function(){return f.kt(a,b,d);});if(c.error)throw c.error;if(void 0===c.result)throw{pboc:!1,code:"FAIL",message:"The response was undefined"};return c.result;});};h.prototype.YV=function(a,b,d,f){var c;c=this.vy.iaa||this.Qeb(b);if(c&&d<f)return!0;c?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:a.Qk,Attempt:d+1,MaxRetries:f},this.B3(b))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:a.Qk},this.B3(b)));return!1;};h.prototype.Qeb=function(a){var b,d;b=a&&a.code;d=a&&(a.Y||a.Jc);a=a.wg!==k.IY.tha;d=!!d&&d>=k.u.JA&&d<=k.u.IA&&a;return!(!b||"RETRY"!==b)||d;};h.prototype.J0a=function(a,b,f){return a&&a.Cj&&void 0!==a.Cj.retryAfterSeconds?d.Fg(a.Cj.retryAfterSeconds):d.Db(this.bL.G$(1E3,1E3*Math.pow(2,Math.min(b-1,f))));};h.prototype.IM=function(a){var b;b=this;return new Promise(function(f){b.ka.hg(a||d.Ff,f);});};h.prototype.B3=function(a){return n.Ieb(a)?a:{message:a.message,subCode:a.Jc,extCode:a.wg,mslCode:a.qq,data:a.data};};h.prototype.K1a=function(a){a.osb();};h.prototype.Uoa=function(a,b){var d;a.oy(b);try{d=this.json.stringify(this.Nl);this.log.error("PBO command history",this.json.parse(d));return d;}catch(ia){return"";}};a=h;a=g.__decorate([p.N(),g.__param(0,p.l(t.ob)),g.__param(1,p.l(m.fja)),g.__param(2,p.l(u.St)),g.__param(3,p.l(y.Pe)),g.__param(4,p.l(A.zm)),g.__param(5,p.l(l.tG)),g.__param(6,p.l(x.pg)),g.__param(7,p.l(M.gx)),g.__param(8,p.l(R.UX))],a);c.dPa=a;f.prototype.osb=function(){this.W=!0;this.elapsedTime=this.ya.Xb().me(this.startTime);};f.prototype.oy=function(a){this.W=!1;this.elapsedTime=this.ya.Xb().me(this.startTime);this.jsb=a.Jc||a.subCode;this.H8a=a.wg||a.extCode;};f.prototype.toString=function(){return JSON.stringify(this);};f.prototype.toJSON=function(){var a;a=Object.assign({success:this.W,method:this.context.Qk,profile:this.context.profile?this.context.profile.id:"",startTime:this.startTime.ea(d.ma),elapsedTime:this.elapsedTime?this.elapsedTime.ea(d.ma):"in progress"},this.hF.V2());return this.W?a:Object.assign(Object.assign(Object.assign({},a),this.hF.V2()),{subcode:this.jsb,extcode:this.H8a});};b.prototype.append=function(a){this.Nl.push(a);0<this.config.N6&&this.Nl.length>this.config.N6&&this.Nl.shift();};b.prototype.toJSON=function(){return this.Nl;};},function(g,c,a){var b,f,h,p,d,k,m,t;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(295);f=a(580);h=a(91);p=a(579);d=a(123);k=a(578);m=a(142);t=a(577);c.dlb=new g.ac(function(a){a(h.gx).to(p.bPa).Z();a(b.xha).to(f.dPa);a(d.Bha).to(k.hPa);a(d.oG).Sf(function(a){return function(){return a.ec.get(d.Bha);};});a(m.VN).to(t.sPa).Z();});},function(g,c,a){var f,h,p,d,k;function b(a){return h.ze.call(this,a,"MseConfigImpl")||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(34);h=a(36);p=a(1);d=a(27);k=a(3);ba(b,h.ze);oa.Object.defineProperties(b.prototype,{wxa:{configurable:!0,enumerable:!0,get:function(){return k.Db(5E3);}},yya:{configurable:!0,enumerable:!0,get:function(){return k.Db(1E3);}},zya:{configurable:!0,enumerable:!0,get:function(){return k.Db(1E3);}}});a=b;g.__decorate([f.config(f.Xg,"minDecoderBufferMilliseconds")],a.prototype,"wxa",null);g.__decorate([f.config(f.Xg,"optimalDecoderBufferMilliseconds")],a.prototype,"yya",null);g.__decorate([f.config(f.Xg,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"zya",null);a=g.__decorate([p.N(),g.__param(0,p.l(d.cj))],a);c.tNa=a;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(432);f=a(582);c.Hib=new g.ac(function(a){a(b.Fga).to(f.tNa).Z();});},function(g,c,a){var f,h,p,d,k,m,t,u,y,b;function b(a,b,f,c,g){function k(d,k){this.track=d;this.label=k;this.sf=u.Gb.bc.UNSENT;this.se=0;this.Hn=[];this.requestId=y++;this.Ba=f;this.log=b.lb("MediaRequest");this.config=a;this.Ib=new t.Lj();"notification"===this.label?this.config().Sp&&(this.ek=c):this.ek=g;}function h(d,k){this.requestId=y++;this.Ba=f;this.log=b.lb("MediaRequest");this.config=a;this.Ib=new t.Lj();this.label=k;"notification"===this.label?this.config().Sp&&(this.ek=c):this.ek=g;this.OJ=this.aI=this.bI=void 0;this.track=d;this.AQ=this.url=this.responseType=void 0;this.sf=u.Gb.bc.UNSENT;this.sj=this.aD=this.Xh=this.status=void 0;this.hk=this.se=0;this.connect=this.N4=this.by=this.Nv=this.J7=this.uc=this.af=this.MB=void 0;this.Hn=[];this.po=!1;}k.prototype.addEventListener=function(a,b,d){this.Ib.addListener.call(this,a,b,d);};k.prototype.removeEventListener=function(a,b){this.Ib.removeListener.call(this,a,b);};k.prototype.emit=function(a,b,d){this.Ib.Jb.call(this,a,b,d);};k.prototype.njb=function(a){this.sf===u.Gb.bc.OPENED&&(this.OJ=!0,this.af=this.uc=a.timestamp,this.sf=u.Gb.bc.Zt,this.emit(u.Gb.Bd.Tga,a));};k.prototype.A9=function(a){var b;if(this.sf<u.Gb.bc.ix){this.Hn=[];b=a.timestamp-this.af;!this.Yb&&0<b&&(this.connect=!0,this.Hn.push(b));!0!==this.config().Ndb&&(this.uc=a.timestamp);this.sf=u.Gb.bc.ix;this.emit(u.Gb.Bd.Sga,a);}};k.prototype.pjb=function(a){this.sf===u.Gb.bc.ix&&(this.J7=this.uc=a.timestamp,a.newBytes=a.bytesLoaded-this.se,this.se=a.bytesLoaded,this.Ba.Fd(this.J7)&&this.emit(u.Gb.Bd.Uga,a));};k.prototype.fl=function(a){-1<[u.Gb.bc.Zt,u.Gb.bc.ix].indexOf(this.sf)&&(this.OJ=!1,this.uc=a.timestamp,this.sf=u.Gb.bc.DONE,a.newBytes=this.rm-this.se,this.se=this.rm,this.Ba.Fd(this.by)&&(this.uc=this.by,0===a.newBytes&&(this.J7=this.by)),this.Ba.Fd(this.Nv)&&(this.af=this.Nv),this.MB=a.response,this.emit(u.Gb.Bd.jG,a));};k.prototype.ijb=function(a){this.OJ=!1;this.emit(u.Gb.Bd.PNa,a);};k.prototype.C9=function(a){this.uc=a.timestamp;this.status=a.httpcode;this.Xh=a.errorcode;this.aD=u.Gb.Jt.name[this.Xh];this.sj=a.nativecode;this.emit(u.Gb.Bd.fx,a);this.OJ=!1;};k.prototype.open=function(a,b,d,f,c,g,k){this.Zz=!1;this.AQ=b;this.url=a;this.responseType=d;if(!this.url)return!1;this.sf=u.Gb.bc.OPENED;this.ek.kJ(this,b,k);return!0;};k.prototype.ae=function(){-1!==[u.Gb.bc.OPENED,u.Gb.bc.Zt,u.Gb.bc.ix].indexOf(this.sf)&&this.abort();return!0;};k.prototype.Koa=function(){this.MB=void 0;this.pC&&(this.pC.response=void 0,this.pC.cadmiumResponse.content=void 0);this.R6=void 0;};k.prototype.dM=function(a){this.url=a;return!0;};k.prototype.abort=function(){this.sf=u.Gb.bc.xF;this.ek.aQ(this);return!0;};k.prototype.pause=function(){};k.prototype.getResponseHeader=function(){return null;};k.prototype.getAllResponseHeaders=function(){return"";};k.prototype.jL=function(){};k.prototype.ak=function(){return this.requestId;};k.prototype.toString=function(){var a;a={requestId:this.requestId,segmentId:this.kk,isHeader:this.Yb,ptsStart:this.ft,ptsOffset:this.hm,responseType:this.responseType,duration:this.xs,readystate:this.sf};this.stream&&(a.bitrate=this.stream.P);return JSON.stringify(a);};k.prototype.toJSON=function(){return this.toString();};k.prototype.ncb=function(){var a,b;if(this.config().fEa&&d.gr&&d.gr.getEntriesByType&&(!this.Ba.Fd(this.Nv)||!this.Ba.Fd(this.by)&&this.Ba.Fd(this.url))){a=""+this.url.split("nflxvideo.net")[0].split("//").pop()+("*nflxvideo.net/range/"+this.bI+"-"+this.aI+"*");b=new RegExp(a);a=d.gr.getEntriesByType("resource").filter(function(a){return b.exec(a.name);})[0];this.Ba.Fd(a)&&(0<a.startTime&&(this.Nv=a.startTime,0<a.requestStart&&(this.Nv=Math.max(this.Nv,a.requestStart))),0<a.responseStart&&(this.N4=a.responseStart),0<a.responseEnd&&(this.by=a.responseEnd));}};k.prototype.Peb=function(){return this.Ba.Fd(this.Nv)&&this.Ba.Fd(this.by)&&this.Ba.Fd(this.N4);};oa.Object.defineProperties(k.prototype,{rm:{configurable:!0,enumerable:!0,get:function(){return this.AQ.end-this.AQ.start+1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.aI-this.bI+1;}},iua:{configurable:!0,enumerable:!0,get:function(){return!!(this.response&&0<this.response.byteLength);}},Yb:{configurable:!0,enumerable:!0,get:function(){return!this.Ny;}},response:{configurable:!0,enumerable:!0,get:function(){return this.MB;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.sf;},set:function(){}}});Object.getOwnPropertyNames(k.prototype).forEach(function(a){Object.defineProperty(h.prototype,a,Object.getOwnPropertyDescriptor(k.prototype,a));});this.sk=Object.assign(h,u.Gb);}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(7);p=a(17);d=a(8);k=a(21);m=a(297);t=a(68);u=a(143);y=0;b=g.__decorate([f.N(),g.__param(0,f.l(p.ld)),g.__param(1,f.l(h.ob)),g.__param(2,f.l(k.we)),g.__param(3,f.l(m.Yga)),g.__param(4,f.l(m.yga))],b);c.aNa=b;},function(g,c,a){var f,h,p,d,k,m,t,u,y,A,l,x;function b(a,b,d,f,c,g,k){this.ya=a;this.vy=b;this.config=d;this.Jd=c;this.Nhb=g;this.Ioa=k;this.log=f.lb("MediaRequestDownloader");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(49);h=a(1);p=a(7);d=a(82);k=a(300);m=a(75);t=a(143);u=a(23);y=a(3);A=a(299);l=a(51);a=a(17);b.prototype.kJ=function(a,b,d){var g,k,h;function c(){a.removeEventListener(t.Gb.Bd.fx,c);a.bJ?a.bJ++:a.bJ=1;a.bJ>=g.config().D4.length&&(a.bJ=g.config().D4.length-1);setTimeout(function(){g.kJ(a,b,d);},g.config().D4[a.bJ]);}g=this;a.RHb=!0;k={url:a.url,responseType:this.Jd.kQa.EFa,withCredentials:!1,GC:a.O===f.tc.L.AUDIO?"audio":"video",offset:b.start,length:a.rm,track:{type:a.O===f.tc.L.AUDIO?m.mg.audio:m.mg.video},stream:{Tc:a.za,P:a.P},Wb:a.Fb,Jo:a,ei:a.Yb?void 0:this.Ioa.parse.bind(this.Ioa),$V:d,yM:this.vy.yM};k=this.Nhb.download(k,function(b){b.W&&a.readyState!==t.Gb.bc.DONE&&a.readyState!==t.Gb.bc.xF&&(a.readyState!==t.Gb.bc.Mt&&a.readyState===t.Gb.bc.Zt&&(a.readyState=t.Gb.bc.ix,a.A9({mediaRequest:a,readyState:a.readyState,timestamp:g.Fs(),connect:!1})),a.readyState=t.Gb.bc.DONE,b={mediaRequest:a,readyState:a.readyState,timestamp:g.Fs(),cadmiumResponse:b,response:b.content},a.pC=b,a.fl(b));});if(a.Yb){h={mediaRequest:a,readyState:a.readyState,timestamp:this.Fs(),connect:!1};a.A9(h);}a.addEventListener(t.Gb.Bd.fx,c);a.R6=k.abort;};b.prototype.aQ=function(a){try{a.R6();}catch(M){this.log.warn("exception aborting request");}};b.prototype.Fs=function(){return this.ya.Xb().ea(y.ma);};x=b;x=g.__decorate([h.N(),g.__param(0,h.l(u.Pe)),g.__param(1,h.l(l.zm)),g.__param(2,h.l(a.ld)),g.__param(3,h.l(p.ob)),g.__param(4,h.l(d.Ut)),g.__param(5,h.l(k.wga)),g.__param(6,h.l(A.vda))],x);c.bNa=x;},function(g,c,a){var f,h,p;function b(a,b){this.Jd=b;this.log=a.lb("OpenConnectSideChannel");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(7);a=a(82);b.prototype.kJ=function(a,b,f){this.Jd.jrb({url:a.url,mpb:f});};b.prototype.aQ=function(a){try{a.R6();}catch(k){this.log.warn("exception aborting request");}};p=b;p=g.__decorate([f.N(),g.__param(0,f.l(h.ob)),g.__param(1,f.l(a.Ut))],p);c.XNa=p;},function(g){function c(a){this.buffer=a;this.position=0;}c.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},oj:function(){return this.buffer.length-this.position;},ke:function(){return this.buffer[this.position++];},wd:function(a){var b;b=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(b,this.position):a.slice(b,this.position);},mc:function(a){for(var b=0;a--;)b=256*b+this.buffer[this.position++];return b;},Cq:function(a){for(var b="";a--;)b+=String.fromCharCode(this.buffer[this.position++]);return b;},L$:function(){for(var a="",b;b=this.ke();)a+=String.fromCharCode(b);return a;},Bb:function(){return this.mc(2);},Na:function(){return this.mc(4);},Qf:function(){return this.mc(8);},qV:function(){return this.mc(2)/256;},fL:function(){return this.mc(4)/65536;},cf:function(a){for(var b,f="";a--;)b=this.ke(),f+="0123456789ABCDEF"[b>>>4]+"0123456789ABCDEF"[b&15];return f;},kw:function(){return this.cf(4)+"-"+this.cf(2)+"-"+this.cf(2)+"-"+this.cf(2)+"-"+this.cf(6);},gL:function(a){for(var b=0,f=0;f<a;f++)b+=this.ke()<<(f<<3);return b;},Gz:function(){return this.gL(4);},vF:function(a){this.Tq(a,2);},Uq:function(a){this.Tq(a,4);},MM:function(a){this.buffer[this.position++]=a;},Tq:function(a,b){this.position+=b;for(var f=1;f<=b;f++)this.buffer[this.position-f]=a&255,a=Math.floor(a/256);},Sq:function(a){for(var b=0;b<a.length;b++)this.buffer[this.position++]=a.charCodeAt(b);},uA:function(a){for(var b=a.length,f=0;f<b;f++)this.buffer[this.position++]=a[f];},vA:function(a,b){this.uA(a.wd(b));}};g.T=c;},function(g,c,a){var f,h,p,d,k,m;function b(a,b){this.config=a;this.log=b.lb("ChunkMediaParser");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(131);p=a(7);d=a(9);k=a(17);m=a(298).J$;b.prototype.parse=function(a){var c,g,k;a=new Uint8Array(a);for(var b=m(a),f=0;f<b.length;f+=2){c=b[f];if("moof"!==c.type||"mdat"!==b[f+1].type)throw this.log.error("data is not moof-mdat box pairs",{boxType:c.type,nextBoxType:b[f+1].type}),Error("data is not moof-mdat box pairs");if(this.config().Avb&&"moof"==c.type){g=c.nv("traf/saio");k=c.nv("traf/"+d.fGa);g&&k&&(c=k.y_a.byteOffset-c.raw.byteOffset,g.eBa[0]!==c&&(this.log.error("Repairing bad SAIO",{saioOffsets:g.eBa[0],auxDataOffsets:c}),this.ykb(g,c)));}}return a.buffer;};b.prototype.ykb=function(a,b){var d;d=new h.CA(a.raw);d.seek(a.size-a.Uu);a=d.mc(1);d.mc(3)&1&&(d.Na(),d.Na());a=1<=a?8:4;d.Na();d.Tq(b,a);};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(k.ld)),g.__param(1,f.l(p.ob))],a);c.cHa=a;},function(g,c,a){var f,h,p,d,k,m,t,u,y,A;function b(a,b,d,f,c,g){this.nQ=a;this.Jd=d;this.Ba=f;this.ya=c;this.config=g;this.log=b.lb("MediaHttp");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(143);h=a(84);p=a(2);d=a(7);k=a(1);m=a(82);t=a(21);u=a(23);y=a(3);a=a(17);b.prototype.Fs=function(){return this.ya.Xb().ea(y.ma);};b.prototype.Yxa=function(a,b){a.njb({mediaRequest:a,timestamp:b});};b.prototype.pya=function(a){var b;b=a.mediaRequest.Jo;b.readyState=f.Gb.bc.ix;a=a.connect?a:{timestamp:this.Fs(),connect:!1};a.mediaRequest=b;a.readyState=b.readyState;b.A9(a);};b.prototype.HU=function(a){this.Yxa(a.mediaRequest.Jo,a.timestamp);};b.prototype.JU=function(a){var b,d;b=a.mediaRequest.Jo;d=a.bytes;"undefined"!==typeof b&&(b.readyState===f.Gb.bc.Zt&&this.pya(a),this.Ba.Xf(d)&&(a.mediaRequest=b,a.timestamp=this.Fs(),d>b.se&&(a.newBytes=d-b.se,a.bytesLoaded=d,b.pjb(a))));};b.prototype.cE=function(a){var b,d,c,g;b=a.mediaRequest;d=a.errorcode;c=a.httpcode;g=f.Gb.Jt;if("undefined"!==typeof b&&(b=b.Jo,"undefined"!==typeof b&&b.readyState!==f.Gb.bc.Mt))if(d===p.u.Ot)b.readyState=f.Gb.bc.xF,a.mediaRequest=b,a.readyState=b.readyState,b.ijb(a);else{b.readyState=f.Gb.bc.Mt;switch(d){case p.u.JA:c=g.rX;break;case p.u.HY:c=g.EY;break;case p.u.TF:c=400<c&&500>c?g.AN:500<=c?g.GY:g.EY;break;case p.u.IA:c=g.FY;break;case p.u.SF:c=g.mda;break;case p.u.UF:c=g.BN;break;case p.u.Ww:c=g.BN;break;case p.u.DY:c=g.Uea;break;case p.u.Rea:c=g.AN;break;case p.u.uIa:c=g.FY;break;default:c=g.BN;}a.mediaRequest=b;a.readyState=b.readyState;a.errorcode=c;a.nativecode=d;b.C9(a);}};b.prototype.Wjb=function(a,b){var d,c;d=b.request.Jo;if(d)if(b.W){if(a.j&&d.readyState!==f.Gb.bc.DONE){switch(d.readyState){case f.Gb.bc.xF:return;case f.Gb.bc.Zt:this.pya({mediaRequest:b.request});}d.readyState=f.Gb.bc.DONE;if(!d.Yb){c={mediaRequest:d,readyState:d.readyState,timestamp:this.Fs(),cadmiumResponse:b};a.j.Wba+=1;d.ncb();d.Peb()&&(a.j.gaa+=1,b.rj.gg=Math.ceil(d.N4),b.rj.ol=Math.ceil(d.by),b.rj.requestTime=Math.floor(d.Nv));d.pC=c;d.fl(c);}}}else d.readyState!==f.Gb.bc.xF&&(a={mediaRequest:b.request,timestamp:this.Fs(),errorcode:b.Y,httpcode:b.Wh},this.cE(a));};b.prototype.download=function(a,b){var d,c;d=this;b=this.Jd.download(a,b);if(a.Jo){c=a.Jo;-1<[f.Gb.bc.OPENED,f.Gb.bc.Mt].indexOf(c.readyState)&&(c.readyState=f.Gb.bc.Zt,this.config().Phb?b.uqb(function(a){d.HU(a);}):this.Yxa(c,this.Fs()));}b.Kma(function(b){d.Wjb(a,b);});b.Dqb(function(a){d.JU(a);});b.pqb(function(a){d.cE(a);});return b;};A=b;A=g.__decorate([k.N(),g.__param(0,k.l(h.eX)),g.__param(1,k.l(d.ob)),g.__param(2,k.l(m.Ut)),g.__param(3,k.l(t.we)),g.__param(4,k.l(u.Pe)),g.__param(5,k.l(a.ld))],A);c.XMa=A;},function(g,c,a){var f,h,p,d,b;function b(a){function b(b,f){this.G=b;this.Bl=f;this.E4=!1;this.emit=d.prototype.emit;this.addListener=d.prototype.addListener;this.on=d.prototype.on;this.once=d.prototype.once;this.removeListener=d.prototype.removeListener;this.removeAllListeners=d.prototype.removeAllListeners;this.listeners=d.prototype.listeners;this.listenerCount=d.prototype.listenerCount;d.call(this);this.fb=a.lb("DownloadTrack");}b.prototype.hn=function(){this.SP=void 0;this.emit("destroyed");};b.prototype.toString=function(){return"id:"+this.SP+" config: "+JSON.stringify(this.G);};b.prototype.toJSON=function(){return"Download Track id:"+this.SP+" config: "+JSON.stringify(this.G);};b.prototype.oAa=function(a){this.G.connections!==a.connections&&(this.G=a);};b.prototype.bk=function(){return 1<this.G.connections?!0:!1;};oa.Object.defineProperties(b.prototype,{eb:{configurable:!0,enumerable:!0,get:function(){return this.SP;}},po:{configurable:!0,enumerable:!0,get:function(){return void 0===this.SP;}},config:{configurable:!0,enumerable:!0,get:function(){return this.G;}},wz:{configurable:!0,enumerable:!0,get:function(){return this.fb;}},ek:{configurable:!0,enumerable:!0,get:function(){return this.Bl.ek;}}});this.DA=Object.assign(b,new p.RIa());}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(7);p=a(145);d=a(144).EventEmitter;b=g.__decorate([f.N(),g.__param(0,f.l(h.ob))],b);c.QIa=b;},function(g,c,a){var b,f,h,p,d,k,m,t,u,y,A;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(145);f=a(590);h=a(300);p=a(589);d=a(299);k=a(588);m=a(297);t=a(586);u=a(585);y=a(296);A=a(584);c.MZa=new g.ac(function(a){a(b.eea).to(f.QIa).Z();a(h.wga).to(p.XMa).Z();a(d.vda).to(k.cHa).Z();a(m.Yga).to(t.XNa).Z();a(m.yga).to(u.bNa).Z();a(y.xga).to(A.aNa).Z();});},function(g,c,a){var f,h,p,d,k;function b(a){return h.ze.call(this,a,"PrefetchEventsConfigImpl")||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(36);p=a(27);d=a(34);k=a(3);ba(b,h.ze);oa.Object.defineProperties(b.prototype,{zBa:{configurable:!0,enumerable:!0,get:function(){return!0;}},h8:{configurable:!0,enumerable:!0,get:function(){return k.f9(5);}}});a=b;g.__decorate([d.config(d.$d,"sendPrefetchEventLogs")],a.prototype,"zBa",null);g.__decorate([d.config(d.Xg,"logsInterval")],a.prototype,"h8",null);a=g.__decorate([f.N(),g.__param(0,f.l(p.cj))],a);c.XPa=a;},function(g,c,a){var f,h,p;function b(a,b){this.Ba=b;this.ia=a.lb("PlayPredictionDeserializer");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(7);a=a(21);b.prototype.e6a=function(a){var b;b=this;try{return{direction:a.direction,Dfb:a.layoutHasChanged,Vob:a.rowInteractionIndex,Ca:a.lolomos.map(function(a){return b.a6a(a);})};}catch(m){this.ia.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(a)});}};b.prototype.a6a=function(a){var b;b=this;return{context:a.context,list:a.list.map(function(a){return b.$5a(a);}),requestId:a.requestId,rowIndex:a.rowIndex,Xob:a.rowSegment};};b.prototype.$5a=function(a){var b,d;b={Kd:a.pts,property:a.property,qc:a.viewableId,index:a.index};d=a.preplay;this.Ba.Fd(d)&&(b.qE=this.d6a(d));a=a.params;this.Ba.Fd(a)&&(b.cb=this.oqa(a));return b;};b.prototype.d6a=function(a){var b;b={Kd:a.pts,qc:a.viewableId,vz:a.pipelineNum,index:a.index};a=a.params;this.Ba.Fd(a)&&(b.cb=this.oqa(a));return b;};b.prototype.oqa=function(a){return{ue:a.uiLabel,bh:a.trackingId,lm:a.sessionParams};};b.prototype.pqa=function(a){var b;b=this;try{return a.map(function(a){return b.b6a(a);});}catch(m){this.ia.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(a)});}};b.prototype.b6a=function(a){var b,d;d=a.params;this.Ba.Fd(d)&&(b=this.c6a(d));return{M:a.movieId,Vd:a.priority,force:a.force,cb:b,ue:a.uiLabel,NKb:a.uiExpectedStartTime,MKb:a.uiExpectedEndTime,Hi:a.firstTimeAdded};};b.prototype.c6a=function(a){var b,d;b=void 0;d=a.sessionParams;this.Ba.Fd(d)&&(b=d);return{PH:this.Z5a(a.authParams),lm:b,bh:a.trackingId,U:a.startPts,Ja:a.manifest,cg:a.isBranching};};b.prototype.Z5a=function(a){return{Yya:(a||{}).pinCapableClient};};b.prototype.Tpb=function(a){var b,d;try{b="";this.Ba.Fd(a.pza)&&(b=JSON.stringify(this.Wpb(JSON.parse(a.pza))));d="";this.Ba.Fd(a.qza)&&(d=JSON.stringify(this.Xpb(JSON.parse(a.qza))));return{dest_id:a.pR,offset:a.offset,predictions:a.uza.map(this.Zpb,this),ppm_input:b,ppm_output:d,prepare_type:a.wJb};}catch(t){this.ia.error("Failed to serialize serializeDestinyPrepareEvent",{prepareList:JSON.stringify(a)});}};b.prototype.Zpb=function(a){return{title_id:a.$o};};b.prototype.Wpb=function(a){return{direction:a.direction,layoutHasChanged:a.Dfb,rowInteractionIndex:a.Vob,lolomos:a.Ca.map(this.Vpb,this)};};b.prototype.Vpb=function(a){return{context:a.context,list:a.list.map(this.Upb,this),requestId:a.requestId,rowIndex:a.rowIndex,rowSegment:a.Xob};};b.prototype.Upb=function(a){var b,d;this.Ba.Fd(a.qE)&&(b=this.$pb(a.qE));this.Ba.Fd(a.cb)&&(d=this.Naa(a.cb));return{preplay:b,pts:a.Kd,viewableId:a.qc,params:d,property:a.property,index:a.index};};b.prototype.$pb=function(a){var b;this.Ba.Fd(a.cb)&&(b=this.Naa(a.cb));return{pts:a.Kd,viewableId:a.qc,params:b,pipelineNum:a.vz,index:a.index};};b.prototype.Naa=function(a){return{uiLabel:a.ue,trackingId:a.bh,sessionParams:a.lm};};b.prototype.Xpb=function(a){return a.map(this.Ypb,this);};b.prototype.Ypb=function(a){var b;this.Ba.Fd(a.cb)&&(b=this.Naa(a.cb));return{movieId:a.M,priority:a.Vd,params:b,uiLabel:a.ue,firstTimeAdded:a.Hi,viewableId:a.qc,pts:a.Kd};};p=b;p=g.__decorate([f.N(),g.__param(0,f.l(h.ob)),g.__param(1,f.l(a.we))],p);c.xPa=p;},function(g,c,a){var h,p,d,k,m,t,u,y,A;function b(a,b,d,f,c,g,k,h){this.Ah=a;this.ez=b;this.ka=d;this.gw=c;this.config=g;this.p5=k;this.c$=h;this.nV=[];this.H7=[];this.q$={};this.ia=f.lb("PrefetchEvents");}function f(a,b,d,f,c,g){this.Ah=a;this.ez=b;this.ka=d;this.yf=f;this.config=c;this.c$=g;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(112);p=a(1);d=a(3);k=a(39);m=a(58);t=a(30);u=a(7);y=a(301);a=a(183);f.prototype.create=function(a,d){return new b(this.Ah,this.ez,this.ka,this.yf,a,this.config,d,this.c$);};A=f;A=g.__decorate([p.N(),g.__param(0,p.l(k.Mj)),g.__param(1,p.l(m.Yn)),g.__param(2,p.l(t.pg)),g.__param(3,p.l(u.ob)),g.__param(4,p.l(y.dia)),g.__param(5,p.l(a.zZ))],A);c.YPa=A;b.prototype.w0a=function(a,b,d){this.Xy(h.ye.Tw.oGa,a,b,void 0,d);};b.prototype.y0a=function(a,b,d){this.Xy(h.ye.Tw.pGa,a,b,void 0,d);};b.prototype.u0a=function(a,b,d){this.Xy(h.ye.Tw.nGa,a,b,void 0,d);};b.prototype.s0a=function(a,b,d){this.Xy(h.ye.Tw.lGa,a,b,void 0,d);};b.prototype.cI=function(a,b,d){this.Xy(h.ye.Tw.mGa,a,b,void 0,d);};b.prototype.Mlb=function(a){this.Xy(h.ye.Tw.oOa,void 0,a);};b.prototype.kl=function(a,b,d,f,c,g,k){this.dQ()&&(this.Xy(h.ye.Tw.PQa,void 0,a),this.Agb(a,b,d,f,c,g,k),this.Ura(),this.hwa());this.Meb(a)&&this.Eob();};b.prototype.h6a=function(a){a={dest_id:a,cache:this.Maa(this.p5())};this.CL("destiny_start",a);};b.prototype.nmb=function(a){(a=this.c$.Tpb(a))?this.CL("destiny_prepare",a):this.ia.error("failed to serialize prepare event");};b.prototype.Ura=function(){0<this.nV.length&&this.dQ()&&(this.CL("destiny_events",{dest_id:this.gw.Im,events:this.nV}),this.nV=[]);this.NV&&(this.NV.cancel(),this.NV=void 0);this.jra();};b.prototype.hwa=function(){var a;if(this.x0a()&&this.dQ()){a=this.p5();this.H7=a;a={dest_id:this.gw.Im,offset:this.gw.yS(),cache:this.Maa(a)};this.CL("destiny_cachestate",a);}this.MV&&(this.MV.cancel(),this.MV=void 0);this.ira();};b.prototype.update=function(a){var b;b=this;a.Ca.forEach(function(a){a.list.forEach(function(a){b.q$[a.qc]=!0;});});};b.prototype.Meb=function(a){return this.q$[a];};b.prototype.x0a=function(){var a,b,d;a=this;b=this.p5();if(b.length!==this.H7.length)return!0;d=!1;b.forEach(function(b,f){try{JSON.stringify(b)!==JSON.stringify(a.H7[f])&&(d=!0);}catch(T){a.ia.error("Failed to stringify cachedTitle",T);}});return d;};b.prototype.Xy=function(a,b,d,f,c){this.dQ()&&(a={offset:this.gw.yS(),event_type:a,title_id:d,asset_type:b,size:f,reason:c},this.nV.push(a),this.jra(),this.ira());};b.prototype.jra=function(){this.NV||(this.NV=this.ka.hg(this.config.h8,this.Ura.bind(this)));};b.prototype.ira=function(){this.MV||(this.MV=this.ka.hg(this.config.h8,this.hwa.bind(this)));};b.prototype.Agb=function(a,b,f,c,g,k,m){var t;t=[];f&&t.push({$o:a,Yr:h.ye.Wi.Gca,state:h.ye.PM.YM});c&&t.push({$o:a,Yr:h.ye.Wi.Xw,state:h.ye.PM.YM});g&&t.push({$o:a,Yr:h.ye.Wi.PF,state:h.ye.PM.YM});(0<k.ea(d.ma)||0<m.ea(d.ma))&&t.push({$o:a,Yr:h.ye.Wi.MEDIA,state:h.ye.PM.YM,q_a:k.ea(d.ma),lvb:m.ea(d.ma)});a={dest_id:this.gw.Im,offset:this.gw.yS(),xid:b,cache:this.Maa(t)};this.CL("destiny_playback",a);};b.prototype.CL=function(a,b){this.config.zBa&&(a=this.ez.Pl(a,"info",b),this.Ah.vc(a));};b.prototype.Maa=function(a){return a.map(function(a){return{title_id:a.$o,state:a.state,asset_type:a.Yr,size:a.size,audio_ms:a.q_a,video_ms:a.lvb};});};b.prototype.dQ=function(){return 0!==this.gw.Im;};b.prototype.Eob=function(){this.gw.Dob();this.q$={};};},function(g,c,a){var b,f,h,p,d,k,m;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(112);f=a(594);h=a(183);p=a(593);d=a(592);k=a(301);m=a(107);c.Kc=new g.ac(function(a){a(k.dia).to(d.XPa).Z();a(b.eia).to(f.YPa).Z();a(h.zZ).to(p.xPa).Z();a(m.fB).Sf(function(){return function(){return J._cad_global.videoPreparer;};});});},function(g,c,a){var f,h,p,d;function b(){}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(8);p=a(184);b.prototype.Gbb=function(){var a;a=J.devicePixelRatio||1;return{width:this.y0.THa||h.hr.width*a,height:this.y0.SHa||h.hr.height*a};};oa.Object.defineProperties(b.prototype,{y0:{configurable:!0,enumerable:!0,get:function(){return a(33).Jg;}}});d=b;g.__decorate([p.JT],d.prototype,"y0",null);d=g.__decorate([f.N()],d);c.HSa=d;},function(g,c,a){var f,h;function b(){}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(139);b.prototype.compare=function(a,b){var d;d=[];this.M2(a,b,"",d);return d;};b.prototype.M2=function(a,b,f,c){var d;d=this;if(h.Rt.Xr(a))h.Rt.Xr(b)&&a.length===b.length?a.forEach(function(g,k){d.M2(a[k],b[k],f+"["+k+"]",c);}):c.push({a:a,b:b,path:f});else if(h.Rt.Qx(a)&&null!=a)if(h.Rt.Qx(b)&&null!=b){for(var g in a)this.M2(a[g],b[g],f+"."+g,c);for(var k in b)k in a||void 0===b[k]||c.push({a:void 0,b:b[k],path:f+"."+k});}else c.push({a:a,b:b,path:f});else a!==b&&c.push({a:a,b:b,path:f});};a=b;a=g.__decorate([f.N()],a);c.SNa=a;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.TNa="ObjectComparerSymbol";},function(g,c,a){var f,h,p,d;function b(a){this.location=a;h.al(this,"location");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(47);p=a(37);a=a(1);b.RU=function(a){var b,c,g;b={};if(0<a.length){a=a.split("&");for(var d=0;d<a.length;d++){c=a[d].trim();g=c.indexOf("=");0<=g?b[decodeURIComponent(c.substr(0,g).replace(f.rha,"%20"))]=decodeURIComponent(c.substr(g+1).replace(f.rha,"%20")):b[c.toLowerCase()]="";}}return b;};oa.Object.defineProperties(b.prototype,{bnb:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=f.RU(this.Qza);}},Qza:{configurable:!0,enumerable:!0,get:function(){var a;if(void 0!==this.aL)return this.aL;this.aL=this.location.search.substr(1);a=this.aL.indexOf("#");0<=a&&(this.aL=this.Qza.substr(0,a));return this.aL;}}});d=f=b;d.rha=/[+]/g;d=f=g.__decorate([a.N(),g.__param(0,a.l(p.Tfa))],d);c.fQa=d;},function(g,c,a){var f;function b(){}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.osa=function(a){var b;b=this;return a?(a^16*Math.random()>>a/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(a){return b.osa(a);});};f=b;f=g.__decorate([a.N()],f);c.sSa=f;},function(g,c,a){var f,h,p,d,k,m;function b(a,b){this.is=a;this.json=b;h.al(this,"json");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(47);p=a(37);d=a(1);k=a(21);m=a(134);b.prototype.aAa=function(a){var b;b=this;return f.read(a,function(a){return parseInt(a);},function(a){return b.is.x1(a);});};b.prototype.K$=function(a){var b;b=this;return f.read(a,function(a){return"true"==a?!0:"false"==a?!1:void 0;},function(a){return b.is.uH(a);});};b.prototype.Na=function(a){var b;b=this;return f.read(a,function(a){return parseInt(a);},function(a){return b.is.Hp(a);});};b.prototype.lnb=function(a){var b;b=this;return f.read(a,function(a){return parseFloat(a);},function(a){return b.is.Xf(a);});};b.prototype.$za=function(a,b){return f.read(a,function(a){return f.e9a(a,b);},function(a){return void 0!==a;});};b.prototype.N$=function(a,b){return f.read(a,function(a){return a;},function(a){return b?b.test(a):!0;});};b.prototype.bAa=function(a){var b,d;b=void 0===b?function(){return!0;}:b;d=this;try{return f.read(a,function(a){return d.json.parse(decodeURIComponent(a));},function(a){return d.is.Qx(a)&&b(a);});}catch(A){return new m.Cm();}};b.prototype.wd=function(a,b,d){var c,g;d=void 0===d?1:d;c=this;a=a.trim();g=b instanceof Function?b:this.B4a(b,d);b=a.indexOf("[");d=a.lastIndexOf("]");if(0!=b||d!=a.length-1)return new m.Cm();a=a.substring(b+1,d);try{return f.Rkb(a).map(function(a){a=g(c,f.Zub(a));if(a instanceof m.Cm)throw a;return a;});}catch(x){return x instanceof m.Cm?x:new m.Cm();}};b.prototype.B4a=function(a,b){var d;b=void 0===b?1:b;d=this;return function(c,g){c=f.rbb(a);return 1<b?d.wd(g,a,b-1):c(d,g);};};b.e9a=function(a,b){var f;for(var d in b){f=parseInt(d);if(b[f]==a)return f;}};b.read=function(a,b,d){a=b(a);return void 0!==a&&d(a)?a:new m.Cm();};b.rbb=function(a){switch(a){case"int":return function(a,b){return a.aAa(b);};case"bool":return function(a,b){return a.K$(b);};case"uint":return function(a,b){return a.Na(b);};case"float":return function(a,b){return a.lnb(b);};case"string":return function(a,b){return a.N$(b);};case"object":return function(a,b){return a.bAa(b);};}};b.Rkb=function(a){var t;for(var b=[["[","]"]],d=[],f=0,c=0,g=0,k=[],h={};c<a.length;h={"char":h["char"]},++c){h["char"]=a.charAt(c);t=void 0;","==h["char"]&&0==g?(d.push(a.substr(f,c-f)),f=c+1):(t=b.find(function(a){return function(b){return b[0]==a["char"];};}(h)))?(++g,k.push(t)):0<k.length&&k[k.length-1][1]==h["char"]&&(--g,k.pop());}if(f!=c)d.push(a.substr(f,c-f));else if(f==c&&0<f)throw new m.Cm();return d;};b.Zub=function(a){var b;b=a.charAt(0);if('"'==b||"'"==b){if(a.charAt(a.length-1)!=b)throw new m.Cm();return a.substring(1,a.length-1);}return a;};a=f=b;a=f=g.__decorate([d.N(),g.__param(0,d.l(k.we)),g.__param(1,d.l(p.St))],a);c.wRa=a;},function(g,c,a){var b,f,h,p,d,k,m,t,u,y;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(601);f=a(600);h=a(599);p=a(134);d=a(466);k=a(327);m=a(598);t=a(597);u=a(302);y=a(596);c.Xd=new g.ac(function(a){a(p.RZ).to(b.wRa).Z();a(d.HZ).to(h.fQa).Z();a(k.mja).to(f.sSa).Z();a(m.TNa).to(t.SNa).Z();a(u.yja).to(y.HSa).Z();});},function(g,c,a){var f,h;function b(a){this.ajb=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(303);a=a(1);b.prototype.Osa=function(){var a;a=this.ajb.getDeviceId();return new Promise(function(b,f){a.oncomplete=function(){b(a.result);};a.onerror=function(){f(a.error);};});};h=b;h=g.__decorate([a.N(),g.__param(0,a.l(f.Pga))],h);c.qHa=h;},function(g,c,a){var b,f,h,p,d;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(303);f=a(334);h=a(335);p=a(603);d=a(8);c.crypto=new g.ac(function(a){a(h.Eda).to(p.qHa).Z();a(b.Pga).Dh(d.Xt);a(f.Fda).Dh(d.eZ);});},function(g,c,a){var f,h,p,d,k,m,t,u;function b(a,b,d){var f;f=m.cO.call(this,a,b,"network")||this;f.eR=d;f.vR=k.FX.JMa;f.nhb=30;f.mkb=function(a){f.vR=a.target.value;f.refresh();};f.Tjb=function(){f.data={};f.refresh();};f.$Aa=function(a){a=JSON.stringify(f.data[f.vR][Number(a.target.id)].value,null,4);u.wX.a3(a);};return f;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(22);p=a(21);d=a(70);k=a(149);m=a(306);t=a(106);u=a(186);ba(b,m.cO);b.prototype.Bc=function(){var a;a=this;if(this.sn)return Promise.resolve();J.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==t.er.xNa&&a.toggle();});this.data={};this.eR.addListener(k.Wda.cPa,function(b){var d;a.data[b.type]||(a.data[b.type]=[]);d=a.data[b.type];d.length===a.nhb&&d.shift();d.push(b);b.type===a.vR&&a.refresh();});this.sn=!0;return Promise.resolve();};b.prototype.Vk=function(){return'<tr class="'+this.prefix+'-display-headerrow">'+('<th width="30px"><span class="'+this.prefix+'-display-indexheader">#</span></th>')+('<th width="150px"><span class="'+this.prefix+'-display-keyheader">Name</span></th>')+('<th style="border-right:solid 0px"><span class="'+this.prefix+'-display-valueheader">Value</span></th>')+('<th style="border-left:solid 0px" width="30px"><button id="'+this.prefix+'-display-close-btn">X</button></th>')+"</tr>";};b.prototype.a6=function(a,b,d){var f;f=a.toString();b='<font color="#C41A16">"'+b+'"</font>';d=this.moa.lo(d);return"<tr>"+('<td><span class="'+this.prefix+'-display-indexvalue">'+f+"</span></td>")+('<td><span class="'+this.prefix+'-display-keyvalue">'+b+"</span></td>")+('<td style="border-right:solid 0px"><ul class="'+this.prefix+'-display-tree">'+d+"</ul></td>")+('<td style="border-left:solid 0px"><ul class="'+this.prefix+'-display-item-inline"><button id="'+a+'" class="'+this.prefix+'-display-btn-inline">Copy</button></ul></td>')+"</tr>";};b.prototype.j6=function(){for(var a='<table class="'+this.prefix+'-display-table" width="100%">'+this.Vk(),b=this.data[this.vR]||[],d=0;d<b.length;++d)a+=this.a6(d,b[d].name,b[d].value);return a+"</table>";};b.prototype.Msa=function(){var a;a=this.pc.createElement("button",m.DF,"Clear",{"class":this.prefix+"-display-btn"});a.onclick=this.Tjb;return[a,this.L4a(),this.E4a()];};b.prototype.L4a=function(){var a;a=this.pc.createElement("select",m.DF,Object.keys(k.FX).reduce(function(a,b){b=k.FX[b];return a+('<option value="'+b+'">'+b+"</option>");},""),{"class":this.prefix+"-display-select"});a.onchange=this.mkb;return a;};b.prototype.E4a=function(){var a,b,d,f;a=this;b=this.pc.createElement("input","margin:3px;",void 0,{id:"preventRefresh",type:"checkbox",title:"PreventRefresh"});b.checked=this.XK;b.onchange=function(){return a.jtb();};d=this.pc.createElement("label",void 0,"Prevent Refresh",{"for":"preventRefresh"});f=this.pc.createElement("div",void 0,void 0,{"class":this.prefix+"-display-div"});f.appendChild(b);f.appendChild(d);return f;};b.prototype.qAa=function(){return Promise.resolve(this.j6());};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.df)),g.__param(1,f.l(p.we)),g.__param(2,f.l(d.GF))],a);c.OAb=a;},function(g,c,a){var p,d,k,m,t,u,y,A,l,x,n,M,R,T,r;function b(a,b,d,f,c,g,k,m,t){var p;p=this;this.Sa=a;this.app=b;this.pc=d;this.ka=f;this.lk=c;this.config=g;this.FC=k;this.Msb=m;this.Ch=t;this.Nsb=function(){p.TDa.Kb(function(){p.update();});};this.clear=function(){p.entries=[];p.update();};this.uxa=function(){p.zd.zD=!p.zd.zD;p.Qv&&p.Wv&&(p.zd.zD?(p.Qv.style.display="inline-block",p.Wv.style.display="none"):(p.Wv.style.display="inline-block",p.Qv.style.display="none"));p.Yz(!1);};this.Hgb=function(a){var b;p.entries.push(a);b=p.config.ID;0<=b&&p.entries.length>b&&p.entries.shift();void 0===p.zd.ls[a.Ok]&&(p.zd.ls[a.Ok]=!0,p.Yz(!1));p.zd.cm&&!p.UCa?p.Nsb():p.TDa.Kb();};this.D6a=function(){h.download("all",p.entries.map(function(a){return a.zW(!1,!1);}))["catch"](function(a){console.error("Unable to download all logs to the file",a);});};this.sn=!1;this.zd={cm:!1,zD:!0,uR:!0,d8:l.Jh.JY,ls:{}};this.TDa=this.Msb(u.Fg(1));this.entries=[];}function f(a){var b;this.elements=[];b=document.createElementNS(f.cM,"svg");b.setAttribute("viewBox",a);this.elements.push(b);}function h(){}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);p=a(1);d=a(22);k=a(96);m=a(30);t=a(42);u=a(3);y=a(23);A=a(92);l=a(7);x=a(95);n=a(185);M=a(304);R=a(63);T=a(106);r=a(186);h.download=function(a,b){return h.rab(a).then(function(a){return h.icb(a,b.join("\r\n")).then(function(a){return h.C6a(a.filename,a.text);});});};h.rab=function(a){return new Promise(function(b,d){var f,c,g,k,h,m,t;try{f=new Date();c=f.getDate().toString();g=(f.getMonth()+1).toString();k=f.getFullYear().toString();h=f.getHours().toString();m=f.getMinutes().toString();t=f.getSeconds().toString();1===c.length&&(c="0"+c);1===g.length&&(g="0"+g);1===h.length&&(h="0"+h);1===m.length&&(m="0"+m);1===t.length&&(t="0"+t);b(k+g+c+h+m+t+"."+a+".log");}catch(wa){d(wa);}});};h.icb=function(a,b){return new Promise(function(d,f){try{d({filename:a,text:URL.createObjectURL(new Blob([b],{type:"text/plain"}))});}catch(Z){f(Z);}});};h.C6a=function(a,b){var d;try{d=document.createElement("a");d.setAttribute("href",b);d.setAttribute("download",a);d.style.display="none";document.body.appendChild(d);d.click();document.body.removeChild(d);return Promise.resolve();}catch(ia){return Promise.reject(ia);}};f.prototype.SE=function(){var a;a=document.createElementNS(f.cM,"g");a.setAttribute("stroke","none");a.setAttribute("stroke-width",1..toString());a.setAttribute("fill","none");a.setAttribute("fill-rule","evenodd");a.setAttribute("stroke-linecap","round");this.addElement(a);return this;};f.prototype.TE=function(a,b,d){var c;c=document.createElementNS(f.cM,"path");c.setAttribute("d",a);b&&c.setAttribute("fill",b);d&&c.setAttribute("fill-rule",d);this.addElement(c);return this;};f.prototype.RL=function(a,b,d,c,g){var k;g=void 0===g?"#000000":g;k=document.createElementNS(f.cM,"rect");k.setAttribute("x",a.toString());k.setAttribute("y",b.toString());k.setAttribute("height",d.toString());k.setAttribute("width",c.toString());g&&k.setAttribute("fill",g);this.addElement(k);return this;};f.prototype.Crb=function(){var a;a=document.createElementNS(f.cM,"polygon");a.setAttribute("points","0 0 24 0 24 24 0 24");a.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(a);return this;};f.prototype.end=function(){this.elements.pop();return this;};f.prototype.lo=function(){if(1<this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0===this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};f.prototype.addElement=function(a){if(0===this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length-1].appendChild(a);this.elements.push(a);};oa.Object.defineProperties(f,{background:{configurable:!0,enumerable:!0,get:function(){return"transparent";}},gy:{configurable:!0,enumerable:!0,get:function(){return"#000000";}}});f.cM="http://www.w3.org/2000/svg";b.prototype.Bc=function(){var a;a=this;this.$h||(this.$h=new Promise(function(b){J.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&(b.keyCode==T.er.ELa?a.toggle():b.keyCode==T.er.E&&r.wX.a3(a.FC().Rg));});a.lk.wV(n.bga.UHa,a.Hgb);b();}));return this.$h;};b.prototype.show=function(){document.body&&(this.element||(this.h4a(),this.sn=!0),!this.zd.cm&&this.element&&(document.body.appendChild(this.element),this.zd.cm=!0,this.update(!0)));};b.prototype.rD=function(){this.sn&&this.zd.cm&&this.element&&(document.body.removeChild(this.element),this.zd.cm=!1);};b.prototype.toggle=function(){this.zd.cm?this.rD():this.show();this.Yz(!1);};b.prototype.h4a=function(){var a,b;try{a=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});b=this.createElement("style");b.type="text/css";b.appendChild(document.createTextNode("button:focus { outline: none; }"));a.appendChild(b);a.appendChild(this.Cw=this.J4a());a.appendChild(this.K4a());a.appendChild(this.c4a());this.element=a;}catch(Q){console.error("Unable to create the log console",Q);}};b.prototype.J4a=function(){var a,b;a=this;b=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");b.setAttribute("wrap","off");b.setAttribute("readonly","readonly");b.addEventListener("focus",function(){a.UCa=!0;a.update();a.Cw&&(a.Cw.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});b.addEventListener("blur",function(){a.UCa=!1;a.update();a.Cw&&(a.Cw.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return b;};b.prototype.K4a=function(){var a;a=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");a.appendChild(this.w4a());a.appendChild(this.q4a());a.appendChild(this.l4a());a.appendChild(this.M4a());a.appendChild(this.f4a());a.appendChild(this.A4a());a.appendChild(this.z4a());a.appendChild(this.n4a());a.appendChild(this.g4a());return a;};b.prototype.c4a=function(){var a,b,d,f,c,g;a=this;b=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");d=this.createElement("div","padding:2px");f=this.createElement("select",this.Xp(22,160,1,2),"<option>Select categories</option>");c=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");b.appendChild(d);b.appendChild(c);d.appendChild(f);d.addEventListener("mousedown",function(a){a.preventDefault();});g=!1;d.addEventListener("click",function(){g?c.style.display="none":(c.innerHTML="",["all","none"].concat(Object.keys(a.zd.ls).sort()).forEach(function(b){c.appendChild(a.d4a(b,d));}),c.style.display="block");g=!g;});return b;};b.prototype.d4a=function(a,b){var d,f,c;d=this;f=this.createElement("label","display: block;margin:1px");f.htmlFor=a;c=this.createElement("input","margin:1px");c.type="checkbox";c.id=a;c.checked=this.zd.ls[a];c.addEventListener("click",function(){"all"===a||"none"===a?(Object.keys(d.zd.ls).forEach(function(b){d.zd.ls[b]="all"===a;}),b.click()):d.zd.ls[a]=!d.zd.ls[a];d.Yz(!0);});f.appendChild(c);f.insertAdjacentText("beforeend",18<a.length?a.slice(0,15)+"...":a);return f;};b.prototype.w4a=function(){var a,b;a=this;b=this.createElement("select",this.Xp(22,NaN,1,2),'<option value="'+l.Jh.ERROR+'">Error</option>'+('<option value="'+l.Jh.a_+'">Warn</option>')+('<option value="'+l.Jh.JY+'">Info</option>')+('<option value="'+l.Jh.Zia+'">Trace</option>')+('<option value="'+l.Jh.zX+'">Debug</option>'));b.value=this.zd.d8.toString();b.addEventListener("change",function(b){a.zd.d8=parseInt(b.target.value);a.Yz(!0);},!1);return b;};b.prototype.q4a=function(){var b,d;function a(a){a=a.target.value;b.zd.filter=a?new RegExp(a):void 0;b.Yz(!0);}b=this;d=this.createElement("input",this.Xp(14,150,1,2));d.value=this.zd.filter?this.zd.filter.source:"";d.title="Filter (RegEx)";d.placeholder="Filter (RegEx)";d.addEventListener("keydown",a,!1);d.addEventListener("change",a,!1);return d;};b.prototype.l4a=function(){var a,b,d,f;a=this;b=this.createElement("div",this.Xp(NaN,NaN));d=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");d.id="details";d.type="checkbox";d.title="Details";d.checked=this.zd.uR;d.addEventListener("change",function(b){a.zd.uR=b.target.checked;a.Yz(!0);},!1);f=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");f.setAttribute("for","details");f.innerHTML="View details";b.appendChild(d);b.appendChild(f);return b;};b.prototype.M4a=function(){var a,b,d;a=this;b=this.createElement("button",this.Xp());d=new f("0 0 24 24").SE().Crb().end().TE("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",f.gy,"nonzero").end().end().lo();b.appendChild(d);b.addEventListener("click",function(){a.update();},!1);b.setAttribute("title","Refresh the log console");return b;};b.prototype.f4a=function(){var a,b;a=this.createElement("button",this.Xp());b=new f("0 0 24 24").SE().RL(0,0,24,24,f.background).end().TE("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",f.gy).end().end().lo();a.appendChild(b);a.addEventListener("click",this.clear,!1);a.setAttribute("title","Remove all log messages");return a;};b.prototype.A4a=function(){var a;this.Wv=this.createElement("button",this.Xp());this.Wv.style.display=this.zd.zD?"none":"inline-block";a=new f("0 0 24 24").SE().RL(0,0,24,24,f.background).end().TE("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",f.gy,"nonzero").end().end().lo();this.Wv.addEventListener("click",this.uxa,!1);this.Wv.appendChild(a);this.Wv.setAttribute("title","Shrink the log console");return this.Wv;};b.prototype.z4a=function(){var a;this.Qv=this.createElement("button",this.Xp());this.Qv.style.display=this.zd.zD?"inline-block":"none";a=new f("0 0 24 24").SE().RL(4,4,16,16,f.background).end().TE("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",f.gy,"nonzero").end().end().lo();this.Qv.addEventListener("click",this.uxa,!1);this.Qv.appendChild(a);this.Qv.setAttribute("title","Expand the log console");return this.Qv;};b.prototype.n4a=function(){var a,b;a=this.createElement("button",this.Xp());b=new f("0 0 26 26").SE().RL(0,0,24,24,f.background).end().TE("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",f.gy,"nonzero").end().end().lo();a.appendChild(b);a.addEventListener("click",this.D6a,!1);a.setAttribute("title","Download all log messages");return a;};b.prototype.g4a=function(){var a,b,d;a=this;b=this.createElement("button",this.Xp());d=new f("0 0 24 24").SE().RL(0,0,24,24,f.background).end().TE("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",f.gy,"nonzero").end().end().lo();b.appendChild(d);b.addEventListener("click",function(){a.toggle();},!1);b.setAttribute("title","Close the log console");return b;};b.prototype.Yz=function(a){(void 0===a?0:a)&&this.update(!1);};b.prototype.update=function(a){var b;a=void 0===a?!1:a;b=this;this.element&&this.config.lL&&Promise.resolve(this.m0a()+this.sab().join("\r\n")).then(function(d){b.element&&b.Cw&&(b.Cw.value=d,b.element.style.cssText=b.zd.zD?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",a&&b.ka.hg(u.Ff,function(){b.Cw.scrollTop=b.Cw.scrollHeight;}));})["catch"](function(a){console.error("Unable to update the log console",a);});};b.prototype.sab=function(){var a,b;a=this;b=[];this.entries.forEach(function(d){(d.level||d.level)<=a.zd.d8&&a.zd.ls[d.Ok]&&(d=d.zW(!a.zd.uR,!a.zd.uR),a.zd.filter&&!a.zd.filter.test(d)||b.push(d));});return b;};b.prototype.m0a=function(){var a;a=this.FC();return"Version: 6.0019.057.011 \n"+((a?"Esn: "+a.Rg:"")+"\n")+("JsSid: "+this.app.id+", Epoch: "+this.Sa.Xe.ea(u.Em)+", Start: "+this.app.Vy.ea(u.Em)+", TimeZone: "+new Date().getTimezoneOffset()+"\n")+("Href: "+location.href+"\n")+("UserAgent: "+navigator.userAgent+"\n")+"--------------------------------------------------------------------------------\n";};b.prototype.createElement=function(a,b,d,f){return this.pc.createElement(a,b,d,f);};b.prototype.Xp=function(a,b,d,c){a=void 0===a?26:a;b=void 0===b?26:b;return"display:inline-block;border:"+(void 0===d?0:d)+"px solid "+f.gy+";padding:3px;"+(isNaN(a)?"":"height:"+a+"px")+";"+(isNaN(b)?"":"width:"+b+"px")+";margin:0px 3px;background-color:transparent;"+(c?"border-radius:"+c+"px;":"");};a=b;a.Urb="logDxDisplay";a=g.__decorate([p.N(),g.__param(0,p.l(t.Kj)),g.__param(1,p.l(y.Pe)),g.__param(2,p.l(d.df)),g.__param(3,p.l(m.pg)),g.__param(4,p.l(x.OA)),g.__param(5,p.l(M.Vfa)),g.__param(6,p.l(A.Rw)),g.__param(7,p.l(k.dB)),g.__param(8,p.l(R.jp))],a);c.TLa=a;},function(g,c,a){var f,h,p,d,k;function b(a,b){a=p.ze.call(this,a,"LogDisplayConfigImpl")||this;a.gn=b;return a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(34);p=a(36);d=a(27);a=a(137);ba(b,p.ze);oa.Object.defineProperties(b.prototype,{lL:{configurable:!0,enumerable:!0,get:function(){return!0;}},ID:{configurable:!0,enumerable:!0,get:function(){return this.gn.ID;}},jwa:{configurable:!0,enumerable:!0,get:function(){return-1;}}});k=b;g.__decorate([h.config(h.$d,"renderDomDiagnostics")],k.prototype,"lL",null);g.__decorate([h.config(h.j7,"logDisplayMaxEntryCount")],k.prototype,"ID",null);g.__decorate([h.config(h.j7,"logDisplayAutoshowLevel")],k.prototype,"jwa",null);k=g.__decorate([f.N(),g.__param(0,f.l(d.cj)),g.__param(1,f.l(a.pG))],k);c.SLa=k;},function(g,c,a){var f,h;function b(){this.Aaa="";this.pEa=[[],[]];this.$=[[],[]];}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);a(3);h=a(84);b.prototype.downloadRequest=function(a){var b;""===this.Aaa&&(this.Aaa=a.kk);if(!a.Yb){b=this.dtb(a);this.$[a.O].push(b);this.pEa[a.O].forEach(function(a){a.rEb(b);});}};b.prototype.dtb=function(a){return{id:this.Eab(a),kk:a.kk,O:a.O,bn:a.bn,startTime:a.ft,endTime:a.sE,offset:a.hm,bI:a.bI,aI:a.aI,duration:a.xs,P:a.P,state:h.Vca.Jqa,ba:a.ba,wq:!1,AHb:!1,iua:!1,hGb:h.Uca.waiting};};b.prototype.Eab=function(a){return a.ak();};b.prototype.update=function(a){this.pEa[a.O].forEach(function(b){b.SKb(a);});};oa.Object.defineProperties(b.prototype,{kk:{configurable:!0,enumerable:!0,get:function(){return this.Aaa;}}});a=b;a=g.__decorate([f.N()],a);c.nFa=a;},function(g,c,a){var f,h;function b(a){this.y6a=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);a=a(307);b.prototype.Bc=function(){var a;a=this;this.$h||(this.$h=new Promise(function(b,f){var d;d=[];a.y6a.forEach(function(a){d.push(a.Bc());});Promise.all(d).then(function(){b();})["catch"](function(a){f(a);});}));return this.$h;};h=b;h=g.__decorate([f.N(),g.__param(0,f.hz(a.jea))],h);c.aJa=h;},function(g,c){function a(a){this.is=a;this.ffb="#881391";this.csb="#C41A16";this.$_a=this.wjb="#1C00CF";this.neb="#D79BDB";this.aub=this.ujb="#808080";}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.lo=function(a){return this.getValue("~~NONAME~~",a);};a.prototype.qv=function(a,f){return'<font color="'+((void 0===f?0:f)?this.neb:this.ffb)+'">'+a+": </font>";};a.prototype.tsa=function(a,f){f=f||"";a=""+('<li><a href="#">'+this.qv(a)+"Array["+f.length+"]</a>");a+="<ul>";for(var b=0;b<f.length;++b)a+=this.getValue(b.toString(),f[b]);a+=this.getValue("length",f.length,!0);return a+"</ul></li>";};a.prototype.tta=function(a,f){var b,c,d;b=this;if(f instanceof CryptoKey)return this.N$a(a,f);c=Object.keys(f);d="";d=d+('<li><a href="#">'+("~~NONAME~~"!==a?this.qv(a):"")+"Object</a>");d=d+"<ul>";c.forEach(function(a){d=a.startsWith("$")?d+b.getValue(a,"REMOVED"):d+b.getValue(a,f[a]);});d+="</ul>";return d+="</li>";};a.prototype.N$a=function(a,f){a=""+('<li><a href="#">'+this.qv(a)+"CryptoKey</a>");a=a+"<ul>"+this.tta("algorithm",f.algorithm);a+=this.Asa("extractable",f.extractable);a+=this.Jta("type",f.type);a+=this.tsa("usages",f.usages);return a+"</ul></li>";};a.prototype.pbb=function(a,f,c){return'<li><a href="#">'+this.qv(a,void 0===c?!1:c)+('<font color="'+this.wjb+'">'+f.toString()+"</font>")+"</a></li>";};a.prototype.Asa=function(a,f,c){return'<li><a href="#">'+this.qv(a,void 0===c?!1:c)+('<font color="'+this.$_a+'">'+f.toString()+"</font>")+"</a></li>";};a.prototype.Jta=function(a,f,c){128<f.length&&(f=f.substr(0,128)+"...");return'<li><a href="#">'+this.qv(a,void 0===c?!1:c)+('<font color="'+this.csb+'">"'+f+'"</font>')+"</a></li>";};a.prototype.obb=function(a){return'<li><a href="#">'+this.qv(a)+('<font color="'+this.ujb+'">null</font>')+"</a></li>";};a.prototype.ucb=function(a,f){f="undefined"===typeof f?"":f.toString();255<f.length&&(f=f.substr(0,255)+"...");return'<li><a href="#">'+this.qv(a)+('<font color="'+this.aub+'">'+f+"</font>")+"</a></li>";};a.prototype.getValue=function(a,f,c){c=void 0===c?!1:c;return null===f?""+this.obb(a):this.is.Xr(f)?""+this.tsa(a,f):this.is.Qx(f)?""+this.tta(a,f):this.is.Ci(f)?""+this.Jta(a,f,c):this.is.Xf(f)?""+this.pbb(a,f,c):this.is.uH(f)?""+this.Asa(a,f,c):""+this.ucb(a,f);};c.aSa=a;},function(g,c,a){var f,h,p,d,k,m,t;function b(a,b,d){var f;f=k.cO.call(this,a,b,"idb")||this;f.Ch=d;f.$Aa=function(a){f.U5a(a.target.id).then(function(){return f.refresh();});};f.Ujb=function(){f.B1a().then(function(){return f.refresh();});};f.dkb=function(){f.refresh();};f.Xjb=function(){f.y2a();};return f;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(22);p=a(21);d=a(161);k=a(306);m=a(106);t=a(186);ba(b,k.cO);b.prototype.Bc=function(){var a;a=this;if(this.sn)return Promise.resolve();J.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==m.er.wKa&&a.toggle();});return this.Ch.create().then(function(b){a.storage=b;a.sn=!0;});};b.prototype.Vk=function(){return'<tr class="'+this.prefix+'-display-headerrow">'+('<th width="30px"><span class="'+this.prefix+'-display-indexheader">#</span></th>')+('<th width="150px"><span class="'+this.prefix+'-display-keyheader">Name</span></th>')+('<th style="border-right:solid 0px"><span class="'+this.prefix+'-display-valueheader">Value</span></th>')+('<th style="border-left:solid 0px" width="30px"><button id="'+this.prefix+'-display-close-btn">X</button></th>')+"</tr>";};b.prototype.a6=function(a,b,d){var f;a=a.toString();f='<font color="#C41A16">"'+b+'"</font>';d=this.moa.lo({name:b,data:d});return"<tr>"+('<td><span class="'+this.prefix+'-display-indexvalue">'+a+"</span></td>")+('<td><span class="'+this.prefix+'-display-keyvalue">'+f+"</span></td>")+('<td style="border-right:solid 0px"><ul class="'+this.prefix+'-display-tree">'+d+"</ul></td>")+('<td style="border-left:solid 0px"><ul class="'+this.prefix+'-display-item-inline"><button id="'+b+'" class="'+this.prefix+'-display-btn-inline">X</button></ul></td>')+"</tr>";};b.prototype.j6=function(a){for(var b='<table class="'+this.prefix+'-display-table" width="100%">'+this.Vk(),d=Object.keys(a),f=0;f<d.length;++f)b+=this.a6(f,d[f],a[d[f]]);return b+"</table>";};b.prototype.Msa=function(){var a,b,d;a=this.pc.createElement("button",k.DF,"Clear",{"class":this.prefix+"-display-btn"});b=this.pc.createElement("button",k.DF,"Refresh",{"class":this.prefix+"-display-btn"});d=this.pc.createElement("button",k.DF,"Copy",{"class":this.prefix+"-display-btn"});a.onclick=this.Ujb;b.onclick=this.dkb;d.onclick=this.Xjb;return[a,b,d];};b.prototype.ggb=function(){var a;a=this;return this.storage.loadAll().then(function(b){a.Dua=b.reduce(function(a,b){a[b.key]=b.value;return a;},{});return a.Dua;});};b.prototype.U5a=function(a){return this.storage.remove(a);};b.prototype.B1a=function(){return this.storage.removeAll();};b.prototype.qAa=function(){var a;a=this;return this.ggb().then(function(b){return a.j6(b);});};b.prototype.y2a=function(){var a;a=JSON.stringify(this.Dua,null,4);t.wX.a3(a);};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.df)),g.__param(1,f.l(p.we)),g.__param(2,f.l(d.MY))],a);c.Azb=a;},function(g,c,a){var f,h,p,d,k,m,t,u;function b(a){return function(){return new Promise(function(b,d){var f;f=a.ec.get(h.lea);f.Bc().then(function(){b(f);})["catch"](function(a){d(a);});});};}Object.defineProperty(c,"__esModule",{value:!0});g=a(1);f=a(307);a(611);h=a(305);p=a(609);d=a(84);k=a(608);m=a(304);t=a(607);u=a(606);a(605);c.e7a=new g.ac(function(a){a(m.Vfa).to(t.SLa).Z();a(f.jea).to(u.TLa);a(d.eX).to(k.nFa).Z();a(h.lea).to(p.aJa).Z();a(h.kea).oM(b);});},function(g,c,a){var p,d,k,m;function b(){}function f(a){this.glb=a;}function h(a){this.ilb=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);p=a(1);d=a(187);k=a(56);m=a(2);h.prototype.ip=function(a){a.map(this.ilb.ip);};a=h;a=g.__decorate([p.N(),g.__param(0,p.l(d.Iha))],a);c.nPa=a;f.prototype.ip=function(a){this.glb.ip(a.data);};a=f;a=g.__decorate([p.N(),g.__param(0,p.l(d.Fha))],a);c.oPa=a;b.prototype.ip=function(a){if(!a.oa||"string"!==typeof a.oa)throw new k.Qc(m.I.Pt,m.u.Et,void 0,void 0,void 0,"Xid value is corrupted.",void 0,a.oa);};d=b;d=g.__decorate([p.N()],d);c.rPa=d;},function(g,c,a){var f,h,p,d;function b(a,b,d){this.iI=b;this.Sr=d;this.log=a.lb("PboEventSenderImpl");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(65);h=a(76);p=a(7);a=a(1);b.prototype.Kaa=function(a,b){var d;d=this.iI(h.ul.start);return this.nra(d,a,b);};b.prototype.DBa=function(a){var b,d;b=this;d=this.iI(h.ul.stop);return this.Sr().then(function(f){return d.Ye(b.log,f.Ay(a.profileId),a);}).then(function(){})["catch"](function(a){b.log.error("PBO stop event failed",a);throw a;});};b.prototype.BL=function(a,b,d){a=this.iI(a);return this.nra(a,b,d);};b.prototype.nra=function(a,b,d){var f;f=this;return this.Sr().then(function(c){return a.nn(f.log,c.Ay(d.profileId),b.Ja.xf,d);}).then(function(){})["catch"](function(a){f.log.error("PBO event failed",a);throw a;});};d=b;d=g.__decorate([a.N(),g.__param(0,a.l(p.ob)),g.__param(1,a.l(h.RX)),g.__param(2,a.l(f.Xq))],d);c.ePa=d;},function(g,c,a){var f,h,p,d,k,m;function b(a,b){a=h.ze.call(this,a,"PlaydataConfigImpl")||this;a.config=b;return a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(36);p=a(27);d=a(34);k=a(3);a=a(51);ba(b,h.ze);oa.Object.defineProperties(b.prototype,{iE:{configurable:!0,enumerable:!0,get:function(){return this.config.Up?"unsentplaydatatest":"unsentplaydata";}},Iaa:{configurable:!0,enumerable:!0,get:function(){return!0;}},xBa:{configurable:!0,enumerable:!0,get:function(){return k.Db(1E4);}},X9:{configurable:!0,enumerable:!0,get:function(){return k.Db(4E3);}},Eva:{configurable:!0,enumerable:!0,get:function(){return k.f9(1);}},Fva:{configurable:!0,enumerable:!0,get:function(){return k.Fg(30);}}});m=b;g.__decorate([d.config(d.string,"playdataPersistKey")],m.prototype,"iE",null);g.__decorate([d.config(d.$d,"sendPersistedPlaydata")],m.prototype,"Iaa",null);g.__decorate([d.config(d.Xg,"playdataSendDelayMilliseconds")],m.prototype,"xBa",null);g.__decorate([d.config(d.Xg,"playdataPersistIntervalMilliseconds")],m.prototype,"X9",null);g.__decorate([d.config(d.Xg,"heartbeatCooldown")],m.prototype,"Eva",null);g.__decorate([d.config(d.Xg,"keepAliveWindow")],m.prototype,"Fva",null);m=g.__decorate([f.N(),g.__param(0,f.l(p.cj)),g.__param(1,f.l(a.zm))],m);c.JPa=m;},function(g,c,a){var p,d,k,m,t,u,y,A,l,x,n,M,R,T;function b(a,b,d,c,g,k,h,m){this.config=a;this.ka=d;this.Nq=c;this.No=g;this.ZU=k;this.he=h;this.Uy=Promise.resolve();this.closed=!1;this.log=b.lb("PlaydataServices");this.xz=[];this.active=new Set();this.Qob=new f(a,m);}function f(a,b){this.config=a;this.Sa=b;}function h(a,b,d,f,c,g){this.log=a;this.ka=b;this.vj=d;this.No=f;this.Nq=c;this.Flb=g;this.vra=this.eI=!1;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);p=a(1);d=a(3);k=a(7);m=a(30);t=a(227);u=a(310);y=a(15);A=a(309);l=a(2);x=a(188);n=a(308);M=a(127);R=a(42);a=a(55);h.prototype.sU=function(a,b){var f;function d(){var a;a=f.No.create(f.vj);f.Nq.oca(a)["catch"](function(a){var b;b=f.vra?k.Jh.a_:k.Jh.ERROR;f.vra=!0;f.log.write(b,"Unable to save playdata changes to IDB",a);});}f=this;this.log.trace("Adding initial playdata",b);this.Nq.dZa(b).then(function(){f.log.trace("Scheduling monitor",{interval:a});f.In=f.ka.lBa(a,d);})["catch"](function(c){f.log.error("Unable to add playdata",{error:c,playdata:new x.vZ().encode(b)});f.In=f.ka.lBa(a,d);});};h.prototype.stop=function(a){var b,d;b=this;if(this.eI)return Promise.resolve();this.In&&this.In.cancel();d=this.No.create(this.vj);return this.Nq.oca(d)["catch"](function(a){b.log.error("Unable to update playdata changes during stop",a);}).then(function(){if(a){if(b.vj.background)return b.log.trace("Playback is currently in the background and never played, not sending the playdata",d),Promise.resolve();b.log.trace("Sending final playdata to the server",d);return b.Flb.DBa(d);}b.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(a)return b.log.trace("Removing playdata from the persisted store",d),b.Nq.yAa(d);b.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){b.log.info("Successfully stopped the playback",d.M);})["catch"](function(a){b.log.error("Unable to remove playdata changes",a);throw a;});};h.prototype.cancel=function(){this.eI=!0;this.In&&this.In.cancel();this.Nq.oca(this.No.create(this.vj));};oa.Object.defineProperties(f.prototype,{Q0a:{configurable:!0,enumerable:!0,get:function(){var a;a=this.Sa.Xe;return!this.Uy||0<=a.me(this.Uy).Rk(this.config.Fva)?(this.Uy=a,!0):!1;}}});c.OBb=f;b.prototype.Bc=function(){var a;a=this;this.$h||(this.log.trace("Starting playdata services"),this.$h=this.Nq.onb().then(function(){return a;})["catch"](function(b){a.log.error("Unable to read the playdata, it will be deleted and not sent to the server",b);return a;}));return this.$h;};b.prototype.close=function(){this.closed=!0;this.xz.forEach(function(a){a.sU.cancel();});};b.prototype.send=function(a){var b;if(this.closed)return Promise.resolve();b=this.config;return b.iE&&b.Iaa?this.Jpb(a):Promise.resolve();};b.prototype.zrb=function(a){this.closed||this.Arb(a);};b.prototype.ACa=function(a){var b,d,f;b=this;if(this.closed)return Promise.resolve();d=this.No.create(a);this.active["delete"](d.oa);a=P(M.Zs(function(a){return a.key===d.oa;},this.xz));f=a.next().value;this.xz=a.next().value;return Promise.all(f.map(function(a){a.BCa=!0;return a.sU.stop(b.config.Iaa);})).then(function(){});};b.prototype.IU=function(a,b){var d,f;d=this;f=a.fa;this.vCa(f,b);this.Kaa(f,a.mI)["catch"](function(b){var f;f=b.ny;d.log.error("Start command failed",{playdata:b.kE,error:f});a.sd(d.he(l.I.Aia,f));});this.xrb(a);};b.prototype.Arb=function(a){var b;b=this;a.addEventListener(y.S.bl,function(d){void 0!==d.t$&&(b.ACa(a.Yl(d.t$)),new Promise(function(b){var d;if(a.wq.value)b();else{d=function(f){f.newValue&&(b(),a.wq.removeListener(d));};a.wq.addListener(d);}}).then(function(){return b.IU(a,"online");}));});a.addEventListener(y.S.wj,function(){b.IU(a,"online");});a.background||a.addEventListener(y.S.cK,function(d){b.vCa(a.Yl(d.ba),"online");});a.addEventListener(y.S.Ue,function(){b.Mrb();});a.addEventListener(y.S.hEa,function(){b.Opb(a.fa)["catch"](function(b){(b=b.f$)&&a.sd(b);});});a.wc.addListener(function(){a.Ya.S3?b.log.trace("stickiness is disabled for timedtext"):b.CBa(a.fa);});a.Nc.addListener(function(){a.Ya.S3?b.log.trace("stickiness is disabled for audio"):b.CBa(a.fa)["catch"](function(b){(b=b.f$)&&a.sd(b);});});};b.prototype.vCa=function(a,b){var d,f;a.Pc("pdb");if(this.config.X9.nva()){d=this.No.create(a);f=d.oa;this.xz.some(function(a){return a.key===f;})?this.log.trace("Already collecting "+b+" playdata, ignoring",d):(this.log.info("Starting to collect "+b+" playdata",d),this.active.add(f),this.xz.push({key:f,sU:this.fbb(a,d),Zz:!1,BCa:!1}));}};b.prototype.Jpb=function(a){var b,d,f,c;b=this;d=this.Nq.kE.filter(function(a){return!b.active.has(a.oa);});f=void 0;c=void 0;a&&Infinity===a?f=d:(d=P(M.Zs(function(b){return b.M===a;},d)),f=d.next().value,c=d.next().value);c&&0<c.length&&this.ka.hg(this.config.xBa,function(){b.BBa(c);});return f&&0!==f.length?this.BBa(f):Promise.resolve();};b.prototype.BBa=function(a){var d;function b(a){return d.ZU.DBa(a).then(function(){return d.gob(a);});}d=this;return a.reduce(function(a,d){return a.then(function(){return b(d);});},Promise.resolve());};b.prototype.gob=function(a){var b;b=this;return this.Nq.yAa(a).then(function(){})["catch"](function(a){b.log.error("Unble to complete the stop lifecycle event",a);throw a;});};b.prototype.fbb=function(a,b){a=new h(this.log,this.ka,a,this.No,this.Nq,this.ZU);a.sU(this.config.X9,b);return a;};b.prototype.Kaa=function(a,b){var d,f;d=this;f=this.No.r4a(a,b);return this.ZU.Kaa(a,f).then(function(){d.xz.filter(function(b){return b.key===a.oa.toString();}).forEach(function(a){a.Zz=!0;});})["catch"](function(a){throw{kE:f,ny:a};});};b.prototype.Opb=function(a){return this.Qob.Q0a?this.BL(n.uZ.WJ,a,l.I.QY):Promise.resolve();};b.prototype.CBa=function(a){return this.BL(n.uZ.splice,a,l.I.yia);};b.prototype.BL=function(a,b,d){var c;function f(a){var b;b=c.xz.filter(function(b){return b.key===a.oa.toString();});return 0===b.length?!0:b.reduce(function(a,b){return a||b.BCa||!b.Zz;},!1);}c=this;return f(b)?this.Uy:this.Uy=this.Uy["catch"](function(){return Promise.resolve();}).then(function(){var d;if(f(b))return Promise.resolve();d=c.No.create(b);return c.ZU.BL(a,b,d);}).then(function(a){return a;})["catch"](function(f){var g;c.log.error("Failed to send event",{eventKey:a,xid:b.oa,error:f});f.kn?g=c.he(d,f):f.qq===l.aZ.ZZ&&(g=c.he(d,f));throw{ny:f,f$:g};});};b.prototype.xrb=function(a){this.crb(a)&&this.pba(this.Oab(a.fa),a);};b.prototype.pba=function(a,b){var d;d=this;this.C2();this.D7=this.ka.hg(a,function(){d.C2();d.BL(n.uZ.WJ,b.fa,l.I.QY).then(function(){d.pba(a,b);})["catch"](function(f){var c;c=f.ny;(f=f.f$)&&b.sd(f);c.qq===l.aZ.ZZ&&d.pba(a,b);});});};b.prototype.Mrb=function(){this.C2();};b.prototype.crb=function(a){return a.state.value==y.jb.$c;};b.prototype.C2=function(){this.D7&&(this.D7.cancel(),this.D7=void 0);};b.prototype.Oab=function(a){return a.Ya.D6?d.Db(a.Ya.D6):this.config.Eva;};T=b;T=g.__decorate([p.N(),g.__param(0,p.l(A.Yha)),g.__param(1,p.l(k.ob)),g.__param(2,p.l(m.pg)),g.__param(3,p.l(u.wha)),g.__param(4,p.l(t.wZ)),g.__param(5,p.l(n.yha)),g.__param(6,p.l(a.vk)),g.__param(7,p.l(R.Kj))],T);c.qPa=T;},function(g,c,a){var p,d,k,m,t,u,y,A,l,x;function b(){}function f(){}function h(a,d,f,c,g){var h;h=this;this.is=a;this.Ch=d;this.config=f;this.FC=c;this.hlb=g;this.Lq=function(){return new b().encode({version:h.version,data:h.kE});};this.Bub=function(a){a=h.Aub(a);h.hlb.ip(a);return a;};this.Aub=function(a){if(h.is.Ik(a))return h.Eub(a);if(void 0!=a.version&&h.is.Xf(a.version)&&1==a.version)return h.Fub(a);if(void 0!=a.version&&h.is.Xf(a.version)&&2==a.version)return new b().decode(a);if(a.version&&h.is.Xf(a.version))throw new t.Qc(k.I.Pt,k.u.jda,void 0,void 0,void 0,"Version number is not supported. Version: "+a.version,void 0,a);throw new t.Qc(k.I.Pt,k.u.Et,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,a);};this.Mn=new u.zfa(2,this.config().jza,""!==this.config().jza&&0<this.config().Qlb,this.Ch,this.Lq);}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);p=a(1);d=a(17);k=a(2);m=a(21);t=a(56);u=a(467);y=a(63);A=a(92);l=a(188);a=a(187);h.prototype.onb=function(){return this.Mn.load(this.Bub)["catch"](function(a){throw new t.Qc(k.I.Pt,a.Y||a.Jc,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a);});};h.prototype.dZa=function(a){return this.Mn.add(a);};h.prototype.yAa=function(a){return this.Mn.remove(a,function(a,b){return a.oa===b.oa;});};h.prototype.oca=function(a){return this.Mn.update(a,function(a,b){return a.oa===b.oa;});};h.prototype.toString=function(){return JSON.stringify(this.Lq(),null,"  ");};h.prototype.XDa=function(a){return a?"/events?playbackContextId="+a+"&esn="+this.FC().Rg:"";};h.prototype.qca=function(a){return a.map(function(a){return{Tc:a.downloadableId,duration:a.duration};});};h.prototype.YDa=function(a){return a?{total:a.playTimes.total,audio:this.qca(a.playTimes.audio||[]),video:this.qca(a.playTimes.video||[]),text:this.qca(a.playTimes.timedtext||[])}:{total:0,audio:[],video:[],text:[]};};h.prototype.Eub=function(a){var b,d,f;b=this;a=JSON.parse(a);d={type:"online",profileId:a.accountKey,href:this.XDa(a.playbackContextId),oa:a.xid?a.xid.toString():"",M:a.movieId,position:a.position,hI:a.timestamp,EL:a.playback?1E3*a.playback.startEpoch:-1,cz:a.mediaId,NK:this.YDa(a.playback),eb:"",lm:{}};f=JSON.stringify({keySessionIds:a.keySessionIds,movieId:a.movieId,xid:a.xid,licenseContextId:a.licenseContextId,profileId:a.profileId});this.Ch.create().then(function(a){a.save(b.config().LI,f,!1);});if(!d.profileId||""===d.href||""===d.oa)throw new t.Qc(k.I.Pt,k.u.Et);return{version:2,data:[d]};};h.prototype.Fub=function(a){var b;b=this;if(!a.playdata||!this.is.Xr(a.playdata))throw new t.Qc(k.I.Pt,k.u.Et,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,a);return{version:2,data:function(a){return a.map(function(a){return{type:a.type,profileId:a.profileId,href:b.XDa(a.playbackContextId),oa:a.xid?a.xid.toString():"",M:a.movieId,position:a.position,hI:a.timestamp,EL:a.playback?1E3*a.playback.startEpoch:-1,cz:a.mediaId,NK:b.YDa(a.playback),eb:"",lm:{}};});}(a.playdata)};};oa.Object.defineProperties(h.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.Mn.version;}},kE:{configurable:!0,enumerable:!0,get:function(){return this.Mn.Np;}}});x=h;x=g.__decorate([p.N(),g.__param(0,p.l(m.we)),g.__param(1,p.l(y.jp)),g.__param(2,p.l(d.ld)),g.__param(3,p.l(A.Rw)),g.__param(4,p.l(a.Gha))],x);c.$Oa=x;f.prototype.encode=function(a){var b;b=new l.vZ();return a.map(b.encode);};f.prototype.decode=function(a){var b;b=new l.vZ();return a.map(b.decode);};b.prototype.encode=function(a){return{version:a.version,data:new f().encode(a.data)};};b.prototype.decode=function(a){return{version:a.version,data:new f().decode(a.data)};};},function(g,c,a){var f,h,p,d,k,m,t,u,y,A,l,x;function b(a){return function(){return a.ec.get(f.Hha).Bc();};}Object.defineProperty(c,"__esModule",{value:!0});g=a(1);f=a(146);h=a(227);p=a(188);d=a(310);k=a(617);m=a(616);t=a(309);u=a(615);y=a(308);A=a(614);l=a(187);x=a(613);c.kE=new g.ac(function(a){a(t.Yha).to(u.JPa).Z();a(h.wZ).to(p.pPa).Z();a(d.wha).to(k.$Oa).Z();a(f.Hha).to(m.qPa).Z();a(f.UN).oM(b);a(y.yha).to(A.ePa).Z().JM();a(l.Iha).to(x.rPa).Z();a(l.Fha).to(x.nPa).Z();a(l.Gha).to(x.oPa).Z();});},function(g,c,a){var f,h,p;function b(a){var b;b=p.nN.call(this)||this;b.pc=a;return b;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(22);p=a(329);ba(b,p.nN);b.prototype.decode=function(a){return{M:a.movieId,Bn:a.packageId,so:a.drmType,U6a:a.drmVersion,E8a:a.expiration,c1a:this.f5a(a.cdnResponseData),media:this.n5a(a.media),duration:a.duration,Of:a.playbackContextId,gqa:this.i5a(a.defaultTrackOrderList),Yj:a.drmContextId,ddb:a.hasDrmProfile,bdb:a.hasClearProfile,hDa:this.t5a(a.timedtexttracks),yDa:this.w5a(a.trickplays),O1:this.e5a(a.audio_tracks),VW:this.B5a(a.video_tracks),Nn:this.Zpa(a.servers),dk:this.l5a(a.locations),Xeb:a.isUsingLegacyBatchingAPI,Z1:a.bookmark,fua:a.hasDrmStreams,cdb:a.hasClearStreams,links:a.links,s1a:this.g5a(a.choiceMap),feb:a.initialHeader,tvb:this.C5a(a.watermarkInfo),cg:a.isBranching,N6a:a.dpsid,mvb:a.viewableType,AD:a.isSupplemental,Poa:a.clientIpAddress,xf:a.xf};};b.prototype.encode=function(a){return{movieId:a.M,packageId:a.Bn,drmType:a.so,drmVersion:a.U6a,expiration:a.E8a,cdnResponseData:this.J7a(a.c1a),media:this.R7a(a.media),duration:a.duration,playbackContextId:a.Of,defaultTrackOrderList:this.M7a(a.gqa),drmContextId:a.Yj,timedtexttracks:this.X7a(a.hDa),trickplays:this.a8a(a.yDa),audio_tracks:this.I7a(a.O1),video_tracks:this.f8a(a.VW),servers:this.ara(a.Nn),locations:this.P7a(a.dk),isUsingLegacyBatchingAPI:a.Xeb,bookmark:a.Z1,hasDrmProfile:a.ddb,hasClearProfile:a.bdb,hasDrmStreams:a.fua,hasClearStreams:a.cdb,links:a.links,choiceMap:this.K7a(a.s1a),initialHeader:a.feb,watermarkInfo:this.g8a(a.tvb),isBranching:a.cg,dpsid:a.N6a,viewableType:a.mvb,isSupplemental:a.AD,clientIpAddress:a.Poa,xf:a.xf};};b.prototype.C5a=function(a){return a&&{id:a.id,opacity:a.opacity,anchor:a.anchor};};b.prototype.g8a=function(a){return a&&{id:a.id,opacity:a.opacity,anchor:a.anchor};};b.prototype.g5a=function(a){var b;b=this;return a&&{wD:a.initialSegment,type:a.type,qc:a.viewableId,xd:this.TC(a.segments,function(a){return{om:a.startTimeMs,UC:a.endTimeMs,CC:a.defaultNext,next:b.TC(a.next,function(a){return{weight:a.weight};})};})};};b.prototype.K7a=function(a){var b;b=this;return a&&{initialSegment:a.wD,type:a.type,viewableId:a.qc,segments:this.TC(a.xd,function(a){return{startTimeMs:a.om,endTimeMs:a.UC,defaultNext:a.CC,next:b.TC(a.next,function(a){return{weight:a.weight};})};})};};b.prototype.f5a=function(a){return{TU:a.pbcid,Wz:a.sessionABTestCell};};b.prototype.J7a=function(a){return{pbcid:a.TU,sessionABTestCell:a.Wz};};b.prototype.n5a=function(a){return this.Zf(a,this.m5a);};b.prototype.R7a=function(a){return this.Zf(a,this.Q7a);};b.prototype.m5a=function(a){return{cp:this.u5a(a.tracks),id:a.id};};b.prototype.Q7a=function(a){return{tracks:this.Z7a(a.cp),id:a.id};};b.prototype.u5a=function(a){return{AUDIO:a.AUDIO,VIDEO:a.VIDEO,UZ:a.TEXT};};b.prototype.Z7a=function(a){return{AUDIO:a.AUDIO,VIDEO:a.VIDEO,TEXT:a.UZ};};b.prototype.i5a=function(a){return this.Zf(a,this.h5a);};b.prototype.M7a=function(a){return this.Zf(a,this.L7a);};b.prototype.h5a=function(a){return{fC:a.audioTrackId,cz:a.mediaId,kvb:a.videoTrackId,HCa:a.subtitleTrackId,kmb:a.preferenceOrder};};b.prototype.L7a=function(a){return{audioTrackId:a.fC,mediaId:a.cz,videoTrackId:a.kvb,subtitleTrackId:a.HCa,preferenceOrder:a.kmb};};b.prototype.t5a=function(a){return this.Zf(a,this.s5a);};b.prototype.X7a=function(a){return this.Zf(a,this.W7a);};b.prototype.s5a=function(a){return this.pc.gk(this.D3(a),{type:a.type,BDa:this.r5a(a.ttDownloadables),Fz:a.rawTrackType,BD:a.languageDescription,language:a.language,id:a.id,wT:a.isNoneTrack,tT:a.isForcedNarrative,Iqa:a.downloadableIds,Boa:this.Zpa(a.cdnlist),UJ:a.isLanguageLeftToRight});};b.prototype.W7a=function(a){return this.pc.gk(this.q4(a),{type:a.type,ttDownloadables:this.V7a(a.BDa),rawTrackType:a.Fz,languageDescription:a.BD,language:a.language,id:a.id,isNoneTrack:a.wT,isForcedNarrative:a.tT,downloadableIds:a.Iqa,cdnlist:this.ara(a.Boa),trackType:a.Ui,new_track_id:a.Mo,isLanguageLeftToRight:a.UJ});};b.prototype.r5a=function(a){return this.TC(a,this.q5a);};b.prototype.V7a=function(a){return this.TC(a,this.U7a);};b.prototype.q5a=function(a){return{Rp:a.downloadUrls,jdb:a.hashAlgo,kdb:a.hashValue,height:a.height,width:a.width,Beb:a.isImage,sK:a.midxOffset,fU:a.midxSize,size:a.size,Ksb:a.textKey};};b.prototype.U7a=function(a){return{downloadUrls:a.Rp,hashAlgo:a.jdb,hashValue:a.kdb,height:a.height,width:a.width,isImage:a.Beb,midxOffset:a.sK,midxSize:a.fU,size:a.size,textKey:a.Ksb};};b.prototype.w5a=function(a){if(a)return this.Zf(a,this.v5a);};b.prototype.a8a=function(a){if(a)return this.Zf(a,this.$7a);};b.prototype.v5a=function(a){return{interval:a.interval,cza:a.pixelsAspectY,bza:a.pixelsAspectX,width:a.width,height:a.height,size:a.size,NC:a.downloadable_id,Yc:a.urls,id:a.id};};b.prototype.$7a=function(a){return{interval:a.interval,pixelsAspectY:a.cza,pixelsAspectX:a.bza,width:a.width,height:a.height,size:a.size,downloadable_id:a.NC,urls:a.Yc,id:a.id};};b.prototype.e5a=function(a){return this.Zf(a,this.d5a);};b.prototype.I7a=function(a){return this.Zf(a,this.H7a);};b.prototype.d5a=function(a){return this.pc.gk(this.D3(a),{id:a.id,oc:this.c5a(a.streams),Ui:a.trackType,Pk:a.channels,language:a.language,u2:a.channelsFormat,Cba:a.surroundFormatLabel,BD:a.languageDescription,isNative:a.isNative,u6a:a.disallowedSubtitleTracks,qM:a.track_id,L5a:a.defaultTimedText,A$:a.profileType,type:a.type,sba:a.stereo,profile:a.profile,Voa:a.codecName,Fz:a.rawTrackType});};b.prototype.H7a=function(a){return this.pc.gk(this.q4(a),{id:a.id,streams:this.G7a(a.oc),trackType:a.Ui,channels:a.Pk,language:a.language,channelsFormat:a.u2,surroundFormatLabel:a.Cba,languageDescription:a.BD,isNative:a.isNative,disallowedSubtitleTracks:a.u6a,track_id:a.qM,defaultTimedText:a.L5a,profileType:a.A$,type:a.type,stereo:a.sba,profile:a.profile,codecName:a.Voa,rawTrackType:a.Fz});};b.prototype.B5a=function(a){return this.Zf(a,this.A5a);};b.prototype.f8a=function(a){return this.Zf(a,this.e8a);};b.prototype.A5a=function(a){return this.pc.gk(this.D3(a),{type:a.type,oc:this.z5a(a.streams),a4:a.drmHeader&&this.Ypa(a.drmHeader),Q3:a.dimensionsCount,R3:a.dimensionsLabel,Hdb:a.ict,jhb:a.maxCroppedHeight,khb:a.maxCroppedWidth,lhb:a.maxCroppedX,mhb:a.maxCroppedY,A$:a.profileType,sba:a.stereo,maxWidth:a.maxWidth,maxHeight:a.maxHeight,$ya:a.pixelAspectX,aza:a.pixelAspectY,profile:a.profile,zhb:a.max_framerate_value,yhb:a.max_framerate_scale,mib:a.minCroppedHeight,nib:a.minCroppedWidth,oib:a.minCroppedX,pib:a.minCroppedY,minHeight:a.minHeight,minWidth:a.minWidth,v$:a.prkDrmHeaders&&a.prkDrmHeaders.map(this.Ypa),fJ:a.flavor,qM:a.track_id});};b.prototype.e8a=function(a){return this.pc.gk(this.q4(a),{type:a.type,streams:this.d8a(a.oc),drmHeader:a.a4&&this.$qa(a.a4),dimensionsCount:a.Q3,dimensionsLabel:a.R3,ict:a.Hdb,maxCroppedHeight:a.jhb,maxCroppedWidth:a.khb,maxCroppedX:a.lhb,maxCroppedY:a.mhb,profileType:a.A$,stereo:a.sba,maxWidth:a.maxWidth,maxHeight:a.maxHeight,pixelAspectX:a.$ya,pixelAspectY:a.aza,profile:a.profile,max_framerate_value:a.zhb,max_framerate_scale:a.yhb,minCroppedHeight:a.mib,minCroppedWidth:a.nib,minCroppedX:a.oib,minCroppedY:a.pib,minHeight:a.minHeight,minWidth:a.minWidth,prkDrmHeaders:a.v$&&a.v$.map(this.$qa),flavor:a.fJ,track_id:a.qM});};b.prototype.Ypa=function(a){return{aa:a.bytes,p1a:a.checksum,Gv:a.keyId};};b.prototype.$qa=function(a){return{bytes:a.aa,checksum:a.p1a,keyId:a.Gv};};b.prototype.D3=function(a){return{Ui:a.trackType,Mo:a.new_track_id,type:a.type};};b.prototype.q4=function(a){return{trackType:a.Ui,new_track_id:a.Mo,type:a.type};};b.prototype.c5a=function(a){return this.Zf(a,this.b5a);};b.prototype.G7a=function(a){return this.Zf(a,this.F7a);};b.prototype.b5a=function(a){return{qC:a.content_profile,Ui:a.trackType,P:a.bitrate,size:a.size,tn:a.isDrm,NC:a.downloadable_id,type:a.type,s9:a.new_stream_id,Yc:this.$pa(a.urls),Pk:a.channels,u2:a.channelsFormat,Cba:a.surroundFormatLabel,language:a.language,j_a:a.audioKey};};b.prototype.F7a=function(a){return{content_profile:a.qC,trackType:a.Ui,bitrate:a.P,size:a.size,isDrm:a.tn,downloadable_id:a.NC,type:a.type,new_stream_id:a.s9,urls:this.bra(a.Yc),channels:a.Pk,channelsFormat:a.u2,surroundFormatLabel:a.Cba,language:a.language,audioKey:a.j_a};};b.prototype.z5a=function(a){return this.Zf(a,this.y5a);};b.prototype.d8a=function(a){return this.Zf(a,this.c8a);};b.prototype.y5a=function(a){return{qC:a.content_profile,Ui:a.trackType,P:a.bitrate,size:a.size,tn:a.isDrm,NC:a.downloadable_id,type:a.type,s9:a.new_stream_id,Yc:this.$pa(a.urls),klb:a.peakBitrate,Q3:a.dimensionsCount,R3:a.dimensionsLabel,zlb:a.pix_w,ylb:a.pix_h,MAa:a.res_w,LAa:a.res_h,isa:a.framerate_value,hsa:a.framerate_scale,vrb:a.startByteOffset,xc:a.vmaf,Mpa:a.crop_x,Npa:a.crop_y,Kpa:a.crop_h,Lpa:a.crop_w};};b.prototype.c8a=function(a){return{content_profile:a.qC,trackType:a.Ui,bitrate:a.P,size:a.size,isDrm:a.tn,downloadable_id:a.NC,type:a.type,new_stream_id:a.s9,urls:this.bra(a.Yc),peakBitrate:a.klb,dimensionsCount:a.Q3,dimensionsLabel:a.R3,pix_w:a.zlb,pix_h:a.ylb,res_w:a.MAa,res_h:a.LAa,framerate_value:a.isa,framerate_scale:a.hsa,startByteOffset:a.vrb,vmaf:a.xc,crop_x:a.Mpa,crop_y:a.Npa,crop_h:a.Kpa,crop_w:a.Lpa};};b.prototype.$pa=function(a){return this.Zf(a,this.x5a);};b.prototype.bra=function(a){return this.Zf(a,this.b8a);};b.prototype.x5a=function(a){return{url:a.url,Aoa:a.cdn_id};};b.prototype.b8a=function(a){return{url:a.url,cdn_id:a.Aoa};};b.prototype.Zpa=function(a){return this.Zf(a,this.p5a);};b.prototype.ara=function(a){return this.Zf(a,this.T7a);};b.prototype.p5a=function(a){return{id:a.id,key:a.key,vwa:a.lowgrade,name:a.name,ie:a.rank,type:a.type,B6a:this.j5a(a.dns)};};b.prototype.T7a=function(a){return{id:a.id,key:a.key,lowgrade:a.vwa,name:a.name,rank:a.ie,type:a.type,dns:this.N7a(a.B6a)};};b.prototype.j5a=function(a){if(a)return{host:a.host,qeb:a.ipv4,reb:a.ipv6,F9a:a.forceLookup};};b.prototype.N7a=function(a){if(a)return{host:a.host,ipv4:a.qeb,ipv6:a.reb,forceLookup:a.F9a};};b.prototype.l5a=function(a){return this.Zf(a,this.k5a);};b.prototype.P7a=function(a){return this.Zf(a,this.O7a);};b.prototype.k5a=function(a){return{key:a.key,ie:a.rank,weight:a.weight,level:a.level};};b.prototype.O7a=function(a){return{key:a.key,rank:a.ie,weight:a.weight,level:a.level};};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.df))],a);c.KMa=a;},function(g,c,a){var f,h,p,d,k,m;function b(a,b,d,f,c){this.IYa=a;this.$nb=b;this.JAa=f;this.TAa=c;this.ia=d.lb("LicenseProviderImpl");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(7);p=a(315);a(314);d=a(313);k=a(312);a=a(311);b.prototype.Nx=function(a,b){var d,f;d=this;f=this.JAa.qtb(a);return this.IYa.nn(this.ia,b,a.xf,f).then(function(a){a.map(function(a){return a.cIb;});return d.TAa.rtb(a);})["catch"](function(a){d.ia.error("PBO license failed",a);return Promise.reject(a);});};b.prototype.release=function(a,b){var d;d=this;a=this.JAa.ttb(a);return this.$nb.Ye(this.ia,b,a).then(function(a){return d.TAa.utb(a);})["catch"](function(a){d.ia.error("PBO release license failed",a);return Promise.reject(a);});};m=b;m=g.__decorate([f.N(),g.__param(0,f.l(p.uha)),g.__param(1,f.l(d.Jha)),g.__param(2,f.l(h.ob)),g.__param(3,f.l(k.zha)),g.__param(4,f.l(a.Aha))],m);c.NLa=m;},function(g,c,a){var f,h,p,d;function b(a,b,d){this.Wgb=a;this.Sr=d;this.ia=b.lb("ManifestProviderImpl");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(316);p=a(7);a=a(65);b.prototype.kD=function(a,b){var d;d=this;return this.Sr().then(function(f){return d.Wgb.nn(d.ia,f.profile,b,a);})["catch"](function(a){d.ia.error("PBO manifest failed",a);return Promise.reject(a);});};d=b;d=g.__decorate([f.N(),g.__param(0,f.l(h.Dha)),g.__param(1,f.l(p.ob)),g.__param(2,f.l(a.Xq))],d);c.OMa=d;},function(g,c,a){var f,h,p;function b(a){this.Hfb=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(123);p=a(215);b.prototype.decode=function(a){var b;b=this.Ubb(a.cdns);b={movieId:a.movieId,packageId:a.packageId,duration:a.runtime,locations:this.M5(a.locations),servers:b,audio_tracks:this.getAudioTracks(a.audioTracks),video_tracks:this.getVideoTracks(a.videoTracks,a.videoEncrypted?a.psshb64:void 0),cdnResponseData:a.cdnResponseData,isSupplemental:a.isSupplemental,choiceMap:a.branchMap,watermarkInfo:a.watermark,drmVersion:0,playbackContextId:a.playbackContextId,bookmark:a.bookmark.position/1E3,hasDrmProfile:!0,hasDrmStreams:a.videoEncrypted,hasClearProfile:!1,hasClearStreams:!a.videoEncrypted,defaultTrackOrderList:this.V$a(a),timedtexttracks:this.lcb(a.textTracks,b),media:this.lD(a.media),trickplays:this.rcb(a.trickPlayTracks),drmContextId:a.drmContextId,dpsid:null,isBranching:!!a.branchMap,clientIpAddress:a.clientIpAddress,drmType:"",expiration:this.oab(a),initialHeader:void 0,xf:this.Hfb()};b.Oz=a.Oz;b.xE=a.xE;b.xf.WYa(b);return b;};b.prototype.V$a=function(a){var b,d,f;b=P(a.defaultMedia.split("|"));d=b.next().value;f=b.next().value;b=b.next().value;return[{mediaId:a.defaultMedia,audioTrackId:d,videoTrackId:f,subtitleTrackId:b,preferenceOrder:0}];};b.prototype.M5=function(a){return a?a.map(function(a){return{key:a.id,rank:a.rank,level:a.level,weight:a.weight};}):[];};b.prototype.Ubb=function(a){return a?a.map(function(a){return{name:a.name,type:a.type,id:Number(a.id),key:a.locationId,rank:a.rank,lowgrade:a.isLowgrade};}):[];};b.prototype.Tta=function(a){return Object.keys(a).map(function(b){return{cdn_id:Number(b),url:a[b]};});};b.prototype.getAudioTracks=function(a){var b;b=this;return a?a.map(function(a){var d;d=a.downloadables;return{type:0,channels:a.channels,language:a.bcp47,languageDescription:a.language,trackType:a.trackType,streams:b.i$a(d,a),channelsFormat:a.channelsLabel,surroundFormatLabel:a.channelsLabel,profile:d&&d.length?d[0].contentProfile:void 0,rawTrackType:a.trackType.toLowerCase(),new_track_id:a.id,track_id:a.id,id:a.id,disallowedSubtitleTracks:[],defaultTimedText:null,isNative:!1,profileType:"",stereo:!1,codecName:"AAC"};}):[];};b.prototype.i$a=function(a,b){var d;d=this;return a?(a=a.map(function(a){return{type:0,trackType:b.trackType,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,language:b.bcp47,urls:d.Tta(a.urls),isDrm:!!a.isEncrypted,new_stream_id:a.id,size:a.size,channels:b.channels,channelsFormat:"2.0",surroundFormatLabel:"2.0",audioKey:null};}),a.sort(function(a,b){return a.bitrate-b.bitrate;}),a):[];};b.prototype.getVideoTracks=function(a,b){var d;d=this;return a?a.map(function(a){return{type:1,trackType:"PRIMARY",streams:d.ycb(a.downloadables,a.trackType),profile:"",new_track_id:a.id,track_id:a.id,dimensionsCount:2,dimensionsLabel:"2D",drmHeader:b&&b.length?{bytes:b[0],checksum:"",keyId:b[0].substr(b.length-25)}:void 0,prkDrmHeaders:void 0,flavor:void 0,ict:!1,profileType:"",stereo:!1,maxWidth:0,maxHeight:0,pixelAspectX:1,pixelAspectY:1,max_framerate_value:0,max_framerate_scale:256,minCroppedWidth:0,minCroppedHeight:0,minCroppedX:0,minCroppedY:0,maxCroppedWidth:0,maxCroppedHeight:0,maxCroppedX:0,maxCroppedY:0,minWidth:0,minHeight:0};}):[];};b.prototype.ycb=function(a,b){var d;d=this;return a?(a=a.map(function(a){return{type:1,trackType:b,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,urls:d.Tta(a.urls),pix_w:a.width,pix_h:a.height,res_w:a.width,res_h:a.height,hdcp:a.hdcpVersions,vmaf:a.vmaf,size:a.size,isDrm:a.isEncrypted,new_stream_id:"0",peakBitrate:0,dimensionsCount:2,dimensionsLabel:"2D",startByteOffset:0,framerate_value:a.framerate_value,framerate_scale:a.framerate_scale,crop_x:a.cropParamsX,crop_y:a.cropParamsY,crop_w:a.cropParamsWidth,crop_h:a.cropParamsHeight};}),a.sort(function(a,b){return a.bitrate-b.bitrate;}),a):[];};b.prototype.lcb=function(a,b){var d;d=this;return a?a.map(function(a){return{type:"timedtext",trackType:"SUBTITLES"===a.trackType?"PRIMARY":"ASSISTIVE",rawTrackType:a.trackType.toLowerCase(),language:a.bcp47||null,languageDescription:a.language,new_track_id:a.id,id:a.id,isNoneTrack:a.isNone,isForcedNarrative:a.isForced,downloadableIds:d.gcb(a.downloadables),ttDownloadables:d.hcb(a.downloadables),isLanguageLeftToRight:!!a.isLanguageLeftToRight,cdnlist:b};}):[];};b.prototype.gcb=function(a){return a?a.reduce(function(a,b){a[b.contentProfile]=b.downloadableId;return a;},{}):{};};b.prototype.zbb=function(a){var b;b=p.TZ.V5();a=a.filter(function(a){return a.isImage;});return 0===a.length?b:0<a.filter(function(a){return a.pixHeight===b;}).length?b:Math.min.apply(Math,[].concat(da(a.map(function(a){return a.pixHeight;}))));};b.prototype.hcb=function(a){var b;if(a){b=this.zbb(a);return a.reduce(function(a,d){d.isImage&&d.pixHeight!==b||(a[d.contentProfile]={size:d.size,textKey:null,isImage:d.isImage,midxOffset:d.offset,height:d.pixHeight,width:d.pixWidth,downloadUrls:d.urls,hashValue:"",hashAlgo:"sha1",midxSize:void 0});return a;},{});}return{};};b.prototype.lD=function(a){return a?a.map(function(a){return{id:a.mediaId,tracks:{AUDIO:a.tracks.find(function(a){return"AUDIO"===a.type;}).id,VIDEO:a.tracks.find(function(a){return"VIDEO"===a.type;}).id,TEXT:a.tracks.find(function(a){return"TEXT"===a.type;}).id}};}):[];};b.prototype.rcb=function(a){var b;if(a){b=[];a.map(function(a){a.downloadables.map(function(a){b.push({downloadable_id:a.downloadableId,size:a.size,urls:Object.keys(a.urls).map(function(b){return a.urls[b];}),id:a.id,interval:a.interval,pixelsAspectY:a.pixWidth,pixelsAspectX:a.pixHeight,width:a.resWidth,height:a.resHeight});});});return b;}return[];};b.prototype.oab=function(a){var b;b=0;a.videoTracks.forEach(function(a){a.downloadables&&a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});a.audioTracks.forEach(function(a){a.downloadables&&a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});return a.clientGenesis+1E3*b;};b.prototype.encode=function(){throw Error("encode not supported");};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.oG))],a);c.PMa=a;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.FSa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";c.KJa="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";},function(g,c,a){var f,h,p,d,k,m,t,u,y;function b(a,b,d,f,c){this.pc=a;this.Kl=b;this.PW=d;this.KT=f;this.Sr=c;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(22);p=a(41);d=a(98);k=a(65);m=a(168);t=a(77);u=a(623);a=a(147);b.prototype.Mf=function(a){var b;b=this;return this.Sr().then(function(d){return b.pc.Su(a.Pp[0].data,[8,4])?{kc:[{id:"ddd",Jv:"cert",GD:void 0}],Lv:[{sessionId:"ddd",data:new Uint8Array(b.Kl.decode(u.FSa))}]}:b.pc.Su(a.Pp[0].data,b.PW.decode("certificate"))?{kc:[{id:"ddd",Jv:"cert",GD:void 0}],Lv:[{sessionId:"ddd",data:new Uint8Array(b.Kl.decode(u.KJa))}]}:b.KT.Nx(b.N9a(a),d.profile).then(function(a){return b.O9a(a);});});};b.prototype.release=function(a){var b;b=this;return this.Sr().then(function(d){return b.KT.release(b.Q9a(a),d.profile).then(function(d){return b.R9a(d,a);});});};b.prototype.N9a=function(a){var b;b=this;return{oa:a.oa,Of:a.Of,zR:a.zR,zh:t.Uva(a.zh),so:m.Vn[a.so],Pp:a.Pp.map(function(a){return{sessionId:a.sessionId,dataBase64:b.Kl.encode(a.data)};}),mK:a.mK,xf:a.xf};};b.prototype.Q9a=function(a){var b;b={};a.Op&&a.kc[0].id&&(b[a.kc[0].id]=this.Kl.encode(a.Op));return a&&a.Op?{oa:a.oa,kc:a.kc,upb:b}:{oa:a.oa,kc:a.kc};};b.prototype.O9a=function(a){return{kc:a.kc,Lv:a.Lv};};b.prototype.R9a=function(a,b){return a&&a.response&&a.response.data&&b.kc[0].id&&(a=a.response.data[b.kc[0].id])?{response:this.Kl.decode(a)}:{};};y=b;y=g.__decorate([f.N(),g.__param(0,f.l(h.df)),g.__param(1,f.l(p.Jj)),g.__param(2,f.l(d.rx)),g.__param(3,f.l(a.ZF)),g.__param(4,f.l(k.Xq))],y);c.VIa=y;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.nHa="ControlProtocolSymbol";},function(g,c,a){var b,f,h,p,d,k,m,t,u,y;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(625);f=a(442);h=a(624);p=a(622);d=a(160);k=a(621);m=a(189);t=a(147);u=a(620);y=a(619);c.Rmb=new g.ac(function(a){a(b.nHa).jA(function(){return J._cad_global.controlProtocol;});a(f.gea).to(h.VIa).Z();a(d.XY).to(p.PMa).Z();a(d.mga).to(y.KMa).Z();a(m.WY).to(k.OMa).Z();a(t.ZF).to(u.NLa).Z();});},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.lIb=function(a){return a;};c.Ugb=function(a){return a;};c.mIb=function(a){return Object.assign({},a);};},function(g,c,a){var f,h,p,d,k,m,t,u,y;function b(a,b,d){this.Sa=a;this.Evb=b;this.performance=d;h.al(this,"performance");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(47);p=a(627);d=a(35);k=a(37);m=a(42);t=a(1);u=a(320);y=a(3);b.prototype.get=function(a,b,c){var g;g=this;return new Promise(function(k,h){var m,t,p;try{m=g.Evb.create();"withCredentials"in m||h(Error("Missing CORS support"));m.open("GET",a,!0);b&&(m.withCredentials=!0);c&&(m.timeout=c.ea(y.ma));t=g.Sa.Xe;p=void 0;m.onreadystatechange=function(){var b;switch(m.readyState){case XMLHttpRequest.HEADERS_RECEIVED:p=g.Sa.Xe.me(t);break;case XMLHttpRequest.DONE:b=g.Sa.Xe.me(t);k({body:m.responseText,status:m.status,headers:f.Okb(m.getAllResponseHeaders()),Xc:g.dbb(a,d.aa(m.responseText.length),b,p)});}};m.send();}catch(U){h(U);}});};b.Okb=function(a){var b,f,c;b={};a=a.split("\r\n");for(var d=0;d<a.length;d++){f=a[d];c=f.indexOf(": ");0<c&&(b[f.substring(0,c).toLowerCase()]=f.substring(c+2));}return b;};b.prototype.dbb=function(a,b,f,c){b={size:b,duration:f,Pba:c};if(!this.performance||!this.performance.getEntriesByName)return b;f=this.performance.getEntriesByName(a);if(0==f.length&&(f=this.performance.getEntriesByName(a+"/"),0==f.length))return b;a=f[f.length-1];b=p.Ugb(b);a.D5a&&(b.size=d.aa(a.D5a));0<a.duration?b.duration=y.timestamp(a.duration):0<a.startTime&&0<a.responseEnd&&(b.duration=y.timestamp(a.responseEnd-a.startTime));0<a.requestStart&&(b.zqa=y.timestamp(a.domainLookupEnd-a.domainLookupStart),b.Iba=y.timestamp(a.connectEnd-a.connectStart),b.Pba=y.timestamp(a.responseStart-a.startTime),0===a.secureConnectionStart?b.Tba=y.timestamp(0):void 0!==a.secureConnectionStart&&(f=a.connectEnd-a.secureConnectionStart,b.Tba=y.timestamp(f),b.Iba=y.timestamp(a.connectEnd-a.connectStart-f)));return b;};a=f=b;a=f=g.__decorate([t.N(),g.__param(0,t.l(m.Kj)),g.__param(1,t.l(u.zja)),g.__param(2,t.l(k.yZ)),g.__param(2,t.optional())],a);c.vKa=a;},function(g,c,a){var f,h,p,d,k;function b(a,b){this.is=a;this.json=b;h.al(this,"json");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(47);p=a(37);d=a(3);a=a(21);b.prototype.parse=function(a){var f;a=this.json.parse(a);if(!this.is.g1(a))throw Error("FtlProbe: param: not an object");if(a.next&&!this.is.wH(a.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.wH(a.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(a.pulse_delays&&!this.is.Xr(a.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.wH(a.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.Xr(a.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.Ik(a.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.Qx(a.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var b=0;b<a.urls.length;++b){f=a.urls[b];if(!this.is.g1(f))throw Error("FtlProbe: param.urls["+b+"]: not an object");if(!this.is.Ci(f.name))throw Error("FtlProbe: param.urls["+b+"].name: not a string");if(!this.is.Ci(f.url))throw Error("FtlProbe: param.urls["+b+"].url: not a string");}return{Ymb:a.pulses,Oza:a.pulse_delays?a.pulse_delays.map(d.Db):[],Xmb:d.Db(a.pulse_timeout),Dva:a.next?d.Db(a.next):void 0,Yc:a.urls,g8:a.logblob,context:a.ctx};};k=b;k=g.__decorate([f.N(),g.__param(0,f.l(a.we)),g.__param(1,f.l(p.St))],k);c.TJa=k;},function(g,c,a){var f,h,p,d,k,m;function b(a,b){this.Ah=a;this.ez=b;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(1);p=a(35);d=a(3);k=a(39);a=a(58);b.prototype.nL=function(a){a=this.ez.Pl("ftlProbeError","info",f.yvb({url:a.url,sc:a.status,pf_err:a.Z9},a));this.Ah.vc(a);};b.yvb=function(a,b){b.Xc&&(b=b.Xc,f.Gp(a,"d",b.duration),f.Gp(a,"dns",b.zqa),f.Gp(a,"tcp",b.Iba),f.Gp(a,"tls",b.Tba),f.Gp(a,"ttfb",b.Pba),a.sz=b.size.ea(p.Un));return a;};b.Gp=function(a,b,f){f&&(a[b]=f.ea(d.ma));return a;};m=f=b;m=f=g.__decorate([h.N(),g.__param(0,h.l(k.Mj)),g.__param(1,h.l(a.Yn))],m);c.rQa=m;},function(g,c,a){var f,h,p,d,k,m;function b(a,b){this.Ah=a;this.ez=b;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(1);p=a(35);d=a(3);k=a(39);a=a(58);b.prototype.nL=function(a){a=this.ez.Pl(a.g8,"info",{ctx:a.context,data:a.data.map(function(a){return{name:a.name,url:a.url,data:a.data.map(function(a){return f.zvb({d:a.Xc.duration.ea(d.ma),sc:a.status,sz:a.Xc.size.ea(p.Un),via:a.cvb,cip:a.v1a,err:a.ny},a);})};})});this.Ah.vc(a);};b.zvb=function(a,b){f.Gp(a,"dns",b.Xc.zqa);f.Gp(a,"tcp",b.Xc.Iba);f.Gp(a,"tls",b.Xc.Tba);f.Gp(a,"ttfb",b.Xc.Pba);return a;};b.Gp=function(a,b,f){f&&(a[b]=f.ea(d.ma));return a;};m=f=b;m=f=g.__decorate([h.N(),g.__param(0,h.l(k.Mj)),g.__param(1,h.l(a.Yn))],m);c.sQa=m;},function(g,c,a){var f,h,p,d,k,m,t,u;function b(a,b,d,f,c,g,k){this.config=a;this.Aua=b;this.ka=d;this.ei=f;this.uob=c;this.W$=g;this.dfb=0;this.ia=k.lb("FTL");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(1);p=a(3);d=a(30);k=a(7);m=a(318);t=a(317);a=a(167);b.prototype.start=function(){this.config.enabled&&!this.In&&(this.In=this.ka.hg(this.config.tCa,this.CE.bind(this)));};b.prototype.stop=function(){this.In&&(this.In.cancel(),this.In=void 0);};b.prototype.CE=function(){var a,b;a=this;b=""+this.config.endpoint+(-1===this.config.endpoint.indexOf("?")?"?":"&")+"iter="+this.dfb++;this.fcb(b).then(function(b){return Promise.all(b.Yc.map(function(d){return a.$cb(b,d.url,d.name);})).then(function(d){0<d.length&&a.uob.nL({data:d,context:b.context,g8:b.g8});}).then(function(){return b;});}).then(function(b){a.In&&(b.Dva?a.In=a.ka.hg(b.Dva,a.CE.bind(a)):a.stop());})["catch"](function(b){return a.ia.error("FTL run failed",b);});};b.prototype.fcb=function(a){var b;b=this;return this.Aua.get(a,!1).then(function(d){var f;if(200!=d.status||null==d.body)return b.W$.nL({url:a,status:d.status,Z9:"FTL API request failed",Xc:d.Xc}),Promise.reject(Error("FTL API request failed: "+d.status));f=b.ei.parse(d.body);return f instanceof Error?(b.W$.nL({url:a,status:4,Z9:"FTL Probe API JSON parsing error",Xc:d.Xc}),Promise.reject(f)):Promise.resolve(f);})["catch"](function(d){d instanceof Error&&(b.W$.nL({url:a,status:0,Z9:d.message}),b.ia.error("FTL API call failed",d.message));return Promise.reject(d);});};b.prototype.$cb=function(a,b,d){var c;c=this;return new Promise(function(g,k){var A;for(var h,m,t,u=[],q={},y=0;y<a.Ymb;q={Gd:q.Gd},++y){q.Gd=y<a.Oza.length?a.Oza[y]:p.Ff;A=function(d){return function(){return new Promise(function(g,k){c.ka.hg(d.Gd,function(){f.Hmb(c.Aua,b,a.Xmb).then(function(a){function b(a,b,d){a||(a=d.headers[b]);return a;}h=b(h,"via",a);m=b(m,"x-ftl-probe-data",a);t=b(t,"x-ftl-error",a);g({status:a.status,Xc:a.Xc,cvb:h||"",v1a:m||"",ny:t||""});})["catch"](function(a){k(a);});});});};}(q);u.push(0<y?u[y-1].then(A):A());}Promise.all(u).then(function(a){g({url:b,name:d,data:a});})["catch"](function(a){k(a);});});};b.Hmb=function(a,b,d){return a.get(b,!1,d).then(function(a){return Object.assign({},a);});};u=f=b;u=f=g.__decorate([h.N(),g.__param(0,h.l(a.Kea)),g.__param(1,h.l(t.Xea)),g.__param(2,h.l(d.pg)),g.__param(3,h.l(m.Jea)),g.__param(4,h.l(a.tia)),g.__param(5,h.l(a.sia)),g.__param(6,h.l(k.ob))],u);c.VJa=u;},function(g,c,a){var b,f,h,p,d,k,m,t;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(632);f=a(631);h=a(630);p=a(629);d=a(628);k=a(318);m=a(317);t=a(167);c.T9a=new g.ac(function(a){a(t.Lea).to(b.VJa).Z();a(t.tia).to(f.sQa).Z();a(t.sia).to(h.rQa).Z();a(k.Jea).to(p.TJa).Z();a(m.Xea).to(d.vKa).Z();});},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=function(){function a(a){this.Ip=a;}a.prototype.AK=function(){var a,f,c;a=this.Ip.Lab();f=this.Ip.Mab();c=this.Ip.Nab();if("number"===typeof a&&"number"===typeof f&&"number"===typeof c)return(c-a)/f;};return a;}();c.KNa=g;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=function(){function a(a,f){this.Ip=a;this.AK=f;}a.prototype.Taa=function(a){return this.Ip.Taa(a);};a.prototype.Xk=function(){return this.Ip.Xk();};a.prototype.mbb=function(){return this.AK.AK();};return a;}();c.JNa=g;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=function(){function a(a){this.dwa=a;}a.prototype.Taa=function(a){try{this.dwa.setItem("gtp",JSON.stringify(a));}catch(f){return!1;}return!0;};a.prototype.ata=function(){var a;try{a=this.dwa.getItem("gtp");if(a)return JSON.parse(a);}catch(f){}};a.prototype.Xk=function(){var a;a=this.ata();if(a&&a.tp)return a.tp.a;};a.prototype.Lab=function(){var a;a=this.I5();if(a)return a.p25;};a.prototype.Mab=function(){var a;a=this.I5();if(a)return a.p50;};a.prototype.Nab=function(){var a;a=this.I5();if(a)return a.p75;};a.prototype.I5=function(){var a;a=this.ata();if(a&&(a=a.iqr))return a;};return a;}();c.Sca=g;},function(g,c,a){var b,f,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(636);f=a(635);h=a(634);c["default"]=function(a){var d;a=new b.Sca(a);d=new h.KNa(a);return new f.JNa(a,d);};},function(g,c,a){var f,h,p,d;function b(a,b,d){this.config=a;this.qgb=b;this.bf=d;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(465);h=a(1);p=a(162);a=a(319);b.prototype.g3=function(){if(this.config.cEa)return this.bf(this.qgb());};d=b;d=g.__decorate([h.N(),g.__param(0,h.l(f.Nga)),g.__param(1,h.l(p.Mga)),g.__param(2,h.l(a.Oga))],d);c.INa=d;},function(g,c,a){var f;function b(){}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.create=function(){return new XMLHttpRequest();};f=b;f=g.__decorate([a.N()],f);c.JSa=f;},function(g,c,a){var b,f,h,p,d,k,m;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(639);f=a(82);h=a(320);p=a(638);d=a(190);k=a(319);m=a(637);c.Xib=new g.ac(function(a){a(h.zja).to(b.JSa).Z();a(f.Ut).jA(function(){return J._cad_global.http;});a(d.PN).to(p.INa).Z();a(k.Oga).Dh(m["default"]);});},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=c.Ie||(c.Ie={});g.JEa="aseexception";g.KEa="asereport";g.AFa="audioswitch";g.ZFa="bitraterestriction";g.$Fa="blockedautoplay";g.WGa="cdnsel";g.YGa="chgstrm";g.NIa="dlreport";g.OIa="dlreq";g.yJa="endplay";g.zLa="intrplay";g.mNa="midplay";g.Wha="playbackaborted";g.qQa="renderstrmswitch";g.uQa="repos";g.yQa="resumeplay";g.bRa="securestop";g.hRa="serversel";g.qRa="startplay";g.rRa="statechanged";g.yRa="subtitleerror";g.ARa="subtitleqoe";g.RRa="timedtextrebuffer";g.SRa="timedtextswitch";g.YRa="transition";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.ihb=function(a,b){var d,k;if(0!==a.length){if(1===a.length)return a[0];for(var f=a[0],c=b(f),g=1;g<a.length;g++){d=a[g];k=b(d);k>c&&(f=d,c=k);}return f;}};},function(g,c,a){var f;function b(a,b,d){a=f.JX.call(this,a,b)||this;a.Qu=d;return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(323);ba(b,f.JX);c.UGa=b;},function(g,c,a){var f,h,p,d,k,m,t,u,y,A,l,x,n,M,R,T,r;function b(a,b,d,f,c,g,k,h,m,t,p,u,q,y,A){this.ZCa=a;this.HQ=b;this.Ah=d;this.T8=f;this.B4=c;this.gl=g;this.Xd=k;this.yR=h;this.Jd=m;this.config=t;this.Kc=p;this.Sa=u;this.ya=q;this.platform=y;this.fK=A;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(226);h=a(417);p=a(39);d=a(22);k=a(409);m=a(222);t=a(91);u=a(1);y=a(324);A=a(322);l=a(82);x=a(17);n=a(42);M=a(23);R=a(72);T=a(58);a=a(107);b.prototype.create=function(a,b,d){return new y.aMa(a,b,d,this.ZCa,this.HQ,this.Ah,this.T8,this.B4,this.gl,this.Xd,this.yR,this.Jd,this.config,this.Kc,this.Sa,this.ya,this.platform,this.fK);};r=b;r=g.__decorate([u.N(),g.__param(0,u.l(f.WZ)),g.__param(1,u.l(h.uda)),g.__param(2,u.l(p.Mj)),g.__param(3,u.l(k.sga)),g.__param(4,u.l(m.Bea)),g.__param(5,u.l(t.gx)),g.__param(6,u.l(d.df)),g.__param(7,u.l(A.dea)),g.__param(8,u.l(l.Ut)),g.__param(9,u.l(x.ld)),g.__param(10,u.l(a.fB)),g.__param(11,u.l(n.Kj)),g.__param(12,u.l(M.Pe)),g.__param(13,u.l(R.pp)),g.__param(14,u.l(T.Yn))],r);c.$La=r;},function(g,c,a){var f,h,p;function b(a){this.xh=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(35);a=a(92);b.prototype.ygb=function(){var a;a=this.xh()?this.xh().Rg.length:40;return h.aa(a+33);};p=b;p=g.__decorate([f.N(),g.__param(0,f.l(a.Rw))],p);c.YLa=p;},function(g,c,a){var h,p,d,k,m,t,u,y,A;function b(a,b,d,f,c,g,h,m,t,p){this.platform=b;this.p3=d;this.type=f;this.severity=c;this.timestamp=g;this.data=h;this.ya=m;this.data.type=f;this.data.sev=c;this.data.devmod=this.platform.sR;this.data.clver=this.platform.version;a&&a.Lp&&(a.Lp.os&&(this.data.osplatform=a.Lp.os.name,this.data.osver=a.Lp.os.version),this.data.browsername=a.Lp.name,this.data.browserver=a.Lp.version);a.y7&&(this.data.tester=!0);a.vv&&!this.data.groupname&&(this.data.groupname=a.vv);a.lC&&(this.data.groupname=this.data.groupname?this.data.groupname+"|"+a.lC:a.lC);a.oA&&(this.data.uigroupname=a.oA);this.data.uigroupname&&(this.data.groupname=this.data.groupname?this.data.groupname+("|"+this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.ya.Yab();this.data.uniqueLogId=t.osa();this.data.appId=this.ya.id;p&&(a=this.ya.Xb(),this.data.soffms=a.me(p.jl).ea(k.ma),this.data.mid=p.M,this.data.lvpi=p.f8,this.data.uiLabel=p.ue,this.data["startup"===f?"playbackxid":"xid"]=p.oa,p.Wz&&(f=p.Wz,(p=p.Wz.split("."))&&1<p.length&&"S"!==p[0][0]&&(f="SABTest"+p[0]+".Cell"+p[1]),this.data.groupname=this.data.groupname?this.data.groupname+"|"+f:f));}function f(a,b,d,f,c,g){this.Sa=a;this.p3=b;this.config=d;this.ya=f;this.Wub=c;this.platform=g;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(35);p=a(1);d=a(42);k=a(3);m=a(434);t=a(51);u=a(23);y=a(327);a=a(72);f.prototype.Pl=function(a,d,f,c){return new b(this.config,this.platform,this.p3,a,d,this.Sa.Xe,f,this.ya,this.Wub,c);};A=f;A=g.__decorate([p.N(),g.__param(0,p.l(d.Kj)),g.__param(1,p.l(m.Gda)),g.__param(2,p.l(t.zm)),g.__param(3,p.l(u.Pe)),g.__param(4,p.l(y.mja)),g.__param(5,p.l(a.pp))],A);c.XLa=A;oa.Object.defineProperties(b.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.roa||(this.roa=h.aa(this.p3.encode(this.data).length));return this.roa;}}});},function(g,c,a){var f,h,p,d;function b(a){this.config=a;this.ohb=f.aa(5E5);this.Kpb=h.f9(1);this.hBa=h.Fg(5);this.Owa=f.aa(1E6);}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(35);h=a(3);p=a(1);a=a(17);oa.Object.defineProperties(b.prototype,{arb:{configurable:!0,enumerable:!0,get:function(){return this.config().brb;}},e8:{configurable:!0,enumerable:!0,get:function(){return this.config().e8;}},p1:{configurable:!0,enumerable:!0,get:function(){return this.config().p1;}}});d=b;d=g.__decorate([p.N(),g.__param(0,p.l(a.ld))],d);c.QLa=d;},function(g,c,a){var f,h,p;function b(a){this.config=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(191);p=a(35);b.prototype.measure=function(a){var b;b=this;return a.map(function(a){return a.size.add(b.config.ygb());}).reduce(function(a,b){return a.add(b);},p.aa(0));};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.Yfa))],a);c.ZLa=a;},function(g,c,a){var h,p,d,k,m,t,u,y,A,l,x;function b(a,b,d,f,c,g,k,h){this.ya=a;this.platform=d;this.xh=f;this.json=c;this.pc=g;this.gl=k;this.Egb=h;p.al(this,"json");this.ia=b.lb("LogblobSender");}function f(){this.entries=[];}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(1);p=a(47);d=a(37);k=a(3);m=a(22);t=a(23);u=a(72);y=a(92);A=a(7);l=a(328);a=a(91);b.prototype.send=function(a,b){var d;d=this;return new Promise(function(a,c){var g;try{g=b.reduce(function(a,b){a.entries.push(d.x4a(b));return a;},new f());a(d.Y9a(g));}catch(U){d.ia.error(U.message);c(U);}}).then(function(b){return d.LE(b,a);});};b.prototype.x4a=function(a){return this.pc.gk(this.pc.gk({},a.data),{esn:this.xh().Rg,sev:a.severity,type:a.type,lver:this.platform.mwa,jssid:this.ya.id,devmod:this.platform.sR,jsoffms:a.timestamp.me(this.ya.Vy).ea(k.ma),clienttime:a.timestamp.ea(k.ma),client_utc:a.timestamp.ea(k.Em),uiver:this.gl.kF});};b.prototype.Y9a=function(a){var b;b=this;try{return this.json.stringify(a);}catch(W){for(var d={},f=0;f<a.entries.length;d={UL:d.UL,ee:d.ee},++f){d.ee=Object.assign({},a.entries[f]);try{this.json.stringify(d.ee);}catch(D){d.UL=void 0;this.pc.cv(d.ee,function(a){return function(d,f){try{b.json.stringify(f);}catch(Z){a.UL=Z.message;a.ee[d]=a.UL;}};}(d));d.ee.stringifyException=d.UL;d.ee.originalType=d.ee.type;d.ee.type="debug";d.ee.sev="error";}}return this.json.stringify(a);}};b.prototype.LE=function(a,b){var d;d=this;return this.Egb.Ye(this.ia,b,{logblobs:a}).then(function(){})["catch"](function(a){d.ia.error("PBO logblob failed",a);return Promise.reject(a);});};x=b;x=g.__decorate([h.N(),g.__param(0,h.l(t.Pe)),g.__param(1,h.l(A.ob)),g.__param(2,h.l(u.pp)),g.__param(3,h.l(y.Rw)),g.__param(4,h.l(d.St)),g.__param(5,h.l(m.df)),g.__param(6,h.l(a.gx)),g.__param(7,h.l(l.Cha))],x);c.bMa=x;},function(g,c,a){var f,h,p;function b(){}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(3);p=a(35);b.prototype.decode=function(a){return{data:a.data,type:a.type,severity:a.severity,timestamp:h.Db(a.timestamp),size:p.aa(a.size)};};b.prototype.encode=function(a){return{data:a.data,type:a.type,severity:a.severity,timestamp:a.timestamp.ea(h.ma),size:a.size.ea(p.Un)};};a=b;a=g.__decorate([f.N()],a);c.WLa=a;},function(g,c,a){var f,h,p,d,k,m,t,u,y,A,l,x,n,M;function b(a,b,d,f,c,g,k,m){var t;t=this;this.ka=a;this.Ch=b;this.yv=f;this.pq=c;this.config=g;this.yf=k;this.json=m;this.u3=[];h.al(this,"json");this.ia=this.yf.lb("MessageQueue");this.bv=new x.iNa(this.pq);d().then(function(a){t.hj=a;t.data=new l.jNa(t.pq,a.profile);t.kgb(a);})["catch"](function(a){t.ia.error("AccountManagerProvider threw an exception.",a);});}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(47);p=a(35);d=a(116);k=a(191);m=a(30);t=a(7);u=a(65);y=a(39);A=a(63);l=a(330);x=a(330);n=a(37);M=a(2);b.prototype.Ur=function(a,b,d){var f;try{f={data:this.json.parse(this.json.stringify(a.data)),severity:a.severity,size:a.size,timestamp:a.timestamp,type:a.type};this.data&&d?(this.data.Ur(d.id,this.lta(b),"logblobs",f),this.hra()):this.u3.push(f);}catch(U){b={};(d=a.data.debugMessage)&&"string"===typeof d&&(b.originalDebugMessage=d);(a=a.data.debugCategory)&&"string"===typeof a&&(b.originalDebugCategory=a);this.ia.error("JSON.stringify error: "+U.message,b);}};b.prototype.Hz=function(a){this.data.Hz(a);this.hra();};b.prototype.s$a=function(){var a,b,d,u;a=[];if(this.data){b=this.config.Owa.to(p.Un);for(d in this.data.fe)for(var f=this.Ay(d),c=this.data.fe[d],g=[],k=[],h=p.aa(0),m=0;m<c.fe.length;m++){u=c.fe[m];g.push(u.message);k.push(u.id);h=h.add(this.pq.measure([u.message]));if(0<=h.Rk(b)||m+1===c.fe.length)this.ia.trace("Batch_"+a.length+": "+g.length+"/"+h,t.Sw),a.push({profile:f,Eua:k.slice(),fe:g.slice(),size:h}),g=[],k=[],h=p.aa(0);}}return a;};b.prototype.kgb=function(a){var b;b=this;this.config.hBa.nva()&&(this.tna=this.Ch.create(),this.tna.then(function(a){return a.load("messages");}).then(function(a){b.igb(a.value);})["catch"](function(a){a.Y===M.u.rp?b.ia.info("No messages to load."):b.ia.error("Failed to load messages.",a);}));this.u3.forEach(function(d){b.data.Ur(a.profile.id,b.lta(!1),"logblobs",d);});this.u3=[];};b.prototype.igb=function(a){var b,d,f;b=this;try{d=this.bv.decode(a);f=this.hj.Ay(d.bQ);if(f&&f.YB.id===this.data.bQ){this.ia.trace("Loading messageQueue.");a={};for(var c in d.fe)a.profileId=c,d.fe[a.profileId].fe.forEach(function(a){return function(d){d.message.data.loadedLogBlobFromPersistence=!0;b.data.Ur(a.profileId,d.id,d.url,d.message);};}(a)),a={profileId:a.profileId};}else this.ia.trace("AcountId does not match, ignoring persisted messages.");}catch(Q){this.ia.error("Load messageQueue failed.",Q);}};b.prototype.epb=function(){var a,b;a=this;b=this.bv.encode(this.data);this.tna.then(function(a){return a.save("messages",b,!1);}).then(function(){a.ia.info("MessageQueue: Saved",t.Sw);})["catch"](function(b){a.ia.error("Failed to save messages.",b);});};b.prototype.Orb=function(){this.KV&&(this.KV.cancel(),this.KV=void 0);};b.prototype.hra=function(){this.config.arb&&!this.KV&&(this.KV=this.ka.hg(this.config.hBa,this.gkb.bind(this)));};b.prototype.gkb=function(){this.Orb();this.epb();};b.prototype.lta=function(a){return a?this.yv.tC():0;};b.prototype.Ay=function(a){return this.hj.Ay(a)||this.hj.profile;};oa.Object.defineProperties(b.prototype,{size:{configurable:!0,enumerable:!0,get:function(){var a;a=p.aa(0);if(this.data)for(var b in this.data.fe)a=a.add(this.data.fe[b].size);return a;}}});a=b;a=g.__decorate([f.N(),g.__param(0,f.l(m.pg)),g.__param(1,f.l(A.jp)),g.__param(2,f.l(u.Xq)),g.__param(3,f.l(d.NA)),g.__param(4,f.l(k.Zfa)),g.__param(5,f.l(y.SY)),g.__param(6,f.l(t.ob)),g.__param(7,f.l(n.St))],a);c.kNa=a;},function(g,c,a){var f,h,p,d,k,m,t,u,y,A,l;function b(a,b,d,f,c,g,k,m){var p;p=this;this.config=a;this.json=d;this.ka=f;this.ugb=c;this.qK=k;this.eR=m;this.vT=this.hva=this.sn=!1;this.listeners=[];h.al(this,"json");this.ia=g.lb("LogBatcher");this.As();b().then(function(a){p.hj=a;p.hva=a.Ggb;})["catch"](function(a){p.ia.error("Unable to initialize the account manager for the log batcher",a,t.Sw);});}Object.defineProperty(c,"__esModule",{value:!0});f=a(0);g=a(1);h=a(47);p=a(37);d=a(332);k=a(65);m=a(30);t=a(7);u=a(39);y=a(331);A=a(2);l=a(70);a(149);c.Ozb=function(a,b,d){this.name=a;this.message=void 0===b?a:b;this.cause=d;};b.prototype.Bc=function(){this.sn=!0;};b.prototype.vc=function(a,b,d){var f;b=void 0===b?!1:b;f=this;0<a.size.Rk(this.config.ohb)?this.ia.error("Logblob is too large, dropping from the queue",{logblobType:a.type,logblobSize:a.size.toString()}):(!d&&this.hj&&(d=this.hj.profile),this.listeners.forEach(function(b){return b.ixa(a);}),b=b||0<=this.config.e8.indexOf(a.type),this.qK.Ur(a,b,d),this.ka.Kb(function(){f.r9a();}));};b.prototype.flush=function(a){var b;a=void 0===a?!1:a;b=this;return this.vT?(this.ia.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(d,f){b.ia.trace("Flushing",t.Sw);b.$g();b.ka.Kb(function(){b.Haa(a).then(function(){d();})["catch"](function(){f();});});});};b.prototype.addListener=function(a){this.listeners.push(a);};b.prototype.removeListener=function(a){a=this.listeners.indexOf(a);0<=a&&this.listeners.splice(a,1);};b.prototype.Haa=function(a){a=void 0===a?!1:a;return f.__awaiter(this,void 0,void 0,function(){var d,f,c,g,k,h,m,p,u,q,y;function b(b){for(;;)switch(d){case 0:u=q;if(q.sn&&q.hva){d=1;break;}d=-1;return{value:void 0,done:!0};case 1:if(!q.vT){d=2;break;}q.ia.trace("LogBatcher is in error state, ignoring sendLogMessages");d=-1;return{value:void 0,done:!0};case 2:p=q.qK.s$a();m=!1;if(!(0<p.length||a)){d=3;break;}q.$g();q.listeners.forEach(function(a){return a.EBa();});h={};k=P(p);g=k.next();case 4:if(g.done){d=6;break;}h.ds=g.value;try{return q.Hz(h.ds),q.ia.trace("Sending batch: "+h.ds.size,t.Sw),d=9,{value:q.ugb.send(h.ds.profile,h.ds.fe),done:!1};}catch(ca){c=ca;d=7;break;}case 9:try{if(void 0===b){d=10;break;}d=-1;throw b;}catch(ca){c=ca;d=7;break;}case 10:try{d=8;break;}catch(ca){c=ca;d=7;break;}case 7:f=c;m=!0;q.ia.warn("Failed to send logblobs.",f,t.Sw);q.Wqb(f)&&(q.ia.trace("re-adding failed batch"),h.ds.fe.forEach(function(a){return function(b,d){u.qK.Ur(b,0!==a.ds.Eua[d],a.ds.profile);};}(h)));if(!q.erb(f)){d=11;break;}q.vT=!0;d=6;break;case 11:case 8:case 5:h={ds:h.ds};g=k.next();d=4;break;case 6:case 3:q.As();if(!m){d=12;break;}d=-1;throw Error("Send failure.");case 12:d=-1;default:return{value:void 0,done:!0};}}d=0;q=this;y={next:function(){return b(void 0);},"throw":function(a){return b(a);},"return":function(){throw Error("Not yet implemented");}};n();y[Symbol.iterator]=function(){return this;};return y;});};b.prototype.Wqb=function(a){return a.wg===A.IY.tha?!1:this.config.p1;};b.prototype.erb=function(a){return a.Jc===A.u.Nea||a.Jc===A.u.SF||a.Jc===A.u.JA?!0:!1;};b.prototype.r9a=function(){var a;a=this;0<this.qK.size.Rk(this.config.Owa)?this.Haa()["catch"](function(){return a.ia.warn("failed to send log messages on size threshold");}):this.As();};b.prototype.$g=function(){this.Ty&&(this.Ty.cancel(),this.Ty=void 0);};b.prototype.As=function(){this.Ty||(this.Ty=this.ka.hg(this.config.Kpb,this.Xs.bind(this)));};b.prototype.Xs=function(){var a;a=this;this.vT=!1;this.$g();this.Haa()["catch"](function(){return a.ia.warn("failed to send log messages on timer");});};b.prototype.Hz=function(a){this.qK.Hz(a.Eua);};b.prototype.stringify=function(a){var b;b="";try{b=this.json.stringify(a.data,void 0,"  ");}catch(M){}return b;};a=b;a=f.__decorate([g.N(),f.__param(0,g.l(u.SY)),f.__param(1,g.l(k.Xq)),f.__param(2,g.l(p.St)),f.__param(3,g.l(m.pg)),f.__param(4,g.l(d.aga)),f.__param(5,g.l(t.ob)),f.__param(6,g.l(y.Bga)),f.__param(7,g.l(l.GF))],a);c.RLa=a;},function(g,c,a){var f,h,p,d,k,m,t;function b(a,b,d,c){var g;g=this;this.Igb=a;this.fK=b;this.config=c;this.R$=[];this.Igb.wV(f.FEa,this.Pcb.bind(this));d().then(function(a){var b;b=c().yh.D9a;g.shb=b?t.Jh[b.toUpperCase()]:t.Jh.ERROR;g.Ah=a;g.Npb();});}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(1);p=a(17);d=a(95);k=a(39);m=a(58);t=a(7);b.prototype.Pcb=function(a,b){this.Ah?this.Rza(a,b):this.R$.push([a,b]);};b.prototype.Npb=function(){var a,b;a=this;b=this.R$;this.R$=[];b.forEach(function(b){a.Rza(b[0],b[1]);});};b.prototype.Rza=function(a,b){var d;if(this.Ah&&this.Yqb(a)){d={debugMessage:a.message,debugCategory:a.Ok};a.fd.forEach(function(a){return d=Object.assign(Object.assign({},d),a.value);});d=Object.assign(Object.assign({},d),{prefix:"debug"});a=this.fK.Pl("debug",t.Jh[a.level].toLowerCase(),d,b);this.Ah.vc(a);}};b.prototype.Yqb=function(a){var b;b=this.shb;return void 0!==b&&a.level<=b&&!a.fd.find(function(a){return a.VI(t.Sw);});};a=f=b;a.FEa="adaptorAll";a=f=g.__decorate([h.N(),g.__param(0,h.l(d.OA)),g.__param(1,h.l(m.Yn)),g.__param(2,h.l(k.Ufa)),g.__param(3,h.l(p.ld))],a);c.gFa=a;},function(g,c,a){var b,f,h,p,d,k,m,t,u,y,A,l,n,G,M,R,r,W,D,U,Q,ia;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(111);f=a(653);h=a(652);p=a(651);d=a(649);k=a(648);m=a(17);t=a(647);u=a(646);y=a(645);A=a(30);l=a(92);n=a(326);G=a(331);M=a(332);R=a(58);r=a(191);W=a(39);D=a(325);U=a(644);Q=a(322);ia=a(321);c.Fgb=new g.ac(function(a){a(W.Mj).to(h.RLa).Z();a(G.Bga).to(p.kNa).Z();a(M.aga).to(d.bMa).Z();a(r.Zfa).to(k.ZLa).Z();a(W.SY).to(t.QLa).Z();a(R.Yn).to(u.XLa).Z();a(r.Yfa).to(y.YLa).Z();a(D.$fa).to(U.$La).Z();a(Q.dea).to(ia.PIa).Z();a(n.Rca).to(f.gFa).Z();a(W.Ufa).oM(function(a){return function(){return new Promise(function(d){var c,g,k,h;function f(){g()&&k()&&h.Yg?d(a.ec.get(W.Mj)):c.Kb(f);}c=a.ec.get(A.pg);g=a.ec.get(m.ld);k=a.ec.get(l.Rw);h=a.ec.get(b.RA);c.Kb(f);});};});});},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.HIa=function(a,b,f){this.Rg=a;this.ln=b;this.ZC=f;};},function(g,c,a){var f,h,p,d,k,m,t,u,y,A,l,n,G,M;function b(a,b,d,f,c,g,k,h,m,t){this.tqa=a;this.Ch=b;this.Ba=f;this.o3=c;this.re=g;this.debug=k;this.QW=h;this.n3=m;this.elb=t;this.KF=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=d.lb("Device");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(2);h=a(21);p=a(655);d=a(7);k=a(338);m=a(41);t=a(86);u=a(22);y=a(1);A=a(63);l=a(335);n=a(334);G=a(102);a=a(333);b.prototype.sra=function(a){try{return a.match(this.KF)[2];}catch(T){}};b.prototype.ura=function(a){try{return a.match(this.KF)[1];}catch(T){}};b.prototype.create=function(a){var b;b=this;return new Promise(function(d,c){b.Ch.create().then(function(g){var h,m,t,u,q,y;function k(a){b.Ba.Ik(a)&&b.Ba.Ik(h)?(m=new p.HIa(a,h,t),d(m)):c({Y:f.u.Kda});}h=a.ln;if(a.w5)t="bind_device",b.elb.Ye(b.log,void 0,{}).then(function(a){k(a.esn);})["catch"](function(a){c(a);});else if(a.h5){q=a.Rg;if(b.Ba.Ik(q)){y=b.ura(q);y!=a.ln&&b.log.error("esn prefix from ui is different",{ui:y,cad:a.ln,ua:a.userAgent});}else a.b8&&b.log.error("esn from ui is missing");y=Promise.resolve({W:!1});a.lJ&&(y=b.fgb(g,a));y.then(function(d){d.W&&d.ZC&&d.deviceId?(t=d.ZC,k(h+d.deviceId)):g.load(a.rR).then(function(a){u=a.value;b.Ba.Ik(u)&&(b.Ba.Ik(q)?(a=b.sra(q),t=a===u?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):t="storage_esn_not_in_config",k(h+u));})["catch"](function(d){var p;function m(){g.save(a.rR,p,!1).then(function(){k(h+p);})["catch"](function(a){c(a);});}d.Y===f.u.rp?(b.Ba.Ik(a.Rg)?(p=b.sra(a.Rg),b.Ba.Ik(p)?t="config_since_not_in_storage":(t="generated_since_invalid_in_config_and_not_in_storage",b.log.error("invalid esn passed from UI",a.Rg),p=b.tqa.msa())):(t="generated_since_not_in_config_and_storage",p=b.tqa.msa()),m()):c(d);});})["catch"](c);}else a.l6a&&b.o3&&b.o3.getKeyByName?b.o3.getKeyByName(a.r_a).then(function(a){a=a.id;if(b.Ba.Ci(a))a=String.fromCharCode.apply(void 0,b.re.decode(a)),b.debug.assert(""!=a),h=b.ura(a),k(a);else throw"ESN from getKeyByName is not a string";})["catch"](function(a){c({Y:f.u.BX,Qa:b.QW.ud(a)});}):a.k6a&&b.n3&&b.n3.Osa?b.n3.Osa().then(function(a){var d;a=String.fromCharCode.apply(void 0,a);d=h+a;b.debug.assert(b.KF.test(a));k(d);})["catch"](function(){c({Y:f.u.BX});}):k();})["catch"](function(a){c(a);});});};b.prototype.fgb=function(a,b){var d;d=this;return new Promise(function(f,c){d.lgb(a,b).then(function(c){b.cua?d.lJ(b.cua).then(function(g){var k;if(d.Ba.Ci(g)&&d.KF.test(b.ln+g)){k=Promise.resolve();d.u8a(c,g)&&(k=d.wtb(a,b));k.then(function(){a.save(b.rR,g,!1)["catch"](function(a){d.log.error("Failed to persist hardware esn",{esn:g,exception:d.QW.ud(a)});});f({W:!0,deviceId:g,ZC:"hardware_deviceid"});})["catch"](function(a){d.log.error("Exception transitioning hesn",{exception:d.QW.ud(a)});f({W:!1});});}else d.log.error("Invalid Hardware ESN",{deviceId:g}),f({W:!1});})["catch"](function(a){d.log.error("Exception generating hardwareId",{exception:d.QW.ud(a)});f({W:!1});}):(d.log.error("hardwareDeviceId not provided"),f({W:!1}));})["catch"](c);});};b.prototype.lgb=function(a,b){var d;d=this;return new Promise(function(c){a.load(b.rR).then(function(a){a=a.value;d.Ba.Ci(a)&&d.KF.test(b.ln+a)?c(a):(c(void 0),d.log.error("Invalid ESN Loaded",{deviceId:a}));})["catch"](function(a){a.Y!==f.u.rp&&d.log.error("Error loading ESN",a);c(void 0);});});};b.prototype.u8a=function(a,b){return a!==b;};b.prototype.wtb=function(a,b){return a.remove(b.Lib);};b.prototype.lJ=function(a){var b;b=this;return new Promise(function(d,f){try{G.Da.from(a.hardwareDeviceId).ZE(1).subscribe(function(a){b.Ba.Ci(a)?d(a):f("Hardware deviceId was not a string: "+a);},function(a){f(a);});}catch(U){f(U);}});};M=b;M=g.__decorate([y.N(),g.__param(0,y.l(k.$da)),g.__param(1,y.l(A.jp)),g.__param(2,y.l(d.ob)),g.__param(3,y.l(h.we)),g.__param(4,y.l(n.Fda)),g.__param(5,y.l(m.Jj)),g.__param(6,y.l(t.Gt)),g.__param(7,y.l(u.df)),g.__param(8,y.l(l.Eda)),g.__param(9,y.l(a.vha))],M);c.IIa=M;},function(g,c,a){var f,h,p,d,k,m;function b(a,b){this.Sa=a;this.bL=b;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(42);h=a(3);p=a(115);d=a(337);k=a(47);a=a(1);b.prototype.msa=function(){for(var a="",b=this.Sa.Xe.ea(h.ma),f=6;f--;)a="0123456789ACDEFGHJKLMNPQRTUVWXYZ"[b%32]+a,b=Math.floor(b/32);for(;30>a.length;)a+="0123456789ACDEFGHJKLMNPQRTUVWXYZ"[this.bL.G$(new d.qia(0,31,k.xjb))];return a;};m=b;m=g.__decorate([a.N(),g.__param(0,a.l(f.Kj)),g.__param(1,a.l(p.tG))],m);c.GIa=m;},function(g,c,a){var b,f,h,p,d;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(92);f=a(338);h=a(657);p=a(336);d=a(656);c.xh=new g.ac(function(a){a(b.Rw).Sf(function(){return function(){return J._cad_global.device;};});a(p.aea).to(d.IIa).Z();a(f.$da).to(h.GIa).Z();});},function(g,c,a){var f,h;function b(a){this.Yg=a;this.BV=0;this.r7=!1;this.Qz=[];}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);a=a(111);b.prototype.send=function(a){var b,f,c;b=this;f=!!a.TJ&&0!==this.BV;c=this.Qz.some(function(a){return!!a.tU.TJ;});return(f||this.r7||c?new Promise(function(d,f){b.Qz.push({tU:a,resolve:d,reject:f});}):this.LE(a)).then(function(a){b.tya();return a;})["catch"](function(a){b.tya();throw a;});};b.prototype.LE=function(a){this.BV++;a.TJ&&(this.r7=!0);return this.Yg.send(a);};b.prototype.ABa=function(a){this.LE(a.tU).then(function(b){a.resolve(b);})["catch"](function(b){a.reject(b);});};b.prototype.tya=function(){var a;this.BV--;this.r7=!1;if(0===this.BV&&0<this.Qz.length){a=this.Qz.shift();this.ABa(a);if(!a.tU.TJ)for(;0<this.Qz.length&&!this.Qz[0].tU.TJ;)this.ABa(this.Qz.shift());}};h=b;h=g.__decorate([f.N(),g.__param(0,f.l(a.RA))],h);c.uNa=h;},function(g,c,a){var f,h,p,d,k,m,t,u,y,l,n,x,G,M,R,r,W,D,U;function b(a,b,d,f,c,g,k,h,m,t,u,q,y,l){this.platform=a;this.config=b;this.vy=d;this.Ffb=f;this.re=c;this.ya=g;this.Yg=k;this.Qpb=h;this.XE=m;this.vm=t;this.pc=u;this.bL=q;this.json=y;this.z1=l;this.Nl=[];p.al(this,"json");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(1);p=a(47);d=a(72);k=a(17);m=a(51);t=a(23);u=a(41);y=a(3);l=a(111);n=a(231);x=a(98);G=a(22);M=a(2);R=a(115);r=a(82);W=a(37);D=a(85);a=a(340);b.prototype.send=function(a,b,d,c){var u,q,l,A;function g(b){return new Promise(function(d,f){function c(a){var f,c;function d(a,d){q.error("Failed to send request",{errorSubCode:a,errorExternalCode:d,request:JSON.stringify({method:b.method,profile:b.An.profile?b.An.profile.id:void 0,nonReplayable:b.w9,retryCount:b.nw,userId:b.zM,userTokens:JSON.stringify(u.Yg.Yg.getUserIdTokenKeys())})});return{W:!1,result:{errorSubCode:a,errorExternalCode:d}};}f=u.json.parse(a);if(2!=f.length)return q.trace("The MSL envelope did not have enough array items."),d(M.u.bG);if(!f[1].payload)return q.trace("The MSL envelope did not have a payload."),d(M.u.bG);if(!f[1].status)return q.trace("The MSL envelope did not have a status."),d(M.u.bG);a=f[1].status;c=parseInt(a,10);if(isNaN(c)&&"ok"!=a.toLowerCase()||!(200<=c&&300>c))return f=f[1].payload.data,f=u.re.decode(f),q.error("The MSL status indicated an error",{status:c},u.vm.encode(f)),d(M.u.iga,a);f=f[1].payload.data;f=u.vm.encode(u.re.decode(f));if(!f)return q.trace("The MSL payload is missing."),d(M.u.jga);try{return u.json.parse(f);}catch(Ra){return q.error("EDGE response this.json parse error: ",Ra,f),d(M.u.jga);}}k(b,b.nw).then(function(g){var k,h;if(g.body)if(g=c(g.body),q.trace("Received EDGE response",{Method:a.method}),g.success){if(u.config().yh.K8a&&u.zeb(a)){k=a.OKb;h=g.profileGuid;if(k&&h!==k){g={Y:M.u.VOa,Qa:JSON.stringify({serverGuid:h,clientGuid:k})};p(g,b);f(g);return;}}A.success=!0;A.profileId=b.zM;A.elapsedtime=u.ya.Xb().ea(y.ma)-A.starttime;A.userTokens=JSON.stringify(u.Yg.Yg.getUserIdTokenKeys());d(g.result);}else{h=g.result;g.__logs&&(h.VDb=g.__logs);try{k=u.json.stringify(h.data);}catch(Oc){}g=p(h,b);f({Y:h.errorSubCode,Hc:h.errorExternalCode,OR:h.errorEdgeCode,Qa:h.errorDetails?[h.errorDetails," ",g].join(""):void 0,kn:h.errorDisplayMessage,Bs:k});}else f({Y:M.u.bG,Qa:p({Y:M.u.bG},b)});})["catch"](function(a){var d;d=p(a,b);a.Qa&&(a.Qa=[a.Qa," ",d].join(""));f(a);});});}function k(b,d){return new Promise(function(c,g){function k(b,d,t){return u.Qpb.send(b).then(function(a){c(a);})["catch"](function(c){var p,y;y=c&&c.Cj&&void 0!==c.Cj.maxRetries?Math.min(c.Cj.maxRetries,t):t;(u.vy.iaa||h(c))&&d<=y?p=!0:(q.error("Method failed, retry limit exceeded, giving up",{Method:a.method,Attempt:d,MaxRetries:y},f.Aea(c)),p=!1);if(p)return p=c&&c.Cj&&void 0!==c.Cj.retryAfterSeconds?1E3*c.Cj.retryAfterSeconds:u.bL.G$(1E3,1E3*Math.pow(2,Math.min(d-1,y))),q.warn("Method failed, retrying",{Method:a.method,Attempt:d,WaitTime:p,MaxRetries:y},f.Aea(c)),m(p).then(function(){return k(b,d+1,y);});g(c);});}return k(b,1,d);});}function h(a){return(a=a&&a.Y)&&a>=M.u.JA&&a<=M.u.IA;}function m(a){return new Promise(function(b){setTimeout(function(){b();},a);});}function t(){var f,g;f="";d&&(f+=(0<f.length?"&":"")+"logs=true");c&&(f+=(0<f.length?"&":"")+"debug=true");a.languages=u.config().yh.pE;a.clientVersion=u.platform.version;a.uiVersion=u.config().yh.kF;g={};u.config().Kxa&&(g["X-Netflix.request.expiry.timeout"]=u.config().Kxa.toString());f=[{},{headers:g,path:u.config().yh.Pqa,payload:{data:u.json.stringify(a)},query:f}];u.config().yh&&(q.debug("Request payload",{Method:a.method},u.XE.rW(f)),q.debug("Request parameters",{Method:a.method},u.XE.rW(a)));return{An:b,method:a.method,url:""+(u.z1.endpoint+u.config().yh.Dxa)+u.platform.ln+"/cadmium/"+a.method,body:u.json.stringify(f),timeout:l.ea(y.ma),zM:b.profile?b.profile.id:void 0,sob:!0,w9:!1,Sl:!0,nw:3,TJ:a.isExclusive};}function p(a,b){A.success=!1;A.profileId=b.zM;A.elapsedtime=u.ya.Xb().ea(y.ma)-A.starttime;A.userTokens=JSON.stringify(u.Yg.Yg.getUserIdTokenKeys());A.subcode=a.errorSubCode||a.Y;A.extcode=a.errorExternalCode||a.Hc;q.error("BladeRunner command history",u.XE.rW(u.Nl));return u.json.stringify(u.Nl);}d=void 0===d?!1:d;c=void 0===c?!1:c;u=this;b=this.pc.gk({Jd:this.Ffb},b);q=b.log;l=y.Fg(59);A={method:a.method,starttime:this.ya.Xb().ea(y.ma)};this.Nl.push(A);this.Nl.length>this.config().V_a&&this.Nl.shift();q.trace("Sending EDGE request",{Method:a.method});return new Promise(function(a,b){var d;d=t();g(d).then(function(b){a(b);})["catch"](function(a){var d;d={W:!1};u.pc.gk(d,a,{uq:!0});d.__logs&&(d.__logs=a.__logs);b(d);});});};b.prototype.zeb=function(a){return 0<=["bind"].indexOf(a.method)?!0:!1;};b.Aea=function(a){var b,d,f;b={};d=a.errorExternalCode||a.Hc;f=a.errorDetails||a.Qa;b.ErrorSubCode=a.errorSubCode||a.Y||M.u.bj;d&&(b.ErrorExternalCode=d);f&&(b.ErrorDetails=f);return b;};U=f=b;U=f=g.__decorate([h.N(),g.__param(0,h.l(d.pp)),g.__param(1,h.l(k.ld)),g.__param(2,h.l(m.zm)),g.__param(3,h.l(r.Ut)),g.__param(4,h.l(u.Jj)),g.__param(5,h.l(t.Pe)),g.__param(6,h.l(l.RA)),g.__param(7,h.l(a.Gga)),g.__param(8,h.l(n.SZ)),g.__param(9,h.l(x.rx)),g.__param(10,h.l(G.df)),g.__param(11,h.l(R.tG)),g.__param(12,h.l(W.St)),g.__param(13,h.l(D.Dt))],U);c.vNa=U;},function(g,c,a){var b,f,h,p,d;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(111);f=a(660);h=a(339);p=a(340);d=a(659);c.zn=new g.ac(function(a){a(b.RA).jA(function(){return J._cad_global.msl;});a(h.Hga).to(f.vNa).Z();a(p.Gga).to(d.uNa).Z();});},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.I4a=function(a,b,f){return{Ata:function(){return a.S5();},ia:b,request:f,Vg:!1};};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.f2a={Ss:["minInitVideoBitrate",-Infinity],b9:["minHCInitVideoBitrate",-Infinity],Rv:["maxInitVideoBitrate",Infinity],uK:["minInitAudioBitrate",-Infinity],tK:["minHCInitAudioBitrate",-Infinity],iK:["maxInitAudioBitrate",Infinity],gU:["minAcceptableVideoBitrate",-Infinity],hib:["minAllowedVideoBitrate",-Infinity],bhb:["maxAllowedVideoBitrate",Infinity],iib:["minAllowedVmaf",-Infinity],chb:["maxAllowedVmaf",Infinity],TL:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],nU:["minRequiredBuffer",2E4],mU:["minRequiredAudioBuffer",0],ai:["minPrebufSize",5800],baa:["requireDownloadDataAtBuffering",!1],caa:["requireSetupConnectionDuringBuffering",!1],P$:["rebufferingFactor",1],Io:["maxBufferingTime",2E3],rca:["useMaxPrebufSize",!0],az:["maxPrebufSize",4E4],K8:["maxRebufSize",Infinity],P8a:["fastRebufferRecoveryThreshold",Infinity],O8a:["fastRebufferRecoverBwThrehold",3E3],iT:["initialBitrateSelectionCurve",null],Oua:["initSelectionLowerBound",-Infinity],Pua:["initSelectionUpperBound",Infinity],wW:["throughputPercentForAudio",15],T1:["bandwidthMargin",0],V1:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],K_a:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,ms:76376,scale:18862.4,gamma:3.0569}],U1:["bandwidthMarginContinuous",!1],L_a:["bandwidthMarginForAudio",!0],Dba:["switchConfigBasedOnInSessionTput",!0],S2:["conservBandwidthMargin",20],kI:["conservBandwidthMarginTputThreshold",6E3],T2:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],MCa:["switchAlgoBasedOnHistIQR",!1],zw:["switchConfigBasedOnThroughputHistory","iqr"],J8:["maxPlayerStateToSwitchConfig",-1],l8:["lowEndMarkingCriteria","iqr"],LY:["IQRThreshold",.5],M6:["histIQRCalcToUse","simple"],Wm:["bandwidthManifold",{curves:[{min:.05,max:.82,ms:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,ms:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],Rs:["maxTotalBufferLevelPerSession",0],uua:["highWatermarkLevel",3E4],mDa:["toStableThreshold",3E4],AW:["toUnstableThreshold",0],kba:["skipBitrateInUpswitch",!1],yca:["watermarkLevelForSkipStart",8E3],F6:["highStreamRetentionWindow",9E4],m8:["lowStreamTransitionWindow",51E4],H6:["highStreamRetentionWindowUp",5E5],o8:["lowStreamTransitionWindowUp",1E5],G6:["highStreamRetentionWindowDown",6E5],n8:["lowStreamTransitionWindowDown",0],E6:["highStreamInfeasibleBitrateFactor",.5],Ov:["lowestBufForUpswitch",9E3],NT:["lockPeriodAfterDownswitch",15E3],q8:["lowWatermarkLevel",15E3],Pv:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],s8:["lowestWaterMarkLevelBufferRelaxed",!1],V8:["mediaRate",1.5],M8:["maxTrailingBufferLen",15E3],L1:["audioBufferTargetAvailableSize",262144],wca:["videoBufferTargetAvailableSize",1048576],Xwa:["maxVideoTrailingBufferSize",8388608],Jwa:["maxAudioTrailingBufferSize",393216],qxa:["minAudioBufferSize",2306048],TR:["fastUpswitchFactor",3],G4:["fastDownswitchFactor",3],WT:["maxMediaBufferAllowed",27E4],BIb:["minMediaBufferLen",1E4],nq:["maxMediaBufferAllowedInBytes",0],hba:["simulatePartialBlocks",!0],kCa:["simulateBufferFull",!0],U2:["considerConnectTime",!0],R2:["connectTimeMultiplier",1],swa:["lowGradeModeEnterThreshold",12E4],twa:["lowGradeModeExitThreshold",9E4],Kwa:["maxDomainFailureWaitDuration",3E4],Hwa:["maxAttemptsOnFailure",18],ora:["exhaustAllLocationsForFailure",!0],Qwa:["maxNetworkErrorsDuringBuffering",20],E8:["maxBufferingTimeAllowedWithNetworkError",6E4],F4:["fastDomainSelectionBwThreshold",2E3],Mba:["throughputProbingEnterThreshold",4E4],YCa:["throughputProbingExitThreshold",34E3],ewa:["locationProbingTimeout",1E4],Bra:["finalLocationSelectionBwThreshold",1E4],WCa:["throughputHighConfidenceLevel",.75],XCa:["throughputLowConfidenceLevel",.4],Y7:["locationStatisticsUpdateInterval",6E4],sgb:["locationSelectorPersistFailures",!0],RC:["enablePerfBasedLocationSwitch",!1],qIb:["maxRateMaxFragmentGroups",4500],b$:["pipelineScheduleTimeoutMs",2],Sv:["maxPartialBuffersAtBufferingStart",2],c9:["minPendingBufferLen",3E3],Tv:["maxPendingBufferLen",6E3],Pub:["usePtsUpdateAsSignal",!1],Zqa:["enableRequestPacing",!1],x7a:["enableNginxRateLimit",!1],CU:["nginxSendingRate",4E4],A7a:["enableRequestPacingToken",!1],Rhb:["mediaRequestPacingSpeedBeforePlayback",.5],Qhb:["mediaRequestPacingSpeed",2],g7:["initialMediaRequestToken",2E4],ST:["maxActiveRequestsSABCell100",2],YT:["maxPendingBufferLenSABCell100",500],NAa:["resetActiveRequestsAtSessionInit",!0],L8:["maxStreamingSkew",2E3],ehb:["maxBufferOccupancyForSkewCheck",Infinity],Jub:["useBufferOccupancySkipBack",!0],I8:["maxPendingBufferPercentage",10],bz:["maxRequestsInBuffer",120],WS:["headerRequestSize",4096],ndb:["headerCacheEstimateHeaderSize",!1],q9:["neverWipeHeaderCache",!1],gEa:["useSidxInfoFromManifestForHeaderRequestSize",!1],SR:["fastPlayHeaderRequestSize",0],QD:["maxRequestSize",0],YD:["minRequestSize",65536],iU:["minBufferLenForHeaderDownloading",1E4],mCa:["smartHeaderPreDownloading",!1],aJb:["onlyAllowPtsUpdatePolling",!1],tib:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],CV:["reserveForSkipbackBufferMs",15E3],E9:["numExtraFragmentsAllowed",2],Cn:["pipelineEnabled",!0],PD:["maxParallelConnections",3],nCa:["socketReceiveBufferSize",0],tQ:["audioSocketReceiveBufferSize",32768],rF:["videoSocketReceiveBufferSize",65536],C6:["headersSocketReceiveBufferSize",32768],Uqb:["shareDownloadTracks",!0],d9:["minTimeBetweenHeaderRequests",void 0],HW:["updatePtsIntervalMs",1E3],d2:["bufferTraceDenominator",0],hC:["bufferLevelNotifyIntervalMs",2E3],Vqa:["enableAbortTesting",!1],Jma:["abortRequestFrequency",8],wba:["streamingStatusIntervalMs",2E3],nE:["prebufferTimeLimit",6E4],jU:["minBufferLevelForTrackSwitch",2E3],z7a:["enablePenaltyForLongConnectTime",!1],V9:["penaltyFactorForLongConnectTime",2],i8:["longConnectTimeThreshold",200],s1:["additionalBufferingLongConnectTime",2E3],t1:["additionalBufferingPerFailure",8E3],iL:["rebufferCheckDuration",6E4],Yqa:["enableLookaheadHints",!1],pwa:["lookaheadFragments",2],Sp:["enableOCSideChannel",!0],x$:["probeRequestTimeoutMilliseconds",3E4],BJb:["probeRequestConnectTimeoutMilliseconds",8E3],QN:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],NDa:["updateDrmRequestOnNetworkFailure",!0],VT:["maxDiffAudioVideoEndPtsMs",1E3],dhb:["maxAudioFragmentOverlapMs",80],S5a:["deferAseHeaderCache",!1],jqa:["deferAseScheduling",!1],Vsb:["timeBeforeEndOfStreamBufferMark",6E3],G8:["maxFastPlayBufferInMs",2E4],F8:["maxFastPlayBitThreshold",2E8],fhb:["maxBufferingCompleteBufferInMs",Infinity],hU:["minAudioMediaRequestSizeBytes",0],pU:["minVideoMediaRequestSizeBytes",0],WD:["minAudioMediaRequestDuration",0],$D:["minVideoMediaRequestDuration",0],kU:["minMediaRequestDuration",0],kib:["minAudioMediaRequestDurationCache",0],wib:["minVideoMediaRequestDurationCache",0],w7a:["enableMultiFragmentRequest",!1],nF:[["useHeaderCache","usehc"],!0],LW:[["useHeaderCacheData","usehcd"],!0],hR:["defaultHeaderCacheSize",4],H3:["defaultHeaderCacheDataCount",4],I3:["defaultHeaderCacheDataPrefetchMs",0],z6:["headerCacheMaxPendingData",6],A6:["headerCachePriorityLimit",5],mdb:["headerCacheAdoptBothAV",!1],Nub:["usePipelineForBranchedAudio",!0],okb:["onlyDriveSingleChild",!1],r1a:["childBranchBatchedAmount",1E4],qU:["minimumTimeBeforeBranchDecision",2E3],whb:["maxRequestsToAttachOnBranchActivation",void 0],e9:["minimumJustInTimeBufferLevel",3E3],Xqa:["enableJustInTimeAppends",!1],OI:["enableDelayedSeamless",!1],c0a:["branchEndPtsIntervalMs",250],Odb:["ignorePtsJustBeforeCurrentSegment",!1],Mwa:["maxFragsForFittableOnBranching",300],alb:["pausePlaylistAtEnd",!0],MYa:["adaptiveParallelTimeoutMs",1E3],av:["enableAdaptiveParallelStreaming",!1],r6a:["disableBitrateSelectionOnSingleConnection",!1],xQ:["bufferThresholdToSwitchToSingleConnMs",45E3],c2:["bufferThresholdToSwitchToParallelConnMs",35E3],k7a:["enableAPSForBranching",!1],YW:["waitForPendingConnAdaptation",!1],o9:["networkFailureResetWaitMs",2E3],n9:["networkFailureAbandonMs",6E4],$T:["maxThrottledNetworkFailures",5],vW:["throttledNetworkFailureThresholdMs",200],Rr:["abortUnsentBlocks",!0],h1:["abortStreamSelectionPeriod",2E3],N8:["maxUnsentBlocks",2],p8:["lowThroughputThreshold",400],x4:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],Usb:["timeAtEachBitrateRoundRobin",1E4],Uob:["roundRobinDirection","forward"],Jcb:["hackForHttpsErrorCodes",!1],Fdb:["httpsConnectErrorAsPerm",!1],Axa:["mp4ParsingInNative",!1],kf:["enableManagerDebugTraces",!1],Bwa:["managerDebugMessageInterval",1E3],Awa:["managerDebugMessageCount",20],Zxa:["notifyManifestCacheEom",!0],SI:["enableUsingHeaderCount",!1],oCa:["sourceBufferInOrderAppend",!0],Gn:["requireAudioStreamToEncompassVideo",!1],jna:["allowAudioToStreamPastVideo",!1],$B:["allowReissueMediaRequestAfterAbort",!1],spa:["countGapInBuffer",!1],w1:["allowCallToStreamSelector",!1],b2:["bufferThresholdForAbort",2E4],uba:["ase_stream_selector","optimized"],Nna:["audiostreamSelectorAlgorithm","selectaudioadaptive"],f7:["initBitrateSelectorAlgorithm","default"],f2:["bufferingSelectorAlgorithm","default"],y3:["ase_ls_failure_simulation",""],w3:["ase_dump_fragments",!1],x3:["ase_location_history",0],z3:["ase_throughput",0],Xpa:["ase_simulate_verbose",!1],ql:["stallAtFrameCount",void 0],z8:["marginPredictor","simple"],jCa:["simplePercentilePredictorPercentile",25],hCa:["simplePercentilePredictorCalcToUse","simple"],iCa:["simplePercentilePredictorMethod","simple"],Iub:["useBackupUnderflowTimer",!0],UKb:["useManifestDrmHeader",!0],VKb:["useOnlyManifestDrmHeader",!0],yfa:["IQRBandwidthFactorConfig",{iur:!0,minr:8E3,maxr:2E4,rlaf:60,flb:.5,fup:.85,fmind:.75,fmaxd:1,fmintp:.25,fmindp:.75}],p9:["networkMeasurementGranularity","video_location"],Vib:["netIntrStoreWindow",36E3],LIb:["minNetIntrDuration",8E3],kUa:["fastHistoricBandwidthExpirationTime",10368E3],LUa:["bandwidthExpirationTime",5184E3],jUa:["failureExpirationTime",86400],Pla:["historyTimeOfDayGranularity",4],fUa:["expandDownloadTime",!0],wVa:["minimumMeasurementTime",500],vVa:["minimumMeasurementBytes",131072],OWa:["throughputMeasurementTimeout",2E3],NWa:["initThroughputMeasureDataSize",262144],dVa:["historicBandwidthUpdateInterval",2E3],uVa:["minimumBufferToStopProbing",1E4],nEb:["throughputPredictor","ewma"],uaa:["secondThroughputEstimator","slidingwindow"],pBa:["secondThroughputMeasureWindowInMs",3E5],mEb:["throughputMeasureWindow",5E3],oEb:["throughputWarmupTime",5E3],lEb:["throughputIQRMeasureWindow",1E3],RDb:["IQRBucketizerWindow",15E3],Nwa:["maxIQRSamples",100],txa:["minIQRSamples",5],iEb:["connectTimeHalflife",10],bEb:["responseTimeHalflife",10],aEb:["historicThroughputHalflife",14400],$Db:["historicResponseTimeHalflife",100],ZDb:["historicHttpResponseTimeHalflife",100],Wea:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],wla:["minReportedNetIntrDuration",4E3],kEb:["throughputBucketMs",500],WDb:["bucketHoltWintersWindow",2E3],$Ta:["enableFilters","throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy req-pacer".split(" ")],N_:["filterDefinitionOverrides",{}],OTa:["defaultFilter","throughput-ewma"],qXa:["secondaryFilter","throughput-sw"],yB:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]},"req-pacer":{type:"req-pacer",sw:1E3,tb:4E4,mb:3E4}}],n4:["enableHudsonFieldTest",!1],S6:["hudsonTitles",["81127954","70125931"]],uhb:["maxPartialBuffersAtHudson",1],F9:["numberOfChunksPerSegment",4],Hba:["targetContentLatency",1E4],yKb:["targetLongContentLatency",3E4],Cib:["minimumTimeDelay",1],RI:["enableSessionHistoryReport",!0],g4:["earlyStageEstimatePeriod",1E4],Ova:["lateStageEstimatePeriod",3E4],XT:["maxNumSessionHistoryStored",10],oU:["minSessionHistoryDuration",3E5],pdb:["highAndStableModelName","baseline"],l4:["enableHighAndStablePredictor",!1],lU:["minNumSessionHistory",5],IEb:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],XS:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],qdb:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],QI:["enableInitThroughputEstimate",!1],E1:["applyInitThroughputEstimate",!1],Qua:["initThroughputPredictor",{bwThreshold:3E4,maxBwPredictionMap:{0:3E3,1:12E3,2:24E3,3:6E4},modelMap:{0:[500,1500],1:[1500,6E3],2:[6E3,12E3],3:[12E3,3E4]},lrParams:{0:{lrMeans:{currentHour:15.137936466264112,currentMonoTime:1.5533592424252495E12,"ens-avtp-b":.38723147282714365,"ens-avtp-last":7.278636833881816,"ens-avtp-mean":7.645354650835756,"ens-avtp-niqr":.9164307950209711,"ens-avtp-p25":7.206789836510741,"ens-avtp-p50":7.5392495750254085,"ens-avtp-p75":7.853195625145457,"ens-avtp-std":1890.0299065442302,"fns-avtp-b":.5156471603720371,"fns-avtp-last":7.394898247043087,"fns-avtp-mean":7.720412581434043,"fns-avtp-niqr":.7607496330326777,"fns-avtp-p25":7.401562072764315,"fns-avtp-p50":7.649474541536431,"fns-avtp-p75":7.887443054414084,"fns-avtp-std":1666.2825157466045,"fns-niqr-b":.18747269665025967,"fns-niqr-last":1.86623885534261,"fns-niqr-mean":4020.0354386780873,"fns-niqr-niqr":1.1631461141579456,"fns-niqr-p25":.53504898923602,"fns-niqr-p50":.726225303229194,"fns-niqr-p75":1.242351052769756,"fns-niqr-std":1666.2825157466045,intercept:0,"lns-avtp-b":.48094880098438736,"lns-avtp-last":7.359237053239481,"lns-avtp-mean":7.741498045478886,"lns-avtp-niqr":.8066874950335725,"lns-avtp-p25":7.387733349631643,"lns-avtp-p50":7.66341466705797,"lns-avtp-p75":7.91817801557748,"lns-avtp-std":1793.4228677873018,prevHour:14.921344184825413,prevMonoTime:1.5533390440510566E12,sessionCnt:24.169388290889998,timeSinceLastSession:2.0198374192701496E7},lrStd:{currentHour:6.865640901500013,currentMonoTime:1.364004355437288E8,"ens-avtp-b":.2584691537920595,"ens-avtp-last":.9989894721766466,"ens-avtp-mean":.9643206027819943,"ens-avtp-niqr":9.217134354074703,"ens-avtp-p25":1.0145221270034994,"ens-avtp-p50":1.0077653263765265,"ens-avtp-p75":1.014384099403048,"ens-avtp-std":3493.8569731733614,"fns-avtp-b":.270872729744521,"fns-avtp-last":.8922256527856904,"fns-avtp-mean":.9631055373892473,"fns-avtp-niqr":9.794120412451006,"fns-avtp-p25":.9696714991336701,"fns-avtp-p50":.9882569618688472,"fns-avtp-p75":1.0192683122081063,"fns-avtp-std":3332.139780244572,"fns-niqr-b":.3192946670619746,"fns-niqr-last":35.40213143776561,"fns-niqr-mean":6660.75906666252,"fns-niqr-niqr":8.550978136730766,"fns-niqr-p25":5.39412423399584,"fns-niqr-p50":8.615628045328721,"fns-niqr-p75":12.8578016592876,"fns-niqr-std":3332.139780244572,intercept:0,"lns-avtp-b":.282072702345461,"lns-avtp-last":.920183181440289,"lns-avtp-mean":.9634177300825915,"lns-avtp-niqr":9.46277236908144,"lns-avtp-p25":.9910526809941116,"lns-avtp-p50":.9973895193027993,"lns-avtp-p75":1.0214924879508251,"lns-avtp-std":3386.49152949358,prevHour:6.8062106735450705,prevMonoTime:1.4676929801573658E8,sessionCnt:27.412941078734494,timeSinceLastSession:5.725906972259589E7},lrWeights:{currentHour:-2.480219988909306E-4,currentMonoTime:-.0019605601123065795,"ens-avtp-b":.030002082172324713,"ens-avtp-last":.006493992808811227,"ens-avtp-mean":.02818971332256211,"ens-avtp-niqr":-.02149596695008564,"ens-avtp-p25":.025503939851905886,"ens-avtp-p50":-.03973590637292906,"ens-avtp-p75":.02654830002677231,"ens-avtp-std":-.005364609238773057,"fns-avtp-b":.003156990018105247,"fns-avtp-last":.014293274537829968,"fns-avtp-mean":.0669381230291235,"fns-avtp-niqr":.03466791553613246,"fns-avtp-p25":.003157582746026505,"fns-avtp-p50":.0523956105905824,"fns-avtp-p75":-.05674782509956824,"fns-avtp-std":.03209560096833295,"fns-niqr-b":-7.473002304028244E-4,"fns-niqr-last":.0019568255931097633,"fns-niqr-mean":-.08633242126981132,"fns-niqr-niqr":-.004089335618740389,"fns-niqr-p25":-.0021751031395086484,"fns-niqr-p50":-.003122331768672313,"fns-niqr-p75":.007288444327184066,"fns-niqr-std":.03209560096833287,intercept:6.862875813114732,"lns-avtp-b":-.0018938413688674922,"lns-avtp-last":.06676606627335506,"lns-avtp-mean":-.07603837147841763,"lns-avtp-niqr":-.016328230093415195,"lns-avtp-p25":.010303828813673513,"lns-avtp-p50":-.03589513366624033,"lns-avtp-p75":.056207400912909336,"lns-avtp-std":-.04520109870414885,prevHour:2.301420369949928E-4,prevMonoTime:.003685054780721308,sessionCnt:.005283216038814869,timeSinceLastSession:-.01411608956380438}},1:{lrMeans:{currentHour:15.134456203928675,currentMonoTime:1.553360459127433E12,"ens-avtp-b":.5283857099864471,"ens-avtp-last":8.262965687637706,"ens-avtp-mean":8.418902076257503,"ens-avtp-niqr":.49412220616859004,"ens-avtp-p25":8.149357473011756,"ens-avtp-p50":8.390031248001916,"ens-avtp-p75":8.59957129630267,"ens-avtp-std":2111.808134194941,"fns-avtp-b":.6226794650801935,"fns-avtp-last":8.40584007519461,"fns-avtp-mean":8.534636048829894,"fns-avtp-niqr":.3857773226390544,"fns-avtp-p25":8.332989060781467,"fns-avtp-p50":8.515032240428152,"fns-avtp-p75":8.675880386526348,"fns-avtp-std":1845.8852285168682,"fns-niqr-b":.21347933677439135,"fns-niqr-last":2.7647096219577483,"fns-niqr-mean":6495.223863385008,"fns-niqr-niqr":1.1972471971744498,"fns-niqr-p25":.417754032656591,"fns-niqr-p50":.5172058446238108,"fns-niqr-p75":1.0125653636288763,"fns-niqr-std":1845.8852285168682,intercept:0,"lns-avtp-b":.6033453099237509,"lns-avtp-last":8.415812181647567,"lns-avtp-mean":8.562171619279262,"lns-avtp-niqr":.41357537819056855,"lns-avtp-p25":8.345181430419174,"lns-avtp-p50":8.54253906247021,"lns-avtp-p75":8.711261794822105,"lns-avtp-std":1974.223790129235,prevHour:14.939649137256517,prevMonoTime:1.5533413406116138E12,sessionCnt:23.78952353498332,timeSinceLastSession:1.911851581933863E7},lrStd:{currentHour:6.915913563406681,currentMonoTime:1.3579546487519038E8,"ens-avtp-b":.2293871112256882,"ens-avtp-last":.7358412399626237,"ens-avtp-mean":.6643093703588823,"ens-avtp-niqr":1.07169360267822,"ens-avtp-p25":.745906641830048,"ens-avtp-p50":.6979613612146783,"ens-avtp-p75":.6885407945843879,"ens-avtp-std":3240.1297333061466,"fns-avtp-b":.23637302256741258,"fns-avtp-last":.6578310492721471,"fns-avtp-mean":.6602179870987327,"fns-avtp-niqr":1.134081009617818,"fns-avtp-p25":.7157365592980294,"fns-avtp-p50":.6876929888153775,"fns-avtp-p75":.6887095950016521,"fns-avtp-std":2989.2531011183996,"fns-niqr-b":.3023989175947571,"fns-niqr-last":188.45413775718876,"fns-niqr-mean":6183.929502016268,"fns-niqr-niqr":33.95026131965199,"fns-niqr-p25":26.357261465915563,"fns-niqr-p50":26.380090045656182,"fns-niqr-p75":43.53044500310377,"fns-niqr-std":2989.2531011183996,intercept:0,"lns-avtp-b":.24596048532404155,"lns-avtp-last":.6833105090588518,"lns-avtp-mean":.6607556120232774,"lns-avtp-niqr":1.6757909759512508,"lns-avtp-p25":.7380275856301542,"lns-avtp-p50":.6936783806450382,"lns-avtp-p75":.6875117220276126,"lns-avtp-std":3048.1088543643054,prevHour:6.8482668340195705,prevMonoTime:1.4556118772689274E8,sessionCnt:53.32066201160346,timeSinceLastSession:5.547356497303553E7},lrWeights:{currentHour:-.011871761229344389,currentMonoTime:-.0036318600724213708,"ens-avtp-b":6.986789202868642E-4,"ens-avtp-last":.011673758427760823,"ens-avtp-mean":.13608518163448968,"ens-avtp-niqr":.003289074114120798,"ens-avtp-p25":.003191593712230237,"ens-avtp-p50":-.0066247650633022084,"ens-avtp-p75":-.02430342458063187,"ens-avtp-std":-.04850809780387416,"fns-avtp-b":.03459494981020932,"fns-avtp-last":.045825189137544194,"fns-avtp-mean":.002906185911093708,"fns-avtp-niqr":-9.691590646234479E-4,"fns-avtp-p25":.01551994942837314,"fns-avtp-p50":.029373577658918765,"fns-avtp-p75":.00768497254533149,"fns-avtp-std":.05890409069070104,"fns-niqr-b":-.008291354205495876,"fns-niqr-last":7.094688122632014E-4,"fns-niqr-mean":-.16946963320808844,"fns-niqr-niqr":-.005836423713579879,"fns-niqr-p25":-.027958020496759037,"fns-niqr-p50":.022488996225378338,"fns-niqr-p75":.006740480962143502,"fns-niqr-std":.058904090690701134,intercept:8.165078062192634,"lns-avtp-b":-.01571675564523532,"lns-avtp-last":.07645655650235457,"lns-avtp-mean":.13252636589021868,"lns-avtp-niqr":.001852705659582087,"lns-avtp-p25":-.02287056515136447,"lns-avtp-p50":-.02727017463885446,"lns-avtp-p75":-.01678871891479746,"lns-avtp-std":-.10684389586829764,prevHour:.006312752532983602,prevMonoTime:7.922263883522697E-4,sessionCnt:-.0014142078702796947,timeSinceLastSession:-.010969324600447576}},2:{lrMeans:{currentHour:14.916476965235244,currentMonoTime:1.5533558212926494E12,"ens-avtp-b":.6033702623818743,"ens-avtp-last":9.07079977798437,"ens-avtp-mean":9.134353655661178,"ens-avtp-niqr":.3623797220515198,"ens-avtp-p25":8.9438379108834,"ens-avtp-p50":9.126032949875686,"ens-avtp-p75":9.286393189864482,"ens-avtp-std":2788.9769968086775,"fns-avtp-b":.6862725810071378,"fns-avtp-last":9.214723527939402,"fns-avtp-mean":9.257360798208294,"fns-avtp-niqr":.2819938242222468,"fns-avtp-p25":9.113237238279646,"fns-avtp-p50":9.252704073743296,"fns-avtp-p75":9.376480490223058,"fns-avtp-std":2363.937261606417,"fns-niqr-b":.3079747845775837,"fns-niqr-last":2.349342977897278,"fns-niqr-mean":11543.162025405922,"fns-niqr-niqr":.8353830501136797,"fns-niqr-p25":.539449003960107,"fns-niqr-p50":.6120488613618988,"fns-niqr-p75":1.025142025238165,"fns-niqr-std":2363.937261606417,intercept:0,"lns-avtp-b":.6777951321565386,"lns-avtp-last":9.242373955945844,"lns-avtp-mean":9.289167926920118,"lns-avtp-niqr":.29268472756928093,"lns-avtp-p25":9.139640688653648,"lns-avtp-p50":9.285271169565624,"lns-avtp-p75":9.411428319974624,"lns-avtp-std":2495.2347425350476,prevHour:14.812242829285893,prevMonoTime:1.5533367650419763E12,sessionCnt:22.706325003650857,timeSinceLastSession:1.9056250672805835E7},lrStd:{currentHour:6.958159398444638,currentMonoTime:1.3765789914884326E8,"ens-avtp-b":.20791212194940575,"ens-avtp-last":.5237134368233782,"ens-avtp-mean":.4313622313318821,"ens-avtp-niqr":1.0298500098014598,"ens-avtp-p25":.5419803486741355,"ens-avtp-p50":.4674794224249036,"ens-avtp-p75":.44107618204776045,"ens-avtp-std":3099.6031967305125,"fns-avtp-b":.2057216706261372,"fns-avtp-last":.4473595901777174,"fns-avtp-mean":.42416638003708,"fns-avtp-niqr":.8234513220640112,"fns-avtp-p25":.5178682322633591,"fns-avtp-p50":.45902338903605194,"fns-avtp-p75":.43391494044292445,"fns-avtp-std":2828.653607227709,"fns-niqr-b":.29378765978740723,"fns-niqr-last":215.29091108169573,"fns-niqr-mean":6147.36771938347,"fns-niqr-niqr":20.95631794508829,"fns-niqr-p25":40.09143302784156,"fns-niqr-p50":40.0917059991872,"fns-niqr-p75":76.46454385633622,"fns-niqr-std":2828.653607227709,intercept:0,"lns-avtp-b":.21393771099754127,"lns-avtp-last":.46019047514559575,"lns-avtp-mean":.42031282188319596,"lns-avtp-niqr":.9217122900046908,"lns-avtp-p25":.5307587654743611,"lns-avtp-p50":.4595139882962286,"lns-avtp-p75":.4282987444285461,"lns-avtp-std":2893.8796852190203,prevHour:6.865014634726103,prevMonoTime:1.469930475404992E8,sessionCnt:57.21379702338944,timeSinceLastSession:5.583272331188057E7},lrWeights:{currentHour:-.005994421348964647,currentMonoTime:-.00211070793241526,"ens-avtp-b":-.02447232547732549,"ens-avtp-last":.006628010901974464,"ens-avtp-mean":.09653723410014291,"ens-avtp-niqr":9.295461659569376E-4,"ens-avtp-p25":.0012695482222228938,"ens-avtp-p50":-.006429946340265358,"ens-avtp-p75":-.0018240666357782521,"ens-avtp-std":-.04861802416956936,"fns-avtp-b":.016168879730690602,"fns-avtp-last":.017384784341611354,"fns-avtp-mean":-.02557658926351166,"fns-avtp-niqr":3.2487392404244254E-4,"fns-avtp-p25":.003054291672231475,"fns-avtp-p50":.006524301521081224,"fns-avtp-p75":-.0010225597375610623,"fns-avtp-std":.018221004183639943,"fns-niqr-b":.007301915471974063,"fns-niqr-last":7.425485364153301E-4,"fns-niqr-mean":-.05147892802271394,"fns-niqr-niqr":-.001940470217320524,"fns-niqr-p25":.036234413553517725,"fns-niqr-p50":-.03524862921191027,"fns-niqr-p75":.0017027379253208021,"fns-niqr-std":.018221004183641903,intercept:9.081622862978675,"lns-avtp-b":-.03489939843656423,"lns-avtp-last":.019705353504600828,"lns-avtp-mean":.09344550455301621,"lns-avtp-niqr":4.5749884272222607E-4,"lns-avtp-p25":-.011722568647814033,"lns-avtp-p50":-.016087594727082558,"lns-avtp-p75":-.010522910223392006,"lns-avtp-std":-.04604219547608363,prevHour:.0031101128704211474,prevMonoTime:-9.098449270365904E-4,sessionCnt:-.0016748630087899665,timeSinceLastSession:-.0028086529149225895}},3:{lrMeans:{currentHour:14.863185390555186,currentMonoTime:1.553353396059636E12,"ens-avtp-b":.6515843728225397,"ens-avtp-last":9.835160560043459,"ens-avtp-mean":9.864626387517605,"ens-avtp-niqr":.30287768062622433,"ens-avtp-p25":9.712383207744509,"ens-avtp-p50":9.860345560485248,"ens-avtp-p75":9.996033168898707,"ens-avtp-std":4643.022907790445,"fns-avtp-b":.7193689607638848,"fns-avtp-last":9.907187981654845,"fns-avtp-mean":9.920454440962963,"fns-avtp-niqr":.24505403012362392,"fns-avtp-p25":9.799839579276911,"fns-avtp-p50":9.917613535901424,"fns-avtp-p75":10.025731269663444,"fns-avtp-std":3732.2129640042217,"fns-niqr-b":.4031678578759487,"fns-niqr-last":1.1753269491098228,"fns-niqr-mean":22052.618058988082,"fns-niqr-niqr":1.5068731631809027,"fns-niqr-p25":.3996162353642051,"fns-niqr-p50":.4644249735352749,"fns-niqr-p75":1.0193721160323532,"fns-niqr-std":3732.2129640042217,intercept:0,"lns-avtp-b":.713092505873196,"lns-avtp-last":9.933609828473625,"lns-avtp-mean":9.945144121988752,"lns-avtp-niqr":.257126639335263,"lns-avtp-p25":9.820890902912648,"lns-avtp-p50":9.94152946492105,"lns-avtp-p75":10.052128345697236,"lns-avtp-std":3896.5986547615607,prevHour:14.828444424077171,prevMonoTime:1.553332738875851E12,sessionCnt:21.279678298925372,timeSinceLastSession:2.0657183784891047E7},lrStd:{currentHour:6.947821212378729,currentMonoTime:1.3756061323794276E8,"ens-avtp-b":.19834188857056692,"ens-avtp-last":.4983372521531976,"ens-avtp-mean":.4192327383097373,"ens-avtp-niqr":.9075762835401722,"ens-avtp-p25":.5329637320560067,"ens-avtp-p50":.45584668612572893,"ens-avtp-p75":.4210250409846772,"ens-avtp-std":4002.7954469984215,"fns-avtp-b":.19090160405133458,"fns-avtp-last":.4348713024155281,"fns-avtp-mean":.40394998021486844,"fns-avtp-niqr":1.0660805112236655,"fns-avtp-p25":.5038688154650198,"fns-avtp-p50":.43801099282043815,"fns-avtp-p75":.40338412512671645,"fns-avtp-std":3543.8600674276213,"fns-niqr-b":.2743590168568854,"fns-niqr-last":141.1281274191549,"fns-niqr-mean":9470.610460587868,"fns-niqr-niqr":225.229351242605,"fns-niqr-p25":37.32547626585716,"fns-niqr-p50":37.325780629523,"fns-niqr-p75":89.23974801142606,"fns-niqr-std":3543.8600674276213,intercept:0,"lns-avtp-b":.1943229807098331,"lns-avtp-last":.4419652079817383,"lns-avtp-mean":.39892829574083294,"lns-avtp-niqr":2.91956505002238,"lns-avtp-p25":.5093223889354195,"lns-avtp-p50":.43503232733698466,"lns-avtp-p75":.39695315415773813,"lns-avtp-std":3599.9571758910874,prevHour:6.829137071943964,prevMonoTime:1.4742574746751267E8,sessionCnt:94.19446337605667,timeSinceLastSession:5.818167162809092E7},lrWeights:{currentHour:-.004389543791532469,currentMonoTime:-.0030344207819728818,"ens-avtp-b":-.09240427960392844,"ens-avtp-last":.010942277460710081,"ens-avtp-mean":.20096895216357133,"ens-avtp-niqr":.0032096847898172324,"ens-avtp-p25":-.005856201042576917,"ens-avtp-p50":.0017945703315946082,"ens-avtp-p75":.013290135779755425,"ens-avtp-std":-.10429624033817943,"fns-avtp-b":.033335456564662004,"fns-avtp-last":.03305046923296899,"fns-avtp-mean":-.09090160395555649,"fns-avtp-niqr":-.0010446812804401641,"fns-avtp-p25":.004912076898000752,"fns-avtp-p50":-.008494083146032963,"fns-avtp-p75":-.002989850542529556,"fns-avtp-std":.023336986139087093,"fns-niqr-b":.0024504601144316397,"fns-niqr-last":7.643316521852407E-4,"fns-niqr-mean":-.009119203062853156,"fns-niqr-niqr":-.0012594157293897756,"fns-niqr-p25":-.0422338795033952,"fns-niqr-p50":.04250587013668825,"fns-niqr-p75":.0017560870617061,"fns-niqr-std":.023336986139088925,intercept:9.861278665882926,"lns-avtp-b":-.0768634513815469,"lns-avtp-last":.019981566044227083,"lns-avtp-mean":.14111887010560764,"lns-avtp-niqr":-4.600304100335705E-4,"lns-avtp-p25":-.010343773714103076,"lns-avtp-p50":-.017237539822589385,"lns-avtp-p75":-.01599941028177654,"lns-avtp-std":-.0740283506738119,prevHour:.0018930816696335491,prevMonoTime:-.003464250273737749,sessionCnt:-.0016713463515894596,timeSinceLastSession:.0016036476749273867}}}}],fQ:["addHeaderDataToNetworkMonitor",!0],qba:["startMonitorOnLoadStart",!1],X$:["reportFailedRequestsToNetworkMonitor",!1],WU:["periodicHistoryPersistMs",0],LV:["saveVideoBitrateMs",0],yK:["needMinimumNetworkConfidence",!0],X1:["biasTowardHistoricalThroughput",!1],wza:["preferCurrentLocationThroughput",!1],vza:["preferCurrentLocationThreshold",0],xgb:["logMemoryUsage",!1],rua:["headerCacheTruncateHeaderAfterParsing",!0],i_a:["audioFragmentDurationMilliseconds",null],fvb:["videoFragmentDurationMilliseconds",null],Ro:["probeServerWhenError",!0],Wr:["allowSwitchback",!0],Az:["probeDetailDenominator",100],UT:["maxDelayToReportFailure",300],DH:["allowParallelStreaming",!1],Ohb:["mediaPrefetchDisabled",!1],sxa:["minBufferLevelToAllowPrefetch",5E3],ys:["editVideoFragments",!1],jn:["editAudioFragments",!0],npb:["seamlessAudio",!1],opb:["seamlessAudioProfiles",[]],ppb:["seamlessAudioProfilesAndTitles",{}],taa:["seamlessAudioMaximumSyncError",void 0],PJ:["insertSilentFrames",0],Wua:["insertSilentFramesOnExit",void 0],Vua:["insertSilentFramesOnEntry",void 0],Uua:["insertSilentFramesForProfile",void 0],E9a:["forceDiscontinuityAtTransition",!0],yw:["supportAudioResetOnDiscontinuity",void 0],xw:["supportAudioEasingOnDiscontinuity",void 0],Kp:["audioCodecResetForProfiles",["heaac-2-dash","heaac-2hq-dash"]],h7a:["editCompleteFragments",!0],yib:["minimumAudioFramesPerFragment",1],Sx:["applyProfileTimestampOffset",!1],io:["applyProfileStreamingOffset",!0],Wy:["lazyParsingSidx",!1],O8:["maximumFragmentsForLazyParsing",6E3],Kza:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3352,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3352,timescale:48E3}}}],hxa:["mediaSourceSupportsNegativePts",!1],XD:["minAudioPtsGap",void 0],k_a:["audioOverlapGuardSampleCount",2],HR:["enableRecordJSBridgePerf",!1],Hfa:["JSBridgeTDigestConfig",{maxc:25,c:.5}],Ssb:["throughputThresholdSelectorParam",0],Gub:["upswitchDuringBufferingFactor",2],yZa:["allowUpswitchDuringBuffering",!1],lpa:["contentOverrides",void 0],W2:["contentProfileOverrides",void 0],L6:["hindsightDenominator",0],K6:["hindsightDebugDenominator",0],CJ:["hindsightAlgorithmsEnabled",["htwbr"]],YS:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],vna:["appendMediaRequestOnComplete",!1],XW:["waitForDrmToAppendMedia",!1],V4:["forceAppendHeadersAfterDrm",!1],hL:["reappendRequestsOnSkip",!1],A3:["declareBufferingCompleteAtSegmentEnd",!1],lq:["maxActiveRequestsPerSession",void 0],U7:["limitAudioDiscountByMaxAudioBitrate",!1],B1:["appendFirstHeaderOnComplete",!0],qW:["strictBufferCapacityCheck",!1],HH:["aseReportDenominator",0],I1:["aseReportIntervalMs",3E5],$ba:["translateToVp9Draft",!1],eM:["switchableAudioProfiles",[]],l_a:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],NCa:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],n_a:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],Wwa:["maxStartingVideoVMAF",110],ZD:["minStartingVideoVMAF",1],xH:["activateSelectStartingVMAF",!1],RV:["selectStartingVMAFTDigest",-1],HE:["selectStartingVMAFMethod","fallback"],vBa:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],LK:["perFragmentVMAFConfig",{enabled:!1,simulatedFallback:!1,fallbackBound:12}],s6a:["disablePtsStartsEvent",!0],Q$:["recordFirstFragmentOnSubBranchCreate",!0],bxa:["mediaCacheConvertToBinaryData",!1],S8:["mediaCacheSaveOneObject",!1],Gwa:["markRequestActiveOnFirstByte",!1],CR:["earlyAppendSingleChildBranch",!0],sA:["useNativeDataViewMethods",!1]};c.gn=c.f2a;},function(g){g.T="4.1.304";},function(g,c,a){var h,p;function b(){this.Dr=this.PG=this.RO=this.eP=this.OO=null;}function f(a){this.G=a;this.xu=[];this.Hm=new b();this.ZG();}h=a(6);a(11);a(24);p=a(5);new p.Console("ASEJS_SESSION_HISTORY","media|asejs");b.prototype.Ld=function(a){var b;b=!1;a&&h.has(a,"ens")&&h.has(a,"lns")&&h.has(a,"fns")&&h.has(a,"d")&&h.has(a,"t")&&(this.OO=a.ens,this.eP=a.lns,this.RO=a.fns,this.PG=a.d,this.Dr=a.t,b=!0);return b;};b.prototype.gd=function(){var a;if(h.Ra(this.OO)||h.Ra(this.eP)||h.Ra(this.RO)||h.Ra(this.PG)||h.Ra(this.Dr))return null;a={d:this.PG,t:this.Dr};a.ens=this.OO;a.lns=this.eP;a.fns=this.RO;return a;};b.prototype.get=function(){var a,b;a=this.gd();if(a){b=new Date(this.Dr);a.dateint=1E4*b.getFullYear()+100*(b.getMonth()+1)+b.getDate();a.hour=b.getHours();}return a;};f.prototype.ZG=function(){var a;a=p.storage.get("sth");a&&this.Ld(a);};f.prototype.Ld=function(a){var d,f;d=null;f=this.G;a.forEach(function(a){var f;f=new b();f.Ld(a)?(d=!0,this.xu.push(f)):h.Ra(d)&&(d=!1);},this);this.xu=this.xu.filter(function(a){return a.PG>=f.oU;});this.xu.sort(function(a,b){return a.Dr-b.Dr;});return h.Ra(d)?!0:d;};f.prototype.Q_=function(){var a;a=[];this.xu.forEach(function(b){a.push(b.gd());},this);return a;};f.prototype.save=function(){var a,f,c;a=this.Q_();f=this.G;c=this.Hm.gd();c&&c.d>=f.oU&&(a.push(c),this.xu.push(this.Hm));a.length>f.XT&&(a=a.slice(a.length-f.XT,a.length));this.Hm=new b();a&&p.storage.set("sth",a);};f.prototype.reset=function(){this.Hm=new b();};f.prototype.R$a=function(){return this.Hm.get();};f.prototype.Vbb=function(){return this.xu.length+1;};f.prototype.PYa=function(a){this.Hm.OO=a;this.Hm.Dr=p.time.da();};f.prototype.YYa=function(a){this.Hm.eP=a;this.Hm.Dr=p.time.da();};f.prototype.TYa=function(a,b){this.Hm.RO=a;this.Hm.Dr=p.time.da();this.Hm.PG=b;};g.T=f;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(345);g=function(){var q2k;function a(){var y2k,r2k;y2k=2;while(y2k!==5){r2k="1";r2k+="SIYbZr";r2k+="N";r2k+="JCp9";switch(y2k){case 2:this.tP={};r2k;y2k=5;break;}}}q2k=2;while(q2k!==9){switch(q2k){case 2:a.prototype.add=function(a,f,d,c){var s2k,g;s2k=2;while(s2k!==3){switch(s2k){case 4:g[c].add(a,f,d);s2k=3;break;case 2:g=this.tP;void 0===g[c]&&(g[c]=new b());s2k=4;break;}}};a.prototype.start=function(a,f){var o2k,d;o2k=2;while(o2k!==3){switch(o2k){case 2:d=this.tP;void 0===d[f]&&(d[f]=new b());d[f].start(a);o2k=3;break;}}};a.prototype.stop=function(a,b){var N2k,d;N2k=2;while(N2k!==4){switch(N2k){case 2:d=this.tP;void 0!==d[b]&&d[b].stop(a);N2k=4;break;}}};a.prototype.get=function(){var H2k,a,b,d,f,c,g;H2k=2;while(H2k!==6){switch(H2k){case 5:H2k=f<b.length?4:7;break;case 4:c=b[f];g=a[c].get();g&&d.push({cdnid:c,avtp:g.Fa,tm:g.T3});H2k=8;break;case 1:a=this.tP,b=Object.keys(a),d=[],f=0;H2k=5;break;case 2:H2k=1;break;case 7:return d;break;case 8:f++;H2k=5;break;}}};return a;break;}}}();c.TGa=g;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(666);new(a(5)).Console("ASEJS_ENDPOINT_ACTIVITY","media|asejs");g=function(){var F2k;F2k=2;function a(a){var b2k,G2k;b2k=2;while(b2k!==4){G2k="1S";G2k+="IY";G2k+="bZr";G2k+="NJC";G2k+="p9";switch(b2k){case 2:this.a7=a;this.zs={};G2k;b2k=4;break;}}}while(F2k!==7){switch(F2k){case 2:a.prototype.reset=function(){var j2k;j2k=2;while(j2k!==1){switch(j2k){case 2:this.Dw=new b.TGa();j2k=1;break;case 4:this.Dw=new b.TGa();j2k=5;break;j2k=1;break;}}};a.prototype.Lz=function(a,b){var f2k;f2k=2;while(f2k!==1){switch(f2k){case 2:b.de&&(this.a7?this.Dw.start(a,b.de):1===b.type&&(this.zs[b.de]?this.zs[b.de].HM+=1:this.zs[b.de]={de:b.de,HM:1,UR:!1},this.KDa(a)));f2k=1;break;}}};a.prototype.Nz=function(a,b){var D2k,d;D2k=2;while(D2k!==8){switch(D2k){case 2:D2k=1;break;case 1:D2k=b.de?5:8;break;case 5:D2k=this.a7?4:3;break;case 4:this.Dw.stop(a,b.de);D2k=8;break;case 3:d=this.zs[b.de];1===b.type&&d&&(--d.HM,0===d.HM&&(d.UR&&this.Dw.stop(a,b.de),d.UR=!1,delete this.zs[b.de]),this.KDa(a));D2k=8;break;}}};F2k=4;break;case 4:a.prototype.Ox=function(a,b,d,f){var U2k;U2k=2;while(U2k!==1){switch(U2k){case 2:f.de&&(this.a7?this.Dw.add(a,b,d,f.de):this.yH===f.de&&this.Dw.add(a,b,d,f.de));U2k=1;break;}}};a.prototype.Xk=function(){var R2k;R2k=2;while(R2k!==1){switch(R2k){case 2:return this.Dw.get();break;case 4:return this.Dw.get();break;R2k=1;break;}}};a.prototype.KDa=function(a){var p2k,b,d;p2k=2;while(p2k!==3){switch(p2k){case 2:b=Object.keys(this.zs);d=this.zs[b[0]];1===b.length&&!1===d.UR?(this.Dw.start(a,d.de),this.yH=d.de):1<b.length&&this.yH&&(b=this.zs[this.yH],this.Dw.stop(a,this.yH),b.UR=!1,this.yH=void 0);p2k=3;break;}}};return a;break;}}}();c.zJa=g;},function(g,c,a){var h,p,d,k,m,t;function b(a){var b;if(!a.$0){b=a.Pta();a.kh.Px(b["default"].Fa,a.jh);a.kh.rA(b.Do?b.Do.VU:void 0,b.Do?b.Do.Tz:void 0);h.Ra(a.Mb)||(a.$0=!0);}}function f(a,b,f){var c;this.G=f;this.Gl={};this.yB=f.yB;this.Bka=new k(this.yB);this.QG=new t(!0);this.DG=new t(!1);this.reset();this.tu=a;this.kh=b;this.ala=p.el.name();this.kh.VV(this.ala);this.kH=this.sx=0;this.EG=[];p.events.on("networkchange",function(a){this.ala=a;this.kh.VV(a);}.bind(this));c=f.z3;c&&(c={Gc:d.Cd.OF,va:{Fa:parseInt(c,10),eh:0},Eg:{D_a:0,eh:0},Bo:{D_a:0,eh:0}},this.get=function(){return c;});}h=a(6);p=a(5);d=a(11);a(24);c=a(25).EventEmitter;k=a(350).Hea;m=new p.Console("ASEJS_NETWORK_MONITOR","media|asejs");t=a(667).zJa;f.prototype.constructor=f;f.prototype=Object.create(c);Object.defineProperties(f.prototype,{startTime:{get:function(){return this.pe;}},Gc:{get:function(){return this.jh;}},Fp:{get:function(){return this.sx;}},KYa:{get:function(){return this.EG;}}});f.prototype.LTa=function(){var a,b,d;a=this.G;b=a.N_;d=this.Bka;return a.$Ta.reduce(function(a,f){a[f]=d.create(f,b);return a;},{});};f.prototype.reset=function(){var a,f,c;a=this.G.N_;f=this.Bka;c=this.G;this.location=null;this.Gl=this.LTa();this.QG.reset();this.DG.reset();this.Ir=f.create("respconn-ewma",a);this.zr=f.create("respconn-ewma",a);this.jh=d.Cd.HAVE_NOTHING;this.kYa=function(){b(this);}.bind(this);this.YP=void 0;this.pu=this.Vb=this.Mb=this.pe=null;this.fTa=this.RP=0;this.KWa=!1;c.NAa&&(this.kH=this.sx=0,this.EG=[]);};f.prototype.WV=function(a){var b;b=this.Gl;if(a!==this.location){h.R(this.YP)||(clearInterval(this.YP),this.YP=void 0);h.Ra(this.location)&&(this.RP=0,this.pe=null);if(!h.Ra(a)){this.jh=d.Cd.HAVE_NOTHING;for(var f in b)b[f]&&b[f].reset&&b[f].reset();this.Ir.reset();this.zr.reset();}h.Ra(this.pe)||(this.RP+=(h.Ra(this.Mb)?p.time.da():this.Mb)-this.pe);this.Mb=this.pe=null;this.Vb=0;this.location=a;this.kh.WV(a);}};f.prototype.VV=function(a){this.kh.VV(a);};f.prototype.SYa=function(a){this.Gl.QoEEvaluator?m.warn("monitor (QoEEvaluator) already existed."):this.Gl.QoEEvaluator=a;};f.prototype.dob=function(){delete this.Gl.QoEEvaluator;};f.prototype.ZB=function(a,b){var d;d=this.Gl["req-pacer"];d&&d.ZB(a,b);};f.prototype.Ibb=function(){return this.Gl["req-pacer"];};f.prototype.Ox=function(a,f,c,g){var k,t;k=this.G;t=this.Gl;if(h.R(f))m.warn("addDataReceived called with undefined start time");else{k.fUa&&10>c-f?f=c-10:0===c-f&&(f=c-1);this.QG.Ox(a,f,c,g);this.DG.Ox(a,f,c,g);for(var p in t)t[p]&&t[p].add&&t[p].add(a,f,c);this.jh=Math.max(this.jh,d.Cd.Nt);h.Ra(this.pe)&&(this.pe=f,this.Mb=null,this.$0=!1,this.Vb=0);h.Ra(this.Mb)||(f>this.Mb&&(this.pe+=f-this.Mb),this.Mb=null,this.$0=!1);this.Vb+=a;this.jh<d.Cd.lp&&(c-this.pe>k.wVa||this.Vb>k.vVa)&&(this.jh=d.Cd.lp);this.jh<d.Cd.OF&&(c-this.pe>k.OWa||this.Vb>k.NWa)&&(!this.KWa||this.fTa>k.uVa)&&(this.jh=d.Cd.OF,b(this),this.YP=setInterval(this.kYa,k.dVa));h.Ra(this.pu)||(f-this.pu>k.wla?this.tu.Xua(this.pu,f):c-f>k.wla&&this.tu.Xua(f,c));this.pu=Math.max(c,this.pu);}};f.prototype.Vr=function(a){this.Ir.add(a);this.kh.Vr(a);};f.prototype.Tr=function(a){this.zr.add(a);this.kh.Tr(a);};f.prototype.start=function(a){var b;h.Ra(this.pu)&&!h.Ra(this.Mb)&&(this.pu=a);b=this.Gl;if(this.G.qba)for(var d in b)b[d]&&b[d].start&&b[d].start(a);};f.prototype.stop=function(a){var b,d;b=this.Gl;for(d in b)b[d]&&b[d].stop&&b[d].stop(a);this.Mb=h.Ra(this.Mb)?a:Math.min(this.Mb,a);this.pu=null;};f.prototype.flush=function(){var a,b;a=this.Gl;for(b in a)a[b]&&a[b].flush&&a[b].flush();};f.prototype.fail=function(){this.pe=null;};f.prototype.mab=function(){var a,b;a=this.Gl.entropy;a&&(b=a.A0a(),a.reset());return b;};f.prototype.Pta=function(){var a,b,d,f,c,g,k;a=p.time.da();b={};d=this.Gl;f=this.G;c=f.OTa;g=f.qXa;for(k in d)d[k]&&d[k].get&&(b[k]=d[k].get(a),"iqr"===d[k].type&&(b.Do=b[k]),"tdigest"===d[k].type&&(b.pm=b[k]));b.cdnavtp=this.QG.Xk();b.activecdnavtp=this.DG.Xk();b["default"]=c&&b[c]?b[c]:b["throughput-ewma"];"none"!==f.uaa&&"none"!==g&&(b.qBa=g&&b[g]?b[g]:b["throughput-sw"]);return b;};f.prototype.get=function(){var a,b,d,f,c;a=this.Pta();b=a["default"];d=this.Ir.get();f=this.zr.get();if(a.qBa)c=a.qBa,b=h.pa(b.Fa)&&h.pa(c.Fa)&&b.Fa>c.Fa&&0<c.Fa?c:b;a.Gc=this.jh;a.va=b;a.Eg=d;a.Bo=f;b=this.RP+!h.Ra(this.pe)?(h.Ra(this.Mb)?p.time.da():this.Mb)-this.pe:0;a.time=b;return a;};f.prototype.kcb=function(){var a,b,d;a={};b=this.get(!0);if(b.Gc&&b.va){a.aseavtp=Number(b.va.Fa).toFixed(2);a.asevartp=Number(b.va.eh).toFixed(2);if(b.Do){d=b.Do.VU;!d||isNaN(d.uj)||isNaN(d.tj)||isNaN(d.di)||(a.aseniqr=0<d.di?Number((d.uj-d.tj)/d.di).toFixed(2):-1,a.aseiqr=Number(d.uj-d.tj).toFixed(2),a.asemedtp=Number(d.di).toFixed(2));a.iqrsamples=b.Do.Tz;}b.pm&&b.pm.Gs&&(a.tdigest=b.pm.Gs());}return a;};f.prototype.Lz=function(a,b){var d;d=b.requestId;1===++this.sx&&(this.emit("active",a),this.start(a));d&&this.EG.push(d);this.QG.Lz(a,b);this.DG.Lz(a,b);};f.prototype.aaa=function(){++this.kH;};f.prototype.Nz=function(a,b,d){var f;f=d.requestId;b&&--this.kH;--this.sx;this.G.NAa&&(this.sx=Math.max(this.sx,0),this.kH=Math.max(this.kH,0));0===this.sx&&(this.stop(a),this.emit("inactive",a));f&&(b=this.EG.indexOf(f),0<=b&&this.EG.splice(b,1));this.QG.Nz(a,d);this.DG.Nz(a,d);};g.T=f;},function(g,c,a){var f,h;function b(a){this.G=a;this.ZG();}f=a(6);h=a(5);new h.Console("ASEJS_NETWORK_HISTORY","media|asejs");b.prototype.save=function(){var a;a=this.gd();h.storage.set("nh",a);};b.prototype.Erb=function(){this.Ix||(this.Ix=!0,this.Gr=h.time.da());};b.prototype.Qrb=function(){var a;if(this.Ix){a=h.time.da();this.Mr+=a-this.Gr;this.Gr=a;this.Ix=!1;this.YG=null;}};b.prototype.Xua=function(a,b){this.Ix&&(b>this.Gr&&(this.Mr+=b-this.Gr,this.Gr=b),null===this.YG||a>this.YG)&&(a=b-a,this.DB.push([this.Mr-a,a]),this.aYa(),this.YG=b);};b.prototype.aYa=function(){var a;a=this.Mr-this.G.Vib;this.DB=this.DB.filter(function(b){return b[0]>a;});};b.prototype.ZG=function(){var a;a=h.storage.get("nh");this.O0(a)||(this.Gr=h.time.da(),this.Mr=0,this.Ix=!1,this.YG=null,this.DB=[]);};b.prototype.O0=function(a){if(!(a&&f.has(a,"t")&&f.has(a,"s")&&f.has(a,"i")&&f.pa(a.t)&&f.pa(a.s)&&f.isArray(a.i)))return!1;this.Gr=h.time.D9(1E3*a.t);this.Mr=1E3*a.s;this.Ix=!1;this.DB=a.i.map(function(a){return[1E3*a[0],a[1]];});this.YG=null;return!0;};b.prototype.gd=function(){return this.Ix?{t:h.time.now()/1E3|0,s:(this.Mr+(h.time.da()-this.Gr))/1E3|0,i:this.DB.map(function(a){return[a[0]/1E3|0,a[1]];})}:{t:h.time.i9(this.Gr)/1E3|0,s:this.Mr/1E3|0,i:this.DB.map(function(a){return[a[0]/1E3|0,a[1]];})};};g.T=b;},function(g,c,a){var f;function b(a){var b,d;b=a.tb;d=a.mb;this.Mx=a.sw||4E3;this.VXa=b;this.tVa=d;this.reset();}f=a(5);new f.Console("ASEJS_REQUEST_PACER","media|asejs");b.prototype.sP=function(a,b){this.Vb+=b;this.Lg.push({t:a,R1:b});this.Lg.sort(function(a,b){return a.t-b.t;});};b.prototype.iH=function(){var a;if(null!==this.lu&&null!==this.Fk&&0!==this.Lg.length)for(;this.lu-this.Fk>this.Mx&&this.Lg.length;){a=this.Lg.shift();this.Vb-=a.R1;this.Fk=a.t;}};b.prototype.reset=function(){this.Lg=[];this.Fk=this.lu=null;this.Vb=0;};b.prototype.setInterval=function(a){this.Mx=a;this.iH();};b.prototype.Kbb=function(){var a;a=f.time.da();return 8*this.Vb/(a-this.Fk);};b.prototype.S0a=function(a){return null===this.lu||null===this.Fk?!0:a<=this.tVa?!0:this.Kbb()<=this.VXa;};b.prototype.ZB=function(a,b){null===this.lu&&(this.lu=a);null===this.Fk&&(this.Fk=a);a>this.lu&&(this.lu=a);a<this.lu-this.Mx||(a<this.Fk&&(this.Fk=a),this.sP(a,b),this.iH());};g.T=b;},function(g,c,a){var f;function b(a){var b,d;b=a.sw;d=a.mw;this.Mx=b;this.m_={uhd:a.uhdl,hd:a.hdl};this.uh=Math.max(Math.ceil(1*b/d),1);this.xVa=a.mins||1;f.call(this,b,d);this.reset();}f=a(152);new(a(5)).Console("ASEJS_NETWORK_ENTROPY","media|asejs");b.prototype=Object.create(f.prototype);b.prototype.flush=function(){this.Dc.map(function(a,b){this.cna(a,this.k5(b));},this);};b.prototype.A0a=function(){var a,b,d,f,c,g,h,x;a=this.m_;for(b in a)if(a.hasOwnProperty(b)){d=a[b];f=this.W0[b];c=this.U0[b];if(f.first){g=f.first;h=f.zz;void 0!==h&&(c[g][h]+=1);f.first=void 0;}for(var f=[],g=0,d=h=d.length+1,y=0;y<h;y++){for(var l=0,n=0;n<d;n++)l+=c[n][y];g+=l;f.push(l);}l=-1;if(g>this.xVa){for(y=l=0;y<h;y++)if(0<f[y])for(n=0;n<d;n++){x=c[n][y];0<x&&(l-=x*Math.log(1*x/f[y]));}l/=g*Math.log(2);}this.K_[b]=l;}return this.K_;};b.prototype.cna=function(a,b){var d,g,h;for(var d=this.uh,f=this.m_;this.LO.length>=d;)this.LO.shift();for(;this.MO.length>=d;)this.MO.shift();this.LO.push(a);this.MO.push(b);a=this.LO.reduce(function(a,b){return a+b;},0);b=this.MO.reduce(function(a,b){return a+b;},0);if(0<b){a=8*a/b;for(var c in f)if(f.hasOwnProperty(c)){b=this.W0[c];d=this.U0[c];g=this.anb(a,f[c]);h=b.zz;void 0!==h?d[g][h]+=1:b.first=g;b.zz=g;}}};b.prototype.anb=function(a,b){for(var d=0;d<b.length&&a>b[d];)d+=1;return d;};b.prototype.shift=function(){this.cna(this.Dc[0],this.k5(0));f.prototype.shift.call(this);};b.prototype.reset=function(){var a,b;this.W0={};this.LO=[];this.MO=[];this.U0={};this.K_={};a=this.m_;for(b in a)if(a.hasOwnProperty(b)){for(var d=this.U0,c=b,g,h=void 0,u=Array(h),h=g=a[b].length+1,y=0;y<h;y++){u[y]=Array(g);for(var l=0;l<g;l++)u[y][l]=0;}d[c]=u;this.W0[b]={first:void 0,zz:void 0};this.K_[b]=0;}f.prototype.reset.call(this);};g.T=b;},function(g,c,a){var f;function b(){this.rh=void 0;this.wu=0;}f=a(6);b.prototype.gd=function(){return 0!==this.wu&&this.rh?{p25:this.rh.tj,p50:this.rh.di,p75:this.rh.uj,c:this.wu}:null;};b.prototype.Ld=function(a){if(!(!f.Ra(a)&&f.has(a,"p25")&&f.has(a,"p50")&&f.has(a,"p75")&&f.has(a,"c")&&f.isFinite(a.p25)&&f.isFinite(a.p50)&&f.isFinite(a.p75)&&f.isFinite(a.c)))return this.rh=void 0,this.wu=0,!1;this.rh={tj:a.p25,di:a.p50,uj:a.p75};this.wu=a.c;};b.prototype.get=function(){return{VU:this.rh,Jn:this.wu};};b.prototype.set=function(a,b){this.rh=a;this.wu=b;};b.prototype.reset=function(){this.rh=void 0;this.wu=0;};b.prototype.toString=function(){return"IQRHist("+this.rh+","+this.wu+")";};g.T=b;},function(g,c,a){var f,h,p,d,k,m,t,u,y,l;function b(a){this.PTa=a;}c=a(349);f=c.LIa;h=c.JIa;p=a(348).KIa;d=a(347);k=a(346);m=a(358);t=a(672);u=a(671);y=a(670);l=a(345);b.prototype.constructor=b;b.prototype.create=function(a,b){var c,g,q,A;g=this.PTa[a];q=b[a];A={};g&&Object.keys(g).forEach(function(a){A[a]=g[a];});q&&Object.keys(q).forEach(function(a){A[a]=q[a];});switch(A.type){case"slidingwindow":c=new p(A.mw);break;case"discontiguous-ewma":c=new h(A.mw);break;case"iqr":c=new d(A.mx,A.mn,A.bw,A.iv);break;case"tdigest":c=new k(A);break;case"discrete-ewma":c=new f(A.hl);break;case"tdigest-history":c=new m(A);break;case"iqr-history":c=new t(A);break;case"avtp":c=new l();break;case"entropy":c=new u(A);break;case"req-pacer":c=new y(A);}c&&(c.type=A.type);return c;};g.T=b;},function(g){function c(a){this.vB=a;this.Dd=0;this.QB=null;}c.prototype.add=function(a,b,f){null!==this.QB&&b>this.QB&&(this.Dd+=b-this.QB,this.QB=null);this.vB.add(a,b-this.Dd,f-this.Dd,this.Dd);};c.prototype.stop=function(a){null===this.QB&&(this.QB=a);};c.prototype.p$=function(a,b){return this.vB.p$(a,b);};c.prototype.get=function(){return this.vB.get();};c.prototype.reset=function(){this.vB.reset();};c.prototype.toString=function(){return this.vB.toString();};g.T=c;},function(g){function c(a,b,f){this.WB=a;this.uh=Math.floor((a+b-1)/b);this.zc=b;this.VWa=f;this.reset();}c.prototype.shift=function(){this.Dc.shift();this.Vf.shift();};c.prototype.update=function(a,b){this.Dc[a]+=b;};c.prototype.push=function(a){this.Dc.push(0);this.Vf.push(a?a:0);this.Pa+=this.zc;};c.prototype.add=function(a,b,f,c){var g,d;if(null===this.Pa){g=Math.max(Math.floor((f-b+this.zc-1)/this.zc),1);for(this.Pa=b;this.Dc.length<g;)this.push(c);}for(;this.Pa<f;)if(this.push(c),this.VWa)for(;1<this.Dc.length&&f+c-(this.Pa-this.zc*this.Dc.length+this.Vf[0])>this.WB;)this.shift();else this.Dc.length>this.uh&&this.shift();if(b>this.Pa-this.zc)this.update(this.Dc.length-1,a);else if(b==f)c=this.Dc.length-Math.max(Math.ceil((this.Pa-f)/this.zc),1),0<=c&&this.update(c,a);else for(c=1;c<=this.Dc.length;++c){g=this.Pa-c*this.zc;d=g+this.zc;if(!(g>f)){if(d<b)break;this.update(this.Dc.length-c,Math.round(a*(Math.min(d,f)-Math.max(g,b))/(f-b)));}}for(;this.Dc.length>this.uh;)this.shift();};c.prototype.reset=function(){this.Dc=[];this.Vf=[];this.Pa=null;};c.prototype.setInterval=function(a){this.uh=Math.floor((a+this.zc-1)/this.zc);};g.T=c;},function(g,c,a){var h,p,d,k;function b(a,b,d){h.call(this,a,b,d);}function f(a,d){p.call(this,new b(a,d,!1));}h=a(675);p=a(674);d=a(74).n$a;k=a(74).xcb;b.prototype=Object.create(h.prototype);b.prototype.Fa=function(){return Math.floor(8*d(this.Dc)/this.zc);};b.prototype.eh=function(){return Math.floor(64*k(this.Dc)/(this.zc*this.zc));};b.prototype.get=function(){return{Fa:this.Fa(),eh:this.eh(),OEb:this.Dc.length};};b.prototype.toString=function(){return"bsw("+this.WB+","+this.zc+","+this.uh+")";};f.prototype=Object.create(p.prototype);f.prototype.setInterval=function(a){this.vB.setInterval(a);};g.T=f;},function(g,c,a){var f,h,p,d;function b(a){var b;b=nrdp.xh.sKb.match(/android-(\d*)/);b?23<b[1]?(a.yw=!1,a.xw=!1,a.Kp=void 0):(b=nrdp.xh.eCb.mFb.platform.qJb.match(/(\d*)\.(\d*).(\d*)/))?6<b[1]||6==b[1]&&1<b[2]||6==b[1]&&1==b[2]&&1<=b[3]?(a.yw=!0,a.xw=!1,a.Kp=void 0):(a.yw=!1,a.xw=!1,a.Kp=[]):(a.yw=!1,a.xw=!1,a.Kp=[]):(a.yw=!1,a.xw=!1,a.Kp=[]);}f=a(13).assert;a(54);h=a(5);p=h.sk;d=h.dNa;g.T=function(){var a,c,g;new h.Console("ASEJSMONKEY","media|asejs");if(!h.sk.Sc){a=function(a){this.oVa=a;};c=d.prototype.appendBuffer;h.MediaSource.Sc||(h.MediaSource.Sc={});"undefined"!==typeof nrdp&&nrdp.uEb&&(b(h.MediaSource.Sc),h.MediaSource.Sc.Toa=!1);h.sk.Sc={zE:{Eca:!0,nx:!0,Lga:!0}};Object.defineProperty(p.prototype,"_response",{get:function(){return this.PXa||this.NTa;},set:function(a){this.NTa=a;}});g=p.prototype.open;p.prototype.open=function(b,d,f,c,k,h,m){1===f&&(this.PXa=new a(this));return g.call(this,b,d,f,c,k,h,m);};p.prototype.jL=function(){this.MB=void 0;};d.prototype.appendBuffer=function(b){if(b instanceof ArrayBuffer)return c.call(this,b);if(b instanceof a)return this.jQ(b.oVa);f(!1);};}};},function(g,c,a){var b,f,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(6);f=a(11);h=a(5);g=function(){var Q2k;Q2k=2;while(Q2k!==13){switch(Q2k){case 2:a.prototype.FE=function(a,c){var d2k,d,g,k,h,p,q,l,n,k3k,t3k,a3k,g3k,c3k,L3k,M3k,S3k,V3k,z3k,x3k,u3k,v3k,P3k,m2k;d2k=2;while(d2k!==49){k3k=" playe";k3k+="rSta";k3k+="te: ";t3k=" media";t3k+=".curren";t3k+="tPts: ";a3k=" cu";a3k+="r";a3k+="rent ";a3k+="ma";a3k+="nifest: ";g3k=" ";g3k+="ma";g3k+="ni";g3k+="f";g3k+="estIndex: ";c3k="s";c3k+="eek";c3k+=": ";L3k="seekD";L3k+="ela";L3k+="yed";M3k="s";M3k+="eekF";M3k+="a";M3k+="iled";S3k="after seeking, play";S3k+="erSta";S3k+="te no longer START";S3k+="ING: ";V3k="s";V3k+="e";V3k+="e";V3k+="k";z3k="ptsc";z3k+="ha";z3k+="nged";x3k="s";x3k+="e";x3k+="ekDe";x3k+="l";x3k+="ayed";u3k="seekD";u3k+="e";u3k+="laye";u3k+="d";v3k="se";v3k+="e";v3k+="k";v3k+="Fai";v3k+="led";P3k="seek, no manifest a";P3k+="t";P3k+=" manifestIndex:";m2k="s";m2k+="e";m2k+="e";m2k+="k";switch(d2k){case 33:d2k=!this.la.UP(this.la.Be+1)?32:28;break;case 14:!k.lK&&0<c&&(p=this.la.X2(c,a));this.la.ja.Ld(f.Ma.ZN);d2k=12;break;case 6:d2k=(k=this.la.jc(c))?14:50;break;case 37:this.la.G0(m2k);d2k=36;break;case 35:d2k=a>h?34:28;break;case 36:q=this.la.qa.ug;n=this.la.jc(q.ba).EQ(q.ba,this.la.zg.bind(this.la),a,this.la.qa,q).Cz;k.nca(c,this.la.G,this.la.Sh,this.la.jg,this.la.qa,this.la.Va);d2k=52;break;case 50:this.K.warn(P3k,c),this.la.emit(v3k);d2k=49;break;case 15:d2k=this.Ru(this.la.qa.b6(c),!1,!0)?27:26;break;case 21:h=this.la.Sh?this.la.jg?Math.min(h[f.L.AUDIO].U,h[f.L.VIDEO].U):h[f.L.AUDIO].U:h[f.L.VIDEO].U;d2k=35;break;case 22:d2k=h.length?21:51;break;case 34:d2k=this.la.Ak?33:29;break;case 43:d2k=(h=this.la.Be===c&&!this.VUa(c)&&a===k.U)?42:37;break;case 27:return;break;case 51:this.yi={ba:c,bn:a},this.la.emit(u3k);d2k=49;break;case 52:this.la.qa.vg.forEach(function(a){var A2k,b;A2k=2;while(A2k!==4){switch(A2k){case 2:b=a.O;d.la.zg(b)&&d.QWa(a,n[b]);A2k=4;break;}}});d2k=41;break;case 29:a=h,p=a+this.la.qa.Rc;d2k=28;break;case 42:[f.L.AUDIO,f.L.VIDEO].forEach(function(a){var n2k;n2k=2;while(n2k!==1){switch(n2k){case 2:d.la.ef[a].reset(!0);n2k=1;break;}}});d2k=41;break;case 26:h=this.la.qa.vg;d2k=25;break;case 12:d2k=c!=this.la.Be?11:26;break;case 28:this.la.ja.Ld(f.Ma.Nh);this.la.qa.Csb(a,c);d2k=43;break;case 25:q=k.ha||Infinity;l=this.la.zg.bind(this.la);h=k.dJ(l,h,q,this.la.G);d2k=22;break;case 41:d2k=this.la.ja.vva()?40:39;break;case 32:this.yi={ba:this.la.Be+1,bn:a};this.la.emit(x3k);return;break;case 40:return this.la.emit(z3k,p),this.la.emit(V3k),this.cQ(c),a=h&&this.la.fu()?100:0,this.la.FP(1,a),this.la.th(),p;break;case 11:c<this.la.Be&&k.replace&&(k.replace=!1);g=this.la.jc(this.la.Be);this.la.qa.vg.forEach(function(a){var W2k;W2k=2;while(W2k!==1){switch(W2k){case 2:d.la.pma(a,g.cl&&g.cl.Mi);W2k=1;break;}}});d2k=19;break;case 39:this.K.warn(S3k+this.la.ja.gd());this.la.emit(M3k);d2k=49;break;case 19:d2k=!this.la.Wja(c)?18:15;break;case 7:this.la.qa.OAa();d2k=6;break;case 18:this.yi={ba:c,bn:a};this.la.emit(L3k);return;break;case 2:d=this;k=this.la.G;h=this.la.ja.lf();p=a;k.kf&&this.la.Qh(c3k+a+g3k+c+a3k+this.la.Be+t3k+h+k3k+this.la.ja.gd());b.R(c)&&(c=this.la.Be);d2k=7;break;}}};a.prototype.seek=function(a,f){var i2k,d;i2k=2;while(i2k!==8){switch(i2k){case 2:d=a;b.R(f)&&(f=this.la.Be);this.la.qa.OAa();this.la.jc(f).lK||this.la.FB||(d=this.la.ey(f,a));return this.FE(d,f);break;}}};a.prototype.Ru=function(a,b,c){var O2k,d,e3k,X3k;O2k=2;while(O2k!==8){e3k="s";e3k+="e";e3k+="e";e3k+="k";X3k="p";X3k+="tscha";X3k+="ng";X3k+="ed";switch(O2k){case 5:O2k=b?4:3;break;case 4:return d;break;case 3:d?(this.la.ja.Ld(f.Ma.ZN),(a=this.la.qa.xj.children[a])&&this.la.emit(X3k,a.Ic),this.la.ja.Ld(f.Ma.Nh),this.la.emit(e3k),a&&this.cQ(a.ba),this.la.FP(1),this.la.th(),this.la.fu()):c||(a=this.la.qa.Rbb(a),this.FE(a));return d;break;case 2:d=this.la.qa.Ru(a,b);O2k=5;break;}}};a.prototype.VUa=function(a){var T2k;T2k=2;while(T2k!==1){switch(T2k){case 4:return+~this.la.jc(a).Rx;break;T2k=1;break;case 2:return!!this.la.jc(a).Rx;break;}}};a.prototype.cQ=function(a){var E2k,b;E2k=2;while(E2k!==3){switch(E2k){case 4:a.Rx||(a.Rx=!0,[f.L.VIDEO,f.L.AUDIO].forEach(function(a){var C2k;C2k=2;while(C2k!==1){switch(C2k){case 2:b.la.ef[a].resume();C2k=1;break;}}}));E2k=3;break;case 5:a=this.la.jc(a);E2k=4;break;case 2:b=this;E2k=5;break;}}};a.prototype.QWa=function(a,b){var l2k,d,f;l2k=2;while(l2k!==6){switch(l2k){case 4:f.n4&&(this.la.WO=b+f.Hba,this.la.XO=h.time.da());a.qt(b);a.Fob();this.la.If&&0<this.la.If.length&&(this.la.If.forEach(function(a){var Y2k;Y2k=2;while(Y2k!==1){switch(Y2k){case 2:d.la.aQ(a,!1);Y2k=1;break;case 4:d.la.aQ(a,-8);Y2k=5;break;Y2k=1;break;}}}),this.la.If=void 0);l2k=7;break;case 2:d=this;f=this.la.G;l2k=4;break;case 7:this.la.KI.ema(a);l2k=6;break;}}};a.prototype.L_=function(){var w2k,a,b;w2k=2;while(w2k!==9){switch(w2k){case 1:w2k=this.yi?5:9;break;case 2:w2k=1;break;case 5:a=this.yi.bn;b=this.yi.ba;this.la.jc(b)&&(this.yi=void 0,this.FE(a,b));w2k=9;break;}}};Q2k=7;break;case 7:a.prototype.Ri=function(a){var J2k,d,c,q3k;function b(a,f,c){var I2k,B3k;I2k=2;while(I2k!==5){B3k="skip: unexpected beh";B3k+="aviour - a non-presenting branch do";B3k+="esn't have a previous branch";switch(I2k){case 2:a!==d.la.qa.xj&&(a.Ge?b(a.Ge,f,c):d.K.error(B3k));a.Xa[f].Ri(c);I2k=5;break;}}}J2k=2;while(J2k!==6){q3k="s";q3k+="k";q3k+="i";q3k+="p";switch(J2k){case 8:this.la.tH();this.la.emit(q3k);J2k=6;break;case 4:this.la.qa.xj.Ri(a);[f.L.AUDIO,f.L.VIDEO].forEach(function(f){var h2k,g,y3k;h2k=2;while(h2k!==8){y3k="skip: not resuming bufferManager, audio";y3k+=" ";y3k+="track switch in progress";switch(h2k){case 5:g=d.la.bb.Cb[f];d.la.uo&&(g.lba=h.time.da());c.hL?d.la.ef[f].reset():g.tF?g.Ha(y3k):d.la.ef[f].resume();b(d.la.qa.ug,f,a);h2k=8;break;case 1:h2k=d.la.zg(f)?5:8;break;case 2:h2k=1;break;}}});this.la.ja.Ld(f.Ma.ad);J2k=8;break;case 2:d=this;c=this.la.G;J2k=4;break;}}};a.prototype.kC=function(a){var K2k,b,d;K2k=2;while(K2k!==6){switch(K2k){case 2:b=this.la.qa.xj;d=0<Object.keys(b.xa&&b.xa.mj||{}).length&&!b.tg?b.ge-this.la.G.qU:b.ge;K2k=4;break;case 9:b=this.la.dD(a,f.L.AUDIO,!0);a=this.la.dD(a,f.L.VIDEO,!0);return b&&a&&b.complete&&a.complete;break;case 4:K2k=a<b.Ic||a>=d?3:9;break;case 3:return!1;break;}}};return a;break;}}function a(a,b){var Z2k,s3k;Z2k=2;while(Z2k!==4){s3k="1SIYb";s3k+="Z";s3k+="rNJCp9";switch(Z2k){case 2:this.la=a;this.K=b;s3k;Z2k=4;break;}}}}();c.cRa=g;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(11);f=a(24);g=function(){function a(a){this.gI=a;this.state=new f.lZ(b.Ma.Nh);this.Lv={};}a.prototype.gd=function(){return this.state.value;};a.prototype.Ld=function(a){this.state.set(a);};a.prototype.Ybb=function(){return b.Ma.name[this.state.value];};a.prototype.addListener=function(a,b){this.state.addListener(a,b);};a.prototype.paused=function(){this.state.value===b.Ma.ad&&this.state.set(b.Ma.oi);};a.prototype.FW=function(){this.state.value===b.Ma.oi&&this.state.set(b.Ma.ad);};a.prototype.vva=function(){return this.state.value===b.Ma.Nh;};a.prototype.Py=function(){return"function"===typeof this.gI.Py?this.gI.Py():this.state.value===b.Ma.ad;};a.prototype.bm=function(){return this.state.value===b.Ma.Ij||this.state.value===b.Ma.Yt;};a.prototype.$e=function(){return this.state.value===b.Ma.ZN;};a.prototype.w7=function(){return this.state.value===b.Ma.$N;};a.prototype.lf=function(){return this.gI.lf();};a.prototype.P5=function(){return this.gI.P5();};a.prototype.nqb=function(a,b){this.Lv[a]=b;};a.prototype.xv=function(a){return!!this.Lv[a];};return a;}();c.sFa=g;},function(g,c,a){var b,f,h,p,d,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(6);f=a(195);h=a(11);p=a(54);d=a(5);k=a(24);a(13);g=function(){var o3k;o3k=2;while(o3k!==54){switch(o3k){case 7:a.prototype.Cla=function(a,b){var U3k,e6k;U3k=2;while(U3k!==5){e6k="segm";e6k+="entSt";e6k+="a";e6k+="rting";switch(U3k){case 2:b={type:e6k,segmentId:a.id,contentOffset:b};a.lE||k.na(this.Aa,b.type,b);U3k=5;break;}}};o3k=6;break;case 37:a.prototype.aya=function(){var X6k,a,B6k;X6k=2;while(X6k!==9){B6k="str";B6k+="eam";B6k+="eren";B6k+="d";switch(X6k){case 2:X6k=1;break;case 1:X6k=!this.RXa&&this.Aa.G.Zxa?5:9;break;case 5:this.RXa=!0;a={type:B6k,time:d.time.da()};k.na(this.Aa,a.type,a);X6k=9;break;}}};return a;break;case 41:a.prototype.PVa=function(a,b,d){var g6k,s6k,y6k,q6k;g6k=2;while(g6k!==1){s6k="endOf";s6k+="Stre";s6k+="a";s6k+="m";y6k=" l";y6k+="e";y6k+="ngth";y6k+=":";y6k+=" ";q6k="n";q6k+="otifyEndOfStream ignor";q6k+="ed, m";q6k+="ore manifests,";q6k+=" index: ";switch(g6k){case 2:a.br||(b+1<d?a.Ha(q6k+b+y6k+d):(this.Aa.ef[a.O].BK(),b={type:s6k,mediaType:a.O},k.na(this.Aa,b.type,b),a.br=!0));g6k=1;break;}}};a.prototype.Ala=function(a){var a6k,o6k;a6k=2;while(a6k!==5){o6k="creat";o6k+="er";o6k+="eq";o6k+="uest";switch(a6k){case 2:a={type:o6k,mediaRequest:a};k.na(this.Aa,a.type,a);a6k=5;break;}}};a.prototype.rq=function(a){var t6k,H6k,N6k;t6k=2;while(t6k!==1){H6k="a";H6k+="seexce";H6k+="ptio";H6k+="n";N6k="asee";N6k+="xcep";N6k+="ti";N6k+="on";switch(t6k){case 2:this.Aa.emit(N6k,{type:H6k,msg:a});t6k=1;break;}}};a.prototype.ojb=function(a,b,f,c){var k6k,F6k,r6k;k6k=2;while(k6k!==5){F6k="maxvideo";F6k+="bitra";F6k+="tec";F6k+="h";F6k+="anged";r6k="max";r6k+="videobi";r6k+="tr";r6k+="atechange";r6k+="d";switch(k6k){case 2:a={type:r6k,time:d.time.da(),spts:c,maxvb_old:a,maxvb:b,reason:f};this.Aa.emit(F6k,a);k6k=5;break;}}};o3k=37;break;case 20:a.prototype.WVa=function(a,b,d,f,c){var n3k,b6k;n3k=2;while(n3k!==5){b6k="m";b6k+="a";b6k+="nifestRan";b6k+="ge";switch(n3k){case 2:a={type:b6k,index:a,manifestOffset:b,startPts:Math.floor(d),endPts:Math.floor(f),maxPts:Math.floor(c)};k.na(this.Aa,a.type,a);n3k=5;break;}}};a.prototype.YVa=function(a,b){var A3k,j6k;A3k=2;while(A3k!==5){j6k="maxB";j6k+="it";j6k+="r";j6k+="at";j6k+="es";switch(A3k){case 2:a={type:j6k,audio:a,video:b};k.na(this.Aa,a.type,a);A3k=5;break;}}};a.prototype.XVa=function(a,b){var i3k,d,D6k,f6k;i3k=2;while(i3k!==9){D6k="notifyManifestSel";D6k+="e";D6k+="cted: ";f6k="m";f6k+="anifes";f6k+="tSelected";switch(i3k){case 2:d=this.Aa.G;a={type:f6k,index:a,replace:b.replace,ptsStarts:b.Cz,streamingOffset:b.U+b.vn};d.kf&&(b=D6k+JSON.stringify(a),d.kf&&this.Aa.Qh(b));i3k=3;break;case 3:k.na(this.Aa,a.type,a);i3k=9;break;}}};a.prototype.VVa=function(a,b,d,f,c,g){var O3k,U6k;O3k=2;while(O3k!==4){U6k="manifestPr";U6k+="esent";U6k+="i";U6k+="ng";switch(O3k){case 2:a={type:U6k,index:a,pts:Math.floor(d),movieId:b.Oa.M,replace:b.replace,contentOffset:f};null!=c&&null!=g&&(a.previousMovieId=c,a.previousIndex=g);k.na(this.Aa,a.type,a);O3k=4;break;}}};a.prototype.$xa=function(a,b,f,c){var T3k,g,h,m,R6k;T3k=2;while(T3k!==17){R6k="strea";R6k+="mS";R6k+="elected";switch(T3k){case 2:g=a.O;b=b.Zp(g,f);h=this.Aa.bb.Cb[g];T3k=3;break;case 3:h.Li||(h.Li={});h.Li.id=b.za;h.Li.index=b.Rf;h.Li.P=b.P;h.Li.location=b.location;T3k=14;break;case 14:T3k=!h.Iv||h.Iv!==b?13:17;break;case 13:a.WE.Yrb(c,h.Iv,b);h.Iv=b;h=0;T3k=10;break;case 10:b.Ka&&b.Ka.Gc&&b.Ka.va&&(h=b.Ka.va.Fa);m=a.Rb.Rc;a={type:R6k,nativetime:d.time.da(),mediaType:g,streamId:f,manifestIndex:b.Oa.ba,trackIndex:a.J0,streamIndex:b.Rf,movieTime:Math.floor(c+m),bandwidth:h,longtermBw:h,rebuffer:0};k.na(this.Aa,a.type,a);T3k=17;break;}}};a.prototype.hWa=function(a,b,d,f,c){var E3k,p6k;E3k=2;while(E3k!==5){p6k="stream";p6k+="Presenti";p6k+="ng";switch(E3k){case 2:a={type:p6k,startPts:Math.floor(b),contentStartPts:Math.floor(d),mediaType:a.O,manifestIndex:f,trackIndex:a.J0,streamIndex:c};k.na(this.Aa,a.type,a);E3k=5;break;}}};o3k=27;break;case 23:a.prototype.QVa=function(a,b){var J3k,G6k;J3k=2;while(J3k!==5){G6k="firstRequestA";G6k+="p";G6k+="pende";G6k+="d";switch(J3k){case 2:a={type:G6k,manifestIndex:a.Rb.ba,mediatype:b.O,time:d.time.da()};k.na(this.Aa,a.type,a);J3k=5;break;}}};a.prototype.UVa=function(a,b){var I3k,Q6k;I3k=2;while(I3k!==5){Q6k="initi";Q6k+="alAudio";Q6k+="T";Q6k+="rack";switch(I3k){case 2:a={type:Q6k,trackId:b,trackIndex:a};k.na(this.Aa,a.type,a);I3k=5;break;}}};a.prototype.LVa=function(a,b){var h3k,Z6k;h3k=2;while(h3k!==3){Z6k="audioTrackSwitch";Z6k+="Start";Z6k+="ed";switch(h3k){case 2:a=a.Zy;b=b.Zy;b={type:Z6k,oldLangCode:a.language,oldNumChannels:a.channels,newLangCode:b.language,newNumChannels:b.channels};k.na(this.Aa,b.type,b);h3k=3;break;}}};o3k=35;break;case 3:a.prototype.RVa=function(a,b,d,f,c){var j3k,g,d6k;j3k=2;while(j3k!==9){d6k="headerCache";d6k+="DataH";d6k+="it";switch(j3k){case 2:g=this.Aa.Wka;this.Aa.Wka=void 0;a={type:d6k,movieId:a,audio:b,audioFromMediaCache:f,video:d,videoFromMediaCache:c,actualStartPts:g&&g.Jk,headerCount:g&&g.Ao,stats:g&&g.Lb};k.na(this.Aa,a.type,a);j3k=9;break;}}};a.prototype.ZVa=function(a,b,d){var f3k,W6k;f3k=2;while(f3k!==5){W6k="m";W6k+="axP";W6k+="osit";W6k+="i";W6k+="on";switch(f3k){case 2:a={type:W6k,index:a,maxPts:b,endPts:d};k.na(this.Aa,a.type,a);f3k=5;break;}}};a.prototype.iWa=function(a,b,d,f,c,g){var D3k,A6k,n6k;D3k=2;while(D3k!==4){A6k="notify";A6k+="St";A6k+="reamingError";A6k+=":";A6k+=" ";n6k="e";n6k+="r";n6k+="r";n6k+="o";n6k+="r";switch(D3k){case 5:k.na(this.Aa,a.type,a);D3k=4;break;case 2:a={type:n6k,error:a,errormsg:b,networkErrorCode:d,httpCode:f,nativeCode:c,manifestIndex:void 0!==g?g:this.Aa.WK};this.K.error(A6k+JSON.stringify(a));D3k=5;break;}}};o3k=7;break;case 27:a.prototype.lWa=function(a){var C3k,i6k;C3k=2;while(C3k!==5){i6k="vid";i6k+="eoLoo";i6k+="ped";switch(C3k){case 3:a={type:"",offset:a};C3k=3;break;C3k=1;break;case 2:a={type:i6k,offset:a};C3k=1;break;case 1:k.na(this.Aa,a.type,a);C3k=5;break;}}};a.prototype.Bla=function(a,b,d,f,c,g,m,p){var l3k,C6k,E6k,T6k,O6k;l3k=2;while(l3k!==1){C6k="a";C6k+="u";C6k+="d";C6k+="io";E6k="vi";E6k+="d";E6k+="e";E6k+="o";T6k="lo";T6k+="cationS";T6k+="elect";T6k+="e";T6k+="d";O6k="l";O6k+="ocatio";O6k+="nSelected";switch(l3k){case 2:k.na(this.Aa,O6k,{type:T6k,manifestIndex:a,mediatype:b===h.L.VIDEO?E6k:C6k,location:d,locationlv:f,serverid:c,servername:g,selreason:m,seldetail:p});l3k=1;break;}}};a.prototype.Dla=function(a,b,d,c,g,m){var Y3k,t,p,w6k,Y6k,l6k;Y3k=2;while(Y3k!==6){w6k="serv";w6k+="er";w6k+="Swit";w6k+="ch";Y6k="a";Y6k+="u";Y6k+="di";Y6k+="o";l6k="v";l6k+="id";l6k+="e";l6k+="o";switch(Y3k){case 2:t=b==h.L.VIDEO?l6k:Y6k;p=this.Aa.kb.bf.get(!1);a={type:w6k,manifestIndex:a,mediatype:t,server:d,reason:c,location:g,bitrate:m,confidence:p.Gc};p.Gc&&(a.throughput=p.va.Fa);this.Aa.bb.Cb[b].DD&&(a.oldserver=d);Y3k=8;break;case 8:f.tl.Xl(b);k.na(this.Aa,a.type,a);Y3k=6;break;}}};a.prototype.jWa=function(a,b,d,c){var w3k,J6k;w3k=2;while(w3k!==4){J6k="updateStr";J6k+="eamingP";J6k+="ts";switch(w3k){case 2:b={type:J6k,mediaType:a,manifestIndex:b,trackIndex:d,movieTime:Math.floor(c)};f.tl.Xl(a);k.na(this.Aa,b.type,b);w3k=4;break;}}};o3k=23;break;case 6:a.prototype.cWa=function(a){var R3k,b,I6k;R3k=2;while(R3k!==4){I6k="segm";I6k+="en";I6k+="tAborte";I6k+="d";switch(R3k){case 2:b={type:I6k,segmentId:a.id};a.lE||k.na(this.Aa,b.type,b);R3k=4;break;}}};a.prototype.CUa=function(a,f){var p3k,c,g,k,u5k,v5k,P5k,m6k,K6k,h6k;p3k=2;while(p3k!==20){u5k="se";u5k+="a";u5k+="ml";u5k+="e";u5k+="ss";v5k="r";v5k+="e";v5k+="s";v5k+="e";v5k+="t";P5k="s";P5k+="k";P5k+="i";P5k+="p";m6k="l";m6k+="o";m6k+="n";m6k+="g";K6k="l";K6k+="o";K6k+="n";K6k+="g";h6k="sea";h6k+="mle";h6k+="ss";switch(p3k){case 2:c={segment:a,srcsegment:f.hW,srcoffset:f.sCa,seamlessRequested:f.OV,atRequest:{},discard:{}};k=f.Xc[a];k?(g=k.weight,p(k.ZH,c.atRequest)):g=this.Aa.qa.Fta(f.hW,a);p3k=3;break;case 3:c.atRequest.weight=g;p3k=9;break;case 9:b.dd(f.Xc,function(b,d){var G3k;G3k=2;while(G3k!==1){switch(G3k){case 2:d!=a&&(c.discard[d]={weight:b.weight},p(b.ZH,c.discard[d]));G3k=1;break;}}});g=f.OV?f.QS?h6k:K6k:f.Lxa?m6k:f.Ri?P5k:v5k;c.transitionType=g;f.R5a||(c.delayToTransition=f.mR);p3k=14;break;case 14:g=u5k===g?0:d.time.da()-f.startTime;c.durationOfTransition=g;c.atTransition=f.uDa;c.srcsegmentduration=this.Aa.qa.Qbb(f.hW);return c;break;}}};a.prototype.fWa=function(a,b,d){var Q3k,x5k;Q3k=2;while(Q3k!==4){x5k="seg";x5k+="me";x5k+="ntPresenting";switch(Q3k){case 2:d=d?this.CUa(a.id,d):void 0;a={type:x5k,segmentId:a.id,contentOffset:b,metrics:d,playlistSegment:a.lE,manifestIndex:a.ba};k.na(this.Aa,a.type,a);Q3k=4;break;}}};a.prototype.dWa=function(a,b){var Z3k,z5k;Z3k=2;while(Z3k!==5){z5k="segme";z5k+="ntAppen";z5k+="ded";switch(Z3k){case 2:b={type:z5k,segmentId:a.id,metrics:b};a.lE||k.na(this.Aa,b.type,b);Z3k=5;break;}}};o3k=11;break;case 35:a.prototype.KVa=function(a,b){var K3k,d;K3k=2;while(K3k!==4){switch(K3k){case 2:d=this;setTimeout(function(){var m3k,f,V5k;m3k=2;while(m3k!==4){V5k="audioTr";V5k+="ackSwi";V5k+="tchCo";V5k+="mplete";switch(m3k){case 2:f={type:V5k,trackId:a,trackIndex:b};k.na(d.Aa,f.type,f);m3k=4;break;}}},0);K3k=4;break;}}};a.prototype.gWa=function(a,b){var P6k,S5k;P6k=2;while(P6k!==5){S5k="currentStr";S5k+="eamInfeasibl";S5k+="e";switch(P6k){case 2:a={type:S5k,oldBitrate:a,newBitrate:b};k.na(this.Aa,a.type,a);P6k=5;break;}}};a.prototype.OVa=function(a){var v6k,b,L5k,M5k;v6k=2;while(v6k!==9){L5k="startBuf";L5k+="f";L5k+="er";L5k+="i";L5k+="ng";M5k="buf";M5k+="ferin";M5k+="gStarted";switch(v6k){case 2:b={type:M5k,time:d.time.da(),percentage:a||0};k.na(this.Aa,b.type,b);this.Aa.emit(L5k);this.a0=a||0;v6k=9;break;}}};a.prototype.MVa=function(){var u6k,a,b,f,c,c5k;u6k=2;while(u6k!==6){c5k="b";c5k+="uffe";c5k+="ring";switch(u6k){case 3:f=this.Aa.jg?f.Sg(h.L.VIDEO):f.Sg(h.L.AUDIO);c=f.Ce;u6k=8;break;case 5:b=d.time.da();f=this.Aa.qa.ug;u6k=3;break;case 8:a=Math.min(Math.max(Math.round(100*(f.gK?(b-this.Aa.p_)/a.nE:f.Qi?f.Qi:c/a.ai)),this.a0),99);a!=this.a0&&(b={type:c5k,time:b,percentage:a},k.na(this.Aa,b.type,b),this.a0=a);u6k=6;break;case 2:a=this.Aa.G;u6k=5;break;}}};a.prototype.NVa=function(){var x6k,a,b,f,c,g5k;x6k=2;while(x6k!==13){g5k="buffe";g5k+="ringCom";g5k+="plete";switch(x6k){case 6:this.Aa.Od.Y8a({initSelReason:a.Co,initSelectionPredictedDelay:a.LJ,buffCompleteReason:a.goa,hashindsight:!!this.Aa.uo,hasasereport:!!this.Aa.lw});k.na(this.Aa,b.type,b);x6k=13;break;case 2:a=this.Aa.qa.vg;b=a[h.L.AUDIO];f=a[h.L.VIDEO];this.zla();x6k=9;break;case 9:a=this.Aa.jg?this.Aa.bb.Cb[h.L.VIDEO]:this.Aa.bb.Cb[h.L.AUDIO];c=a.$H;b={type:g5k,time:d.time.da(),actualStartPts:c,aBufferLevelMs:b?b.Ce:0,vBufferLevelMs:f?f.Ce:0,selector:f?f.Faa:b.Faa,initBitrate:a.Vl,skipbackBufferSizeBytes:this.Aa.kb.nrb};x6k=6;break;}}};a.prototype.zla=function(){var z6k,a,b,d,f,c,g,a5k;z6k=2;while(z6k!==10){a5k="upda";a5k+="teBuff";a5k+="erLevel";switch(z6k){case 2:a=this.Aa.G;z6k=5;break;case 5:z6k=!this.Aa.Ae()?4:10;break;case 4:b=this.Aa.qa.vg;d=b[h.L.AUDIO];f=b[h.L.VIDEO];c=d?d.Ce:0;z6k=7;break;case 7:b=f?f.Ce:0;this.Aa.Od.NYa(c,b);g=this.Aa.kb.bf.get(!1);z6k=13;break;case 13:d={type:a5k,abuflbytes:d?d.Ju:0,vbuflbytes:f?f.Ju:0,totalabuflmsecs:c,totalvbuflmsecs:b,predictedFutureRebuffers:0,currentBandwidth:g.Gc?g.va.Fa:0};b>a.sxa&&this.Aa.kb.Ug&&this.Aa.kb.Ug.EH(!0,this.Aa.Bl.sessionId);z6k=11;break;case 11:k.na(this.Aa,d.type,d);z6k=10;break;}}};a.prototype.eVa=function(a){var V6k,f,c,g,q5k,B5k,e5k,X5k,k5k,t5k;V6k=2;while(V6k!==13){q5k=", systemDe";q5k+="lt";q5k+="a: ";B5k="mem";B5k+="oryUs";B5k+="age at";B5k+=" tim";B5k+="e: ";e5k=", osA";e5k+="llo";e5k+="cator";e5k+="Delta";e5k+=": ";X5k=", ";X5k+="js";X5k+="HeapD";X5k+="elta: ";k5k=", f";k5k+="astMal";k5k+="loc";k5k+="Delta: ";t5k="memor";t5k+="yUsage at ti";t5k+="me:";t5k+=" ";switch(V6k){case 4:V6k=!b.R(this.GB)?3:14;break;case 1:V6k=!b.R(a)?5:13;break;case 2:V6k=1;break;case 3:f=a.yra-this.GB.yra;c=a.tua-this.GB.tua;g=a.Cya-this.GB.Cya;(4194304<f||4194304<g)&&this.K.warn(t5k+d.time.da()+k5k+f+X5k+c+e5k+g);V6k=6;break;case 14:this.GB=a;V6k=13;break;case 5:b.pa(a.gM);V6k=4;break;case 6:b.pa(a.gM)&&b.pa(this.GB.gM)&&(f=a.gM-this.GB.gM,4194304<f&&this.K.warn(B5k+d.time.da(),q5k+f));V6k=14;break;}}};o3k=28;break;case 11:a.prototype.eWa=function(a,b,d){var d3k,y5k;d3k=2;while(d3k!==5){y5k="se";y5k+="gmentComple";y5k+="te";switch(d3k){case 2:a={type:y5k,mediaType:a,manifestIndex:b,segmentId:d.id};k.na(this.Aa,a.type,a);d3k=5;break;}}};a.prototype.q0=function(a,b){var W3k,s5k;W3k=2;while(W3k!==5){s5k="lastSe";s5k+="gmentPt";s5k+="s";switch(W3k){case 2:b={type:s5k,segmentId:a.id,pts:Math.floor(b)};a.lE||k.na(this.Aa,b.type,b);W3k=5;break;}}};o3k=20;break;case 28:a.prototype.kWa=function(){var S6k,a,o5k;S6k=2;while(S6k!==9){o5k="st";o5k+="re";o5k+="a";o5k+="m";o5k+="ingstat";switch(S6k){case 4:this.Aa.Od.Z8a(a);k.na(this.Aa,a.type,a);S6k=9;break;case 2:this.Aa.G.xgb&&d.memory.Bab(this.eVa.bind(this));a={type:o5k,time:d.time.da(),playbackTime:this.Aa.ja.lf()};S6k=4;break;}}};a.prototype.yla=function(){var M6k,a,N5k;M6k=2;while(M6k!==3){N5k="a";N5k+="serepo";N5k+="rt";switch(M6k){case 1:M6k=this.Aa.lw?5:3;break;case 7:M6k=this.Aa.lw?6:1;break;M6k=this.Aa.lw?5:3;break;case 2:M6k=1;break;case 5:a={type:N5k};this.Aa.lw.X8a(a)&&k.na(this.Aa,a.type,a);M6k=3;break;}}};a.prototype.JVa=function(){var L6k,a,H5k;L6k=2;while(L6k!==4){H5k="asere";H5k+="porten";H5k+="able";H5k+="d";switch(L6k){case 2:a={type:H5k};k.na(this.Aa,a.type,a);L6k=4;break;}}};a.prototype.TVa=function(a){var c6k,b,d,f,c,g,h,m,t,p,q,l,n,r,ia,Z,ea,X,O,ca,E,r5k,f5k,j5k,b5k,F5k;c6k=2;while(c6k!==7){r5k="hinds";r5k+="igh";r5k+="trepor";r5k+="t";switch(c6k){case 5:b={type:r5k};d=this.Aa.G.CJ;for(f in d){f5k="hvma";f5k+="f";f5k+="dp";j5k="hv";j5k+="m";j5k+="a";j5k+="fg";j5k+="r";b5k="hvma";b5k+="f";b5k+="t";b5k+="b";F5k="h";F5k+="t";F5k+="w";F5k+="br";c=d[f];g=0;h=0;m=0;t=0;p=0;q=0;l=void 0;n=void 0;r=!1;ia=-1;Z=-1;ea=-1;X=-1;O=-1;ca=-1;for(E in a)n=a[E],void 0===n.nd&&(l=(l=n.sols)&&l[c])&&(r=!0,m+=l.dlvdur,g+=l.dltwbr*l.dlvdur,h+=l.dlvmaf*l.dlvdur),q+=n.pbdur,t+=n.pbtwbr*n.pbdur,p+=n.pbvmaf*n.pbdur,l=n.rr,n=n.ra;0<q&&(ia=1*t/q,X=1*p/q);r&&(0<m&&(Z=1*g/m,O=1*h/m),0<m+q&&(ea=1*(g+t)/(m+q),ca=1*(h+p)/(m+q)));switch(c){case F5k:b.htwbr=ea;b.hptwbr=Z;b.pbtwbr=ia;l&&(b.rr=l,b.ra=n);break;case b5k:b.hvmaftb=ca;b.hpvmaftb=O;b.pbvmaftb=X;l&&(b.rrvmaftb=l,b.ravmaftb=n);break;case j5k:b.hvmafgr=ca;b.hpvmafgr=O;b.pbvmafgr=X;l&&(b.rrvmafgr=l,b.ravmafgr=n);break;case f5k:b.hvmafdp=ca,b.hpvmafdp=O,b.pbvmafdp=X,l&&(b.rrvmafdp=l,b.ravmafdp=n);}}c6k=9;break;case 2:c6k=1;break;case 1:c6k=a?5:7;break;case 9:this.Aa.m4&&(b.report=a);k.na(this.Aa,b.type,b);c6k=7;break;}}};o3k=41;break;case 2:a.prototype.Er=function(a){var H3k,D5k;H3k=2;while(H3k!==5){D5k="st";D5k+="art";D5k+="Ev";D5k+="ent";switch(H3k){case 2:a={type:D5k,event:a,time:d.time.da()};k.na(this.Aa,a.type,a);H3k=5;break;}}};a.prototype.$Va=function(){var r3k,a,U5k;r3k=2;while(r3k!==4){U5k="openC";U5k+="o";U5k+="mplete";switch(r3k){case 2:a={type:U5k};k.na(this.Aa,a.type,a);r3k=4;break;}}};a.prototype.aWa=function(a,b,d,f,c){var F3k,R5k;F3k=2;while(F3k!==1){R5k="p";R5k+="tsS";R5k+="tar";R5k+="t";R5k+="s";switch(F3k){case 2:this.Aa.G.s6a||(a={type:R5k,manifestIndex:a,mediaType:b,movieId:f,streamId:d,ptsStarts:c.yCa()},k.na(this.Aa,a.type,a));F3k=1;break;}}};a.prototype.SVa=function(a,b){var b3k,p5k;b3k=2;while(b3k!==5){p5k="headerCa";p5k+="c";p5k+="heHi";p5k+="t";switch(b3k){case 2:a={type:p5k,movieId:a,streamId:b};k.na(this.Aa,a.type,a);b3k=5;break;}}};o3k=3;break;}}function a(a,b){var N3k,G5k;N3k=2;while(N3k!==4){G5k="1";G5k+="SIYbZr";G5k+="NJC";G5k+="p9";switch(N3k){case 2:this.Aa=a;this.K=b;G5k;N3k=4;break;}}}}();c.NNa=g;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(11);f=a(24);g=function(){var Q5k;Q5k=2;function a(a,b){var Z5k,M6E;Z5k=2;while(Z5k!==3){M6E="1SIY";M6E+="b";M6E+="ZrN";M6E+="JC";M6E+="p9";switch(Z5k){case 2:this.yb=a;this.K=b;this.u0=this.T0=!1;Z5k=4;break;case 4:M6E;Z5k=3;break;case 14:"";Z5k=8;break;Z5k=3;break;}}}while(Q5k!==6){switch(Q5k){case 2:a.prototype.play=function(){var d5k,a,Z6E,S6E;d5k=2;while(d5k!==3){Z6E="p";Z6E+="l";Z6E+="a";Z6E+="y";S6E="play c";S6E+="alled after pip";S6E+="elines already";S6E+=" shutdo";S6E+="wn";switch(d5k){case 2:a=this;this.yb.Ela++;this.Ae()?this.K.warn(S6E):(this.yb.ja.Ld(b.Ma.ad),this.yb.AXa(),this.yb.bb.Cb.forEach(function(b){var W5k,o6E;W5k=2;while(W5k!==1){o6E="play: not re";o6E+="suming buffe";o6E+="rManager, audio track switch in progres";o6E+="s";switch(W5k){case 2:a.yb.zg(b.O)&&(b.tF?b.Ha(o6E):a.yb.ef[b.O].resume());W5k=1;break;}}}),this.yb.tH(),this.yb.emit(Z6E));d5k=3;break;}}};a.prototype.stop=function(){var n5k,a,d,f,w6E;n5k=2;while(n5k!==13){w6E="s";w6E+="t";w6E+="o";w6E+="p";switch(n5k){case 4:f=this.yb.ja.$e();this.yb.ja.Ld(b.Ma.$N);this.yb.BO();d||f||this.yb.qa.xj.jW(!1);this.yb.qa.vg.forEach(function(a){var A5k;A5k=2;while(A5k!==1){switch(A5k){case 2:a.Ig=!1;A5k=1;break;case 4:a.Ig=-4;A5k=9;break;A5k=1;break;}}});n5k=6;break;case 2:a=this;d=this.yb.ja.w7();n5k=4;break;case 6:[b.L.VIDEO,b.L.AUDIO].forEach(function(b){var i5k;i5k=2;while(i5k!==1){switch(i5k){case 2:(b=a.yb.ef[b])&&b.pause();i5k=1;break;}}});this.yb.emit(w6E);n5k=13;break;}}};a.prototype.suspend=function(){var O5k;O5k=2;while(O5k!==1){switch(O5k){case 2:this.T0=!0;O5k=1;break;case 4:this.T0=-3;O5k=9;break;O5k=1;break;}}};a.prototype.resume=function(){var T5k;T5k=2;while(T5k!==5){switch(T5k){case 2:this.T0=!1;this.yb.Vh.th();T5k=5;break;}}};Q5k=3;break;case 9:a.prototype.flush=function(){var C5k,l5k,a,d,c,g,h,u,i6E,L6E,j6E,c6E,g6E,D6E,W6E,N6E,I6E,E6E,Y6E;C5k=2;while(C5k!==26){i6E="en";i6E+="dpl";i6E+="a";i6E+="y";L6E="l";L6E+="o";L6E+="gda";L6E+="t";L6E+="a";j6E="t";j6E+="hr";j6E+="oughpu";j6E+="t-sw";c6E="th";c6E+="ro";c6E+="ughput-";c6E+="s";c6E+="w";g6E="t";g6E+="h";g6E+="roug";g6E+="h";g6E+="put-sw";D6E="thro";D6E+="ug";D6E+="hpu";D6E+="t-sw";W6E="e";W6E+="ndpla";W6E+="y";N6E="l";N6E+="ogd";N6E+="a";N6E+="t";N6E+="a";switch(C5k){case 10:for(var q in u){I6E="n";I6E+="e";E6E="n";E6E+="e";Y6E="n";Y6E+="e";u.hasOwnProperty(q)&&(c[Y6E+q]=Number(u[q]).toFixed(6),h[E6E+q]=1*c[I6E+q]);}C5k=20;break;case 16:this.yb.Va.yla();C5k=15;break;case 12:d=d.KYa;C5k=11;break;case 4:C5k=d?3:16;break;case 27:try{l5k=2;while(l5k!==1){switch(l5k){case 2:this.yb.u4(b.Ma.$N);l5k=1;break;}}}catch(A){var t6E;t6E="Hindsight";t6E+=": Error evaluating Q";t6E+="oE at stopping: ";t8ii.R6E(0);this.yb.Va.rq(t8ii.v9E(A,t6E));}C5k=26;break;case 15:C5k=this.yb.uo?27:26;break;case 20:d&&d.length&&(c.activeRequests=JSON.stringify(d));this.yb.hf.Oa.QC(b.L.VIDEO)&&(c.enableHudson=!0);Object.keys(c).length&&(c={type:N6E,target:W6E,fields:c},f.na(this.yb,c.type,c));C5k=17;break;case 2:a=this.yb.G;d=this.yb.kb.bf;C5k=4;break;case 11:C5k=u?10:20;break;case 3:c={};g=d.get(!0);h={};g&&g.avtp&&g.avtp.Fa&&(c.avtp=g.avtp.Fa,c.dltm=g.avtp.T3,h.avtp=c.avtp);g&&g.cdnavtp&&(c.cdnavtp2=g.cdnavtp,c.activecdnavtp=g.activecdnavtp);d.flush();u=d.mab();C5k=12;break;case 17:a.RI&&(g&&g[D6E]&&g[g6E].Fa&&this.yb.pt.YYa({avtp:g[c6E].Fa,variance:g[j6E].eh}),this.yb.pt.TYa(h,g.avtp.T3),a=this.yb.pt.R$a(),g=this.yb.pt.Vbb(),a&&(a.n=g,a={type:L6E,target:i6E,fields:{ibef:a}},f.na(this.yb,a.type,a),this.yb.pt.save()));C5k=16;break;}}};a.prototype.Ae=function(){var Y5k;Y5k=2;while(Y5k!==1){switch(Y5k){case 4:return this.u0&&this.yb.qa.cva;break;Y5k=1;break;case 2:return this.u0||this.yb.qa.cva;break;}}};return a;break;case 3:a.prototype.close=function(){var E5k,a,b,q6E,P6E,C6E;E5k=2;while(E5k!==17){q6E="e";q6E+="nd";q6E+="pl";q6E+="a";q6E+="y";P6E="l";P6E+="o";P6E+="g";P6E+="dat";P6E+="a";C6E="c";C6E+="l";C6E+="o";C6E+="s";C6E+="e";switch(E5k){case 7:this.yb.MP.ps();E5k=6;break;case 2:a=this.yb.G;this.u0=!0;this.stop();this.yb.emit(C6E);this.yb.Jx=!1;E5k=8;break;case 6:a=this.yb.MP.Bg([.25,.5,.75,.9,.95,.99]),b=0;E5k=14;break;case 8:E5k=a.HR?7:20;break;case 10:f.na(this.yb,a.type,a);E5k=20;break;case 14:E5k=b<a.length?13:11;break;case 12:b++;E5k=14;break;case 13:a[b]=a[b]?a[b].toFixed(1):0;E5k=12;break;case 20:this.yb.kb.Ug&&this.yb.kb.Ug.EH(!0,this.yb.Bl.sessionId,!0);this.yb.Va.aya();this.yb.iob();E5k=17;break;case 11:a={type:P6E,target:q6E,fields:{bridgestat:a}};E5k=10;break;}}};Q5k=9;break;}}}();c.OLa=g;},function(g,c,a){var b,f,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(6);f=a(11);h=a(5);g=function(){var A6E;A6E=2;while(A6E!==10){switch(A6E){case 3:a.prototype.Eja=function(a,b){var k6E,d,f,c,g;k6E=2;while(k6E!==8){switch(k6E){case 2:d=a.O;f=this.wa.bb.Cb[d];c=f.Fo;g=f.Iv;c&&g&&(f=f.ik)&&(this.wa.ja.bm()||this.wa.Od.LYa(d,f,c.P,g.P,a.vua.P,b));k6E=8;break;}}};a.prototype.tka=function(a,b){var G6E,d,c,g,h,k,C1u;G6E=2;while(G6E!==11){C1u="St";C1u+="ill ";C1u+="in buffering state while pipeli";C1u+="ne's are don";C1u+="e";switch(G6E){case 8:d.x9||this.wa.qa.hjb(a,d,this.wa.Ak&&0===a.ba);G6E=7;break;case 4:g=a.Xa[f.L.AUDIO];h=!g||g.Ig;k=!c||c.Ig;G6E=8;break;case 2:d=a.xa;c=a.Xa[f.L.VIDEO];G6E=4;break;case 7:G6E=!k||!h?6:13;break;case 6:G6E=(this.wa.jg&&this.uka(a,c,g),this.wa.Sh&&this.uka(a,g,c),h=!g||g.Ig,k=!c||c.Ig,!k||!h)?14:13;break;case 13:this.wa.ja.bm()&&(this.K.warn(C1u),this.wa.fu());b||d.$E||this.wa.Ak||!a.i1a()||((b=this.wa.ja.bm())&&this.wa.G.A3&&(this.wa.pH(),b=!1),a.hS||this.wa.qa.wdb(a,b),a.JH(),c.dua&&g.dua&&(c=Object.keys(a.children),this.wa.G.CR&&1===c.length&&!a.children[c[0]].active&&this.wa.qa.ywa(a,c[0]),this.WTa(a,d)));G6E=11;break;case 14:return;break;}}};a.prototype.WTa=function(a,f){var B6E,d,c,g,k,p,q,l,n,b1u;B6E=2;while(B6E!==22){b1u="No subbr";b1u+="an";b1u+="ch c";b1u+="andidates to drive";switch(B6E){case 4:k=a.rB.Bj;B6E=3;break;case 9:B6E=!d?8:25;break;case 14:0===q.length?q=p:2<q.length&&(q.sort(function(a,b){var h6E;h6E=2;while(h6E!==1){switch(h6E){case 4:return b.weight*a.weight;break;h6E=1;break;case 2:return b.weight-a.weight;break;}}}),q.length=2);B6E=13;break;case 13:B6E=1<q.length?12:19;break;case 12:d=q.reduce(function(a,b){var e6E,X6E;e6E=2;while(e6E!==4){switch(e6E){case 2:b.Bj=b.Rb.Bj;b.rxa=Math.min(b.Bj[0],b.Bj[1]);t8ii.w1u(0);X6E=t8ii.V1u(20,20);return[a[0]+b.weight,a[X6E]+b.rxa];break;}}},[0,0]);l=d[0];n=d[1];B6E=20;break;case 5:B6E=this.wa.kb.Edb&&a.rB&&a.u_?4:9;break;case 2:g=this.wa.G;B6E=5;break;case 20:0!==l&&0!==n?(b.dd(q,function(a){var K6E;K6E=2;while(K6E!==4){switch(K6E){case 2:a.vvb=a.weight/l;a.i0a=a.rxa/n;a.aEa=a.i0a-a.vvb;K6E=4;break;}}}),q.sort(function(a,b){var H6E;H6E=2;while(H6E!==1){switch(H6E){case 2:return a.aEa-b.aEa;break;case 4:return a.aEa+b.aEa;break;H6E=1;break;}}})):q.sort(function(a,b){var T6E;T6E=2;while(T6E!==4){switch(T6E){case 2:a=Math.min.apply(null,a.Rb.Bj);b=Math.min.apply(null,b.Rb.Bj);t8ii.w1u(1);return t8ii.t1u(b,a);break;}}});B6E=19;break;case 19:B6E=0===q.length?18:16;break;case 3:Math.min(k[0]-a.u_[0],k[1]-a.u_[1])>=g.r1a?a.rB=void 0:(d=a.rB,c=f.mj[d.xa.id].weight);B6E=9;break;case 8:p=[];q=[];b.dd(a.children,function(a,b){var b6E;b6E=2;while(b6E!==5){switch(b6E){case 2:b=f.mj[b].weight;0!==b&&(b={weight:b,Rb:a},a.MQ(g.ai,!0)||q.push(b),p.push(b));b6E=5;break;}}});B6E=14;break;case 16:d=q[0].Rb;c=q[0].weight;a.rB=d;B6E=26;break;case 26:a.u_=d.Bj;B6E=25;break;case 18:this.K.warn(b1u);return;break;case 25:d.Xc||(d.Xc={jT:h.time.da(),Mz:0});d.Xc.weight=c;this.tka(d,!0);B6E=22;break;}}};A6E=7;break;case 2:a.prototype.BO=function(){var l6E;l6E=2;while(l6E!==1){switch(l6E){case 2:this.tx&&(clearTimeout(this.tx),this.tx=void 0);l6E=1;break;}}};a.prototype.vka=function(){var Q6E,a,b,c,r1u;Q6E=2;while(Q6E!==11){r1u="fi";r1u+="rstD";r1u+="riveStreaming";switch(Q6E){case 5:void 0===this.wa.UTa&&(this.wa.UTa=!0,this.wa.Va.Er(r1u));a=this.wa.qa.vg;b=a[f.L.AUDIO];a=a[f.L.VIDEO];c=!a||a.Ig;(!b||b.Ig)&&c&&this.wa.FB&&this.wa.qa.I1a(this.wa.Be,a?a.ha:b.ha);a=!a||a.br;Q6E=14;break;case 2:Q6E=1;break;case 14:b&&!b.br||!a||this.wa.FB||(this.wa.kb.Ug&&this.wa.kb.Ug.EH(!0,this.wa.Bl.sessionId),this.wa.Va.aya());this.tka(this.wa.qa.ug);this.wa.ja.bm()||this.wa.te.Vgb();Q6E=11;break;case 1:Q6E=!this.wa.Mv.T0&&!this.wa.Ae()?5:11;break;}}};a.prototype.LG=function(a){var u6E;u6E=2;while(u6E!==1){switch(u6E){case 2:return this.wa.Ae()||this.wa.ja.w7()||this.wa.ja.$e()||this.wa.bb.Cb[a.O].tF||this.wa.qO?!1:!0;break;}}};a.prototype.th=function(){var d6E,a,b;d6E=2;while(d6E!==3){switch(d6E){case 2:a=this;b=this.wa.G;!this.wa.Qla||this.wa.yP||this.wa.Jx||(this.wa.yP=setTimeout(function(){var x6E;x6E=2;while(x6E!==4){switch(x6E){case 5:a.vka();x6E=4;break;case 2:clearTimeout(a.wa.yP);a.wa.yP=void 0;x6E=5;break;case 7:a.vka();x6E=6;break;x6E=4;break;}}},b.b$),b.av&&this.wa.jg&&(this.tx||(this.tx=setTimeout(function(){var V6E,b;V6E=2;while(V6E!==9){switch(V6E){case 2:clearTimeout(a.tx);a.tx=void 0;b=a.wa.qa.ug.Sg(f.L.VIDEO);b&&a.Eja(b);V6E=9;break;}}},b.MYa))));d6E=3;break;}}};A6E=3;break;case 7:a.prototype.uka=function(a,c,g){var O6E,d,k,m,F1u;O6E=2;while(O6E!==33){F1u="driv";F1u+="ePipeline, delaying audio until video actualSt";F1u+="artPts deter";F1u+="mined";switch(O6E){case 9:O6E=m.cl&&!b.R(m.cl.Mi)?8:33;break;case 34:g=c.$b[g];O6E=25;break;case 21:return;break;case 27:O6E=this.Xja(c,g).IM?26:25;break;case 14:this.wa.Ak&&b.R(m.ha)&&b.R(a.ha)||(c.Ig||this.wa.pma(c),this.wa.Be<this.wa.sb.length-1&&this.wa.UP(this.wa.Be+1));O6E=33;break;case 35:g=g.Rf;O6E=34;break;case 6:O6E=(b.R(c.bi)&&(c.bi=c.yg?c.yg.index:this.wa.jc(a.ba).WR(k,c.ab)),c.ck&&c.bi>c.ck.index)?14:13;break;case 22:O6E=!g?21:35;break;case 13:O6E=this.LG(c)&&!(d.Zqa&&!this.wa.ja.bm()&&(m=this.wa.kb.bf)&&(k=m.Ibb(),(m=m.get())&&m.va&&k&&!1===k.S0a(m.va.Fa)))?12:33;break;case 23:g=this.hVa(c,g);O6E=22;break;case 4:O6E=!c.Ig&&this.wa.bb.Cb[k].ik&&(void 0===c.vq||(c.qt(c.vq),void 0===c.vq))?3:33;break;case 7:c.Ha(F1u);O6E=33;break;case 2:d=this.wa.G;k=c.O;O6E=4;break;case 26:return;break;case 20:c.O7=h.time.da();g=this.wa.bb.HS(c);g=g.Rf;O6E=17;break;case 10:O6E=this.Yja(c,g)?20:23;break;case 15:g=c.$b[g];O6E=27;break;case 25:O6E=(d=this.wa.vUa(c,g))?24:33;break;case 8:O6E=d.Gn&&k===f.L.AUDIO&&b.R(this.wa.bb.Cb[f.L.VIDEO].Jk)?7:6;break;case 11:c.hub(this.wa.vEa()?d.Rhb:d.Qhb);O6E=33;break;case 12:O6E=d.A7a&&!this.wa.ja.bm()&&0>=c.dz?11:10;break;case 24:c.rfb=g.P,c.gVa(g,d),a.Xc&&++a.Xc.Mz;O6E=33;break;case 17:O6E=b.R(g)?16:15;break;case 3:m=this.wa.jc(this.wa.Be);O6E=9;break;case 16:return;break;}}};a.prototype.hVa=function(a,f){var y6E,d,c,g;y6E=2;while(y6E!==12){switch(y6E){case 5:y6E=!(!d.w1&&!d.Rr||a.O7+d.h1>h.time.da())?4:12;break;case 4:a.O7=h.time.da();d=this.wa.bb.HS(a);c=d.Rf;y6E=8;break;case 2:d=this.wa.G;y6E=5;break;case 14:y6E=g&&g.$&&(c=this.Xja(a,c),!c.IM&&c.Hl&&this.Yja(a,f))?13:12;break;case 8:y6E=!b.R(c)?7:12;break;case 13:return d;break;case 7:c=a.$b[c];g=this.wa.te.Vk(a.O,c.za);y6E=14;break;}}};a.prototype.Xja=function(a,b){var f6E,f,c;function d(b){var J6E;J6E=2;while(J6E!==1){switch(J6E){case 2:0!==b.length&&(b=b[0],b.Oc<a.ab&&(b=b.Oc,a.Tob(b)),f=!0);J6E=1;break;}}}f6E=2;while(f6E!==9){switch(f6E){case 4:c=this.wa.bb.Cb[a.O];return this.wa.Qla&&b.Ub&&c.Nva&&b.Ub!==c.Nva&&(0<a.Za.dw||0<a.Za.fp)?{IM:!0,Hl:f}:{IM:!1,Hl:f};break;case 2:f=!1;this.wa.G.Rr&&a.Za.Fqb(this.wa.Be,b.P,d);f6E=4;break;}}};a.prototype.Yja=function(a,c){var m6E,d,g,h,k,p,q,l,n,M,P1u,N1u,z1u,f1u;m6E=2;while(m6E!==44){P1u=" ";P1u+=">";P1u+="=";P1u+=" ";N1u="No ";N1u+="vacancy, sta";N1u+="lling due to max fra";N1u+="meCou";N1u+="nt:";z1u="fl";z1u+="o";z1u+="o";z1u+="red t";z1u+="o 0";f1u="n";f1u+="egative sch";f1u+="eduledB";f1u+="ufferL";f1u+="evel:";switch(m6E){case 15:return!1;break;case 12:m6E=d.ql&&a.Pz>=a.kz?11:10;break;case 34:p=this.wa.qa.ltb();m6E=33;break;case 27:m6E=c&&(p=a.ab-n,this.wa.zg(c.O)&&!c.Ig&&p>=d.L8&&q>d.ai)?26:21;break;case 31:m6E=(k=this.wa.ja.bm())?30:28;break;case 29:return!1;break;case 26:m6E=this.wa.kb.Web?25:24;break;case 6:q=a.ab+h.Rc-q;0>q&&(a.Ha(f1u,q,z1u),q=0);n=c?c.ab:0;m6E=12;break;case 35:return!1;break;case 10:h=a.Za.Qya;m6E=20;break;case 18:M=this.wa.hf;M=this.wa.ja.xv(M.Oa.M)||M.ns;m6E=16;break;case 32:return!1;break;case 30:m6E=(h=1,a.e2<d.Sv&&(h=d.Sv),a.Za.dw>=h)?29:28;break;case 24:p=c?d.Jub?c.h0a:c.g0a:void 0;m6E=23;break;case 2:d=this.wa.G;g=a.O;h=a.Rb;k=this.wa.jc(h.ba);p=a.Ce;m6E=8;break;case 11:return a.Ha(N1u,a.Pz+P1u+a.kz),!1;break;case 28:return d.n4&&a.Za.dw>=d.uhb||!k&&0<d.nq&&g===f.L.VIDEO&&a.zt>d.nq||0<d.Rs&&!k&&a.zt+(c?c.zt:0)>d.Rs||void 0!==this.Pja&&a.Ce>this.Pja||g===f.L.VIDEO&&this.wa.Ak&&a.Ce>d.G8&&(c=this.wa.kb.bf.get(!1),c.Gc&&c.va&&c.va.Fa*a.gF>d.F8)?!1:!0;break;case 22:return!1;break;case 21:m6E=d.Rr&&a.Za.fp>=d.N8||this.BUa(g)>=d.bz?35:34;break;case 33:m6E=!b.R(d.lq)&&p>=d.lq||a.gF+h>=Math.max(d.WT,this.wa.kb.lCa+d.E9*k.Oa.phb[g])?32:31;break;case 23:m6E=void 0===p||p<d.ehb?22:21;break;case 8:q=this.wa.ja.lf();l=this.wa.ja.gd();m6E=6;break;case 16:m6E=l===f.Ma.ad&&p>d.fhb&&!this.wa.Ak&&!this.wa.v_&&!M||p&&h>Math.max(p*d.I8/100,d.c9)?15:27;break;case 20:m6E=h>=d.Tv?19:18;break;case 19:return!1;break;case 25:return!1;break;}}};A6E=12;break;case 12:a.prototype.BUa=function(a){var F6E;F6E=2;while(F6E!==1){switch(F6E){case 2:return this.wa.qa.foa.reduce(function(b,d){var r6E;r6E=2;while(r6E!==1){switch(r6E){case 2:return b+d.Hbb(a);break;case 4:return b*d.Hbb(a);break;r6E=1;break;}}},0);break;}}};return a;break;}}function a(a,b){var n6E,e1u;n6E=2;while(n6E!==3){e1u="1SI";e1u+="YbZrNJCp";e1u+="9";switch(n6E){case 2:this.wa=a;this.K=b;e1u;this.Pja=this.tx=void 0;n6E=3;break;}}}}();c.TIa=g;},function(g,c,a){var b,f,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(6);f=a(364);h=a(11);g=function(){var d1u;d1u=2;while(d1u!==8){switch(d1u){case 9:return a;break;case 5:a.prototype.QUa=function(){var m1u;m1u=2;while(m1u!==1){switch(m1u){case 4:this.Dx=6;m1u=8;break;m1u=1;break;case 2:this.Dx=0;m1u=1;break;}}};a.prototype.ema=function(a){var B1u,b,d,c,g,h,p,q,l;B1u=2;while(B1u!==11){switch(B1u){case 2:b=this;d=a.O;c=this.We.bb.Cb[d];g=c.ik;B1u=9;break;case 8:h=[];p=this.We.te.pv(d);for(q in p){l=p[q];l&&!l.$&&l.gi===g&&(this.We.te.mqa(d,q),h.push({stream:l.stream,offset:l.offset,aa:l.aa,jy:l.jy,ba:l.ba,Ds:l.Ds,Ls:l.Ls}));}B1u=14;break;case 9:B1u=g?8:11;break;case 14:this.STa(a);c.ik=f.Ht.Av.ZQ(d,this.We.M,!0,this.We.fq,this.We.Bl,this.We.G);h.forEach(function(d){var R1u;R1u=2;while(R1u!==1){switch(R1u){case 2:b.We.te.qI(a,b.We.M,d.stream,d,d.stream.Oa.ba);R1u=1;break;}}});B1u=11;break;}}};a.prototype.STa=function(a){var h1u,b;h1u=2;while(h1u!==6){switch(h1u){case 2:b=a.O;b===h.L.AUDIO&&(a.AE=!0,this.We.Od.NE(null));h1u=4;break;case 4:a=this.We.bb.Cb[b];b=a.ik;b.po||--this.Dx;f.Ht.Av.N3(b);h1u=7;break;case 7:a.ik=void 0;h1u=6;break;}}};d1u=9;break;case 2:a.prototype.HTa=function(a,b){var E1u,d,c,M1u;E1u=2;while(E1u!==6){M1u="crea";M1u+="t";M1u+="eDlTra";M1u+="cksSt";M1u+="art";switch(E1u){case 2:d=this;c=this.We.G;0===this.Dx&&this.We.Va.Er(M1u);this.Dx+=a.length;a=a.map(function(a){var Q1u,g,q1u,l1u,G1u,o1u;Q1u=2;while(Q1u!==7){q1u="tr";q1u+="ansp";q1u+="or";q1u+="trep";q1u+="ort";l1u="e";l1u+="r";l1u+="r";l1u+="or";G1u="networkfa";G1u+="il";G1u+="i";G1u+="ng";o1u="c";o1u+="r";o1u+="ea";o1u+="ted";switch(Q1u){case 2:g=f.Ht.Av.ZQ(a,b,!0,d.We.fq,d.We.Bl,c);Q1u=5;break;case 5:g.listeners.on(g,o1u,function(){var Y1u,W1u;Y1u=2;while(Y1u!==5){W1u="crea";W1u+="teDl";W1u+="TracksE";W1u+="nd";switch(Y1u){case 1:0===d.Dx&&d.We.Va.Er(W1u);Y1u=5;break;case 2:--d.Dx;Y1u=1;break;}}});g.listeners.on(g,G1u,function(){var T1u,c1u;T1u=2;while(T1u!==5){c1u="reportNetwork";c1u+="Failing";c1u+=": ";switch(T1u){case 2:c.kf&&d.We.Qh(c1u+g);T1u=1;break;case 1:g.E4&&(d.We.hf.WI.im(g.wra,void 0,g.Xh,g.sj),d.We.a1());T1u=5;break;}}});g.listeners.on(g,l1u,function(){var J1u,p1u,g1u,U1u;J1u=2;while(J1u!==5){p1u="NFErr_MC_Streaming";p1u+="Fai";p1u+="lure";g1u="DownloadT";g1u+="ra";g1u+="ck fat";g1u+="al error";U1u="Dow";U1u+="nloa";U1u+="dTrack";U1u+=" fatal e";U1u+="rror";switch(J1u){case 2:c.kf&&d.We.Qh(U1u);d.We.zi(g1u,void 0,p1u,g.Xh,0,g.sj);J1u=5;break;}}});g.on(q1u,function(a){var s1u,y1u;s1u=2;while(s1u!==1){y1u="tr";y1u+="ansport";y1u+="r";y1u+="epor";y1u+="t";switch(s1u){case 2:d.We.emit(y1u,a);s1u=1;break;case 4:d.We.emit("",a);s1u=6;break;s1u=1;break;}}});Q1u=8;break;case 8:return g;break;}}});E1u=8;break;case 8:f.Ht.Av.Ye();return a;break;}}};a.prototype.TTa=function(){var j1u,a,c;j1u=2;while(j1u!==8){switch(j1u){case 3:this.We.UG&&(c.push(this.We.UG),this.We.UG=void 0);c.forEach(function(b){var K1u;K1u=2;while(K1u!==5){switch(K1u){case 2:b.po||--a.Dx;f.Ht.Av.N3(b);K1u=5;break;}}});j1u=8;break;case 2:a=this;c=[];this.We.bb.Cb.forEach(function(a){var H1u;H1u=2;while(H1u!==5){switch(H1u){case 2:b.R(a.ik)||c.push(a.ik);a.ik=void 0;H1u=5;break;}}});j1u=3;break;}}};d1u=5;break;}}function a(a,b){var I1u,O1u;I1u=2;while(I1u!==4){O1u="1";O1u+="SIYbZr";O1u+="NJCp9";switch(I1u){case 2:this.We=a;this.K=b;I1u=5;break;case 5:O1u;I1u=4;break;case 7:"";I1u=3;break;I1u=4;break;}}}}();c.SIa=g;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(365);g=function(){var L1u;function a(a){var u1u,A1u;u1u=2;while(u1u!==5){A1u="1SIY";A1u+="bZ";A1u+="rNJCp9";switch(u1u){case 2:this.K=a;A1u;u1u=5;break;}}}L1u=2;while(L1u!==3){switch(L1u){case 2:a.prototype.TSa=function(a,f){var X1u,d,w6u,V6u,t6u,i6u,a1u,k1u,x1u,S1u,D1u;X1u=2;while(X1u!==13){w6u="using sab c";w6u+="ell >= 100, pipe";w6u+="lineE";w6u+="nabled: ";V6u="using s";V6u+="ab cell >=";V6u+=" 200, ";V6u+="pipel";V6u+="ineEnabled: ";t6u=", allowSwitchb";t6u+="ac";t6u+="k";i6u=", probeDet";i6u+="ail";i6u+="Den";i6u+="ominator:";i6u+=" ";a1u="usin";a1u+="g sab";a1u+=" cell >= 300";a1u+=", probeServerWhenErr";a1u+="or: ";k1u=", ";k1u+="allow";k1u+="S";k1u+="wi";k1u+="tchback";x1u=", ";x1u+="p";x1u+="robeDeta";x1u+="ilDenominato";x1u+="r: ";S1u="using sab cell >";S1u+="= 400, probeS";S1u+="erv";S1u+="erWhenError: ";D1u="a";D1u+="pplying manifest based s";D1u+="treamingClient";D1u+="Config";switch(X1u){case 4:X1u=d&&d.streamingClientConfig&&Object.keys(d.streamingClientConfig).length?3:9;break;case 2:f=b.mpa(f,a);d=a.steeringAdditionalInfo;X1u=4;break;case 7:return f;break;case 9:a=a.cdnResponseData;X1u=8;break;case 8:X1u=!a?7:6;break;case 3:return a=d.streamingClientConfig,this.K.trace(D1u+JSON.stringify(a)),this.Mla(f,a);break;case 6:(a=a.sessionABTestCell)&&(a=a.split("."))&&1<a.length&&(a=parseInt(a[1].replace(/cell/i,""),10),400<=a?(f.set?(f.set({probeServerWhenError:!0}),f.set({probeDetailDenominator:1}),f.set({allowSwitchback:!0})):(f.Ro=!0,f.Az=1,f.Wr=!0),this.K.trace(S1u+f.Ro+x1u+f.Az+k1u+f.Wr)):300<=a?(f.set?(f.set({probeServerWhenError:!0}),f.set({probeDetailDenominator:1}),f.set({allowSwitchback:!1})):(f.Ro=!0,f.Az=1,f.Wr=!1),this.K.trace(a1u+f.Ro+i6u+f.Az+t6u+f.Wr)):200<=a?(f.set?f.set({pipelineEnabled:!1}):f.Cn=!1,this.K.trace(V6u+f.Cn)):100<=a&&(f.set?(f.set({pipelineEnabled:!0}),f.set({maxParallelConnections:1}),f.set({maxActiveRequestsPerSession:f.ST}),f.set({maxPendingBufferLen:f.YT})):(f.Cn=!0,f.PD=1,f.lq=f.ST,f.Tv=f.YT),this.K.trace(w6u+f.Cn)));return f;break;}}};a.prototype.VSa=function(a,b){var v1u;v1u=2;while(v1u!==9){switch(v1u){case 5:this.YUa=a;for(var d in b.W2)new RegExp(d).test(a)&&(b=this.Mla(b,b.W2[d]));return b;break;case 2:v1u=!b.W2||a===this.YUa?1:5;break;case 1:return b;break;}}};a.prototype.Mla=function(a,b){var n1u,d,f,c,Z6u;n1u=2;while(n1u!==4){switch(n1u){case 2:for(f in b)if(b.hasOwnProperty(f)){Z6u="I";Z6u+="nv";Z6u+="al";Z6u+="id key";c=b[f];a.set?0===a.set((d={},d[f]=c,d))&&this.K.trace(Z6u+f):a[f]=c;}return a;break;}}};return a;break;}}}();c.kHa=g;},function(g,c,a){var f;function b(a){this.Lr=void 0;this.pVa=a;this.L0=[];this.Yd=[];}a(6);a(11);f=a(44).Ry;a(24);b.prototype.reset=function(a){this.Lr=void 0;this.L0=[];a&&(this.Yd=[]);};b.prototype.add=function(a,b){var d,c;d=b.filter(function(b,d){return f(b)||d===a.yd;});c=d.map(function(a){return a.P;});b=d.indexOf(b[a.yd]);this.Lr&&(this.Lr.length!==c.length||this.Lr.some(function(a,b){return a!==c[b];}))&&(d=this.Nsa())&&(this.Yd.push(d),this.reset(!1));void 0===this.Lr&&(this.Lr=c);this.L0.push([b,a.ADa,a.ab,a.k0a,a.koa,a.imb,a.Ejb,a.Ulb,a.Fp,a.bn,a.Jsb-a.ADa]);};b.prototype.Y7a=function(){for(var a=this.L0,b=[],d=[],f=0;f<a.length;f++){for(var c=a[f],g=[],h=0;h<c.length;h++)g.push(c[h]-(d[h]||0));b.push(g);d=c;}return b;};b.prototype.Nsa=function(){var a;a=this.Y7a();if(0!==a.length)return{dltype:this.pVa,bitrates:this.Lr,seltrace:a};};b.prototype.get=function(){var a,b;a=this.Nsa();b=this.Yd;a&&b.push(a);if(0!==b.length)return b;};g.T=b;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(11);f=a(685);g=function(){function a(){this.JP=[];this.JP[b.L.VIDEO]=new f(b.L.VIDEO);this.JP[b.L.AUDIO]=new f(b.L.AUDIO);}a.prototype.iZa=function(a,b,f){this.JP[a].add(b,f);};a.prototype.$bb=function(){var a;a=[];this.JP.forEach(function(b){var d;if(b){d=b.get();d&&0<d.length&&d.forEach(function(b){a.push(b);});b.reset(!0);}});return a;};a.prototype.X8a=function(a){var b;b=this.$bb();a.strmsel=b;return 0<b.length;};return a;}();c.tQa=g;},function(g,c,a){var b,f,h,p,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(352);f=a(200);h=a(11);p=a(60);g=function(){function a(a,b){this.G=a;this.K=b;this.n0=this.h0=this.cu=p.gc.Ff;this.gP=void 0;this.Gk=this.K.trace.bind(this.K);this.bya=new d(a,b);}a.prototype.saa=function(a,b,d,f,c,g,k,q,l){var m,t,u,y,A,n,x;m=!1;a=a===h.L.AUDIO&&!!b.Ta&&this.pXa(b.stream);t=p.gc.Ff;u=b.Nf;if(a){y=b.stream.Ia;A=this.wUa(b.profile,y);n=b.Aw+b.hm;if(b.hq)b=new p.gc(b.ha-n,1E3),m=this.cu.add(b).t6(A);else if(void 0!==d){x=b.h$;new p.gc(n-b.U,1E3);n=this.cu.add(d.me(x));if(x.add(y).Gfb(d)||n.t6(A))m=!0,x.add(y),n=n.me(y);n.Vxa(this.cu)&&n.lessThan(p.gc.GK.l9(-8))?(m=a=!1,this.bya.reset(),this.cu=p.gc.Ff,k=f.add(c),q(k),u.bd("Unexpected seamless audio sync "+n.toString()+" at content pts "+b.Oc+" in stream "+b.stream.za+" following "+g.Ve)):(g=f.add(n).add(c),k=this.bya.round(b,k,g,m),q(k),n.Vxa(this.cu)&&(this.h0=p.gc.max(this.h0,n),this.n0=p.gc.min(this.n0,n),l(this.h0,this.n0),t=n.me(this.cu),this.cu=n));}}return{saa:a,V6a:m,o_a:t};};a.prototype.pXa=function(a){void 0===this.oH&&(this.oH=f.kna(this.G,a));return this.oH;};a.prototype.wUa=function(a,b){void 0===this.gP&&("object"===typeof this.G.taa&&this.G.taa[a]?(a=new p.gc(this.G.taa[a],1E3).qm(b.ga).add(new p.gc(1,b.ga)),this.gP=p.gc.min(b,a)):this.gP=b);return this.gP;};return a;}();c.aRa=g;d=function(){function a(a,b){this.G=a;this.K=b;this.LP=0;}a.prototype.round=function(a,b,d,f){this.G.Gn||(a=this.nTa(a,d,f),b=b.me(a),b.t6(p.gc.GK.l9(2))?(d=d.me(p.gc.GK),++this.LP):this.LP&&b.lessThan(p.gc.GK)&&(d=d.add(p.gc.GK),--this.LP));return d;};a.prototype.reset=function(){this.LP=0;};a.prototype.nTa=function(a,d,f){var c;c=a.n2a;this.G.io&&a.stream.yj&&(c=c.me(a.stream.yj));f&&(c=c.add(a.stream.Ia));return b.Bxa(c).add(b.Bxa(d));};return a;}();},function(g,c,a){var b,f,h,p,d,k,m;Object.defineProperty(c,"__esModule",{value:!0});b=a(6);f=a(11);h=a(5);p=a(44).Ry;d=a(24).ND;k=a(355);g=function(){function a(a,b,d,c){var g;g=this;this.X=a;this.K=b;this.Od=d;this.G=c;this.SB=[];[f.L.AUDIO,f.L.VIDEO].forEach(function(a){g.X.zg(a)&&(g.SB[a]=new m(g.K,a));});this.iu=void 0;}Object.defineProperties(a.prototype,{Cb:{get:function(){return this.SB;},enumerable:!0,configurable:!0}});a.prototype.MD=function(a){var d,c,g,k,m,t,p,u,q,l;d=this.G;c=this.X;g=a.O;k=c.$j()[g];m=a.Rb.ba;t=c.jc(m);p=this.SB[g];u=g===f.L.VIDEO?d.L1:d.wca;q=c.ja.gd();l=c.ja.lf();d=a.Za.Cta();k={Pu:k,U:d.Ic,tf:l,ab:d.Vlb||l,Sk:a.ay||l,rm:d.rm,ew:d.ew,J9a:d.$.length,$:[]};t={state:q,Py:c.ja.Py()&&!c.vEa(),vw:a.bi,buffer:k,$r:t.Oa.Una[g],O6a:u,Ngb:!!c.k8,yGb:c.gUa,ER:!!c.lw,Fp:c.kb.bf&&c.kb.bf.Fp};void 0===t.vw&&(t.vw=c.jc(m).WR(g,k.ab));k.$=d.$;t.state!==f.Ma.ad||0!==k.$.length||b.pa(a.WE.yfb)||(g=c=void 0,a.DV&&(g=h.time.da()-a.DV.time,c=a.DV.reason),a.bd("makePlayerInfo, PLAYING with 0 fragments,","lastStreamAppended:",p.Fo,"lastStreamSelected:",p.Li,"last pipeline.reset:",c,"delta:",g));b.pa(k.U)?a.seeking&&k.tf!=k.U&&(k.tf=k.U):(k.U=0,k.ab=0);this.Od.m1a(t);this.Od.eZa(t);return t;};a.prototype.l1a=function(a,b,d){var m,t;a=this.SB[a];for(var f=a.xn,c="manifest",g=this.X,h=0,k=b.length-1;0<=k;k--){m=b[k];t=m.P;if(p(m)){h=Math.max(h,t);break;}else!m.inRange&&m.HC&&Array.isArray(m.HC)?c=m.HC.join("|"):this.G.qW&&!m.gv?c="bc":m.mf?m.Tg&&(c="hf"):c="av";}if(void 0===f||h!==f){a.xn=h;if(g.uo)try{this.iu&&this.Qcb();}catch(D){g.Va.rq("Hindsight: Error when handling maxbitrate chagned: "+D);}g.Va.ojb(f,h,c,d);}};a.prototype.Tbb=function(a){return this.HS(a).Rf;};a.prototype.HS=function(a){var d,c,g,h,k,m,t,p,q,u,l,n,r;d=this.G;c=this.X;g=a.O;h=g==f.L.VIDEO;k=0;t=this.SB[g];if(!t.ik)return{Rf:void 0};p=this.MD(a);q=t.Li;u=a.Rb.ba;l=c.jc(u);n=l.Vp(g).$b;r=q?q.index:t.eJ;if(q&&(k=q.P,q.IQ)){r=c.Fka(n,k);m=n[r];if(q.P!==m.P||!q.IQ.replace&&g===f.L.VIDEO)p.state=f.Ma.Nh;q.index=r;q.P=m.P;}if(!l.Go.IW(p,u,n))return a.bd("location selector did not find any urls"),{Rf:void 0};if(!h){m=d.eM;if(!(m&&0<m.length||a.AE)&&r&&n[r]&&q&&q.location===n[r].location)return{Rf:r,lI:!0};a.AE&&(p.state=f.Ma.Nh,r=void 0);}if(h&&d.av&&d.r6a&&!t.ik.bk()&&a.Ce>d.xQ)return{Rf:a.sdb,lI:!0};this.Od.woa(p.vw,n);p=a.WE.Eaa(p,n,void 0,this.Od.ybb(g),t.ik.config.Nf,d.rca&&0===c.Ela?d.az:d.K8,l.WI);if(!p)return a.bd("stream selector did not find a stream"),{Rf:void 0};c.lw&&c.lw.iZa(a.O,p,n);h&&this.l1a(g,n,a.ab);g=p.yd;n=n[g].P;q=a.Ce;p.S4a&&q<d.b2&&n<k&&c.Va.gWa(k,n);g!=r&&(h&&d.av&&c.Vh.Eja(a,n),h||this.Od.NE(n));b.pa(t.eJ)||(t.eJ=g);a.Mp||(p.Mp?(a.Mp=!0,t.goa=p.reason):(a.gK=p.gK,a.Rz=p.Rz,a.Qi=p.Qi));c.fu();h&&c.te.lqb(p.ws);return{Rf:g,lI:p.lI};};a.prototype.J4=function(a,b){var d,c,g,h,k;if(this.iu){d=this;c=this.iu;g=this.X;h=g.ja.lf();k=[];b&&(h=b.ha);g.qa.vg.forEach(function(b){var c,m;c=d.MD(b);m=b.O;c.O=m;c.headers=g.te.pv(m);c.tf=h;a===f.Ma.Yt&&(c.hAa=b.Za.y1(h));k[m]=c;});c.Cra||c.py(k,a)||this.daa();return c;}};a.prototype.Qcb=function(){var a,b,d,c,g;a=this;b=this.iu;d=this.G;c=this.X;g=[];b&&(this.J4(void 0),b&&!b.aC&&this.Od.F$.t4(b));c.qa.vg.forEach(function(b){var d,f;d=a.MD(b);f=b.O;d.Ll=h.time.da();d.$b=b.$b;d.O=f;g[f]=d;});b=c.$j();b={EYa:b[f.L.AUDIO],oF:b[f.L.VIDEO],kK:d.bz};this.iu=b=new k(g,h.time.da(),void 0,c.m4,b,d.CJ);};a.prototype.daa=function(){this.iu=void 0;};a.prototype.kub=function(a){var b,d,c,g,m,t;b=this;d=a.oldValue;c=a.newValue;g=this.iu;a=this.G;m=this.X;c===f.Ma.ad&&d!==f.Ma.ad?(g&&m.K.warn("override an existing play segment!"),t=[],m.qa.vg.forEach(function(a){var d,f,c;d=b.MD(a);f=a.O;c=b.Cb[f];c.lba?(d.Ll=c.lba,c.lba=void 0):d.Ll=c.Ll;d.$b=a.$b;d.O=f;t[f]=d;}),c=m.$j(),c={EYa:c[f.L.AUDIO],oF:c[f.L.VIDEO],kK:a.bz},this.iu=g=new k(t,h.time.da(),d,m.m4,c,a.CJ)):c!==f.Ma.ad&&d===f.Ma.ad&&g&&(this.J4(c),g&&!g.aC&&this.Od.F$.t4(g),this.daa());};a.prototype.Scb=function(a){this.SB.forEach(function(b){b.Li||(b.Li={});b.Li.IQ={replace:a};b.Li.location=void 0;});};return a;}();c.sRa=g;m=function(){return function(a,b){this.O=b;this.K=d(h,a,"["+b+"]");this.bd=this.K.error.bind(this.K);this.Ha=this.K.warn.bind(this.K);this.Gk=this.K.trace.bind(this.K);this.fb=this.K.log.bind(this.K);this.ju=this.K.debug.bind(this.K);this.Vl=this.eJ=this.Ll=this.$H=this.Jk=this.I7=this.ik=void 0;this.TK=this.Qo=0;this.connected=!1;this.Q7=this.DD=this.CD=this.N7=this.Iv=this.Fo=this.Li=void 0;this.tF=!1;this.xn=this.goa=this.Co=void 0;};}();c.aDb=m;},function(g,c,a){(function(){var C6u,f,c,h,d,J9A,o9A;function b(a,b){var b6u;b6u=2;while(b6u!==7){switch(b6u){case 3:this.KD=a.lrParams;this.hhb=a.maxBwPredictionMap;b6u=8;break;case 2:this.config=a;this.Fq=b;a=a.initThroughputPredictor;this.rU=a.modelMap;b6u=3;break;case 8:this.noa=a.bwThreshold;b6u=7;break;}}}C6u=2;while(C6u!==10){J9A="1SIY";J9A+="b";J9A+="ZrNJCp9";o9A="I";o9A+="TE_A";o9A+="S";o9A+="EJS";switch(C6u){case 6:b.prototype.GH=function(a,b){var z6u,U4A;z6u=2;while(z6u!==1){U4A="a";U4A+="v";U4A+="t";U4A+="p";switch(z6u){case 2:return U4A==a?0<b?Math.log(b):null:b;break;}}};b.prototype.Zsa=function(){var N6u,a,b,f,I4A,x4A,m4A,E4A,G4A,e4A,C4A,w4A;N6u=2;while(N6u!==20){I4A="ni";I4A+="q";I4A+="r";x4A="f";x4A+="n";x4A+="s";m4A="a";m4A+="v";m4A+="tp";E4A="f";E4A+="n";E4A+="s";G4A="a";G4A+="v";G4A+="t";G4A+="p";e4A="l";e4A+="n";e4A+="s";C4A="a";C4A+="v";C4A+="tp";w4A="e";w4A+="n";w4A+="s";switch(N6u){case 3:f=this.Fq.length;b.JBa=f;b.zJb=this.Fq[f-1].get().sHb;b.Amb=this.Fq[f-1].get().t;f=this.wy();N6u=14;break;case 11:b.FHb=1;return b;break;case 2:a=new d(100);b={};[{PL:w4A,Oq:C4A},{PL:e4A,Oq:G4A},{PL:E4A,Oq:m4A},{PL:x4A,Oq:I4A}].forEach(function(d){var W0v=t8ii;var P6u,f,c,N9A,T9A,t4A,W4A,M4A,Z4A,d4A,H4A,K4A,a4A,D4A,R4A,Y4A,O4A,L4A,j4A,k4A;P6u=2;while(P6u!==17){N9A="p";N9A+="5";N9A+="0";T9A="p";T9A+="2";T9A+="5";t4A="l";t4A+="a";t4A+="s";t4A+="t";W4A="s";W4A+="t";W4A+="d";M4A="m";M4A+="e";M4A+="a";M4A+="n";Z4A="s";Z4A+="t";Z4A+="d";d4A="m";d4A+="e";d4A+="a";d4A+="n";H4A="m";H4A+="e";H4A+="a";H4A+="n";K4A="s";K4A+="t";K4A+="d";a4A="p";a4A+="5";a4A+="0";D4A="p";D4A+="2";D4A+="5";R4A="p";R4A+="7";R4A+="5";Y4A="p";Y4A+="5";Y4A+="0";O4A="n";O4A+="i";O4A+="q";O4A+="r";L4A="s";L4A+="t";L4A+="d";j4A="m";j4A+="e";j4A+="a";j4A+="n";k4A="p";k4A+="7";k4A+="5";switch(P6u){case 1:f=0;P6u=5;break;case 2:P6u=1;break;case 4:c=this.Fq[f].get()[d.PL][d.Oq];c&&a.CH(Number(c));P6u=9;break;case 9:f++;P6u=5;break;case 5:P6u=f<this.Fq.length?4:8;break;case 13:W0v.c4A(0);b[W0v.v4A(c,k4A)]=this.GH(d.Oq,a.Ml(75));W0v.V4A(0);b[W0v.p4A(c,j4A)]=this.GH(d.Oq,a.DQ());W0v.c4A(0);b[W0v.v4A(c,L4A)]=a.dI();W0v.V4A(0);b[W0v.v4A(c,O4A)]=0<b[c+Y4A]?(b[c+R4A]-b[c+D4A])/b[c+a4A]:0;W0v.c4A(0);b[W0v.v4A(c,"b")]=0<b[c+K4A]||0<b[c+H4A]?(b[c+d4A]-b[c+Z4A])/(b[c+M4A]+b[c+W4A]):0;W0v.V4A(0);b[W0v.v4A(c,t4A)]=this.GH(d.Oq,a.oe[f-1]);P6u=18;break;case 18:a.oe=[];P6u=17;break;case 8:f=a.By();c=d.PL+"-"+d.Oq+"-";W0v.V4A(0);b[W0v.p4A(c,T9A)]=this.GH(d.Oq,a.Ml(25));W0v.V4A(0);b[W0v.v4A(c,N9A)]=this.GH(d.Oq,a.Ml(50));P6u=13;break;}}},this);N6u=3;break;case 14:b.Opa=f.Opa;b.s3=f.s3;b.EKb=b.s3-b.Amb;N6u=11;break;}}};C6u=13;break;case 3:d=a(208);b.prototype.wy=function(){var r6u,a;r6u=2;while(r6u!==4){switch(r6u){case 7:return{Opa:new Date(a).getHours(),s3:a};break;r6u=4;break;case 5:return{Opa:new Date(a).getHours(),s3:a};break;case 2:a=c.time.now();r6u=5;break;}}};b.prototype.sS=function(){var F6u,a,b;F6u=2;while(F6u!==7){switch(F6u){case 2:F6u=1>this.Fq.length?1:5;break;case 1:return 0;break;case 3:a+=this.Fq[b].get().nGb.UH;F6u=9;break;case 5:a=0,b=0;F6u=4;break;case 4:F6u=b<this.Fq.length?3:8;break;case 9:b++;F6u=4;break;case 8:return a/this.Fq.length;break;}}};b.prototype.Q5=function(){var f6u,a,b,d,f,c;f6u=2;while(f6u!==14){switch(f6u){case 1:a=this.sS(),b=void 0,d=Object.keys(this.rU),f=0;f6u=5;break;case 2:f6u=1;break;case 5:f6u=f<d.length?4:7;break;case 4:c=d[f];f6u=3;break;case 3:f6u=a>=this.rU[c][0]&&a<=this.rU[c][1]?9:8;break;case 8:f++;f6u=5;break;case 9:b=c;f6u=7;break;case 7:f6u=b?6:14;break;case 6:return{v8:this.KD[b].lrWeights,t8:this.KD[b].lrMeans,u8:this.KD[b].lrStd,ghb:this.hhb[b]};break;}}};C6u=6;break;case 2:f=a(6);c=a(5);h=new c.Console(o9A);C6u=3;break;case 13:b.prototype.Ysa=function(){var e6u,b,d,c,g,r9A;e6u=2;function a(a,b){var d6u,d;d6u=2;while(d6u!==4){switch(d6u){case 2:d=Object.keys(a).map(function(b){var I6u;I6u=2;while(I6u!==1){switch(I6u){case 2:return a[b];break;case 4:return a[b];break;I6u=1;break;}}});d6u=5;break;case 5:return Object.keys(a).some(function(d){var E6u;E6u=2;while(E6u!==1){switch(E6u){case 2:return a[d][0]>a[d][1]||0>a[d][0]||0>a[d][1]||a[d][0]>b||a[d][1]>b;break;}}})||b!=[].concat.apply([],d).reduce(function(a,b){var Q6u;Q6u=2;while(Q6u!==1){switch(Q6u){case 2:return a>b?a:b;break;case 4:return a<=b?a:b;break;Q6u=1;break;}}});break;}}}while(e6u!==11){r9A="g";r9A+="etParam";r9A+="s:";switch(e6u){case 4:b=this.Q5();e6u=3;break;case 2:e6u=1;break;case 1:e6u=2>this.Fq.length||this.sS()>this.noa||0>this.sS()||a(this.rU,this.noa)?5:4;break;case 5:return 0;break;case 9:return 0;break;case 8:0&h.log(r9A,JSON.stringify(b));d=this.Zsa();c=0;g=!Object.keys(d).some(function(a){var Y6u,b9A;Y6u=2;while(Y6u!==4){b9A="n";b9A+="u";b9A+="m";b9A+="b";b9A+="er";switch(Y6u){case 2:Y6u=b.v8.hasOwnProperty(a)&&b.t8.hasOwnProperty(a)&&b.u8.hasOwnProperty(a)&&b9A==typeof d[a]?1:5;break;case 1:c+=(d[a]-b.t8[a])/b.u8[a]*b.v8[a];Y6u=4;break;case 5:return!0;break;}}});c=Math.exp(c);return 0<c&&c<=b.ghb&&g&&1<d.JBa?c:0;break;case 3:e6u=f.R(b)?9:8;break;}}};g.T=b;J9A;C6u=10;break;}}}());},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=function(){function a(a){this.rh={};this.j0=a;this.oe=[];this.Tm=!1;this.Gx=void 0;}a.prototype.CH=function(a){this.oe.length===this.j0&&this.oe.shift();Array.isArray(a)?this.oe=this.oe.concat(a):this.oe.push(a);this.Tm=!0;};a.prototype.By=function(){return this.oe.length;};a.prototype.DQ=function(){var a;a=this.oe;return 0<a.length?a.reduce(function(a,b){return a+b;},0)/this.oe.length:void 0;};a.prototype.dI=function(){var a,f;a=this.oe;f=this.DQ();if(0<a.length&&"undefined"!==typeof f)return a=a.reduce(function(a,b){return a+b*b;},0)/a.length,Math.sqrt(a-f*f);};a.prototype.Ml=function(a){var b,c,g;if(this.Tm||void 0===this.Gx)this.Gx=this.oe.slice(0).sort(function(a,b){return a-b;}),this.Tm=!1;if(void 0===this.rh[a]){b=this.Gx;c=Math.floor(a/100*(b.length-1)+1)-1;g=(a/100*(b.length-1)+1)%1;this.rh[a]=c===b.length-1?b[c]:b[c]+g*(b[c+1]-b[c]);}return this.rh[a];};return a;}();c.xZ=g;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=function(){function a(a,f,c){this.WXa=f;this.cTa=c;this.K=a;}a.prototype.p$=function(a){a=this.ieb(a,this.WXa)+this.cTa;return this.A0=isNaN(a)?NaN:this.eba(a);};a.prototype.z1a=function(a){return isNaN(this.A0)?0:this.A0>a?1:0;};a.prototype.ieb=function(a,f){var b;b=0;if(a.length!==f.length)b=NaN;else for(var c=0;c<a.length;c++)b+=a[c]*f[c];return b;};a.prototype.eba=function(a){return 1/(1+Math.exp(-a));};return a;}();c.eMa=g;},function(g,c,a){var b,f,h,p,d,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(6);h=a(5);p=a(691);d=a(690);k=function(){return function(){this.UH=new d.xZ(100);this.yU=new d.xZ(100);};}();g=function(){function a(a,b,d){var c,g,h;this.G=b;this.K=d;this.DP=a;c=this.Fx=this.mB=this.lB=0;g=0;h=0;this.DP.length>=this.G.lU&&(this.DP.forEach(function(a){!(a=a.get().A9a)||f.R(a.avtp)||f.R(a.neuhd)||(c+=a.avtp,g+=1*a.neuhd,h++);}),this.Fx=h,this.lB=c/h,this.mB=g/h);}Object.defineProperties(a.prototype,{B_a:{get:function(){return this.lB;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{C_a:{get:function(){return this.mB;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{JBa:{get:function(){return this.Fx;},enumerable:!0,configurable:!0}});a.prototype.uT=function(){return this.Fx>=this.G.lU&&this.lB>=this.G.baselineHighAndStableThreshold.bwThreshold&&this.mB<this.G.baselineHighAndStableThreshold.nethreshold;};return a;}();c.Vea=g;g=function(a){function d(b,d,f){b=a.call(this,b,d,f)||this;b.c_=[];b.V8a={};b.VCa=[];b.ss=new k();b.DP.length>=b.G.lU&&(b.Bma("avtp",b.ss.UH),b.Bma("neuhd",b.ss.yU));return b;}b.__extends(d,a);d.prototype.uT=function(){var a;this.Q5();a=new p.eMa(this.K,this.VCa,this.R_a);a.p$(this.c_);a=a.z1a(this.G.XS.AJb);return this.Kub&&1===a&&this.Fx>=this.G.lU;};d.prototype.wy=function(){var a,b,d,f;a={};b=h.time.now();d=new Date(b);f=d.getHours();a.currentMonoTime=b;a.currentTime=d.getTime();a.currentHour=f;return a;};d.prototype.Psa=function(a,b,d){a="avtp"===a?this.lB:this.mB;for(var c=b.dI(),g=0,h="skew"===d?3:4,k=0;k<b.oe.length;k++)f.R(a)||f.R(c)||(g+=Math.pow(b.oe[k]-a,h));g/=b.oe.length;return!f.R(c)&&0<c?g/Math.pow(c,h)-3*("skew"===d?0:1):NaN;};d.prototype.$sa=function(a,b,d){var f;f=0;"lte"===d?f=a.reduce(function(a,d){return d<=b?a+1:a;},0)/(1*a.length):"gte"===d&&(f=a.reduce(function(a,d){return d>=b?a+1:a;},0)/(1*a.length));return f;};d.prototype.ibb=function(a){var b,d;b=a.Ml(25);d=a.Ml(50);a=a.Ml(75);return f.R(b)||f.R(d)||f.R(a)?NaN:0<d?(a-b)/d:NaN;};d.prototype.y$a=function(a,b){a="avtp"===a?this.lB:this.mB;b=b.dI();return!f.R(b)&&!f.R(a)&&(0<b||0<a)&&0<a?(a-b)/(a+b):NaN;};d.prototype.tJ=function(a,b){a=a.Ml(b);return f.R(a)?NaN:a;};d.prototype.normalize=function(a,b,d){return!isNaN(a)&&0<d?(a-b)/d:NaN;};d.prototype.Q5=function(){var a,b,d,c,g,h,k,m,t,p,q,l;a=this;b=this.G.XS.KD.v8;d=this.G.XS.KD.t8;c=this.G.XS.KD.u8;m=[];l=0;this.Kub=!Object.keys(b).some(function(u){var y;q=NaN;if(!(b.hasOwnProperty(u)&&d.hasOwnProperty(u)&&c.hasOwnProperty(u)&&!f.R(a.ss)&&a.ss.UH&&a.ss.yU)||1>a.Fx||"number"!==typeof b[u]||"number"!==typeof d[u]||"number"!==typeof c[u])return!0;g=b[u];h=d[u];k=c[u];m=u.split("_",2);t=m[0];p=m[1];switch(t){case"avtp":y=a.ss.UH;break;case"neuhd":y=a.ss.yU;break;default:y=void 0;}if("avtp"===t||"neuhd"===t){if(y)switch(p){case"last":q=y.oe[a.Fx-1];break;case"mean":q="avtp"===t?a.lB:a.mB;break;case"niqr":q=a.ibb(y);break;case"skew":q=a.Psa(t,y,"skew");break;case"kurtosis":q=a.Psa(t,y,"kurtosis");break;case"std":q=y.dI();break;case"b":q=a.y$a(t,y);break;default:-1!==u.search("[p][1-9]?[1-9]")&&(q=a.tJ(y,Number(u.split("_p",2)[1])));}}else switch(u){case"fracAbove20Mbps":y=a.ss.UH;q=f.R(y)?NaN:a.$sa(y.oe,2E4,"gte");break;case"fracBelow20p":y=a.ss.yU;q=f.R(y)?NaN:a.$sa(y.oe,.15,"lte");break;case"hour_current":q=a.wy().currentHour;break;case"session_ct":q=a.Fx;break;case"intercept":q=g,a.R_a=q;}q=a.normalize(q,h,k);if(isNaN(q))return!0;"intercept"!==u&&(a.c_.push(q),a.VCa.push(g),a.V8a[u]=l,l+=1);});};d.prototype.Bma=function(a,b){this.DP.forEach(function(d){d=d.get().A9a;!d||"avtp"!==a&&"neuhd"!==a||f.R(d[a])||b.CH(Number(d[a]));});};return d;}(g);c.sKa=g;},function(g){function c(a,b,c){var d,f;d=[];c.forEach(function(a){d.push(a[b].aa);});c=d.filter(function(b){return b<=a;});0<c.length?(c=c[c.length-1],f=d.lastIndexOf(c)):(c=d[0],f=0);return{Ln:c,yd:f};}function a(a,b,c){b=Math.min(a.length-1,b);b=Math.max(0,b);return a[b]*c*1/8;}function b(a,b,c,d,g){var f,h,k,p,q,l;f=a.Gg;h=c+f.U;c=a.pk[f.MJ];a=a.a2;k={BM:!0,waitUntil:void 0,RJ:!1};p=c.filter(function(a){return a&&a.U<=h&&a.U+a.duration>h;})[0];if(void 0===p)return{RJ:!0};q=g-1-(p.index-1);d=f.DM+d;l=0;l=p.index<f.Hg?l+c.slice(f.ut,p.index).reduce(function(a,b){return a+b.aa;},0):l+f.DM;l=l+b.slice(f.Hg,p.index).reduce(function(a,b){return a+b.Ln;},0);d-=l;if(q>=a.kK||d>=a.oF)for(k.BM=!1,p=p.index;p<g&&(q>=a.kK||d>=a.oF);)k.waitUntil=c[p].U+c[p].duration-f.U,d=p<f.Hg?d-c[p].aa:d-b[p].Ln,--q,p+=1;return k;}g.T={xJ:function(f){var n,x,G,M,r,T,W,D,U,Q,ia,Z,ea;for(var g,h=f.Gg,d=f.Uk,k=d.Zj,m=f.pk,t=!0,u=[],l,A=k=Math.min(d.mq,k);A>=h.Hg;A--){g=f.pk[0][A].U-f.Gg.U;A<k&&(g=Math.min(u[A+1].startTime,g));d=m[0][A].aa;l=h.Fu*m[0][A].duration*1/8;a:{n=void 0;r=d+l;l=f.ap;T=h.Dn;W=l.trace;D=1*l.Nk;x=g+T-l.timestamp;G=Math.floor(1*x/D);M=0+(x-G*D)/D*a(W,G,D);if(M>=r)n=x-1*r/M*(x-G*D);else for(x=G;M<r;){--x;if(0>x){n=-1;break a;}G=a(W,x,D);if(M+G>=r){n=1*(r-M)/G*D;n=(x+1)*D-n;break;}M+=G;}n=n+l.timestamp-T;}if(0>n){t=!1;break;}u[A]={startTime:n,endTime:g,cR:g,Ln:d,yd:0};}g={Ki:t,Iq:u,cq:!1,$v:0===u.length};if(!1===g.Ki||!0===g.$v)return g;a:{h=f.Gg;k=f.Uk;m=k.Zj;t=f.pk;d=u=0;g=g.Iq;n=A=0;m=Math.min(k.mq,m);for(T=h.Hg;T<=m;T++){M=g[T];r=M.yd;l=t[r][T].duration;D=T===h.Hg?0:g[T-1].endTime;r=b(f,g,D,u,T);if(r.RJ){g={Ki:!1,cq:!0};break a;}r.BM||(D=r.waitUntil);G=M.cR;Q=f.ap;U=h.Dn;M=0;r=Q.trace;W=1*Q.Nk;x=Math.max(0,D+U-Q.timestamp);Q=G+U-Q.timestamp;if(!(D>=G)){ia=Math.max(0,Math.floor(1*x/W));Z=1*Q/W;if(ia===Math.floor(Z))M+=(Q-x)/W*a(r,ia,W);else for(Z=Math.ceil(Z),U=ia,G=Z,ia*W<x&&(U++,M+=(ia*W+W-x)/W*a(r,ia,W)),Z*W>Q&&(M+=(Q-G*W)/W*a(r,Z,W),G--),x=U;x<=G;x++)M+=a(r,x,W);}W=h.Fu*l*1/8;d+=W;r=c(M-W,T,t);M=r.Ln;r=r.yd;W=M+W;U=f.ap;G=x=0;Q=U.trace;Z=Math.max(0,D+h.Dn-U.timestamp);U=1*U.Nk;ea=ia=Math.max(0,Math.floor(1*Z/U));for(ea*U<Z&&(ia+=1,Z=ea*U+U-Z,ea=Z/U*a(Q,ea,U),x=W-G<ea?x+(W-G)/ea*1*Z:x+Z,G+=ea);G<W;)Z=a(Q,ia,U),x=W-G<Z?x+(W-G)/Z*1*U:x+U,G+=Z,ia+=1;W=x;g[T].startTime=D;g[T].endTime=D+W;g[T].Ln=M;g[T].yd=r;T<=k.Zj&&(u+=M,n+=l,A+=l*f.$b[r].P);}g={Ki:!0,cq:!1,Iq:g,z6a:0<n?1*A/n:0,W3:n,V3:u,U3:d};}return g;}};},function(g){function c(b,f){void 0===b&&(b=[]);void 0===f&&(f=a);this.data=b;this.length=this.data.length;this.compare=f;if(0<this.length)for(b=(this.length>>1)-1;0<=b;b--)this.ska(b);}function a(a,f){return a<f?-1:a>f?1:0;}c.prototype.constructor=c;c.prototype.push=function(a){this.data.push(a);this.length++;this.iYa(this.length-1);};c.prototype.pop=function(){var a,f;if(0!==this.length){a=this.data[0];f=this.data.pop();this.length--;0<this.length&&(this.data[0]=f,this.ska(0));return a;}};c.prototype.hE=function(){return this.data[0];};c.prototype.iYa=function(a){for(var b=this.data,c=this.compare,g=b[a],d,h;0<a;){d=a-1>>1;h=b[d];if(0<=c(g,h))break;b[a]=h;a=d;}b[a]=g;};c.prototype.ska=function(a){for(var b=this.data,c=this.compare,g=this.length>>1,d=b[a],h,m,t;a<g;){h=(a<<1)+1;m=b[h];t=h+1;t<this.length&&0>c(b[t],m)&&(h=t,m=b[t]);if(0<=c(m,d))break;b[a]=m;a=h;}b[a]=d;};g.T={aQa:c};},function(g,c,a){var n,K,x,G;function b(a,b,d){this.$na=this.CTa(a,b,d);}function f(){}function h(){}function p(){}function d(a){this.t1a=a;}function k(){}function m(){}function t(){}function u(){this.P3={};}function l(a){return Array.apply(0,Array(a)).map(function(a,b){return b+1;});}n=a(13).assert;c=a(194).ida;K=a(353).MRa;x=a(194).kGa;new(a(5)).Console("ASEJS_QOE_EVAL","media|asejs");G=a(151).dQa||a(151);b.prototype.constructor=b;b.prototype.CTa=function(a,b,d){n(a<b,"expect min_buffer_sec < max_buffer_sec but got "+a+" and "+b);n(0<d,"expect buffer_step_sec > 0. but got "+d);for(var f=[];a<b;a+=d)f.push(a);f[f.length-1]<b&&f.push(b);return f;};b.prototype.tv=function(a){return this.DUa(a,this.$na);};b.prototype.DUa=function(a,b){a=this.q6a(a,b);if(0===a)throw new f();if(a===b.length)throw new h();return a;};b.prototype.q6a=function(a,b){n(0<b.length,"expect bins.length > 0 but got "+b.length);if(a<b[0])return 0;if(a>=b[b.length-1])return b.length;for(var d=1;d<b.length;d++)if(b[d-1]<=a&&a<b[d])return d;n(!1,"expect not coming here in digitize()");};b.prototype.OS=function(){return l(this.$na.length-1);};f.prototype=Error();h.prototype=Error();p.prototype=Error();d.prototype.constructor=d;d.prototype.VERSION="0.5";d.prototype.KHa=-20;d.prototype.JHa=20;d.prototype.IHa=void 0;d.prototype.CHa=new c(void 0);d.prototype.EHa=0;d.prototype.DHa=1;d.prototype.NHa=!1;d.prototype.GHa=!0;d.prototype.FHa=!0;d.prototype.LHa=void 0;d.prototype.AHa=!0;d.prototype.BHa=0;d.prototype.CE=function(a){n(void 0!==a.bDa,"expect recipe.time_varying_bandwidth !== undefined");return this.lXa(this.t1a,a.bDa,void 0!==a.vxa?a.vxa:this.KHa,void 0!==a.Zwa?a.Zwa:this.JHa,void 0!==a.Ywa?a.Ywa:this.IHa,void 0!==a.Xna?a.Xna:this.CHa,void 0!==a.fra?a.fra:this.EHa,void 0!==a.ioa?a.ioa:this.DHa,void 0!==a.prb?a.prb:this.NHa,void 0!==a.Icb?a.Icb:this.GHa,void 0!==a.Yta?a.Yta:this.FHa,void 0!==a.Pza?a.Pza:this.LHa,void 0!==a.lna?a.lna:this.AHa,void 0!==a.Qna?a.Qna:this.BHa);};d.prototype.lXa=function(a,d,c,g,q,l,y,A,r,ea,X,O,ca,E){var R,T,D,pa,Q,W,Z,J,ba,da,fa,ha,ga,la,ra,oa,na,qa,sa,ua;function M(a){return a[W];}G.Saa("dp: ");n(c<=l.Df,"expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec");n(l.Df<=g,"expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec");n(c<=y,"expect min_buffer_sec <= end_buffer_sec");n(y<=g,"expect end_buffer_sec <= max_buffer_sec");void 0!==q&&n(l.Ti<=q,"Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got "+l.Ti+" and "+q);R=new b(c,g,A);A=new u();T=0;D=l;A.put([0,R.tv(l.Df)],[T,D,void 0,void 0,d,void 0,void 0,void 0]);pa=D=0;d=a.Dcb();n(a.pD()==d.length,"expect chunk_map.get_n_epoch() == durations_sec.length");W=-1;for(Z in d){for(var W=W+1,U=!0,ia=a.Uh.map(M),C=R.OS(),va=0;va<C.length;va++){J=C[va];if(A.E7([W,J])){Q=A.get([W,J]);for(var P=Q[0],Ra=Q[1],S=Q[4],Y=0;Y<ia.length;Y++){d=ia[Y];G.update("epoch-ibuf-chunk loop");l=void 0!==O?O(d.$K):d.$K;ba=S.Qp();try{Q=this.eUa(Ra,d,ba,E);da=Q[0];fa=Q[1];ha=Q[2];ga=Q[3];la=Q[4];ra=Q[5];}catch(Ya){if(Ya instanceof K)continue;else if(Ya instanceof f){D+=1;continue;}else throw Ya;}oa=T=!1;try{na=R.tv(ga.Df);ea&&R.tv(da);X&&R.tv(fa);if(void 0!==q)if(X){if(ha.Ti>q)throw new p();}else if(ga.Ti>q)throw new p();}catch(Ya){if(Ya instanceof f)na=void 0,D+=1;else if(Ya instanceof h)ca?T=!0:pa+=1,na=void 0;else if(Ya instanceof p)ca?oa=T=!0:pa+=1,na=void 0;else throw Ya;}try{if(T&&oa){n(void 0!==q,"expect max_buffer_kb !== undefined");sa=X?ha.Ti-q:ga.Ti-q;n(0<=sa,"pause dlnd kb cannot be -ve but is "+sa);try{qa=ga.Ilb(sa);}catch(Ya){if(Ya instanceof x)throw new f();throw Ya;}ba.Rya(qa);la+=qa;n(ga.Df<g,"expect cur_buffer_queue.total_remain_sec < max_buffer_sec");na=R.tv(ga.Df);}else if(T&&!oa){qa=X?ha.Df-g+1E-8:ga.Df-g+1E-8;n(0<=qa,"pause dlnd kb cannot be -ve but is "+qa);try{ga.eza(qa);}catch(Ya){if(Ya instanceof x)throw new f();throw Ya;}ba.Rya(qa);la+=qa;n(c<=ga.Df,"expect min_buffer_sec <= cur_buffer_queue.total_remain_sec");n(ga.Df<g,"cur_buffer_queue.total_remain_sec < max_buffer_sec");na=R.tv(ga.Df);}else qa=0;}catch(Ya){if(Ya instanceof f)na=void 0,D+=1,qa=void 0;else if(Ya instanceof K)continue;else throw Ya;}T=A.E7([W+1,na])?A.get([W+1,na])[0]:-Infinity;this.mYa(ga,na,d,l,J,W+1,T,A,P,Y,ba,la,ra,qa)&&(U=!1);}}}if(U){--W;break;}}try{ua=this.Hka(W+1,R.tv(y),A,r,R);}catch(Ya){if(Ya instanceof k)try{ua=this.Hka(W+1,R.tv(y),A,!r,R);}catch(Le){if(Le instanceof k){if(D>pa)throw new m();throw new t();}throw Le;}else throw Ya;}J=ua;for(c=[];-1<W;W--)Q=A.get([W+1,J]),T=Q[0],D=Q[1],g=Q[3],q=Q[5],y=Q[6],r=Q[7],Q=Q[2],d=a.Uh[Q][W],ea=d.Is(),l=d.$K,c.unshift({Cua:W,T6:Q,info:{LEb:ea,$K:l,REb:D.Df,QEb:D.Ti,jGb:q,va:y,lJb:r}}),J=g;return c;};d.prototype.Hka=function(a,b,d,f,c){var g,h;g=!1;h=c.OS()[0];for(c=c.OS()[c.OS().length-1];;){if(b<h||b>c){g=!0;break;}if(d.E7([a,b]))break;else b=f?b-1:b+1;}if(g)throw new k();return b;};d.prototype.mYa=function(a,b,d,f,c,g,h,k,m,t,p,q,u,l){d=m+f*d.Kn;return void 0!==b&&d>h?(k.put([g,b],[d,a,t,c,p,q,u,l]),!0):!1;};d.prototype.eUa=function(a,b,d,c){var g,h,k;c=(b.Is()+c)*b.Kn;d=d.K6a(c);c/=d;g=a.Df-d;h=a.Df+b.Kn;k=a.Qp();k.add(b,void 0);a=a.Qp();a.add(b,void 0);try{a.eza(d);}catch(ia){if(ia instanceof x)throw new f();throw ia;}return[g,h,k,a,d,c];};k.prototype=Error();m.prototype=new k();t.prototype=new k();u.prototype={eca:function(a){return a.join(",");},put:function(a,b){this.P3[this.eca(a)]=b;},get:function(a){return this.P3[this.eca(a)];},E7:function(a){return this.eca(a)in this.P3;}};g.T={bJa:d,Wwb:b,gwb:f,hwb:h};},function(g,c,a){var x,G,M,r,T,W,D,U,Q,ia;function b(a){var b,d,f;d=a.ap;b=a.Gg;f=a.Uk.ha-b.U;d.timestamp>b.Dn&&Q.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has "+d.timestamp+" and "+b.Dn);a=[];for(var c,g=d.timestamp,h=0;h<d.trace.length;h++)g>=b.Dn&&(a.push(d.trace[h]),c=d.trace[h]),g+=d.Nk,f-=d.Nk;for(;0<f;)a.push(c),f-=d.Nk;b=d.Nk;d=a.length;if(0===d)d=[];else{for(b=[b/1E3];2*b.length<=d;)b=b.concat(b);b.length<d&&(b=b.concat(b.slice(0,d-b.length)));d=b;}return new T(a,d,!1);}function f(a,b){return a.$y<b.$y?1:a.$y>b.$y?-1:0;}function h(a){for(var b=a.Gg,d=a.Uk,f=d.Zj,c=a.pk,g=!0,h,k=[],m,t=f=Math.min(d.mq,f);t>=b.Hg;t--){ia.update("backward step loop");h=a.pk[0][t].U-a.Gg.U;t<f&&(x(void 0!==k[t+1],"expect solution[(fragIndex + 1)] !== undefined"),h=Math.min(k[t+1].startTime,h));d=c[0][t].aa;m=b.Fu*c[0][t].duration*1/8;m=n(d+m,h,a.ap,b.Dn);if(0>m){g=!1;break;}k[t]={startTime:m,endTime:h,cR:h,Ln:d,yd:0};}return{Ki:g,Iq:k,cq:!1,$v:0===k.length?!0:!1};}function p(a,b){var M,r,R,T,D,Q,W;for(var d=a.Gg,f=a.Uk,c=f.Zj,g=a.pk,h=0,k=0,m=b.Iq,t,p,q=0,y=0,n,A,c=Math.min(f.mq,c),G=d.Hg;G<=c;G++){ia.update("forward step loop");t=m[G];b=t.yd;n=g[b][G].duration;A=G===d.Hg?0:m[G-1].endTime;p=0;b=K(a,m,A,h,G);if(b.RJ)return{Ki:!1,cq:!0};b.BM||(p=b.waitUntil-A,A=b.waitUntil);x(0<=p,"expect waittime >= 0 but got "+p);M=t.cR;R=a.ap;r=d.Dn;t=0;b=R.trace;p=1*R.Nk;T=Math.max(0,A+r-R.timestamp);R=M+r-R.timestamp;if(!(A>=M)){D=Math.max(0,Math.floor(1*T/p));Q=1*R/p;if(D===Math.floor(Q))t+=(R-T)/p*l(b,D,p);else for(Q=Math.ceil(Q),r=D,M=Q,D*p<T&&(r++,t+=(D*p+p-T)/p*l(b,D,p)),Q*p>R&&(t+=(R-M*p)/p*l(b,Q,p),M--),T=r;T<=M;T++)t+=l(b,T,p);}p=d.Fu*n*1/8;k+=p;b=u(t-p,G,g);t=b.Ln;b=b.yd;p=t+p;r=a.ap;M=T=0;R=r.trace;Q=Math.max(0,A+d.Dn-r.timestamp);r=1*r.Nk;W=D=Math.max(0,Math.floor(1*Q/r));for(W*r<Q&&(D+=1,Q=W*r+r-Q,W=Q/r*l(R,W,r),T=p-M<W?T+(p-M)/W*1*Q:T+Q,M+=W);M<p;)ia.update("getDownloadTime"),Q=l(R,D,r),T=p-M<Q?T+(p-M)/Q*1*r:T+r,M+=Q,D+=1;p=T;m[G].startTime=A;m[G].endTime=A+p;m[G].Ln=t;m[G].yd=b;G<=f.Zj&&(h+=t,y+=n,q=void 0!=g[b][G].xc?q+n*g[b][G].xc:q+n*a.$b[b].xc);}return{Ki:!0,cq:!1,Iq:m,yqa:0<y?1*q/y:0,W3:y,V3:h,U3:k};}function d(a){a=a.Gg.$;for(var b=[],d,f=0;f<a.length;f++)ia.update("get prebuffered chunks loop"),d=a[f],x(void 0!==d.xc,"expect frag.vmaf !== undefined"),d=new G(d.aa,d.duration/1E3,d.xc),b.push(d);return b;}function k(a){var b,d,f,c;b=a.pk;d=a.Gg;f=a.Uk;c=f.Zj;a=a.$b;for(var g=[],h,c=Math.min(f.mq,c),k=0;k<b.length;k++){for(var f=[],m=d.Hg;m<=c;m++)ia.update("get chunk map from play segment"),h=b[k][m],h=new G(h.aa,h.duration/1E3,void 0!==h.xc?h.xc:a[k].xc),f.push(h);g.push(f);}return new M(g,!1);}function m(a,b){x(a.pD()>=b.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var d=0,f=0,c,g,h=0;h<b.length;h++)ia.update("calculate twvmaf"),x(b[h].Cua===h,"expect stream_choices[idx].i_epoch === idx"),g=a.Uh[b[h].T6][h],c=g.$K,g=g.Kn,d+=c*g,f+=g;return{yqa:d/f,W3:1E3*f};}function t(a,b,d){var f,c;x(a.pD()>=b.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");f=0;c=0;d=d.Gg.Fu;for(var g,h=0;h<b.length;h++)ia.update("calculate Bytes"),x(b[h].Cua===h,"expect stream_choices[idx].i_epoch === idx"),g=a.Uh[b[h].T6][h],f+=g.aa,c+=d*g.Kn*1E3/8;return{V3:f,U3:c};}function u(a,b,d){var f,c;f=[];d.forEach(function(a){f.push(a[b].aa);});d=f.filter(function(b){return b<=a;});0<d.length?(d=d[d.length-1],c=f.lastIndexOf(d)):(d=f[0],c=0);return{Ln:d,yd:c};}function l(a,b,d){b=Math.min(a.length-1,b);b=Math.max(0,b);return a[b]*d*1/8;}function n(a,b,d,f){var c,g,h,k,m;c=d.trace;g=1*d.Nk;m=b+f-d.timestamp;k=Math.floor(1*m/g);b=0+(m-k*g)/g*l(c,k,g);if(b>=a)h=m-1*a/b*(m-k*g);else for(m=k;b<a;){ia.update("find download start time");--m;if(0>m)return-1;k=l(c,m,g);if(b+k>=a){a=1*(a-b)/k*g;h=(m+1)*g-a;break;}b+=k;}return h+d.timestamp-f;}function K(a,b,d,f,c){var g,h,k,m,t,p;g=a.Gg;h=d+g.U;d=a.pk[g.MJ];a=a.a2;k={BM:!0,waitUntil:void 0,RJ:!1};m=d.filter(function(a){return a&&a.U<=h&&a.U+a.duration>h;})[0];if(void 0===m)return{RJ:!0};t=c-1-(m.index-1);f=g.DM+f;p=0;p=m.index<g.Hg?p+d.slice(g.ut,m.index).reduce(function(a,b){return a+b.aa;},0):p+g.DM;p=p+b.slice(g.Hg,m.index).reduce(function(a,b){return a+b.Ln;},0);f-=p;if(t>=a.kK||f>=a.oF)for(k.BM=!1,m=m.index;m<c&&(t>=a.kK||f>=a.oF);)ia.update("check buffer vacancy"),k.waitUntil=d[m].U+d[m].duration-g.U,f=m<g.Hg?f-d[m].aa:f-b[m].Ln,--t,m+=1;k.koa=f;k.SEb=t;return k;}x=a(13).assert;G=a(354).aHa;M=a(354).bHa;r=a(695).bJa;T=a(353).LRa;W=a(194).ida;D=a(694).aQa;U=a(48);Q=new(a(5)).Console("ASEJS_QOE_EVAL","media|asejs");ia=a(151).dQa||a(151);g.T={Efb:function(a){var b;b=h(a);return!1===b.Ki||!0===b.$v?b:p(a,b);},xJ:function(a){var b,d,c,g,k,m,t,q,u,l,y,A,K,G,M,R;Q.debug("greedy DEBUG false");ia.Saa("greedy-"+(a.Baa?"segvmaf":"dlvmaf")+": ");d=a.pk;b=a.pk;c=a.Gg;g=a.Uk;k=g.Zj;m=a.$b;k=Math.min(g.mq,k);for(A=c.Hg;A<=k;A++){b[0][A].Zx=b[0][A].aa;for(y=1;y<b.length;y++)b[y][A].Zx=b[y][A].aa,b[y-1][A].Zx===b[y][A].Zx&&(b[y][A].Zx=b[y-1][A].Zx+1);y=0;c=b[y][A];c.$y=Infinity;c.Rf=y;for(y=1;y<b.length;y++)c=b[y][A],g=b[y-1][A],t=8*c.Zx/c.duration,q=8*g.Zx/g.duration,a.Baa&&void 0!==c.xc?(u=c.xc,l=g.xc):(u=m[y].xc,l=m[y-1].xc),c.$y=(u-l)/(t-q),c.Rf=y,x(void 0!==g.$y&&!isNaN(g.$y),"expect fragPrev.margUtil !== undefined && !isNaN(fragPrev.margUtil)");}b=h(a);if(!1===b.Ki||!0===b.$v)return b;k=a.pk;c=a.Gg;g=a.Uk;m=g.Zj;m=Math.min(g.mq,m);g=[];for(c=c.Hg;c<=m;c++)g.push(k[1][c]);for(k=new D(g,f);0<k.length;){ia.update("upgrade frags");m=k.pop();c=a;g=b;t=m;q=c.pk;u=c.Gg;M=c.Uk;l=M.Zj;y=!0;A=JSON.parse(JSON.stringify(g.Iq));void 0!==t.Rf&&x(A[t.index].yd+1===t.Rf,"expect solution[targetFrag.index].selectedStreamIndex + 1 === targetFrag.streamIndex");l=Math.min(M.mq,l);for(var r=t.index;r>=u.Hg;r--){R=r===t.index?A[r].yd+1:A[r].yd;M=c.pk[R][r].U-c.Gg.U;if(r<l)if(x(void 0!==A[r+1],"expect solution[(fragIndex + 1)] !== undefined"),G=A[r+1].startTime,G<M)M=G;else if(r!==t.index)break;G=q[R][r].aa;K=u.Fu*q[R][r].duration*1/8;K=n(G+K,M,c.ap,u.Dn);if(0>K){y=!1;break;}A[r]={startTime:K,endTime:M,cR:M,Ln:G,yd:R};}c={Ki:y,Iq:A,$v:g.$v};!0===c.Ki&&(b=c,m.Rf+1<d.length&&k.push(d[m.Rf+1][m.index]));}return p(a,b);},dp:function(a){var f,c,g,p,q,u;ia.Saa("dp-"+(a.Baa?"segvmaf":"dlvmaf")+": ");f=h(a);if(!1===f.Ki||!0===f.$v)return f;c=k(a);g=new r(c);p=d(a);p={bDa:b(a),Qna:a.Gg.Fu,vxa:0,Zwa:240,Ywa:8*a.a2.oF/1E3,ioa:.5,Xna:new W(p),fra:0,lHb:void 0,Yta:void 0,Pza:void 0,lna:!0};g=g.CE(p);p=m(c,g);c=t(c,g,a);q=[];u=a.Gg.Hg;g.forEach(function(a){q[u]={yd:a.T6};u++;});U(p,f);U(c,f);f.Iq=q;return f;}};},function(g,c,a){var h,p;function b(){}function f(a,b){return function(d){d.Baa=b;return a(d);};}h=a(696);p=a(693);b.prototype.constructor=b;b.prototype.create=function(a){var b;switch(a){case"htwbr":b=p.xJ;break;case"hvmaftb":b=h.Efb;break;case"hvmafgr":b=h.xJ;break;case"hvmafdp":b=h.dp;break;case"hvmafgr-dlvmaf":b=f(h.xJ,!1);break;case"hvmafgr-segvmaf":b=f(h.xJ,!0);break;case"hvmafdp-dlvmaf":b=f(h.dp,!1);break;case"hvmafdp-segvmaf":b=f(h.dp,!0);}return b;};g.T=b;},function(g,c,a){var f,h;function b(a,b,c,g){this.X=a;this.K=b;this.bd=this.K.error.bind(this.K);this.Ha=this.K.warn.bind(this.K);this.Gk=this.K.trace.bind(this.K);this.fb=this.K.log.bind(this.K);this.RSa=new h();this.G=g;this.nP=[];this.Fk=void 0;a=g.YS;f.call(this,a.numB*a.bSizeMs,a.bSizeMs);}a(11);a(5);f=a(152);a(355);h=a(697);b.prototype=Object.create(f.prototype);b.prototype.add=function(a,b,c){this.Fk||(this.Fk=b);f.prototype.add.call(this,a,b,c);};b.prototype.B$a=function(){var a;if(0!==this.nP.length){a=[];this.nP.forEach(function(b){b&&b.aC&&a.push(b.Gs());});return a;}};b.prototype.ae=function(){this.nP=[];};b.prototype.jcb=function(){var a,b,c;a=this.get(this.G.YS.fillS);if(0===a[0]||null===a[0]){a.some(function(a,d){if(a)return b=a,c=d,!0;});if(b)for(var g=0;g<c;g++)a[g]=b;}a={trace:a,timestamp:this.Fk,Nk:this.zc};f.prototype.reset.call(this);this.Fk=void 0;return a;};b.prototype.t4=function(a){var b,f,c,g,h,p;if(a&&!a.aC){f=a.Uk.rva;f&&(a.O$=this.y1(a),a.tV=!1);if((b=this.jcb())&&b.trace&&b.trace.length){c=a.Gg.Dn;g=b.timestamp;if(g>c){h=b.Nk;p=b.trace[0];c=Math.ceil(1*(g-c)/h);b.timestamp=g-c*h;for(g=0;g<c;g++)b.trace.splice(0,0,p);}b.trace.length&&b.trace.pop();}a.ap=b;b.trace&&0===b.trace.length||void 0===b.timestamp||(b=this.B0a(a),a.wya=b,f&&b&&(a.tV=b.Ki),a.aC=!0,this.nP.push(a));}};b.prototype.B0a=function(a){var g,h;for(var b=this.G.CJ,f={Ki:!1,cq:!1},c=0;c<b.length;c++){g=b[c];h=this.RSa.create(g);h&&(h=h(a),f[g]=h,f.Ki=f.Ki||h.Ki,f.cq=f.cq||h.cq);}return f;};b.prototype.y1=function(a){var b;a=a.Uk;b="";1E3>a.EM&&(b+=a.qEa);1E3>a.i1&&(b=b+(""!==b?",":"")+a.Bna);1E3<=a.EM&&1E3<=a.i1&&(b="media");return b;};g.T=b;},function(g,c,a){var b,f,h,p,d,k,m;Object.defineProperty(c,"__esModule",{value:!0});b=a(6);f=a(5);h=a(360);p=a(11);d=a(698);k=a(692);m=a(689);g=function(){var l9A;l9A=2;while(l9A!==24){switch(l9A){case 7:a.prototype.RUa=function(a,b,d){var F9A,f;F9A=2;while(F9A!==9){switch(F9A){case 2:f=this.G;this.W_(f.zw,a,b,d)?this.Eo=!0:this.Eo=!1;this.RQ=0;this.W_(f.l8,a,b,d)&&(this.Eeb=!0);F9A=9;break;}}};a.prototype.ybb=function(a){var y9A;y9A=2;while(y9A!==1){switch(y9A){case 2:return 1===a?this.KB.tza:this.KB.sza;break;}}};l9A=14;break;case 16:a.prototype.m1a=function(a){var C9A,b,d,f,c,g,w3b,b3b;C9A=2;while(C9A!==7){w3b="i";w3b+="q";w3b+="r";b3b="n";b3b+="o";b3b+="n";b3b+="e";switch(C9A){case 5:C9A=b3b!==b.zw&&!0!==this.Eo&&a.state<=b.J8?4:7;break;case 4:d=this.Pb.get();w3b===b.zw&&(f=this.Qka(d),void 0!==f&&void 0!==f.tj&&void 0!==f.di&&void 0!==f.uj&&(c=(f.uj-f.tj)/f.di));g=b.yK?p.Cd.lp:p.Cd.Nt;d&&d.Gc>=g&&this.W_(b.zw,d,f,c)&&(this.Eo=!0,this.RQ=a.state);C9A=7;break;case 2:b=this.G;C9A=5;break;}}};a.prototype.eZa=function(a){var e9A;e9A=2;while(e9A!==5){switch(e9A){case 2:a.Eo=this.Eo;a.hT=this.hT;e9A=5;break;}}};a.prototype.Y8a=function(a){var G9A,d,f,c,g,h,k,m,t,N3b,e3b;G9A=2;while(G9A!==35){N3b="star";N3b+="t";N3b+="p";N3b+="lay";e3b="lo";e3b+="gda";e3b+="ta";switch(G9A){case 2:d={};f=this.G;c=this.X;g={type:e3b,target:N3b,fields:{}};g.fields=d;Object.keys(a).forEach(function(b){var E9A;E9A=2;while(E9A!==1){switch(E9A){case 4:d[b]=a[b];E9A=8;break;E9A=1;break;case 2:d[b]=a[b];E9A=1;break;}}});G9A=7;break;case 26:d.histtd=h;G9A=25;break;case 7:h=this.Pb.get();h&&h.va&&(h=h.va.Fa);d.actualbw=h;d.isConserv=this.Eo;d.ccs=this.RQ;G9A=11;break;case 11:d.isLowEnd=this.Eeb;d.histdiscbw=this.qn;k=this.ZS;G9A=19;break;case 18:m=function(a){var m9A;m9A=2;while(m9A!==1){switch(m9A){case 2:return b.pa(a)?Number(a).toFixed(2):-1;break;}}};h=[m(k.min||void 0),m(k.O9||void 0),m(k.tj||void 0),m(k.di||void 0),m(k.uj||void 0),m(k.P9||void 0),m(k.max||void 0)];t=[];k=b.isArray(k.sg)&&k.sg.reduce(function(a,b){var x9A,d;x9A=2;while(x9A!==9){switch(x9A){case 2:x9A=1;break;case 1:d=m(b.Le||void 0);b=m(b.n||void 0);-1<d&&-1<b&&a.push({mean:d,n:b});x9A=3;break;case 3:return a;break;}}},t);d.histtdc=k;G9A=26;break;case 25:d.histage=this.wua;f.QI&&this.NJ&&(d.histsessionstat=this.NJ.Zsa(),d.initbwestimate=this.NJ.Ysa(),d.avghistbw=this.NJ.sS());f.l4&&this.BB&&(d.ishighstable=this.V_,d.avg_avtp=this.BB.B_a,d.avg_ne=Number(this.BB.C_a).toFixed(4));G9A=22;break;case 19:G9A=k?18:25;break;case 22:c.kb&&(f=c.$j(),d.maxAudioBufferAllowedBytes=f[p.L.AUDIO],d.maxVideoBufferAllowedBytes=f[p.L.VIDEO]);c.emit(g.type,g);G9A=35;break;}}};a.prototype.Z8a=function(a){var I9A,b,d,f,c,g,h,k,m,y4n;I9A=2;while(I9A!==19){y4n="n";y4n+="o";y4n+="n";y4n+="e";switch(I9A){case 2:b=this.G;d=this.X;f=this.Pb.get(!0);c=[];g=this;I9A=8;break;case 8:[p.L.VIDEO,p.L.AUDIO].forEach(function(a){var k9A,h;k9A=2;while(k9A!==3){switch(k9A){case 2:k9A=1;break;case 1:k9A=d.zg(a)?5:3;break;case 8:k9A=6;break;k9A=1;break;case 7:k9A=d.zg(a)?6:6;break;k9A=d.zg(a)?5:3;break;case 5:h=g.X.acb(a);void 0!==h&&(a===p.L.VIDEO&&(b.av&&(h.parallelDownloadMs=g.QU,h.parallelDownloadBytes=g.PU,h.singleDownloadMs=g.eW,h.singleDownloadBytes=g.dW,h.switchFromParallelToSingle=g.Eba,h.switchFromSingleToParallel=g.Fba),f&&f.Gc&&f.va&&(h.asetput=f.va,h.aseiqr=f.Do,h.tdigest=f.pm&&f.pm.Gs()||void 0),f&&f.avtp&&(h.avtp=f.avtp.Fa)),c.push(h));k9A=3;break;}}});a.stat=c;h=0;k=0;m=0;f.Gc&&(h=f.va?f.va.Fa:0,k=f.Eg?f.Eg.Fa:0,m=f.Bo?f.Bo.Fa:0);I9A=11;break;case 11:a.location={responseTime:k,httpResponseTime:m,bandwidth:h,confidence:f.Gc,name:this.gvb};this.ila&&(a.bt={startTime:this.Qj.startTime,audioMs:this.Qj.Zr,videoMs:this.Qj.Ct},this.Qj.Zr=[],this.Qj.Ct=[],this.Qj.P7=this.Qj.K7);y4n!==b.zw&&(a.isConserv=this.Eo,a.ccs=this.RQ);I9A=19;break;}}};l9A=25;break;case 4:a.prototype.RBa=function(a,d,f){var g9A;g9A=2;while(g9A!==4){switch(g9A){case 2:this.qn=a;b.R(d)||(this.wua=d);b.R(f)||(this.ZS=f);g9A=4;break;}}};a.prototype.kca=function(a){var h9A;h9A=2;while(h9A!==5){switch(h9A){case 2:this.G=a;this.KB.kca(a);h9A=5;break;}}};a.prototype.W_=function(a,d,f,c){var z9A,g,C4n,P4n;z9A=2;while(z9A!==6){C4n="a";C4n+="v";C4n+="g";P4n="i";P4n+="q";P4n+="r";switch(z9A){case 5:z9A=a===P4n?4:8;break;case 3:return d.va&&f&&b.pa(c)&&d.va.Fa<g.kI&&c>g.LY;break;case 9:return!1;break;case 4:z9A=void 0!==c?3:9;break;case 8:z9A=a===C4n?7:9;break;case 2:g=this.G;z9A=5;break;case 7:return d.va?d.va.Fa<g.kI:!0;break;}}};a.prototype.Qka=function(a){var f9A,B9A,A4n;f9A=2;while(f9A!==4){A4n="t";A4n+="di";A4n+="g";A4n+="es";A4n+="t";switch(f9A){case 3:f9A=9;break;case 2:B9A=this.G.M6;f9A=B9A===A4n?1:3;break;case 5:return a;break;case 1:a=a.pm;f9A=5;break;case 9:a=a.Do&&a.Do.VU;f9A=5;break;}}};l9A=7;break;case 14:a.prototype.NE=function(a){var X9A;X9A=2;while(X9A!==5){switch(X9A){case 2:this.KB.NE(a);this.GG=a;X9A=5;break;}}};a.prototype.woa=function(a,b){var i9A;i9A=2;while(i9A!==1){switch(i9A){case 2:this.KB.QJb&&a&&this.KB.woa(b,a);i9A=1;break;}}};a.prototype.GWa=function(a){var Q9A,b;Q9A=2;while(Q9A!==14){switch(Q9A){case 2:b=this.G;Q9A=5;break;case 5:Q9A=this.AP&&a.bk()?4:3;break;case 4:return!0;break;case 9:Q9A=this.BP&&b.Cn&&!a.bk()?8:7;break;case 8:return!0;break;case 3:this.AP&&(this.AP=!1);Q9A=9;break;case 7:this.BP&&(this.BP=!1);return!1;break;}}};a.prototype.LYa=function(a,b,d,f,c,g){var q9A,h;q9A=2;while(q9A!==4){switch(q9A){case 2:h=this.G;h.YW&&this.GWa(b)||!d||!f||!(d=g?Math.min(d,f,g):Math.min(d,f))||(this.Pb.get(!1),a=this.X.fD(a),b.track.bk()&&a>h.xQ&&d===c?(h.set?(h.set({pipelineEnabled:!0}),h.set({maxParallelConnections:1}),h.set({maxActiveRequestsPerSession:2}),h.set({maxPendingBufferLen:500})):(h.Cn=!0,h.PD=1,h.lq=2,h.Tv=500),b.track.oAa({type:b.track.config.type,connections:1,openrange:!1,pipeline:!0,socketBufferSize:h.rF,minRequestSize:h.YD}),this.Eba++,h.YW&&(this.AP=!0)):h.Cn&&!b.bk()&&(a<h.c2||d!==c)&&(h.set?(h.set({pipelineEnabled:!0}),h.set({maxParallelConnections:3}),h.set({maxActiveRequestsPerSession:3}),h.set({maxPendingBufferLen:12E3})):(h.Cn=!0,h.PD=3,h.lq=3,h.Tv=12E3),b.track.oAa({type:b.config.type,connections:3,openrange:!1,pipeline:!0,socketBufferSize:h.rF,minRequestSize:h.YD}),this.Fba++,h.YW&&(this.BP=!0)));q9A=4;break;}}};a.prototype.NYa=function(a,b){var p9A,d,c,g;p9A=2;while(p9A!==13){switch(p9A){case 5:p9A=this.ila?4:13;break;case 4:void 0===this.Qj&&(this.Qj={startTime:f.time.da(),Zr:[],Ct:[],P7:void 0,K7:void 0});d=Math.floor((f.time.da()-this.Qj.startTime)/d.hC);c=this.Qj.K7;g=this.Qj.P7?d-this.Qj.P7-1:d;p9A=7;break;case 2:d=this.G;p9A=5;break;case 7:p9A=void 0===c||d>c?6:14;break;case 6:this.Qj.Zr[g]=a,this.Qj.Ct[g]=b;p9A=14;break;case 14:this.Qj.K7=d;p9A=13;break;}}};a.prototype.Sjb=function(){var v9A,a,c9A;v9A=2;while(v9A!==3){switch(v9A){case 8:a=this.X;v9A=6;break;v9A=5;break;case 2:a=this.X;v9A=5;break;case 5:v9A=a.uo?4:3;break;case 6:v9A=a.uo?3:1;break;v9A=a.uo?4:3;break;case 4:try{c9A=2;while(c9A!==5){switch(c9A){case 2:this.Pb.dob();this.ama.ae();c9A=5;break;}}}catch(y){var l4n;l4n="Hin";l4n+="ds";l4n+="ight: Error duri";l4n+="ng";l4n+=" clean up: ";t8ii.q3b(0);a.Va.rq(t8ii.p3b(l4n,y));}v9A=3;break;}}};l9A=19;break;case 2:Object.defineProperties(a.prototype,{Zrb:{get:function(){var S9A;S9A=2;while(S9A!==1){switch(S9A){case 2:return this.QXa;break;case 4:return this.QXa;break;S9A=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{uT:{get:function(){var P9A;P9A=2;while(P9A!==1){switch(P9A){case 2:return this.V_;break;case 4:return this.V_;break;P9A=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{F$:{get:function(){var s9A;s9A=2;while(s9A!==1){switch(s9A){case 4:return this.ama;break;s9A=1;break;case 2:return this.ama;break;}}},enumerable:!0,configurable:!0}});l9A=4;break;case 25:return a;break;case 19:a.prototype.akb=function(a){var V9A;V9A=2;while(V9A!==1){switch(V9A){case 2:this.G.av&&a===p.L.VIDEO&&(this.Fba=this.Eba=this.dW=this.eW=this.PU=this.QU=0);V9A=1;break;}}};a.prototype.fkb=function(a,b,d,f){var U9A;U9A=2;while(U9A!==1){switch(U9A){case 2:this.G.av&&a===p.L.VIDEO&&(f?(this.QU+=b,this.PU+=d):(this.eW+=b,this.dW+=d));U9A=1;break;}}};a.prototype.$jb=function(a,b){var w9A;w9A=2;while(w9A!==1){switch(w9A){case 2:a===p.L.VIDEO&&(this.gvb=b);w9A=1;break;}}};l9A=16;break;}}function a(a,b,f,c,g,t,q){var A9A,n9A,u9A,u,l,y,K4n,m4n,X4n;A9A=2;while(A9A!==32){K4n="1S";K4n+="IY";K4n+="bZr";K4n+="N";K4n+="JCp9";m4n="b";m4n+="as";m4n+="elin";m4n+="e";X4n="L";X4n+="R";switch(A9A){case 12:this.Fba=this.dW=this.eW=this.Eba=this.PU=this.QU=0;this.KB=h(g,t);b=this.Qka(f);void 0!==b&&void 0!==b.tj&&void 0!==b.di&&void 0!==b.uj&&(u=(b.uj-b.tj)/b.di);A9A=19;break;case 34:this.BB=new k.Vea(q,g,this.K);A9A=23;break;case 33:g.YW&&(this.BP=this.AP=!1);A9A=32;break;case 35:A9A=34;break;case 27:this.V_=!1;A9A=26;break;case 21:this.BB=new k.sKa(q,g,this.K);A9A=23;break;case 22:A9A=n9A===X4n?21:35;break;case 24:this.BB=new k.Vea(q,g,this.K);A9A=23;break;case 25:n9A=g.pdb;A9A=n9A===m4n?24:22;break;case 16:A9A=a.uo?15:27;break;case 23:this.V_=this.BB.uT();A9A=33;break;case 7:this.G=g;this.GG=null;this.ila=0===Math.floor(1E6*Math.random())%g.d2;this.qn=this.ZS=this.wua=this.RQ=this.Eo=void 0;A9A=12;break;case 26:A9A=q&&1<q.length&&(g.QI&&(this.NJ=new m.Bzb(g,q),this.hT=this.NJ.Ysa()),g.l4)?25:33;break;case 15:try{u9A=2;while(u9A!==3){switch(u9A){case 2:l=a.$j();y=new d(a,this.K,{bufferSize:l},g);this.Pb.SYa(y);this.ama=y;u9A=3;break;}}}catch(D){var H4n;H4n="Hindsight: ";H4n+="Error w";H4n+="hen creating QoEEvalua";H4n+="tor: ";t8ii.h3b(0);a.Va.rq(t8ii.t3b(H4n,D));}A9A=27;break;case 19:this.QXa=[g.Nna,g.uba];c=g.yK?p.Cd.lp:p.Cd.Nt;f&&f.Gc>=c&&f.va&&u&&this.RUa(f,b,u);A9A=16;break;case 2:this.K=b;this.Pb=c;K4n;this.X=a;this.Ha=this.K.warn.bind(this.K);this.Gk=this.K.trace.bind(this.K);A9A=7;break;}}}}();c.dFa=g;},function(g,c,a){var b,f,h,p,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=a(25);f=a(195);h=a(367);p=a(40);d=a(5);a=function(a){function c(b,d,f,c,g,h,k,m,p,q){c=a.call(this,c)||this;c.X=b;c.qg=d;c.Ac=f;c.rf=g;c.G_=h;c.rXa=k;c.K=m;c.nYa=p;c.G=q;c.zp=[Object.create(null),Object.create(null)];c.Gk=c.K.trace.bind(c.K);return c;}b.__extends(c,a);c.prototype.pv=function(a){return this.zp[a];};c.prototype.Vk=function(a,b){return this.zp[a][b];};c.prototype.gua=function(a){return!!this.Vk(1,a);};c.prototype.Qma=function(a){this.zp[a.O][a.za]=a;};c.prototype.mqa=function(a,b){delete this.zp[a][b];};c.prototype.nob=function(a){var b,d,f,c;b=this.zp[0];for(d in b){f=b[d];if(f&&f.mA){c=f.mob();a(c,f);}}};c.prototype.Noa=function(a){this.A_===a.za&&(this.A_=void 0);};c.prototype.A1a=function(){this.ku=void 0;};c.prototype.lqb=function(a){var d;if(a)this.ku=a;else if(!(this.ku&&0<this.ku.length||(a=this.G,a.mCa||(f.tl.Xl(1),this.Ac.fD(1)<a.iU)))){a=this.Ac.qa.ug.Sg(1).$b;for(var b=0;b<a.length;++b){d=a[b];if(d.mf&&d.inRange&&!d.Tg&&!this.gua(d.za)){this.ku=[b];break;}}}};c.prototype.Vgb=function(){var d,c;if(this.ku&&0!==this.ku.length&&!this.A_){f.tl.Xl(1);for(var a=this.Ac.qa.ug,b=a.Sg(1);0<this.ku.length;){d=this.ku.shift();if(d=b.$b[d]){c=d.za;if(!this.gua(c)&&d.mf){this.A_=c;this.qI(b,a.M,d,{offset:0,OL:!0});break;}}}}};c.prototype.rub=function(a,b,d){var f;f=this;b.forEach(function(b){var c;c=f.Vk(a,b.za);c&&!b.jd&&(c.stream.jd?b.WQ(c.stream):(c.IK||(c.IK=[]),c.IK.push(d)));});};c.prototype.qI=function(a,b,d,c,g,h){var k,m,t,p;k=a.O;f.tl.Xl(k);m=d.za;if(!this.xTa(a,d.Oa.ba,b,m,c.Ds)){b=this.Vk(k,m);if(!b){c.aa=this.bUa(k,d.Gq,d.xg);m=!!c.jy;b=this.Ac.bb.Cb[k];t=void 0!==g&&g!==a.Rb.ba;h=!c.Ds||m||t||h?this.Ac.UG:b.ik;d.url&&(b.Q7=d.url);b=this.x_(k,d,h,c);if(!b.cw()){this.Ac.zi("MediaRequest open failed (2)",a.Rb.ba,"NFErr_MC_StreamingFailure");return;}}void 0!==g&&(p=this.Ac.jc(g));c.Ds&&p&&(p.Oa.Vc[k]=b);}this.G_.th();};c.prototype.x_=function(a,b,d,c){var g,k;g=this;k=this.Vk(a,b.za);if(k)return k;a=f.tl.Xl(a);b=new h.Wca(b,this.G,d.track,c,this,!1,a);b.addEventListener("headerRequestCancelled",function(a){g.FUa(a.request);});b.Bc(this.X,this.X.eU,this.G,void 0);this.Qma(b);this.rf.Ala(b);return b;};c.prototype.pca=function(a,b){var d,c;d=this;c=[];this.zp.forEach(function(g,h){var m,t;f.tl.Xl(h);h=a[h];for(var k in g){m=g[k];if("function"===typeof m.KW){t=m.KW(h,b);1===t||2===t?c.push(m):3===t&&d.zi("swapUrl failure");}}});return c;};c.prototype.ci=function(a){var b,c,g,h;b=a.O;c=f.tl.Xl(b);if(this.Ac.Ae())c.warn("header onrequestcomplete ignored, session shutdown:",a.toString());else{g=a.ba;h=this.Ac.jc(g);h?(this.qg.na("logdata",{type:"logdata",target:"startplay",fd:{usedNativeDataView:a.Sub}}),a.JK>a.rkb&&(this.Ac.bb.Cb[b].I7=a.JK),a.OL&&this.Noa(a),this.Uka(a),a.Sl?this.Ac.VP():a.jy&&(c.warn("drm header header:",a.toString(),"but no headers seen, marking pipeline drmReady"),this.Ac.BR(h.Oa.M)),this.dla=d.time.da(),this.Ac.ef[b].jjb(),this.G_.vka(),this.Ac.yob()):c.warn("header onrequestcomplete but unknown manifestIndex:",g);}};c.prototype.Uka=function(a){var b,d,c,g,k;b=this.G;d=f.tl.Xl(a.O);c=a.$;if(b.w3){g=c.length;d.trace("fragment count:",g);for(var h=0;h<g;++h){k=c.get(h);d.trace("fragment: "+h+", startPts: "+k.U+", duration: "+k.duration+", offset: "+k.offset);}}this.Fja(a);if(b.LK&&b.LK.enabled&&void 0===c.Rn&&b.LK.simulatedFallback){g=c.length;b=[];for(h=0;h<g;++h)b[h]=Math.max(0,a.stream.xc+this.Ac.TWa(h));c.Lqb(b);}};c.prototype.Fja=function(a){var b,d,c,g,h,k,m,t,p,q,l,n;b=this;d=this.G;c=a.O;g=f.tl.Xl(c);h=a.ba;k=this.Ac.jc(h);if(k){m=k.Oa;t=a.$;p=a.mA?60:t.length;q=t.get(p-1);l=a.za;a.cl={Mi:q.U+q.duration,ufb:q.U,lastIndex:p-1};m.Zta(c,t);a.IK&&(a.IK.forEach(function(d){var f;f=b.Ac.jc(d);f?(d=f.Oa.Zp(c,l))&&d!==a.stream&&!d.jd&&d.WQ(a.stream):g.warn("otherManifestIndexes bad value:",d);}),a.IK=void 0);p=m.Zp(c,l);q=m.fq()?d.Mwa:0;n=this.Ac.$j()[c];1===c&&0<d.nq&&(n=Math.min(n,d.nq));p.LDa(n,q);m.Vc[c]&&a!==m.Vc[c]?a.Ds&&(k=m.Vc[c],d=a.stream,p=k&&k.stream,g.warn("first header received for non-current track (trackId "+d.eb+"streamId "+d.za+"), expected track "+(p&&p.eb)+", stream "+(p&&p.za)+", "+k)):(m.Vc[c]=a,d=this.Ac.qa.ug,0===h&&(p=this.Ac.jg?d.Sg(1).ab:d.Sg(0).ab,k.EQ(h,this.Ac.zg.bind(this.Ac),p,this.Ac.qa,d)),k.cL=!1,k.BQ(h,this.Ac.jc.bind(this.Ac),this.G,this.Ac.Sh,this.Ac.jg,this.Ac.qa,this.Ac.Va,this.Ac.N5.bind(this.Ac)),this.Ac.VP());this.rXa.L_();a.mA||this.rf.aWa(h,c,l,m.M,t);this.G_.th();}else g.warn("addFragments for stale manifestIndex:",h);};c.prototype.xTa=function(a,b,d,f,c){return this.nYa&&this.Ac.kb.Ug&&(d=this.Ac.kb.Ug.j8(d,f))&&this.Rma(a,b,d,!1,c)?!0:!1;};c.prototype.Rma=function(a,b,d,c,g){f.tl.Xl(a.O);b=this.Ac.jc(b);if(!b)return!1;b=b.Oa.Zp(a.O,d.za);if(c!==!!d.Sl)return!1;this.Qma(d);d.tZa(b);this.Fja(d);d.Sl&&this.Ac.VP();g&&this.rf.SVa(d.M,d.za);void 0!==a.vq&&a.qt(a.vq);return!0;};c.prototype.bUa=function(a,b,d){var f;f=this.G;if(d)return f.SR?f.SR:f.WS;if(f.gEa&&b)return b.offset+b.size;a=this.Ac.bb.Cb[a];return a.I7?a.I7+128:2292+12*Math.ceil(this.Ac.Jm/2E3);};c.prototype.FUa=function(a){this.mqa(a.O,a.za);};c.prototype.zi=function(a,b){a={type:"streamingFailure",msg:a,manifestIndex:b};this.na(a.type,a);};return c;}(a(83));c.qKa=a;p.mi(g.EventEmitter,a);},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(24);g=a(5);f=g.sk;new g.Console("ASEJS_SIDECHANNEL","media|asejs");g=function(){function a(a,d,f){this.Va=f;this.xYa=new b.ISa(a);this.wYa=d.oa;this.eTa=1E3*d.Bhb/d.f0a;this.VTa=d.xR;}a.prototype.Pl=function(a){var d;d={s_xid:this.wYa,dl:this.VTa?1:0};a.Ce&&(d.bs=b.nC(Math.floor(a.Ce/this.eTa)+1,1,5));a.CU&&(d.limit_rate=a.CU);a.aoa&&(d.bb_reason=a.aoa);return this.mWa(d);};a.prototype.Gaa=function(a,b){var d,c;try{d=new f(void 0,"notification");c=this.Pl({aoa:a});b&&c&&d.open(b,void 0,2,void 0,void 0,void 0,c);}catch(t){this.Va.rq("SideChannel: Error when sending sendBlackBoxNotification. Error: "+t);}};a.prototype.mWa=function(a){var b;try{b=this.tXa(a);return this.xYa.encrypt(b);}catch(k){this.Va.rq("SideChannel: Error when obfuscating msg. Error: "+k);}};a.prototype.tXa=function(a){return Object.keys(a).map(function(b){return encodeURIComponent(b)+"="+encodeURIComponent(JSON.stringify(a[b]));}).join("&");};return a;}();c.jRa=g;},function(g,c,a){var b,f,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(25);h=a(5).nr;g=function(a){function d(b){var d;d=a.call(this)||this;d.Xla=b;d.UO=b.groupId;d.Uf=new f.Uw();d.Uf.on(d,h.Bd.jG,d.kP);d.Uf.on(d,h.Bd.fx,d.eH);return d;}b.__extends(d,a);d.prototype.qkb=function(a,b,d){h.prototype.open.call(this,a,b,d);};d.prototype.sqb=function(a){this.UO=a;};Object.defineProperties(d.prototype,{groupId:{get:function(){return this.UO;},enumerable:!0,configurable:!0}});d.prototype.ae=function(){this.Uf&&this.Uf.clear();h.prototype.ae.call(this);};d.prototype.kP=function(a){this.Xla.Fmb(a.probed,a.affected);this.ae();};d.prototype.eH=function(a){this.Xla.Cmb(a.probed,a.affected);this.ae();};return d;}(h);c.wFa=g;},function(g,c,a){var f,h,p;function b(a,b){this.$G=a;this.Bx=0===Math.floor(1E6*Math.random())%b.Az;this.groupId=1;this.config=b;this.Cs={};this.jw={};}f=a(6);h=a(5);new h.Console("ASEJS_PROBE_MANAGER","asejs");p=a(702).wFa;b.prototype.constructor=b;b.prototype.Emb=function(a,b){var d,c,g,k,p,q,l,n,r,R,T;d=this.$G;c=a.Fb;g=d.ECa(a.url);k=d.MT(a.url);p=this.config;q=h.time.da();n=b;r=[];R=g.dk[0];T=!1;l=this.Cs[c];if(!l)l=this.Cs[c]={count:0,Wg:q,jt:!1,error:b,Qaa:[],y$:{}};else if(l.Wg>=q-p.vW)return;l.jt||(R&&k.id===R.id&&(a.isPrimary=!0),l.Wg=q,l.jt=!1,l.error=b,++l.count,g&&g.Yc&&0!==g.Yc.length&&(f.forEach(g.Yc,function(b){var d,f,g;d=b.Ub.id;f=d+"-"+c;g=this.jw[f];if(void 0===g||void 0===g.hV)g&&g.sl&&clearTimeout(g.sl),b=this.Bpa(b.url,a,d),this.jw[f]={W:!1,count:0,hV:b.ak()},r.push(b.ak()),T=!0;-1===l.Qaa.indexOf(d)&&l.Qaa.push(d);},this),this.Bx&&0<r.length&&(g={type:"logdata",target:"endplay",fields:{}},b=n,n={ts:h.time.da(),es:b.hna,fc:b.Xh,fn:b.xra,nc:b.sj,pb:r,gid:this.groupId},b.EJ&&(n.hc=b.EJ),g.fields.errpb={type:"array",value:n,adjust:["ts"]},d.mz(g)),T&&this.groupId++));};b.prototype.Bpa=function(a,b,f){var d,c,g;d=this.$G.MT(b.url);d&&d.Ka&&d.Ka.Bo&&d.Ka.Bo.Fa||Math.random(0,1);d=new p(this);c=a.split("?");g="random="+parseInt(1E7*Math.random(),10);d.qkb(1<c.length?a+"&"+g:a+"?"+g,b,f);return d;};b.prototype.Fmb=function(a,b){var d,f,c,g,k,p,q,l;d=this.$G;f=this.config;c=b.Fb;g=this.Cs[c];p=a.url;q=this.jw[a.Fb+"-"+c];if(g&&(k=g.error,q)){q&&q.sl&&clearTimeout(q.sl);q.W=!0;q.count=0;q.hV=void 0;g.y$[a.Fb]=!0;(q=this.Cs[a.Fb])&&!0===q.jt&&f.Wr&&(d.PAa(a.Fb,q.error.uM[1]),this.Bx&&(q={type:"logdata",target:"endplay",fields:{}},q.fields.errst={type:"array",value:{ts:h.time.da(),id:a.requestId,servid:b.Fb,gid:a.groupId?a.groupId:-1},adjust:["ts"]},d.mz(q)),this.Cs[a.Fb]=void 0);if(p!==b.url){l=this.jw[c+"-"+c];l&&l.W||(c=(c=d.MT(p))&&c.Ka&&c.Ka.Bo&&c.Ka.Bo.Fa||Math.random(0,1)*f.UT,c=Math.min(c,f.UT),setTimeout(function(){var f;if(!(!1!==g.jt||l&&l.W)&&(g.jt=!0,d.im(k.uM[0],k.uM[1],b.url,k),this.Bx)){f={type:"logdata",target:"endplay",fields:{}};f.fields.erep={type:"array",value:{ts:h.time.da(),id:a.requestId,servid:b.Fb,gid:a.groupId?a.groupId:-1},adjust:["ts"]};d.mz(f);}}.bind(this),c));}this.Bx&&(q={type:"logdata",target:"endplay",fields:{}},q.fields.pbres={type:"array",value:{ts:h.time.da(),id:a.requestId,result:1,servid:a.Fb,gid:a.groupId?a.groupId:-1},adjust:["ts"]},d.mz(q));}};b.prototype.Cmb=function(a,b){var d,c,g,k,p,q,l,n,r,R;d=this.$G;c=parseInt(b.Fb,10);g=this.Cs[c];k=parseInt(a.Fb,10);p=this.jw[k+"-"+c];q=0;r=this.config;if(p&&g){p.W=!1;p.hV=void 0;g.y$[k]=!1;n=g.Qaa;if(r.Wr&&k===c&&b.isPrimary){R=d.MT(b.url);R=R&&R.Ka&&R.Ka.Bo&&R.Ka.Bo.Fa||300*Math.random(0,1);R=R*Math.pow(2,p.count);R=Math.min(R,12E4);R=R+Math.random(0,1)*(1E4>R?100:1E4);p.sl=setTimeout(function(){var d;p.sl=void 0;d=this.Bpa(a.url,b,k);d.sqb(a.groupId);p.hV=d.ak();}.bind(this),R);}++p.count;k===c&&(q=0,n.forEach(function(a){!1===g.y$[a]&&q++;}),n.length===q&&g.count>=r.$T&&(l=g.error,g.jt=!0,f.forEach(d.ECa(b.url).Yc,function(a){var b;d.im(l.uM[0],l.uM[1],a.url,l);if(this.Bx){b={type:"logdata",target:"endplay",fields:{}};b.fields.erep={type:"array",value:{ts:h.time.da(),id:-1,servid:a.Ub.id},adjust:["ts"]};d.mz(b);}},this)));this.Bx&&(c={type:"logdata",target:"endplay",fields:{}},c.fields.pbres={type:"array",value:{ts:h.time.da(),id:a.requestId,result:0,servid:a.Fb,gid:a.groupId?a.groupId:-1},adjust:["ts"]},d.mz(c));}};b.prototype.mca=function(a){var b,d,f;b=a.url||a.mediaRequest.url;if(b){a=this.$G;b=a.GBa(b);d=this.Cs[b];f=this.jw[b+"-"+b];d&&d.jt&&this.config.Wr&&(a.PAa(d.error.hna,!1),this.Bx&&(d={type:"logdata",target:"endplay",fields:{}},d.fields.errst={type:"array",value:{ts:h.time.da(),id:-1,servid:b},adjust:["ts"]},a.mz(d)),this.Cs[b]=void 0,f&&f.sl&&clearTimeout(f.sl));}};b.prototype.reset=function(){var a,b,f;a=this.jw;for(f in a)a.hasOwnProperty(f)&&(b=a[f+"-"+f])&&b.sl&&clearTimeout(b.sl);this.jw={};this.Cs={};};g.T=b;},function(g,c,a){var b,f,h,p,d,k,m,t,l,n,A,K,x,G,r,R;Object.defineProperty(c,"__esModule",{value:!0});g=a(25);b=a(6);f=a(11);h=a(5);p=new h.Console("ASEJS_ERROR_DIRECTOR","asejs");d=a(703);a=a(40);k=h.sk;m=k.Jt;t={};l={};n=[f.Hf.fr,!1];A=[f.Hf.fr,!0];K=[f.Hf.lx,!1];x=[f.Hf.lx,!0];G=[f.Hf.URL,!0];r=[-1,!1];R=[f.Hf.lx,!1];t[m.Qvb]=K;t[m.dIa]=K;t[m.Nda]=K;t[m.pIa]=K;t[m.hIa]=x;t[m.AGa]=x;t[m.nda]=R;t[m.rX]=R;t[m.BGa]=r;t[m.CGa]=R;t[m.DGa]=R;t[m.xGa]=K;t[m.zGa]=K;t[m.mda]=n;t[m.yGa]=K;t[m.wGa]=R;t[m.dxb]=x;t[m.mKa]=R;t[m.Tea]=R;t[m.Sea]=R;t[m.CY]=R;t[m.Qea]=R;t[m.lKa]=G;t[m.EY]=x;t[m.AN]=G;t[m.FY]=A;t[m.GY]=x;t[m.oKa]=G;t[m.BN]=R;t[m.Uea]=x;t[m.nKa]=x;t[m.kIa]=x;t[m.eIa]=K;t[m.NQa]=K;t[m.VHa]=K;t[m.WHa]=K;t[m.XHa]=K;t[m.YHa]=K;t[m.ZHa]=K;t[m.$Ha]=K;t[m.aIa]=K;t[m.bIa]=K;t[m.cIa]=K;t[m.fIa]=K;t[m.gIa]=K;t[m.iIa]=K;t[m.jIa]=K;t[m.lIa]=K;t[m.mIa]=K;t[m.nIa]=K;t[m.oIa]=K;t[m.qIa]=K;t[m.rIa]=K;t[m.MQa]=R;t[m.TIMEOUT]=n;l[m.nda]=!0;l[m.Tea]=!0;l[m.Sea]=!0;l[m.Qea]=!0;l[m.Nda]=!0;n=function(){var R4n;function a(a,b,f){var Z4n,c,L2M,P0M,g0M,r0M,l0M,U0M;Z4n=2;while(Z4n!==18){L2M="sta";L2M+="rtBuf";L2M+="f";L2M+="eri";L2M+="ng";P0M="requestCom";P0M+="plet";P0M+="e";g0M="re";g0M+="q";g0M+="ue";g0M+="stPr";g0M+="ogress";r0M="u";r0M+="nd";r0M+="e";r0M+="rf";r0M+="low";l0M="netw";l0M+="orkFa";l0M+="iled";U0M="1SIYb";U0M+="ZrNJCp";U0M+="9";switch(Z4n){case 5:this.config=f;U0M;t[m.CY]=f.Fdb?x:R;this.Go.on(l0M,this.Rcb.bind(this));Z4n=8;break;case 8:this.ED=h.time.da();this.$Q=0;c=this.mca.bind(this);a.on(r0M,this.K9.bind(this));a.on(g0M,c);a.on(P0M,c);Z4n=11;break;case 2:this.Go=b;Z4n=5;break;case 11:a.on(L2M,this.Rjb.bind(this));this.Lba={};this.w$=new d(b,f);this.aeb();Z4n=18;break;}}}R4n=2;while(R4n!==12){switch(R4n){case 2:a.prototype.Gqb=function(a){var s4n;s4n=2;while(s4n!==1){switch(s4n){case 4:this.aW=a;s4n=2;break;s4n=1;break;case 2:this.aW=a;s4n=1;break;}}};a.prototype.im=function(a,d,c,g){var i4n,h,m,q,u,n,y,A,x,G,q2M,m2M,H2M,J2M,s2M;i4n=2;while(i4n!==23){q2M="Invalid affecte";q2M+="d";q2M+=" for network failure";m2M=" : c";m2M+="ritical err";m2M+="or count = ";H2M=" ";H2M+="o";H2M+="n";H2M+=" ";J2M="F";J2M+="ai";J2M+="l";J2M+="ur";J2M+="e ";s2M="Unmapped failur";s2M+="e cod";s2M+="e in JSASE error d";s2M+="irector ";s2M+=": ";switch(i4n){case 14:y=t[c];this.DT={EJ:d,Xh:c,xra:q,sj:g};i4n=12;break;case 12:l[c]&&++this.$Q;i4n=11;break;case 20:A=n.GBa(a.url);i4n=19;break;case 10:i4n=void 0!==a.url?20:15;break;case 24:t8ii.k0M(0);p.error(t8ii.h0M(c,s2M));i4n=23;break;case 11:i4n=y!==r?10:23;break;case 8:n=this.Go;p.warn(J2M+q+H2M+JSON.stringify(a)+m2M+this.$Q);i4n=6;break;case 18:x=y[0];G=y[1];u.Ro?b.forEach(m,function(b,k){var I4n,D2M;I4n=2;while(I4n!==5){D2M="err";D2M+="o";D2M+="r";switch(I4n){case 2:y===R||y===K?h.w$.Emb({url:void 0!==a.url?a.url:b[0],Fb:k},{hna:k,uM:y,EJ:d,Xh:c,xra:q,sj:g}):b.some(function(a){var U4n;U4n=2;while(U4n!==5){switch(U4n){case 2:n.im(x,G,a);return x===f.Hf.lx;break;}}});!u.Sp||0!==d&&void 0!==d||(b=void 0!==a.url?a.url:b[0],h.aW&&b&&h.aW.Gaa(D2M,b));I4n=5;break;}}}):b.forEach(m,function(b,c){var S4n,v2M;S4n=2;while(S4n!==5){v2M="e";v2M+="rr";v2M+="o";v2M+="r";switch(S4n){case 2:S4n=y!==R||h.tob(c)?1:5;break;case 1:b.some(function(a){var u4n;u4n=2;while(u4n!==5){switch(u4n){case 2:n.im(x,G,a);return x===f.Hf.lx;break;}}}),!u.Sp||0!==d&&void 0!==d||(b=void 0!==a.url?a.url:b[0],h.aW&&b&&h.aW.Gaa(v2M,b));S4n=5;break;}}});i4n=23;break;case 6:i4n=c&&b.isArray(t[c])?14:24;break;case 19:A&&(m[A]=[a.url]);i4n=18;break;case 15:i4n=void 0!==a.host&&void 0!==a.port?27:26;break;case 27:m=n.cqb(a.host,a.port);i4n=18;break;case 26:p.error(q2M);return;break;case 2:h=this;m=k.Jt.name;q=c?m[c]:void 0;m={};u=this.config;i4n=8;break;}}};a.prototype.tob=function(a){var c4n,b,d,f;c4n=2;while(c4n!==13){switch(c4n){case 8:f.Wg=b,f.count=1;c4n=13;break;case 2:b=h.time.da();d=this.config;c4n=4;break;case 4:f=this.Lba[a];c4n=3;break;case 9:c4n=f.Wg<this.ED?8:7;break;case 6:return f.jt=!0;break;case 3:c4n=f?9:14;break;case 7:c4n=!(f.Wg>=b-d.vW||f.jt||(f.Wg=b,++f.count,f.count<d.$T))?6:13;break;case 14:this.Lba[a]={Wg:b,count:1};c4n=13;break;}}};a.prototype.Rcb=function(a){var n4n,b,d,f,c,g,k,m,z2M,T2M,i2M,b2M,V2M,p2M;n4n=2;while(n4n!==6){z2M="Network has f";z2M+="ail";z2M+="e";z2M+="d";z2M+=" ";T2M=" ms a";T2M+="g";T2M+="o";i2M="tem";i2M+="po";i2M+="rarily";b2M="perma";b2M+="nentl";b2M+="y";V2M=" last ";V2M+="succes";V2M+="s was ";p2M="s";p2M+="treami";p2M+="ngFa";p2M+="i";p2M+="lure";switch(n4n){case 7:f?(this.yE&&(clearTimeout(this.yE),this.yE=void 0),this.Ooa(),this.w$.reset(),this.DT&&(c=this.DT.Xh,g=this.DT.EJ,k=this.DT.sj),this.emit(p2M,{Jeb:a,skb:c,tkb:g,ukb:k})):this.yE||(this.yE=setTimeout(function(){var L4n;L4n=2;while(L4n!==5){switch(L4n){case 2:b.yE=void 0;b.qL();L4n=5;break;}}},m.o9));n4n=6;break;case 1:b=this;d=h.time.da()-this.ED;f=a;m=this.config;t8ii.k0M(1);p.warn(t8ii.h0M(V2M,a?b2M:i2M,d,T2M,z2M));!a&&d>m.n9&&(f=!0);n4n=7;break;case 2:n4n=1;break;}}};a.prototype.qL=function(a){var D4n,x2M;D4n=2;while(D4n!==1){x2M="networ";x2M+="kFailur";x2M+="eRese";x2M+="t";switch(D4n){case 2:this.yE||(this.Go.qL(!!a),this.Lba={},this.emit(x2M));D4n=1;break;}}};a.prototype.mca=function(a){var T4n,b;T4n=2;while(T4n!==9){switch(T4n){case 2:b=this.config;this.ED=Math.max(a.timestamp||h.time.da(),this.ED);this.Ooa();b.Ro&&this.w$.mca(a);T4n=9;break;}}};a.prototype.Rjb=function(){var B4n;B4n=2;while(B4n!==1){switch(B4n){case 2:this.$Q=0;B4n=1;break;case 4:this.$Q=6;B4n=2;break;B4n=1;break;}}};R4n=7;break;case 7:a.prototype.K9=function(a){var j4n,b,d,c,R2M,Z2M;j4n=2;while(j4n!==8){R2M="m";R2M+="s";Z2M="S";Z2M+="etti";Z2M+="ng under";Z2M+="flow ti";Z2M+="meout in ";switch(j4n){case 2:b=this;d=this.config;c=d.E8;j4n=3;break;case 3:this.ED=Math.max(a||h.time.da(),this.ED);d.Iub&&!this.vM&&(p.info(Z2M+c+R2M),this.vM=setTimeout(function(){var k4n,K2M,E2M;k4n=2;while(k4n!==4){K2M="ms, since ";K2M+="underflow ";K2M+="with no success";E2M="Forcing permanent";E2M+=" network failure";E2M+=" ";E2M+="after ";switch(k4n){case 2:t8ii.k0M(2);p.info(t8ii.h0M(c,E2M,K2M));b.vM=void 0;b.Go.im(f.Hf.fr,!0);k4n=4;break;}}},c));j4n=8;break;}}};a.prototype.Ooa=function(){var a4n,Y2M;a4n=2;while(a4n!==1){Y2M="Cl";Y2M+="eared underflow time";Y2M+="out";switch(a4n){case 2:this.vM&&(clearTimeout(this.vM),this.vM=void 0,p.info(Y2M));a4n=1;break;}}};a.prototype.aeb=function(){var E4n,b,d,f,c,c2M,y2M,d2M;E4n=2;while(E4n!==11){c2M="Init";c2M+="ial";c2M+="ized network failu";c2M+="re si";c2M+="mulation \"";y2M="mani";y2M+="f";y2M+="e";y2M+="stAdde";y2M+="d";d2M="manifestAd";d2M+="d";d2M+="ed";switch(E4n){case 3:c={n:0};E4n=9;break;case 2:b=this;d=this.Go;f=this.config.y3;E4n=3;break;case 9:E4n=f==="1"?8:6;break;case 14:d.on(d2M,function(){var G4n,a;G4n=2;while(G4n!==9){switch(G4n){case 3:a.sort(function(a,b){var v4n;v4n=2;while(v4n!==1){switch(v4n){case 2:return b.P-a.P;break;case 4:return b.P*a.P;break;v4n=1;break;}}}).map(function(a){var M4n;M4n=2;while(M4n!==1){switch(M4n){case 4:return a.url;break;M4n=1;break;case 2:return a.url;break;}}}).forEach(function(a){var z4n;z4n=2;while(z4n!==5){switch(z4n){case 2:setTimeout(function(){var W4n;W4n=2;while(W4n!==1){switch(W4n){case 2:d.oy()||b.im({url:a},k.Jt.AN);W4n=1;break;}}},5E3*Math.random());c.n+=1E3;z4n=5;break;}}});G4n=9;break;case 2:a=[];c.n=c.n||0;d.Wra(function(b,d,f,g){var f4n;f4n=2;while(f4n!==1){switch(f4n){case 2:c[g.id]||(c[g.id]=!0,a.push({P:f.P,url:g.id}));f4n=1;break;}}});G4n=3;break;}}});E4n=7;break;case 8:d.on(y2M,function(){var x4n,f;x4n=2;while(x4n!==9){switch(x4n){case 5:c.n=c.n||0;d.Wra(function(a,b,d,g){var r4n;r4n=2;while(r4n!==1){switch(r4n){case 2:c[g.id]||(c[g.id]=!0,f.push(g.id));r4n=1;break;}}});a(f).forEach(function(a){var J4n;J4n=2;while(J4n!==5){switch(J4n){case 2:setTimeout(function(){var g4n;g4n=2;while(g4n!==1){switch(g4n){case 2:b.im({url:a},k.Jt.GY);g4n=1;break;}}},4E3+c.n);c.n+=1E3;J4n=5;break;}}});x4n=9;break;case 2:f=[];x4n=5;break;}}});E4n=7;break;case 6:E4n=f==="2"?14:13;break;case 7:t8ii.k0M(2);p.warn(t8ii.N0M(f,c2M,'"'));E4n=11;break;case 13:return;break;}}function a(a){var o4n,b,d,f;o4n=2;while(o4n!==3){switch(o4n){case 8:b=a.length;o4n=3;break;o4n=1;break;case 2:b=a.length;o4n=1;break;case 1:o4n=b?5:4;break;case 5:f=Math.floor(Math.random()*b--),d=a[b],a[b]=a[f],a[f]=d;o4n=1;break;case 4:return a;break;case 14:return a;break;o4n=3;break;}}}};return a;break;}}}();c.CJa=n;a.mi(g.EventEmitter,n);},function(g,c,a){var b,f,h,p,d,k,m,t;Object.defineProperty(c,"__esModule",{value:!0});b=a(25);f=a(153);h=a(381);p=a(704);d=a(24);k=a(13);m=a(701);t=a(60);g=function(){function a(a,b,d,f,c,g,h,k,m,p,t,q){void 0===b&&(b=!1);void 0===f&&(f=0);this.uXa=p;this.EXa=t;this.Va=q;this.vn=0;this.Pd=a;this.replace=b;this.K0=d;this.U=f;this.ha=c;this.V7=g;this.Go=h;this.WI=k;this.K=m;}a.jsa=function(b,d,f,c,g,k,m){var p,t,q;p=g.wBa;t=b.zg(1);q=new h.Xca({qc:String(c.movieId),ba:g.ba,Ja:c,Kya:b.zg(0),Pya:t,xg:g.xg,gs:g.gs,config:d,K:f},function(){});t=(t=(t=t?a.Tka(c,1,p[1]):void 0)&&q.LS(t))&&t.$b;q.zJ&&t&&t.forEach(function(a){a.tn||(a.xg=!0);});return a.dka(b,d,f,c,q,p,g,k,m);};a.dka=function(f,c,g,h,k,t,q,l,u){var n,y,A,x,G,K,r;n=q.U;y=q.ha;A=q.e3;x=q.x6;q=q.CAa;q?(G=q.V7,A=q.Go,K=q.WI,A.AH(h)):(G=new b.Uw(),A=A(h),G.on(A,"logdata",function(a){d.na(f,a.type,a);}),K=new p.CJa(f,A,c),G.on(K,"streamingFailure",function(b){a.IUa(b,f,g,K);},f),G.on(K,"networkFailureReset",x,f));c.Sp&&(l&&l.TU&&l.oa?(r=new m.jRa(l.TU,{oa:l.oa,xR:l.xR,Bhb:c.QN.mx,f0a:c.QN.lv},u),K.Gqb(r)):u.rq("SideChannel: pbcid/xid is missing."));return new a(k,!!q,t,n,y,G,A,K,g,l,r,u);};a.Tka=function(a,b,d){a=a[0===b?"audio_tracks":"video_tracks"];k.assert(a&&d<a.length,"Expected valid selected track index, but got MediaType: "+b+", Index: "+d+"."+("ManifestTracks length: "+(a&&a.length)));return a[d].track_id;};a.kXa=function(a,b,d,f){var c,g;c=b;g=Math.abs(a.Mi-b.Mi);g<=d.VT?c=a.Mi>b.Mi?a:b:g>d.VT&&(c=a.Mi<b.Mi?a:b,f.warn("maxPts between streams is largely different. Choosing lower maxPts:",c));return c;};a.IUa=function(a,b,d,f){var c,g,h;c=a.Jeb;g=a.skb;h=a.tkb;a=a.ukb;d.warn("Streaming failure, state is "+b.ja.Ybb()+" is permanent: "+c+", last error code: "+g+", last http code: "+h+", last native code: "+a);c?(d.warn(" > Permanent failure, done"),b.zi("Permanent failure",void 0,"NFErr_MC_StreamingFailure",g,h,a)):b.ja.bm()?(d.warn(" > We are buffering, calling it!"),b.zi("Temporary failure while buffering",void 0,"NFErr_MC_StreamingFailure",a,h,a)):(d.warn(" > Resetting failures"),f.qL());};Object.defineProperties(a.prototype,{Oa:{get:function(){return this.Pd;},enumerable:!0,configurable:!0}});a.prototype.Vp=function(a){return this.Pd.LS(this.wS(a));};a.prototype.wS=function(b){return a.Tka(this.Pd.Ja,b,this.xS(b));};a.prototype.xS=function(a){return this.K0[a];};a.prototype.psa=function(a,b){return this.n6(a,b)+(0===a?this.Pd.Ja.video_tracks.length:0);};a.prototype.n6=function(a,b){var d;d=-1;(a=this.Pd.Ja[0===a?"audio_tracks":"video_tracks"])&&a.some(function(a,f){if(a.track_id===b)return d=f,!0;});return d;};a.prototype.ae=function(){this.Pd.H5a();delete this.Pd;};a.prototype.lca=function(a,b){this.Pd.lca(a,b);};a.prototype.clone=function(b){return a.dka(b,b.G,this.K,this.Pd.Ja,this.Pd,this.K0,{U:this.U,ha:this.ha,e3:function(a){return b.HO(a);},x6:b.R_,CAa:this.replace?b.Sab():void 0},this.uXa,this.Va);};a.prototype.ica=function(a){this.K0[0]=a;};a.prototype.dta=function(){return this.cl?this.cl.Mi:this.ha?this.ha:this.Pd.Ja.duration;};a.prototype.EQ=function(a,b,d,f,c,g,h){var k,m,p,t;if(g){k=g.Xa[1].ck;g=g.Xa[0].ck;if(!k||!g)return{Cz:[],wo:[]};m=k.ha;p=g.ha;k=p-m;h||(m=void 0);p-=g.U;}t=this.Gra(b,c.Xa,d,m,k,p);a===f.Vu&&[1,0].forEach(function(a){var b;b=c.Sg(a);b&&(b.yg=t[a]);});return{Cz:t.map(function(a){return a.U;}),wo:t};};a.prototype.M0a=function(a,b,d){var f,c,g;f=this.Pd.Vc[a];if(f&&f.stream.jd){if(this.wo&&this.wo[a]&&this.wo[a].U<=b&&this.wo[a].ha>b)return this.wo[a].Ic;a=f.$;c=a.Gi(b,void 0,!0);g=void 0;d&&(b=f.stream.ag(c).YR(b))&&(g=b.Kd);void 0===g&&(g=a.ig(c));return g;}};a.prototype.BQ=function(a,b,d,c,g,h,k,m){var p,t,q;if(!this.cL){p=this.Pd.Vc[0]&&this.Pd.Vc[0].stream.jd;t=this.Pd.Vc[1]&&this.Pd.Vc[1].stream.jd;if(!(c&&!p||g&&!t)){this.nca(a,d,c,g,h,k);p=[0,0];0===a||this.lK||this.replace||(q=b(a-1),q=f.lQ(this.Pd.M,q.Pd.M),q=this.EQ(a,function(a){return[c,g][a];},this.U,h,h.ug,h.ug,q),p=q.Cz);this.U=p[1];this.Cz=p;this.wo=q&&q.wo;this.toa(a,b);k.WVa(a,this.vn,this.U,this.cl.Mi,g?this.Pd.Vc[1].cl.Mi:this.Pd.Vc[0].cl.Mi);this.cL=!0;for(a+=1;a<m();++a)q=b(a),q.cL=!1,q.BQ(a,b,d,c,g,h,k,m);}}};a.prototype.toa=function(a,b){0===a||this.replace?this.vn=0:(a=b(a-1),this.vn=a.vn+a.dta()-this.U);};a.prototype.nca=function(b,d,f,c,g,h){var k,m,p,t,q,l;k=this;m=this.Pd.Vc[0];p=this.Pd.Vc[1];if((!f||m&&m.stream.jd)&&(!c||p&&p.stream.jd)){t=function(a){return[f,c][a];};q=this.ha||Infinity;l=this.dJ(t,g.ug.Xa,q,d);m=l.map(function(a){return{Mi:a.ha,ufb:a.U,lastIndex:a.index};});this.cl=m=c?!d.Gn||d.jn?m[1]:a.kXa(m[0],m[1],d,this.K):m[0];h.ZVa(b,c?this.Pd.Vc[1].cl.Mi:this.Pd.Vc[0].cl.Mi,m.Mi);b=g.K4(b);0<b.length&&b.forEach(function(a){var b;b=a.xa.ha;b&&b<q&&(l=k.dJ(t,a.Xa,b,d));b=a.Xa[1];a=a.Xa[0];b&&b.FL(l[1]);a&&a.FL(l[0]);});}};a.prototype.WR=function(a,b){var d;d=this.Pd.Vc[a];if(d&&d.stream.jd){if(b=d.$.Gi(b),-1!==b)return b;}else if(a=this.Pd.Una[a])return Math.round(b/a);};a.prototype.Gra=function(a,b,d,f,c,g){var h;h=this;return this.Ema(a)?[1,0].map(function(k){if(!a(k))return{};k=b[k].Fra(h.Pd.Vc[k].stream,d,f,c,g);d=k.U;return k;}).reverse():[];};a.prototype.dJ=function(a,b,d,f){var c;c=this;return this.Ema(a)?[1,0].map(function(g){var h;if(!a(g))return{};h=c.Pd.Vc[g].stream;g=b[g].f9a(h,d);d=f.ql?new t.gc(g.wb,h.Ia.ga).zf:g.ha;return g;}).reverse():[];};Object.defineProperties(a.prototype,{cba:{get:function(){return this.EXa;},enumerable:!0,configurable:!0}});a.prototype.Ema=function(a){var b,d;b=this.Pd.Vc;if(!b)return!1;d=b[1];d=!a(1)||d&&d.stream.jd;b=b[0];a=!a(0)||b&&b.stream.jd;return d&&a?!0:!1;};return a;}();c.nga=g;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=function(){function a(a,f,c,g,d,h,m,t,l,n){this.id=a;this.ba=f;this.U=c;this.zI=d;this.mj=h;this.$E=m;this.jo=t;this.vtb=l;this.lza=n;this.ha=g||Infinity;this.jo="number"===typeof t?t:this.ha;}a.prototype.toString=function(){return"segmentId: "+this.id+"playlistSegmentId: "+this.lza+" manifestIndex: "+this.ba+" pts: "+this.U+"-"+this.ha+" defaultKey: "+this.zI+" dests: "+JSON.stringify(this.mj)+" terminal: "+!!this.$E;};a.prototype.toJSON=function(){return{id:this.id,manifestIndex:this.ba,"startPts:":this.U,endPts:this.ha,defaultKey:this.zI,"dests:":this.mj,terminal:!!this.$E,beginJITPts:this.jo,playlistSegmentId:this.lza};};return a;}();c.dRa=g;},function(g,c,a){var b,f,h,p,d,k,m;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(13);a(5);h=a(59);p=a(24);d=a(210);k=a(94);m=a(201);g=function(a){function c(b,d,f,g,h,m){d=a.call(this,b,g,h,m)||this;d.NO=f;d.zk=void 0;d.M_=c.HA.INIT;d.gEb=g.offset;d.Y_=k.qk.prototype.toString.call(d)+" multiple";d.PB(b.url,g.offset,8,0);return d;}b.__extends(c,a);Object.defineProperties(c.prototype,{data:{get:function(){return this.zk;},enumerable:!0,configurable:!0}});c.prototype.ci=function(a){var b,g;this.zk=this.zk?p.$m(this.zk,a.response):a.response;a.jL();switch(this.M_){case c.HA.INIT:b=new DataView(this.zk);g=b.getUint32(0);b=b.getUint32(4);h.MG(b);this.PB(a.url,a.offset+a.aa,g,0);d.xA.prototype.ci.call(this,a);this.M_=c.HA.fga;break;case c.HA.fga:b=new DataView(this.zk);g=b.getUint32(this.Rja-8);b=b.getUint32(this.Rja-4);h.MG(b);this.PB(a.url,a.offset+a.aa,g-8,0);this.M_=c.HA.dga;d.xA.prototype.ci.call(this,a);break;case c.HA.dga:d.xA.prototype.ci.call(this,a);break;default:f.assert(!1);}};c.prototype.PB=function(a,b,d,f){a=new m.SM(this.stream,this.NO,this.Y_+" ("+this.ta.length+")",{M:this.M,O:this.O,za:this.za,P:this.P,offset:b,aa:d,url:a,location:this.location,Fb:this.Fb,responseType:f},this,this.K);this.push(a);this.Rja=this.ta.reduce(function(a,b){return a+b.aa;},0);};c.HA={INIT:0,fga:1,dga:2,name:["INIT","MOOF","MDAT"]};return c;}(d.xA);c.vFa=g;},function(g,c,a){var b,f,h,p,d,k,m;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);a(13);f=a(6);g=a(40);h=a(5);p=a(94);d=a(209);k=a(154);m=h.sk;a=function(a){function d(b,d,f,c,g,h,k){d=this;d=["cache","edit"].filter(function(a,b){return[h,c.Ta][b];});d=d.length?"("+d.join(",")+")":"";void 0===c.responseType&&(c.responseType=m.Sc&&!m.Sc.zE.nx?0:1);d=a.call(this,b,f,d,c,g,k)||this;p.qk.call(d,b,c);d.$Ua=c.Bfb;d.Uf.on(d,m.Bd.fBb,d.oWa);d.Uf.on(d,m.Bd.eBb,d.nWa);return d;}b.__extends(d,a);d.prototype.Bc=function(a,b,d,f){k.Jw.prototype.Bc.call(this,a,b,d,f);this.Pb||!a.G.fQ&&this.Yb||(this.Pb=a.kb.bf);};d.prototype.cw=function(){var a;a={start:this.offset,end:this.offset+this.aa-1};void 0!==this.Oc&&0<=this.Oc&&void 0!==this.Ve&&(this.oO=this.ula(this.oO,!0),a={start:0,end:-1});return m.prototype.open.call(this,this.oO,a,this.nO,{},void 0,void 0,this.Aja);};d.prototype.KW=function(a,b){var d,f;if(this.complete)return 0;d=this.gma;f=a[d];if(!f)return this.K.warn("updateUrl, missing stream for streamId:",d,"mediaRequest:",this,"streamMap:",a),1;if(!f.url)return this.K.warn("updateurl, missing url for streamId:",d,"mediaRequest:",this,"stream:",f),2;a=this.ula(f.url,!1);return this.url===a||(b(this,f.location,f.Ub),this.dM(a))?0:(this.K.warn("swapUrl failed: ",this.aD),3);};d.prototype.lP=function(){this.pd||(this.pd=!0,this.bk=this.track.bk(),this.uy(this),this.hk=0,this.ll=this.uc);};d.prototype.Hla=function(){var a;a=this.uc;this.Cl=h.time.da()-this.uc;this.ty(this);this.ll=a;};d.prototype.Jla=function(){var a;a=this.uc;this.Cl=h.time.da()-this.uc;this.eD(this);this.ll=a;this.hk=this.se;};d.prototype.oWa=function(){var a;a=this.tfb;this.Mg=!0;this.Pb&&(this.Pb.Lz(a,{requestId:this.Lm(),de:this.Fb,type:this.O}),this.Pb.aaa());};d.prototype.kP=function(){var a;a=this.uc;this.Cl=h.time.da()-this.uc;this.Pb&&this.Mg&&this.Pb.Nz(h.time.da(),this.Mg,{requestId:this.Lm(),de:this.Fb,type:this.O});this.Mg=this.pd=!1;this.hv(this);this.ll=a;this.hk=this.se;this.ae();};d.prototype.nWa=function(){this.Pb&&(this.Pb.Ox(this.aIb,this.tfb,this.sfb,{requestId:this.Lm(),de:this.Fb,type:this.O}),this.Pb.Nz(this.sfb,this.Mg,{requestId:this.Lm(),de:this.Fb,type:this.O}));this.Mg=!1;};d.prototype.qTa=function(a,b,d,f){return void 0===a||void 0===b||void 0===d?0:b<d?0:a<d?f:a-d;};d.prototype.ula=function(a,b){var d,c;if(f.R(this.Oc)||0>this.Oc||f.R(this.Ve))return a;d=[];c=this.qTa(this.Oc,this.Ve-1,this.$Ua,this.Nb.Cib);d.push("ptsRange/"+this.Oc+"-"+(this.Ve-1));0<c&&b&&d.push("timeDelay/"+c);a=a.split("?");b=a[0];for(var c="",g=0;g<d.length;g++)c+="/"+d[g];return a[1]?b+(c+"?"+a[1]):b+c;};return d;}(d.yF);c.rFa=a;g.mi(p.qk,a,!1);},function(g,c,a){var b,f,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(13);g=a(40);f=a(212);a=a(155);h=function(){function a(b,f){this.sa=[];this.Kg=void 0;this.Vb=0;this.K=b;f&&f.length&&(Array.isArray(f)?(this.sa=f.slice(),this.FG(0,this.sa.length)):f instanceof a&&(this.sa=f.sa.slice(),this.FG(0,this.sa.length)));}Object.defineProperties(a.prototype,{length:{get:function(){return this.sa.length;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{empty:{get:function(){return 0===this.sa.length;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{first:{get:function(){return this.sa[0];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Wg:{get:function(){return this.sa[this.sa.length-1];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{$a:{get:function(){return this.first&&this.first.$a;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{wb:{get:function(){return this.Wg&&this.Wg.wb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{opa:{get:function(){return this.Kg;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{aa:{get:function(){return this.Vb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ga:{get:function(){return this.first&&this.first.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Vo:{get:function(){return this.first&&this.first.Vo;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{$:{get:function(){return this.sa;},enumerable:!0,configurable:!0}});a.prototype.get=function(a){0>a&&(a+=this.sa.length);return this.sa[a];};a.prototype.push=function(a){this.sa.push(a);this.FG(this.sa.length-1);return this.length;};a.prototype.unshift=function(a){this.sa.unshift(a);this.FG(0,1);return this.length;};a.prototype.pop=function(){if(0!==this.sa.length)return this.E0(this.sa.length-1),this.sa.pop();};a.prototype.shift=function(){if(0!==this.sa.length)return this.E0(0),this.sa.shift();};a.prototype.splice=function(a,b){for(var d,f=[],c=2;c<arguments.length;c++)f[c-2]=arguments[c];0>a&&(a+=this.sa.length);0>a&&(a=0);a>this.sa.length&&(a=this.sa.length);if(void 0===b||0>b)b=0;b=Math.min(b,this.sa.length-a);0<b&&this.E0(a,a+b);c=(d=this.sa).splice.apply(d,[a,b].concat(f));0<f.length&&this.FG(a,a+arguments.length-2);return c;};a.prototype.slice=function(b,f){void 0===b&&(b=0);void 0===f&&(f=this.sa.length);0>b&&(b+=this.sa.length);if(b>=this.sa.length)return new a(this.K);f>this.sa.length&&(f=this.sa.length);0>f&&(f+=this.sa.length);return new a(this.K,this.sa.slice(b,f));};a.prototype.am=function(a){if(0===this.sa.length||a.$a>=this.wb)this.push(a);else if(a.wb<=this.$a)this.unshift(a);else{for(var d=0,f=this.sa.length-1,c;d<f-1;)c=Math.floor((f+d)/2),b.assert(c!==f&&c!==d),a.$a>=this.sa[c].wb?d=c:f=c;b.assert(d!==f);b.assert(this.sa[d].wb<=a.$a&&this.sa[f].$a>=a.wb);this.splice(f,0,a);}};a.prototype.remove=function(a){a=this.sa.indexOf(a);if(0>a)return!1;this.splice(a,1);return!0;};a.prototype.concat=function(){for(var b=[],f=0;f<arguments.length;f++)b[f]=arguments[f];b=b.map(function(a){return a.sa;});return new a(this.K,Array.prototype.concat.apply(this.sa,b));};a.prototype.forEach=function(a){var b;b=this;this.sa.forEach(function(d,f){return a(d,f,b);});};a.prototype.some=function(a){var b;b=this;return this.sa.some(function(d,f){return a(d,f,b);});};a.prototype.every=function(a){var b;b=this;return this.sa.every(function(d,f){return a(d,f,b);});};a.prototype.map=function(a){var b;b=this;return this.sa.map(function(d,f){return a(d,f,b);});};a.prototype.reduce=function(a,b){var d;d=this;return this.sa.reduce(function(b,f,c){return a(b,f,c,d);},b);};a.prototype.indexOf=function(a){return this.sa.indexOf(a);};a.prototype.find=function(a){var b,d;b=this;return this.sa.some(function(f,c){d=c;return a(f,c,b);})?this.sa[d]:void 0;};a.prototype.findIndex=function(a){var b,d;b=this;return this.sa.some(function(f,c){d=c;return a(f,c,b);})?d:-1;};a.prototype.filter=function(b){var d;d=this;return new a(this.K,this.sa.filter(function(a,f){return b(a,f,d);}));};a.prototype.eS=function(a){for(var b=this.sa.length-1;0<=b;--b)a(this.sa[b],b,this);};a.prototype.nba=function(a){for(var b=this.sa.length-1;0<=b;--b)if(a(this.sa[b],b,this))return!0;return!1;};a.prototype.XR=function(a){if(this.empty||a<this.Oc||a>=this.Ve)return-1;for(var b=0,d=this.sa.length-1,f;d>b;){f=Math.floor((d+b)/2);if(a>=this.sa[f].Oc&&a<this.sa[f].Ve){d=f;break;}a<this.sa[f].Ve?d=f-1:b=f+1;}return d;};a.prototype.cD=function(a){if(this.empty||a<this.Ic||a>=this.ge)return-1;for(var b=0,d=this.sa.length-1,f;d>b;){f=Math.floor((d+b)/2);if(a>=this.sa[f].Ic&&a<this.sa[f].ge){d=f;break;}a<this.sa[f].ge?d=f-1:b=f+1;}return d;};a.prototype.Hra=function(a){a=this.XR(a);return 0<=a?this.sa[a]:void 0;};a.prototype.Ira=function(a){a=this.cD(a);return 0<=a?this.sa[a]:void 0;};a.prototype.XP=function(a){var b;b=this.sa[a].wb;for(a+=1;a<this.sa.length&&b===this.sa[a].$a;++a)b=this.sa[a].wb;a<this.sa.length?void 0===this.Kg?this.Kg=new f.zF(this,{wb:b}):this.Kg.Raa(b):void 0===this.Kg?this.Kg=new f.zF(this,{}):this.Kg.B2();};a.prototype.iB=function(a,b){for(var d=a;d<b;++d)this.Vb+=this.sa[d].aa;void 0===this.Kg||0===a?this.XP(0):this.Kg.wb===this.wb?this.XP(a-1):this.sa[a].$a===this.Kg.wb&&this.XP(a);};a.prototype.Hr=function(a,b){var d;if(0===a)this.Kg=void 0,b<this.length&&this.XP(b);else{d=this.Kg;d.wb>this.sa[a-1].wb&&(b<this.length?d.Raa(this.sa[a-1].wb):d.B2());}for(;a<b;++a)this.Vb-=this.sa[a].aa;};a.prototype.FG=function(a,b){void 0===b&&(b=a+1);this.iB(a,b);};a.prototype.E0=function(a,b){void 0===b&&(b=a+1);this.Hr(a,b);};return a;}();c.fX=h;g.mi(a.TM,h);},function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});a(13);g=function(){function a(a,b){this.dc=a;this.sB=b;this.Cr();}Object.defineProperties(a.prototype,{length:{get:function(){return this.ru;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{empty:{get:function(){return 0===this.ru;},enumerable:!0,configurable:!0}});a.prototype.S9a=function(){return this.AB&&this.AB.get(0);};a.prototype.H_a=function(){return this.nB&&this.nB.get(this.nB.length-1);};a.prototype.get=function(a){0>a&&(a+=this.length);for(var b=0;b<this.dc.length;++b)if(this.Vf[b+1]>a)return this.dc[b].get(a-this.Vf[b]);};a.prototype.push=function(a){this.dc[this.sB(a)].push(a);this.Cr();return this.ru;};a.prototype.shift=function(){var a;if(this.AB){a=this.AB.shift();this.Cr();return a;}};a.prototype.pop=function(){var a;if(this.nB){a=this.nB.pop();this.Cr();return a;}};a.prototype.unshift=function(a){this.dc[this.sB(a)].unshift(a);this.Cr();return this.ru;};a.prototype.am=function(a){var b;b=this.sB(a);this.dc[b].am(a);this.Cr();};a.prototype.remove=function(a){var b;b=this.dc.some(function(b){return b.remove(a);});b&&this.Cr();return b;};a.prototype.splice=function(a,b){var l,n,r,x;for(var f,d=[],c=2;c<arguments.length;c++)d[c-2]=arguments[c];for(var c=[],g,h=a+Math.max(0,b),q=0;q<this.dc.length;++q){l=this.dc[q];n=this.Vf[q];r=this.Vf[q+1];if(a<r){x=a-n;n=Math.min(h-n,l.length);void 0===g&&0<x&&n<l.length?Array.prototype.push.apply(c,l.splice.apply(l,[x,n-x].concat(d))):(Array.prototype.push.apply(c,l.splice(x,n-x)),void 0===g&&(g=0<q&&0===x?q-1:q));a=r;if(a>=h)break;}}if(d.length&&void 0!==g){for(h=this.sB(d[0]);0<g&&h<g&&this.dc[g].empty;)--g;for(;d.length&&h===g;){this.dc[g].push(d.shift());if(!d.length)break;h=this.sB(d[0]);}for(;d.length&&++g<this.dc.length&&this.dc[g].empty;)for(;d.length&&h===g;){this.dc[g].push(d.shift());if(!d.length)break;h=this.sB(d[0]);}d.length&&(f=this.dc[g]).splice.apply(f,[0,0].concat(d));}this.Cr();return c;};a.prototype.find=function(a){var b,f;b=this;return this.dc.some(function(d,c){f=d.find(b.Bu(a,c));return void 0!==f;})?f:void 0;};a.prototype.findIndex=function(a){var f;for(var b=0;b<this.dc.length;++b){f=this.dc[b].findIndex(this.Bu(a,b));if(-1!==f)return f+this.Vf[b];}return-1;};a.prototype.indexOf=function(a){var f;for(var b=0;b<this.dc.length;++b){f=this.dc[b].indexOf(a);if(-1!==f)return f+this.Vf[b];}return-1;};a.prototype.map=function(a){var b,f;b=this;f=this.dc.map(function(d,f){return d.map(b.Bu(a,f));});return Array.prototype.concat.apply([],f);};a.prototype.reduce=function(a,b){var f;f=this;return this.dc.reduce(function(b,c,g){return c.reduce(f.vYa(a,g),b);},b);};a.prototype.forEach=function(a){var b;b=this;this.dc.forEach(function(f,d){f.forEach(b.Bu(a,d));});};a.prototype.eS=function(a){for(var b=this.dc.length-1;0<=b;--b)this.dc[b].eS(this.Bu(a,b));};a.prototype.some=function(a){var b;b=this;return this.dc.some(function(f,d){return f.some(b.Bu(a,d));});};a.prototype.nba=function(a){for(var b=this.dc.length-1;0<=b;--b)if(this.dc[b].nba(this.Bu(a,b)))return!0;return!1;};a.prototype.every=function(a){var b;b=this;return this.dc.every(function(f,d){return f.every(b.Bu(a,d));});};a.prototype.B9a=function(a,b){var h,q;function f(b){return b.reduce(function(b,d,f,c){return void 0===d?b:void 0===b?f:0>a(d,c[b])?f:b;},void 0);}for(var d=this,c=this.dc.map(function(){return 0;}),g=this.dc.filter(function(a){return a.empty;}).length;g<this.dc.length;){h=c.map(function(a,b){return a<d.dc[b].length?d.dc[b].get(a):void 0;});q=f(h);b(h[q],this.Vf[q]+c[q],this);++c[q];c[q]===this.dc[q].length&&++g;}};a.prototype.move=function(a){return this.remove(a)?(this.am(a),!0):!1;};a.prototype.Vqb=function(){var a;if(this.dc[1].length){a=this.dc[1].shift();this.dc[0].push(a);this.Cr();}};a.prototype.Jra=function(a){for(var b=-1,f=0;f<this.dc.length;++f)if(b=a(this.dc[f]),-1!==b){b+=this.Vf[f];break;}return b;};a.prototype.toJSON=function(){return this.map(function(a){return a.toJSON();});};a.prototype.Cr=function(){var b;this.ru=0;this.Vf=[0];this.nB=this.AB=void 0;for(var a=0;a<this.dc.length;++a){b=this.dc[a];this.ru+=b.length;this.Vf.push(this.Vf[this.Vf.length-1]+b.length);!this.AB&&b.length&&(this.AB=b);b.length&&(this.nB=b);}};a.prototype.Bu=function(a,b){var f,d;f=this;d=this.Vf[b];return function(b,c){return a(b,d+c,f);};};a.prototype.vYa=function(a,b){var f,d;f=this;d=this.Vf[b];return function(b,c,g){return a(b,c,d+g,f);};};return a;}();c.hHa=g;},function(g,c,a){var b,f,h,p,d,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);a(13);f=a(710);h=a(709);g=a(155);p=a(83);d=a(40);k=a(212);a=function(a){function d(b,d){var f,c;f=this;c=[new h.fX(b),new h.fX(b),new h.fX(b)];f=a.call(this,c,function(a){return a.complete?f.empty||a.$a<=f.V1a?0:1:a.active?1:2;})||this;f.ic=c[0];f.pd=c[1];f.Ep=c[2];f.Qm=0;f.g_=0;f.K=b;p.call(f,d);return f;}b.__extends(d,a);Object.defineProperties(d.prototype,{aa:{get:function(){return this.ic.aa+this.pd.aa+this.Ep.aa;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{HDa:{get:function(){return this.Ep;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{active:{get:function(){return this.pd;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{complete:{get:function(){return this.ic;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{unb:{get:function(){return this.Qm;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{cpa:{get:function(){return this.ic.aa;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ew:{get:function(){return this.ic.aa+this.pd.aa-this.Qm;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{first:{get:function(){return this.S9a();},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Wg:{get:function(){return this.H_a();},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{e4:{get:function(){return!this.ic.empty||this.Ep.empty||this.pd.empty?this.first:this.pd.$a<this.Ep.$a?this.pd.first:this.Ep.first;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Pva:{get:function(){return this.Ep.empty||this.pd.empty?this.Wg:this.pd.wb<this.Ep.wb?this.Ep.Wg:this.pd.Wg;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Rra:{get:function(){return this.Ep.first;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ga:{get:function(){return this.first&&this.first.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{$a:{get:function(){return this.e4&&this.e4.$a;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{wb:{get:function(){return this.Pva&&this.Pva.wb;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Vo:{get:function(){return this.first&&this.first.Vo;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{T1a:{get:function(){return this.ic.duration;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Zkb:{get:function(){return this.pd.duration;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Ydb:{get:function(){return this.Ve-this.S1a||0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{V1a:{get:function(){return this.ic.empty?this.$a:this.ic.wb;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{S1a:{get:function(){return this.ic.empty?this.Oc:this.ic.Ve;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{O2:{get:function(){return this.ic.empty?this.Ic:this.ic.ge;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{U1a:{get:function(){return this.ic.aa;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{U9:{get:function(){return this.pd.ge||this.ic.ge;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{fp:{get:function(){return this.Ep.length;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Fp:{get:function(){return this.pd.length;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{TV:{get:function(){return this.ic.concat(this.pd);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{opa:{get:function(){return this.Kg;},enumerable:!0,configurable:!0}});d.prototype.iB=function(a){var b;a.Hl?++this.g_:this.Qm+=a.se;if(this.empty)this.Kg=new k.zF(this,{});else if(a.$a!==this.wb&&a.$a===this.Kg.wb){b=a.wb;this.B9a(function(a,b){return a.$a-b.$a;},function(a){b=a.$a===b?a.wb:b;});b===this.wb&&this.Kg.B2();}a.Eqb(this);};d.prototype.Hr=function(a){a.Hl?--this.g_:this.Qm-=a.se;this.empty?this.Kg=void 0:a.$a!==this.wb&&a.wb<this.Kg.wb&&a.$a>=this.Kg.$a&&this.Kg.Raa(a.$a);a.Moa();};d.prototype.push=function(b){this.iB(b);return a.prototype.push.call(this,b);};d.prototype.shift=function(){var b;b=a.prototype.shift.call(this);b&&this.Hr(b);return b;};d.prototype.pop=function(){var b;b=a.prototype.pop.call(this);b&&this.Hr(b);return b;};d.prototype.unshift=function(b){this.iB(b);return a.prototype.unshift.call(this,b);};d.prototype.am=function(b){this.iB(b);a.prototype.am.call(this,b);};d.prototype.remove=function(b){if(!a.prototype.remove.call(this,b))return!1;this.Hr(b);return!0;};d.prototype.splice=function(b,d){for(var f=[],c=2;c<arguments.length;c++)f[c-2]=arguments[c];c=a.prototype.splice.apply(this,[b,d].concat(f));f.forEach(this.iB.bind(this));c.forEach(this.Hr.bind(this));return c;};d.prototype.Smb=function(a){var b;b=this;this.reduce(function(d,f,c){f.Hl&&(a&&a(f,c,b),0===d.length||d[0].end!==c?d.unshift({start:c,end:c+1}):d[0].end+=1);return d;},[]).forEach(function(a){return b.splice(a.start,a.end-a.start);});};d.prototype.XR=function(a){return this.Jra(function(b){return b.XR(a);});};d.prototype.cD=function(a){return this.Jra(function(b){return b.cD(a);});};d.prototype.Hra=function(a){a=this.XR(a);return-1!==a?this.get(a):void 0;};d.prototype.Ira=function(a){a=this.cD(a);return-1!==a?this.get(a):void 0;};d.prototype.qz=function(a){this.move(a);this.uy(a);};d.prototype.HK=function(a){this.Qm+=a.se-a.hk;this.eD(a);};d.prototype.ci=function(a){for(this.Qm+=a.se-a.hk;this.pd.first&&this.pd.first.complete&&(this.ic.empty?this.pd.first===this.e4:this.pd.first.$a===this.ic.wb);)this.Vqb();this.hv(a);};d.prototype.KU=function(a,b){this.Qm-=a.se;++this.g_;this.iS(a,b);};return d;}(f.hHa);c.qFa=a;d.mi(p,a,!1);d.mi(g.TM,a);},function(g,c,a){var f,h,p,d,k,m,t,l,n,A;function b(a,d){var f;f=a.Ge?b(a.Ge,d):[];f.push({Rb:a.xa.id,mxa:a.Xa[d].Za});return f;}f=a(0);h=a(13);p=a(6);d=a(11);k=a(5);c=a(25);m=a(211);t=a(711);l=a(708);n=a(707);A=a(83);a=a(54);A=function(a){function c(b,d,f,c,g,h){var k;k=a.call(this,c)||this;k.X=b;k.rf=d;k.cc=f;k.gH=c;k.Sj=g;k.G=h;k.NBa(c.K);k.hma();return k;}f.__extends(c,a);Object.defineProperties(c.prototype,{Zz:{get:function(){return 0<this.Mz;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{rba:{get:function(){return!this.xx;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Mz:{get:function(){return this.ta.length;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{fp:{get:function(){return this.ta.fp;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{ay:{get:function(){return this.ta.O2||(this.fi?this.fi.ay:0);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ce:{get:function(){return this.Sja();},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ju:{get:function(){return this.q_();},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Bj:{get:function(){return this.pTa();},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Iu:{get:function(){return this.kTa();},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{gF:{get:function(){return this.ta.T1a;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{zt:{get:function(){return this.Tja();},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{dw:{get:function(){return this.xUa();},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Qya:{get:function(){return this.H0a();},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{US:{get:function(){return this.ta.length>this.ta.fp;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Fp:{get:function(){return this.ta.Fp;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{fi:{get:function(){return this.cc.Ge&&this.cc.Ge.Xa[this.Sj].Za;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{nlb:{get:function(){return this.ta.length-this.Om;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{$:{get:function(){return this.ta;},enumerable:!0,configurable:!0}});c.prototype.NBa=function(a){this.K=a;this.bd=this.K.error.bind(this.K);this.Ha=this.K.warn.bind(this.K);this.Gk=this.K.trace.bind(this.K);this.fb=this.K.log.bind(this.K);};c.prototype.H0a=function(){return this.G.Rr?this.ta.Zkb:this.ta.Ydb;};c.prototype.G4a=function(a,b,d,f){var c,g;c=this.G;this.G.QD&&a.$j()[this.Sj]-this.Ska()<b.aa&&(b.QD=this.G.QD);p.R(f)||(b.location=f.location,b.Fb=f.Ub,b.Paa=f.pl);if(c.Sp){g=this.X&&this.X.hf&&this.X.hf.cba;g&&(b.$V=g.Pl({Ce:this.gH.Ce,CU:c.x7a?c.CU:void 0}));}h.assert(!b.aq);b=c.w7a?new n.vFa(f,c,d.track,b,this.ta,this.K):f.Oa.QC(this.Sj)?new l.rFa(f,c,d.track,b,this.ta,!1,this.K):m.gX.create(f,c,d.track,b,this.ta,!1,this.K);b.Bc(a,a.eU,this.G,this.gH);this.ZB(b);this.rf.Ala(b);return b;};c.prototype.uZa=function(a,b){var d;d=this.gH;b.Bc(a,a.eU,this.G,this.gH);b.u1=!0;this.ZB(b);b.complete?(this.t_(b),this.rf.$xa(d,a.jc(b.Oa.ba).Oa,b.za,b.Ic),this.iF(),this.hv(b)):(b.active&&this.uy(b),b.nAa&&this.ty(b));};c.prototype.reset=function(){this.ta.forEach(function(a){a.ae();});this.hma();};c.prototype.QAa=function(){this.xx=!1;};c.prototype.AYa=function(){this.ta.forEach(function(a){a.abort();});this.reset();};c.prototype.ZB=function(a){this.ta.am(a);this.t_(a);a.hq&&(this.xx=!1);};c.prototype.iF=function(){var a,b,d;b=this.gH.O;a=this.cc;if(a.active&&this.Om!==this.ta.length){if(a=a.Ge){d=a.uta(b);if(0!==d&&(a.Xa[b].JH(),d=a.uta(b),0!==d))return;}for(var d=this.G.whb,f=0;this.Om<this.ta.length;){if(a=this.ta.get(this.Om)){if(this.ta.Rra&&this.ta.Rra.$a<a.$a)break;if(!a.My())break;this.X.ef[b].f_a(a);++f;p.pa(this.Ic)||(this.Ic=a.Ic);}++this.Om;if(!p.R(d)&&f>=d)break;}}};c.prototype.snb=function(a){var f;for(var b,d=0;d<this.ta.length;++d){f=this.ta.get(d);f&&a<f.ge&&(p.R(b)&&(b=d),f.Rh=!1);}p.R(b)||(this.Om=b,this.iF());};c.prototype.Fqb=function(a,b,d){var f;f=this.G;0!==this.ta.fp&&this.ta.HDa.first.P!==b&&(f.kf&&this.Qh("setSelectedBitrate new bitrate: "+b),this.CYa(a,d));};c.prototype.BYa=function(a){a=this.ta.cD(a);if(-1!==a)for(;++a<this.ta.length;)this.bu(this.ta.get(a));this.C0();this.iF();};c.prototype.CYa=function(a,b){var d,f,c;d=this;f=[];if(0!==this.ta.fp){c=this.ta.U9;this.ta.HDa.nba(function(b){if(!p.R(a)&&b.Oa.ba!==a||b.hq||c>b.Ic)return!0;b.aS&&(d.xx=!1);if(!d.bu(b))return d.Ha("request abort failed:",b.toString()),!0;f.unshift(b);});this.C0();f.length&&"function"===typeof b&&b(f);}};c.prototype.zV=function(){this.C0();};c.prototype.Umb=function(a,d){var f,c,g,h;f=this.G;c=a;g=this.X.kb.lCa;if(a>g){c=a-g;h=function(a,b){var g,h,k;g=!1;h=0;k=b.some(function(b){if(c<b.ge)return g&&a.t_(b),!0;++h;b.Rh||(a.Ha("pruning unappended request:",b&&b.toString()),f.kf&&a.Qh("prune pts:"+c+" unappended request:"+(b&&b.toString())),b.aS&&(a.xx=!1,g=!0),a.bu(b,d)||a.bd("MediaRequest.abort error:",b.Xh));});0<h&&(b.splice(0,h),a.Om-=Math.min(h,a.Om));return k;};b(this.cc,this.Sj).some(function(a){a=a.mxa;return h(a,a.ta);});return c;}};c.prototype.kbb=function(){return this.ta.empty?null:Math.min(this.ta.opa.ge,this.ta.U9);};c.prototype.Cta=function(){var a,d,f,c,g,h;a=this.G;d=null;f=null;c=0;g=0;h=[];b(this.cc,this.Sj).forEach(function(b){var k;b=b.mxa.ta;p.pa(b.Ic)&&(null===f||b.Ic<f)&&(f=b.Ic);k=a.Rr?b.U9:b.ge;p.pa(k)&&(null===d||k>d)&&(d=k);c+=b.ew;g=a.hba?g+b.unb:g+b.cpa;Array.prototype.push.apply(h,b.TV.$);});return{Vlb:d,Ic:f,ew:c,rm:g,$:h};};c.prototype.dD=function(a,b,d){return this.Gka(a,!1,b,d);};c.prototype.i9a=function(a){return this.Gka(a,!0,void 0,void 0);};c.prototype.pca=function(a,b){var d,f;d=this;f=[];this.ta.forEach(function(c){var g;g=c.KW(a[c.O],b);1===g||2===g?f.push(c):3===g&&d.zi("swapUrl failure");});return f;};c.prototype.Ri=function(a){this.G.hL&&this.snb(a);};c.prototype.aw=function(a){a.Ny&&a.My()&&this.iF();this.ty(a);};c.prototype.ci=function(a){a.Ny&&!a.Rh&&this.iF();this.hv(a);};c.prototype.y1=function(a){var b,f,c;b=this.Sj===d.L.VIDEO?"v_":"a_";f=this.ta;c=f.cD(a);a=0<=c?f.get(c):void 0;return(f=0<=c&&c+1<f.length?f.get(c+1):void 0)&&a?a.ge!==f.Ic?b+"rg":a.complete&&f.complete?b+"uk":b+"fd":b+"rm";};c.prototype.xUa=function(){return this.ta.Fp+(this.G.Rr?0:this.ta.fp);};c.prototype.pTa=function(){return void 0===this.ta.Ic?0:this.ta.ge-this.ta.Ic;};c.prototype.kTa=function(){var a,b;a=this.q_(!0);b=this.Sja(0,!0);return{aa:a,zf:b};};c.prototype.Sja=function(a,b){void 0===a&&(a=this.X.ja.lf());a=b?Math.max(this.ta.Ic,a):a;return Math.max(this.ta.O2-a,0)||0;};c.prototype.q_=function(a){var b;b=this.ta.U1a;return a||!this.fi?b:b+(this.fi.ta.O2>=this.ta.Ic?this.fi.q_():0);};c.prototype.Tja=function(){return this.ta.cpa+(this.fi?this.fi.Tja():0);};c.prototype.Ska=function(a){return(this.cc.Ge&&this.cc.Ge.Xa&&void 0!==a&&this.cc.Ge.Xa[a]?this.cc.Ge.Xa[a].Za.Ska(a):0)+this.ta.aa;};c.prototype.hma=function(){this.ta=new t.qFa(this.K,this);this.Om=0;this.Ic=null;this.xx=!1;};c.prototype.t_=function(a){this.xx?a.aS=!1:this.xx=a.aS=!0;};c.prototype.bu=function(a,b){if(!a.abort())return!1;"function"===typeof b&&b(a);return!0;};c.prototype.C0=function(){var a,b;a=this;b=0;this.ta.Smb(function(d,f){f<a.Om&&++b;});this.Om-=b;};c.prototype.Gka=function(a,b,d,f){for(var c,g=this;g;){c=g.ta;if(c.length&&(c=b?c.Hra(a):c.Ira(a))&&(void 0===d||d===c.Oa.ba))return c;if(f)break;g=g.fi;}};c.prototype.zi=function(a){a={type:"streamingFailure",msg:a};this.na(a.type,a);};c.prototype.Qh=function(a){a={type:"managerdebugevent",message:"@"+k.time.da()+", "+a};this.na(a.type,a);};return c;}(A);a(c.EventEmitter,A.prototype);g.T=A;},function(g,c,a){var b,f,h,p,d,k,m,t,l,n;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=a(83);f=a(5);h=a(712);p=a(6);d=a(200);k=a(11);m=a(60);t=a(359);l=a(24);n=a(13);a=function(a){function c(b,d,c,g,k,m,p,q){var u;u=a.call(this,g)||this;u.X=b;u.rf=d;u.K=c;u.Rb=g;u.O=k;u.ab=m;u.Faa=p;u.G=q;u.Cja=!1;u.kb=b.kb;u.jVa();u.geb=m;u.ab=m;u.WE=new t.QZ(void 0,p,q,g.Ge?g.Ge.Xa[k].WE:void 0);u.O7=f.time.da();u.rfb=void 0;u.Za=new h(b,d,g,u,k,q);u.Za.addEventListener("streamingFailure",function(a){b.zi(a.msg,u.Rb.ba);});q.kf&&u.Za.addEventListener("managerdebugevent",function(a){l.na(b,a.type,a);});u.rib=1===k?q.pU:q.hU;u.kU=(1===k?q.$D:q.WD)||q.kU;u.Mp=!1;u.e2=0;u.dz=q.g7;u.Cza=f.time.da();u.oH=!1;q.ql&&(u.kz=0,u.Pz=0,u.cy=0);return u;}b.__extends(c,a);Object.defineProperties(c.prototype,{Zz:{get:function(){return this.Za.Zz;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{rba:{get:function(){return this.Za.rba;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{kk:{get:function(){return this.Rb.xa.id;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{ay:{get:function(){return this.Za.ay;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ce:{get:function(){return this.Za.Ce;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ju:{get:function(){return this.Za.Ju;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Bj:{get:function(){return this.Za.Bj;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Iu:{get:function(){return this.Za.Iu;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{gF:{get:function(){return this.Za.gF;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{zt:{get:function(){return this.Za.zt;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{g0a:{get:function(){var a;a=this.X.$j()[this.O];return this.Za.zt/a;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{h0a:{get:function(){var a;a=this.X.$j()[this.O];return this.Za.Cta().rm/a;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{US:{get:function(){return this.Za.US;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Mz:{get:function(){return this.Za.Mz;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{$b:{get:function(){return this.Rb.Hta(this.O);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ig:{get:function(){return this.Cja;},set:function(a){this.Cja=a;},enumerable:!0,configurable:!0}});c.prototype.reset=function(a,b){this.Mp=!1;this.seeking=void 0;this.Ig=!1;this.Za.reset();a&&(this.AE=!0);this.DV={reason:b,time:f.time.da()};};c.prototype.Ri=function(a){this.Za.Ri(a);this.dz=this.G.g7;};c.prototype.JH=function(){this.Za.iF();};c.prototype.ZBa=function(a,b,f){var c;this.mma=b;this.J0=f;f=this.X;c=this.O;f.te.rub(c,b.$b,a);0===c&&(this.oH=d.kna(this.G,b.$b[0]));f.HUa(this,b.Zy);this.F0a(b.$b);f.te.A1a();this.Ig=!1;};c.prototype.yqb=function(a,b){var d;if(this.G.$B){d=this.Za.kbb();null!==d?(this.ab=d,this.bi=d===a?b:this.X.jc(this.Rb.ba).WR(this.O,this.ab)):(this.Ha("nextPts from requestManager returns null,","fall back to linear increasing streamingPts"),this.ab=a,this.bi=b);}else this.ab=a,this.bi=b;};c.prototype.qt=function(a){var b,d,f;if(this.yg&&this.yg.U===a)b=this.yg.index,d=a;else{f=this.X.jc(this.Rb.ba);b=f.Oa.Vc[this.O];if(!b||!b.stream.jd){this.vq=a;return;}d=b.$;this.yg=this.Fra(b.stream,a,void 0,void 0);if(void 0===this.yg){if(b=d.length-1,d=d.ig(b),this.Ha("setStreamingPts out of range of fragments, pts:",a,"last startPts:",d,"fragment index:",b,"fastplay:",f.xg),f.xg){this.vq=a;return;}}else b=this.yg.index,d=this.yg.U;}this.bi=b;this.ab=d;this.vq=void 0;};c.prototype.Hob=function(a){this.qt(a);this.Ig=!1;this.ha=void 0;this.Za.QAa();};c.prototype.Gob=function(a){this.yg=a;this.Ig=!1;this.ha=void 0;this.bi=this.yg.index;this.ab=this.yg.U;this.vq=void 0;this.Za.QAa();};c.prototype.Tob=function(a){var b;b=this.X.jc(this.Rb.ba).Oa.Vc[this.O];if(b&&b.stream.jd){for(var d=b.$;0<this.bi&&this.ab>a;)this.ab=d.ig(--this.bi);this.bi<this.yg.index&&(this.yg=b.stream.ag(this.bi));this.vq=void 0;}else this.vq=a;};c.prototype.bvb=function(a){var b,d;b=this.mma.Zp(a);d="verifying streamId: "+a+" stream's track: "+(b?b.za:"unknown")+" currentTrack: "+this.mma.eb;return b?!0:(this.X.Qh(d),this.X.Qh("unknown streamId: "+a),!1);};c.prototype.F0a=function(a){this.vua=a.reduce(function(a,b){return b.inRange&&b.mf&&!b.Tg&&b.P>a.P?b:a;},a[0]);this.sdb=a.indexOf(this.vua);};c.prototype.i8a=function(a){return 1===this.O?0:this.oH?0:this.G.Gn?a&&a.zf||0:this.G.jn&&a?-a.zf:0;};c.prototype.KL=function(){return 1===this.O&&this.G.ys||0===this.O&&this.G.jn;};c.prototype.Fra=function(a,b,d,f,c){var g,h,k,m,p,t,q;n.assert(b>=a.$.ig(0));g=this.G;h=this.KL();k=a.$;m=b+0;0===this.O&&void 0===f&&h&&g.io&&!g.Sx&&a.yj&&(b=Math.max(a.$.ig(0),b+a.yj.zf));p=k.Gi(m,void 0,!0);a.Oa.QC(this.O)&&(p=Math.floor(p/g.F9)*g.F9);t=a.ag(p);if(t.ha<b)return t;if(h){m=1===this.O?m:b;q=t.YR(m);q?(0<q.km&&t.Ej({start:q.km}),0!==this.O||g.hxa||q.Kd<(g.io&&!g.Sx&&a.yj?Math.floor(a.yj.zf):0)&&t.Lqa()):m>=t.ha&&p<k.length-1&&(t=a.ag(p+1));}1===this.O&&d&&t.ha===d&&p<k.length-1?t=a.ag(p+1):0===this.O&&!h&&void 0!==f&&!g.Gn&&(d=b+f,d-t.U>g.dhb||t.U<d-c)&&(t=a.ag(p+1));h&&0===this.O&&!t.Ta&&(g.PJ||g.Wua||g.h7a)&&void 0!==f&&t.Ej({});t.HL(b);return t;};c.prototype.f9a=function(a,b){var d,f,c,g,h;f=this.G;if(f.ql&&(d=this.lUa(a,b)))return d;d=a.$;c=d.Ia;g=b?b+this.i8a(c):d.VC(d.length-1);c=d.Gi(g,void 0,!0);d=a.ag(c);0===c||d.U!==b||1!==this.O&&f.Gn||(--c,d=a.ag(c));if(this.KL()){g=1===this.O?g:b;if(g<d.ha){h=d.k9a(g);h&&0!==h.km?d.Ej({end:h.km}):0===this.O&&(h||g<d.U)&&0!==c?d=a.ag(c-1):1===this.O&&h&&0!==c&&(d=a.ag(c-1));}0!==this.O||d.Ta||!f.PJ&&!f.Vua||d.Ej();}else 0===this.O&&!f.Gn&&b-d.U<d.duration/2&&0!==c&&(d=a.ag(c-1));d.HL(b);return d;};c.prototype.FL=function(a){this.ck=a;this.ha=a.ha;};c.prototype.gVa=function(a,b){var d,c,g,h,k,t;d=this.G;c=this.Rb;g=a.url;h=this.O;k=this.X.bb.Cb[h];b=b.$;t=this.bi;t>=b.length?this.Ha("makeRequest nextFragmentIndex:",t,"past fragments length:",b.length,"fastplay:",this.X.Ak):this.yg&&this.ck?(b=a.Oa.QC(h)?this.rUa(a,t):this.sUa(a,t))?(t=b.d4.LC(a.Ia),this.Pz+=t,this.X.ja.bm()&&++this.e2,b.hq&&1===h&&this.rf.q0(c.xa,b.ha),this.X.M0(h,b.U),b.VBa(new m.gc(c.Rc,1E3)),f.time.da(),c=this.Za.G4a(this.X,b,k.ik,a),c.cw()?(c.Pz=t,k.Nva=a.Ub,p.pa(k.Vl)||(k.Co=a.pl,k.LJ=a.LJ||-1,k.Vl=a.P,k.deb=a.Daa,p.R(a.Daa)||this.X.Od.RBa(a.Daa,a.$l,a.Zk)),g&&(k.Q7=b.url),d.Zqa&&this.kb.bf.ZB(f.time.da(),b.aa),this.X.LG(this)||this.Ha("!continueDriving in requestCreated"),this.yqb(c.Ve,b.zK),this.X.ATa(this),this.X.th()):(this.Ha("MediaRequest.open error: "+c.Xh+" native: "+c.sj),7!==c.readyState&&(this.Ha("makeRequest caught:",c.Xh),this.X.zi("MediaRequest open failed (1)",this.Rb.ba,"NFErr_MC_StreamingFailure")))):this.Ha("makeRequest unable to get valid fragment"):this.Ha("makeRequest delayed, first or last fragment not set","first:",!!this.yg,"last:",!!this.ck);};c.prototype.qz=function(a){a.ha&&a.U&&(this.dz-=a.ha-a.U);this.uy(a);};c.prototype.aw=function(a){this.ty(a);};c.prototype.ci=function(a){this.hv(a);};c.prototype.hub=function(a){var b;b=f.time.da();this.dz+=a*(b-this.Cza);this.Cza=b;};c.prototype.Fob=function(){this.dz=this.G.g7;};c.prototype.LQ=function(a){var b,d;b=this.G;if(!b.ql){d=this.Rb;!d.xa.$E||this.X.FB||this.X.oP||(p.R(a)&&(a=this.X.ja.lf()||0),a-=d.Rc,this.Ig&&!this.br&&a+b.Vsb>=this.ha&&0===this.Za.dw&&0===this.Za.fp&&this.rf.PVa(this,this.X.Be,this.X.sb.length));}};c.prototype.$ta=function(a){var b,d,f,c;b=this.G;d=this.Rb;f=a.Oa.ba;c=this.X;c.ja.w7()||c.ja.$e()||(this.rf.jWa(a.O,f,this.J0,this.ay),b.ql&&(this.cy+=a.Pz,this.Ha("handleRequestDone, adding frames:",a.Pz,"total frames:",this.cy,"needed frames:",d.Sg(a.O).kz)),c.fu()||(b=d.Sg(k.L.VIDEO))&&!b.Mp&&b.US&&c.bb.HS(b),this.LQ(),c.Lcb(a),c.Vh.LG(this)&&c.Vh.th());};c.prototype.toJSON=function(){return{started:this.Zz,startOfSequence:this.rba,segmentId:this.kk,requestedBufferLevel:this.Bj,manifestIndex:this.Rb.ba,hasFragments:this.US};};c.prototype.jVa=function(){this.K=l.ND(f,this.K,"["+this.O+"]");this.bd=this.K.error.bind(this.K);this.Ha=this.K.warn.bind(this.K);this.Gk=this.K.trace.bind(this.K);this.fb=this.K.log.bind(this.K);this.ju=this.K.debug.bind(this.K);this.Za&&this.Za.NBa(this.K);};c.prototype.sUa=function(a,b){var d,f;d=a.$;f=b===this.yg.index;b===this.ck.index?(a=a.Xsa(this.ck),a.HL(this.ck.Aw),a.A8()):f?(a=a.Xsa(this.yg),a.HL(this.yg.Aw)):a=a.ag(b);a.zK=b+1;if(!a.Ta&&!this.X.fq)for(++b;b<d.length&&b<this.ck.index&&(a.aa<this.rib||a.duration<this.kU);++b)a.v1(d.get(b)),a.zK=b+1;return a;};c.prototype.rUa=function(a,b){var d,c;d=this.G;c=a.$;a=a.ag(b);a.zK=b+1;if(!a.Ta)for(++b;b<c.length&&b<this.ck.index&&(a.duration<this.kU||0!==b%d.F9);++b)a.v1(c.get(b)),a.zK=b+1;a.Bfb=this.X.WO+(f.time.da()-this.X.XO);return a;};c.prototype.lUa=function(a,b){var f,c;f=this.G;if(f.ql){c=a.$;if(c){if(1===this.O)b=c.Gi(f.ql*a.Ia.zf,void 0,!0),c=a.ag(b),c.Ej({start:0,end:f.ql-b*c.d4.LC(a.Ia)}),this.kz=f.ql;else{f=d.mta(f,this.X.eU)+f.k_a*a.Ia.zf;b+=f;f=Math.ceil(b/a.Ia.zf);b=c.Gi(b,void 0,!0);for(var g=0,h=0;h<b;++h)c=a.ag(h),g+=c.d4.LC(a.Ia);g=f-g;c=a.ag(b);c.Ej({end:g});this.kz=f;}c.A8();return c;}}};return c;}(g);c.Kha=a;},function(g,c,a){var b,f,h,p,d,k,m,t;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(48);h=a(6);p=a(713);g=a(83);d=a(11);k=a(153);m=a(5);t=a(24).ND;a=function(a){function c(b,f,c,g,k,q,l,u,n,y){var A,r;A=a.call(this,b)||this;A.X=b;A.rf=f;A.K=c;A.kb=g;A.xa=q;A.U=l;A.ba=u;A.Ge=n;A.active=!1;A.G=b.G;A.Ge=n;A.xa=q;A.U=l;A.jo=q.jo;A.children=Object.create(null);A.Mq=[];A.MWa=q.id&&q.id.length?"{"+q.id+"}":"";A.K=t(m,c,A.MWa);A.bd=A.K.error.bind(A.K);A.Ha=A.K.warn.bind(A.K);A.Gk=A.K.trace.bind(A.K);A.fb=A.K.log.bind(A.K);A.ju=A.K.debug.bind(A.K);f=b.jc(u);A.Rc=f.vn;A.o0=f.Oa.M;A.ba=u;A.Xc=void 0;h.pa(y)||(y=l);A.Xa=[];r=k.Zrb;[d.L.AUDIO,d.L.VIDEO].forEach(function(a){var d;if(b.zg(a)){d=new p.Kha(b,A.rf,A.K,A,a,y,r[a],A.G);A.Xa[a]=d;}});A.Nua(u);return A;}b.__extends(c,a);Object.defineProperties(c.prototype,{M:{get:function(){return this.o0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Bj:{get:function(){return[this.Xa[0].Bj,this.Xa[1].Bj];},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Iu:{get:function(){return[this.Xa[0].Iu,this.Xa[1].Iu];},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{vn:{get:function(){return this.X.jc(this.ba).vn;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Oc:{get:function(){return this.U;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ve:{get:function(){return this.ha;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{ha:{get:function(){return h.pa(this.zka)?this.zka:this.xa.ha;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ic:{get:function(){return this.U+this.Rc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{ge:{get:function(){return this.ha+this.Rc;},enumerable:!0,configurable:!0}});c.prototype.toJSON=function(){return{segment:this.xa.id,active:this.active,branchOffset:this.Rc,manifestIndex:this.ba,contentStartPts:this.U,contentEndPts:this.ha,playerStartPts:this.Ic,playerEndPts:this.ge,pipelines:this.Xa,previousBranch:this.Ge};};c.prototype.vqb=function(a){this.ba=a;};c.prototype.Sg=function(a){return this.Xa[a];};c.prototype.Hta=function(a){return this.X.jc(this.ba).Vp(a).$b;};c.prototype.Hbb=function(a){return this.Xa[a].Mz;};c.prototype.fD=function(a){return this.Xa[a].Ce;};c.prototype.Nua=function(a){var b;b=this.X.jc(a);this.Xa.forEach(function(d){var f,c;f=d.O;c=b.Vp(f);c&&(f=b.psa(f,c.eb),d.ZBa(a,c,f));});};c.prototype.Vaa=function(a,b,d){var f,c,g,h,m,p,t,q,l,u;f=this;c=this.G;g=this.X;h=this.xa;m=this.ba;p=g.jc(m);t=g.M;if(a){q=g.jc(a.ba);q&&(t=q.Oa.M);}t=k.lQ(p.Oa.M,t);l=g.zg.bind(g);a=p.EQ(m,l,h.U,g.qa,this,a,t);g=a.Cz;u=a.wo;void 0===b&&(b=[0,1]);0===u.length||b.forEach(function(a){var b,g;b=f.Xa[a];d&&(b.yg=u[a]);g=p.dJ(l,f.Xa,h.ha,c);b.FL(g[a]);});return g;};c.prototype.pAa=function(a){var b,d,f,c,g;b=this.X;d=this.Xa[0];void 0===a&&(a=d.geb);f=new p.Kha(b,this.rf,this.K,this,0,a,d.Faa,this.G);f.AE=!0;f.DV={reason:"audioTrackChange",time:m.time.da()};this.Xa[0]=f;c=this.ba;g=b.jc(c);b=g.Vp(0);g=g.psa(0,b.eb);f.ZBa(c,b,g);this.Vaa(this.Ge,[0],!0);f.qt(a);d.reset(!0,"audioTrackChange");h.dd(this.children,function(a){a&&a.pAa();});};c.prototype.JH=function(){this.Xa.forEach(function(a){a.JH();});};c.prototype.ae=function(){this.Ge&&(this.Ge=this.Ge.children[this.xa.id]=void 0);h.dd(this.children,function(a){a&&a.Ge&&(a.Ge=void 0);});this.children=Object.create(null);this.rB=void 0;};c.prototype.uta=function(a){return this.Xa[a].Za.nlb;};c.prototype.E0a=function(a){var b,d;b=this.qUa();b=this.Nka(a,b);if(0>b)return-1;b=a.VC(b);d=this.ha;d=this.Nka(a,this.jo||d);return 0>d?-1:Math.max(b,a.ig(d));};c.prototype.Hoa=function(){var a,b;if(!("number"!==typeof this.jo||this.jo>=this.ha)){a=this.X.jc(this.ba).Oa.Vc[d.L.VIDEO];if(a){a=a.$;b=this.E0a(a);if(!(0>b)&&(b=a.Gi(b,0,!0),!(0>b)&&(b=this.Oka(b,a),(a=b<a.length&&a.VC(b))&&a<this.ha)))return a;}}};c.prototype.eub=function(a){this.Rc+=a;};c.prototype.ODa=function(a){var b,f,c;b=this;this.zka=a;f=this.X;c=f.jc(this.ba);this.Xa.forEach(function(g){var h,k,m;h=g.O;k=c.Oa.Vc[h];m=k.$.Gi(a-1,0,!0);k=k.stream.ag(m);g.FL(k);if(m=g.Za.i9a(k.Oc))m.A8(),h===d.L.VIDEO&&b.rf.q0(b.xa,k.ha);g.Za.BYa(a);f.ef[h].T0a(b.xa.id,a);g.ab>k.ha&&g.qt(k.ha);});};c.prototype.v2=function(a,b,f,c,g,h){var k,p,t,q,l,u;k=this.G;p=this.X;t=this.Xa[d.L.AUDIO];q=this.Xa[d.L.VIDEO];l=t?t.Ce:0;u=q?q.Ce:0;if(!c&&!g)return!0;if(f&&a.Qo>=k.ai&&(k.baa&&(h=a.Qo+1E3),k.caa&&(!b.connected||!a.connected)))return!1;k.kf&&p.Qh("Branch checkBufferingComplete, audio: "+l+" video: "+u);if(k.ql){if(this.iTa)return this.Ha("checkBufferingComplete ignored because stallAtFrameCount already hit"),!0;a=q&&q.cy<q.kz;if(!(t&&t.cy<t.kz||a))return this.Ha("checkBufferingComplete with enough frames, declare bufferingComplete","audio:",t?t.cy:"n/a","video:",q?q.cy:"n/a"),this.iTa=!0,p.pH(),!0;}h=this.MQ(h);g&&(l>=k.ai||h)&&(g=p.kB.eb,this.ZSa(g,p.hf.n6(0,g)),p.kB=void 0);if(h)return p.pH(),!0;if(c){c=!q||u>k.ai;if((!t||l>k.ai)&&c&&(t=m.time.da()-p.p_,t>=k.nE))return this.Ha("buffering longer than limit: "+t+" >= "+k.nE+", audio buffer: "+l+" ms, video buffer: "+u+" ms"),p.pH(),!0;this.rf.MVa();}return!1;};c.prototype.MQ=function(a,b){var f,c,g,h,k,m,p,t;f=this.G;c=this.X;g=this.Xa[d.L.AUDIO];h=this.Xa[d.L.VIDEO];k=g?b?g.Bj:g.Ce:0;b=h?b?h.Bj:h.Ce:0;a||(a=f.ai);m=!c.Sh||g.Ig&&0===g.Za.dw;p=!c.jg||h.Ig&&0===h.Za.dw;t=m&&p;m=!m&&k<f.ai;if(!t&&(m||!p&&b<a))return!1;if(h&&h.Mp||!c.jg)return!0;a=g?g.Za.fp:0;h=h?h.Za.fp:0;f=f.Rr&&(0!==a||0!==h);if(t&&!f)if(this.X.oP&&0===k&&0===b)this.Ha("playlist mode with nothing buffered, waiting for next manifest");else return!0;return!1;};c.prototype.hqb=function(a){var b,d;b=this.G;d=this.X;this.Xa.forEach(function(a){a.seeking=void 0;});a&&(b.kf&&this.Xa.forEach(function(a){var b;if(a){b=d.ef[a.O]||{};a="bufferingComplete: , mediaType: "+a.O+", bufferLevelBytes: "+a.Ju+", totalBufferMs: "+a.gF+", totalBufferBytes: "+a.zt+", partials: "+a.Za.dw+", streamingPts: "+a.ab+", completeStreamingPts: "+a.ay+", fragments: "+JSON.stringify(a.Za.$)+", toAppend: "+JSON.stringify(b.Ai);d.Qh(a);}}),this.rf.NVa());};c.prototype.Bsa=function(){var a,b;a=!0;b={};this.Xa.map(function(f){var c;c=f.O===d.L.VIDEO?"v":"a";f=f.Iu;b[c+"buflmsec"]=f.zf;b[c+"buflbytes"]=f.aa;a=a&&0<f.zf;});return{QS:a,ZH:b};};c.prototype.jW=function(a,b){var d,f,c;d=this;f=m.time.da();c={};h.dd(this.children,function(a){var b,g;if(a){a.Xc?(a.Xc.P6a=f-a.Xc.jT,a.Xc.jT=void 0,b=a.Xc.weight):b=d.kb.Fta(d.xa.id,a.xa.id);g=a.Bsa();c[a.xa.id]={weight:b,ZH:g.ZH,QS:g.QS};}});b={requestTime:f,OV:a,R5a:b,hW:this.xa.id,Xc:c};a||(a=this.X.ja.lf(),b.sCa=a-this.U+this.Rc,b.mR=0,b.startTime=f);this.Mq.unshift(b);return b;};c.prototype.X1a=function(a){var b,d;b=this.Mq[0];b.OV&&(b.sCa=this.ha-this.U);d=a.Bsa();b.uDa={};f(d.ZH,b.uDa);b.QS=a.Iu.every(function(a){return 0<a.zf;});this.Mq=[];return b;};c.prototype.Ri=function(a){var b;b=this.xa;a-=this.Rc;if(b.U<a&&a<b.ha)this.Mq.shift();else if(b=this.Mq[0])b.Ri=!0;};c.prototype.i1a=function(){var a,b,d,f;a=this;b=this.kb;d=this.X;f=!0;h.dd(this.xa.mj,function(c,g){(c=b.Cy(g))?(g=d.jc(c.ba),c=g.Oa,c.Vc[0]&&c.Vc[1]&&c.Vc[0].stream.jd&&c.Vc[1].stream.jd||(f=!1),a.X.ja.xv(c.M)||g.ns||(f=!1)):a.Ha("invalid segment:",g,"in dests:",a.xa.mj);});return f;};c.prototype.reset=function(a,b){this.Xa.forEach(function(d){(h.R(b)||d.O===b)&&d.reset(!1,a);});this.Ge&&this.Ge.reset(a,b);};c.prototype.ZSa=function(a,b){this.rf.KVa(a,b);};c.prototype.qUa=function(){var a,b;a=this.X;b=0;this.Xa.forEach(function(d){d=a.ef[d.O].Qab()||0;d>b&&(b=d);});return b;};c.prototype.Nka=function(a,b){return a.Gi(b-1,0,!0);};c.prototype.Oka=function(a,b){var d,f;d=this.xa.vtb;f=a>=b.length-1;if(!d||f)return f?b.length-1:a;this.UUa(d,b.VC(a))&&(a=this.Oka(a+1,b));return a;};c.prototype.UUa=function(a,b){var f,c;if(!a)return!1;for(var d=0;d<a.length;d++){f=a[d][0];c=a[d][1];if(b<f)break;if(b>=f&&b<c)return!0;}return!1;};return c;}(g);c.gGa=a;},function(g,c,a){var b,f,h,p,d,k,m,t,l;Object.defineProperty(c,"__esModule",{value:!0});b=a(6);f=a(11);h=a(48);p=a(5);d=a(714);k=a(706);m=a(376);t=a(24);l=a(13);g=function(){function a(a,b,d,f,c,g,h){this.X=a;this.rf=b;this.K=d;this.Od=f;this.G=h;this.bd=this.K.error.bind(this.K);this.Ha=this.K.warn.bind(this.K);this.Gk=this.K.trace.bind(this.K);this.fb=this.K.log.bind(this.K);this.zl=[];this.Tj={};c?(this.o_=!0,this.BWa(c,g)):(this.Bk=this.y_("",0,0,void 0,void 0,{},!0),this.Bk.x9=!0,this.Bk.ha=Infinity,this.OP=[this.Bk]);this.cc=this.FO(this.Bk,this.Bk.U,0,void 0,g);this.cc.active=!0;this.pP=this.bP=void 0;}Object.defineProperties(a.prototype,{fq:{get:function(){return!!this.o_;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{cva:{get:function(){return 0===this.cc.Xa.length;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{wD:{get:function(){return this.Bk;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{wh:{get:function(){return this.cc.xa.id;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Vu:{get:function(){return this.cc.ba;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ug:{get:function(){return this.cc;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{vg:{get:function(){return this.cc.Xa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{foa:{get:function(){return this.zl;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Rc:{get:function(){return this.cc.Rc;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ef:{get:function(){return this.X.ef;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{xj:{get:function(){return this.bP?this.bP:this.foa[0];},enumerable:!0,configurable:!0}});a.prototype.Cy=function(a){return this.Tj[a];};a.prototype.b6=function(a){return"m"+a;};a.prototype.fD=function(a){return(a=this.cc.Xa[a])?a.Ce:0;};a.prototype.Fta=function(a,b){var d;d=this.Tj[a];if(d)return(a=d.mj[b])&&a.weight;this.Ha("getSegmentWeight, unknown segment:",a);};a.prototype.Rbb=function(a){var b;b=this.Tj[a];if(b)return b.U;this.Ha("getSegmentStartPts, unknown segment:",a);};a.prototype.Bbb=function(){var a;a=this.xj.xa;return a&&("number"===typeof a.jo?a.jo:a.ha);};a.prototype.Qbb=function(a){var d;d=this.Tj[a];if(!d)this.Ha("getSegmentDuration, unknown segment:",a);else if(b.pa(d.ha)&&isFinite(d.ha)&&b.pa(d.U)&&isFinite(d.U))return d.ha-d.U;};a.prototype.K4=function(a){return this.zl.filter(function(b){if(b.ba===a)return!0;});};a.prototype.d9a=function(a,b){return this.Dka(a,!1,b);};a.prototype.c9a=function(a,b){return this.Dka(a,!0,b);};a.prototype.oob=function(a,d){b.dd(this.zl,function(b){b.ba===a&&(b.ba=d);});b.dd(this.Tj,function(b){b.ba===a&&(b.ba=d);});};a.prototype.OAa=function(){var a;a=this;b.dd(this.zl,function(b){b.Rc=a.X.jc(b.ba).vn;});};a.prototype.XV=function(a){b.dd(this.zl,function(b){b.Hta(f.L.VIDEO).forEach(function(b){h(m.D1(b.gf,b.P,a),b);});});};a.prototype.Y4a=function(){this.zl.forEach(function(a){a.active=!1;});};a.prototype.Tmb=function(){var a;for(;0<this.zl.length;){a=this.zl[0];if(!a.active)break;if(a===this.cc)break;if(!a.Xa.every(function(a){return 0===a.Mz;}))break;a.ae();this.zl.shift();}};a.prototype.I1a=function(a,b){var d,f;d=this.cc;if(d.rwa)a=d.rwa;else{f=this.cc.Rc;a=this.FO(d.xa,0,a,d);a.Xa.forEach(function(a){a.qt(0);a.FL(d.Xa[a.O].ck);});a.Rc=f+b;d.rwa=a;}this.hB(a,d);};a.prototype.fZa=function(a,b,d){var f,c;if(!this.o_){this.o_=!0;f=this.b6(0);this.Bk.id=f;this.Tj[f]=this.Bk;this.Bk.ha=this.X.Hab().dta();this.Bk.lE=!0;}c=this.b6(a);a=this.y_(c,a,b,d,void 0,{},!0);a.lE=!0;this.OP.forEach(function(a){a.mj={};a.mj[c]={weight:100};a.zI=c;a.$E=!1;});this.OP=[a];};a.prototype.Ru=function(a,d){var f,c,g,h;f=this.xj;c=f.jW(d);g=f.xa;h=f.children[a];if(d){if(!g.mj[a])return this.cc.Ha("chooseNextSegment, invalid destination:",a,"for current segment:",g.id),!1;if(f.tg)return f.tg===a;f.tg=a;h&&f.hS?this.hB(h,f):this.G.OI&&(a=f.Hoa(),b.R(a)||f.ODa(a));return!0;}if(void 0!==f.tg)return!1;if(!h)return c.Lxa=!0,!1;d||(c.Lxa=!h.MQ());this.X.G0("chooseNextSegment");f.hS=void 0;f.tg=a;this.hB(h,f);return!0;};a.prototype.wdb=function(a,d){var f,c,g,h,k,m,p;f=this;h=a.xa;d&&!a.tg&&(a.tg=h.zI,a.jW(!0,!0));a.children=Object.create(null);if(this.G.okb)if(a.tg)c=this.Tj[a.tg],g=this.z_(c,a),a.children[a.tg]=g;else{b.dd(h.mj,function(a,d){c=f.Tj[d];a=c.weight;if(b.R(p)||a>p)k=c,m=d,p=a;});k&&(g=this.z_(k,a),a.children[m]=g);}else b.dd(h.mj,function(b,d){a.tg&&d!==a.tg||(c=f.Tj[d],g=f.z_(c,a),a.children[d]=g);});a.tg&&(d=a.children[a.tg])&&this.hB(d,a);a.hS=!0;};a.prototype.ltb=function(){var a;a=0;b.dd(this.zl,function(b){b.Xa.forEach(function(b){a+=b.Za.Fp;});});return a;};a.prototype.Csb=function(a,b){var d,f;d=this.mUa(a,b);if(d){d!==this.cc.xa&&(this.Y4a(),f=this.FO(d,a,b,this.cc),f.Ge=void 0,f.Vaa(void 0,void 0,!0),this.KSa(this.cc),this.hB(f,this.cc));d===this.xj.xa&&(this.xj.Mq.shift(),f&&(f.Mq=this.xj.Mq,f.tg=this.xj.tg));this.rf.Cla(d,this.cc.Rc);this.cc.hS=void 0;}else this.Ha("findSegment no segment for manifestIndex:",b);};a.prototype.ywa=function(a,b){var d;d=a.xa;b||(b=d.zI);t.xL(d.id);a.tg||(a.tg=b,a.jW(!0,!0));(b=a.children[a.tg])&&this.hB(b,a);};a.prototype.OBa=function(a,b){if(this.cc!==a){if(b)for(b=this.cc;b&&b!==a;)b.active=!1,b=b.Ge;this.cc=a;}};a.prototype.gp=function(a,b){var d,f,c,g,h;d=this;if(this.fq){f=this.G;c=this.xj;g=c.xa;h=t.xL(g.id);!c.tg&&!g.$E&&c.ha-b<=f.qU&&(this.Ha(h+"updatePts making fork decision at playerPts:",a,"contentPts:",b),this.ywa(c));}this.cc.Xa.forEach(function(a){d.X.zg(a.O)&&d.ef[a.O].gp(b);});};a.prototype.rjb=function(a,b){var d,c;if(this.fq){d=this.bP;if(this.G.Odb&&a&&this.pP&&a.U===this.pP)this.Gk("Ignoring pts that wiggled back into previous segment",this.pP);else if(a=a.Nf.Rb,!d||a.xa.id!==d.xa.id){c=d&&d.Xa[f.L.VIDEO].ck;this.pP=c&&c.U;this.bP=a;this.dTa(d);d=d&&d.X1a(a);this.rf.fWa(a.xa,b,d);}}};a.prototype.ae=function(){this.RTa(this.cc);};a.prototype.hjb=function(a,b,d){b.x9||(b.U=this.X.sta(a,b.U,!0),d||(b.ha=this.X.sta(a,b.ha,!1)),b.x9=!0);};a.prototype.jca=function(a,d){var f;t.xL(a);f=this.Tj[a];f?(b.dd(f.mj,function(a,b){a.weight=d[b]||0;}),a=this.Mka(f.mj),f.jo="number"===typeof a?f.U+a:f.ha):this.Ha("updateChoiceMapEntry, unknown segment:",a);};a.prototype.cla=function(a,b,d){var f;f=b?d.Ve:d.ge;return(b?d.Oc:d.Ic)<=a&&a<f;};a.prototype.Dka=function(a,d,f){var k;for(var c=this.X,g=this.cc;g;){if((!b.pa(f)||c.p7(f,g.ba))&&this.cla(a,d,g))return g;g=g.Ge;}if(d)for(var g=Object.keys(this.cc.children),h=0;h<g.length;h++){k=this.cc.children[g[h]];if((!b.pa(f)||c.p7(f,k.ba))&&this.cla(a,d,k))return k;}};a.prototype.z_=function(a,b){var d,c;d=this.FO(a,a.U,a.ba,b);c=d.Vaa(b,void 0,this.G.Q$);[f.L.VIDEO,f.L.AUDIO].forEach(function(a){var g,h;g=d.Xa[a];h=b.Xa[a];a===f.L.VIDEO&&(h=h.ab+b.Rc,d.Rc=h-c[a],d.U=c[a]);g.qt(c[a]);});this.rf.Cla(a,d.Rc);return d;};a.prototype.KSa=function(a){for(var b=[a.xa.id];a.Ge;)a=a.Ge,b.unshift(a.xa.id);this.f_(a);};a.prototype.f_=function(a){var d,f,c;d=this;f=a.xa;b.dd(a.children,function(a){a&&d.f_(a);});a.Xa.forEach(function(a){a.Za.AYa();});a.active=!1;a.ae();c=-1;this.zl.some(function(b,d){return b===a?(c=d,!0):!1;});-1!==c?this.zl.splice(c,1):this.Ha("Unable to find branch:",a,"in branches array");this.rf.cWa(f);};a.prototype.hB=function(a,d){var f,c,g,h,k,m;f=this;c=d.xa;d.ba!==a.ba&&this.X.jla(a.ba);a.active=!0;if(this.G.OI&&this.cc.active){g=this.cc.Hoa();if(!b.R(g)){h=this.cc.ha;this.cc.ODa(g);a.eub(this.cc.ha-h);}}a.Xa.forEach(function(a){a.JH();});k=p.time.da();m={};b.dd(d.children,function(b){b&&(b.Xc&&(b.Xc.Ce=b.Xa.map(function(a){return a.Iu.zf;}),b.Xc.P6a=k-b.Xc.jT,b.Xc.jT=void 0,m[b.xa.id]=b.Xc),b.xa.id!==a.xa.id&&f.f_(b));});d.children=Object.create(null);d.children[a.xa.id]=a;d.rB=void 0;this.OBa(a);this.rf.dWa(a.xa,m);1<Object.keys(c.mj).length&&a.MQ();};a.prototype.RTa=function(a){var b;b=this;0!==a.Xa.length&&(a.Xa.forEach(function(a){a.Za.reset();a.WE=void 0;a.active&&b.bd("Destroying active pipeline!");}),a.Xa=[],a.ae());};a.prototype.dTa=function(a){var b,d;if(a){b=p.time.da();d=a.Mq[0];d&&void 0===d.mR?d.mR=b-d.requestTime:d||(this.Ha("missing metrics for branch:",a.xa.id),d={hW:a.xa.id,OV:!0,mR:0,Xc:{}},a.Mq.unshift(d));void 0===d.startTime&&(d.startTime=b);}};a.prototype.mUa=function(a,d){var f,c,h,k;l.assert(0<=a);for(var g in this.Tj){h=this.Tj[g];if(this.X.p7(h.ba,d)){if(h.U<=a&&(Infinity===h.ha||void 0===h.ha||a<h.ha))return h;k=Math.min(Math.abs(a-h.U),Math.abs(a-h.ha));if(b.R(f)||k<f)f=k,c=h;}}return c;};a.prototype.y_=function(a,b,d,f,c,g,h,m,p){b=new k.dRa(a,b,d,f,c,g,h,m,p);return this.Tj[a]=b;};a.prototype.BWa=function(a,d){var f,c,g;f=this;this.Bk=void 0;this.OP=[];c=null;g=null;b.dd(a.segments,function(a,h){var k,m,p,t,q,l;k=a.startTimeMs;m=a.endTimeMs;p={};b.dd(a.next,function(b,d){p[d]={weight:b.weight||0,LKb:b.transitionHint||a.transitionHint,f7a:"number"===typeof b.earliestSkipRequestOffset?b.earliestSkipRequestOffset:a.earliestSkipRequestOffset};});q=f.Mka(p);"number"===typeof q&&(t=k+q);l=a.defaultNext;b.R(l)&&(l=Object.keys(p)[0]);q=b.R(l);t=f.y_(h,0,k,m,l,p,q,t,a.transitionDelayZones);k<=d&&(d<m||b.R(m))?f.Bk=t:k>d&&(!c||k<g)&&(c=h,g=k);q&&f.OP.push(t);});this.Bk||(this.Bk=c?this.Tj[c]:this.Tj[a.initialSegment]);};a.prototype.Mka=function(a){var d,c;c=0;b.dd(a,function(a){var b,g;b=a.weight||0;c+=0<b?1:0;g=a.earliestSkipRequestOffset;0<b&&a.transitionHint===f.FQa.Hda&&"number"===typeof g&&(void 0===d||d>g)&&(d=g);});return 1<c&&d;};a.prototype.FO=function(a,b,f,c,g){a=new d.gGa(this.X,this.rf,this.K,this,this.Od,a,b,f,c,g);this.zl.push(a);return a;};return a;}();c.hGa=g;},function(g,c,a){var b,f,h,p,d,k,m,t,l,n,A,r,x,G,M,R,T,W,D,U,Q,ia,Z,E,X,O,C,J,P,N;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(25);h=a(6);p=a(715);d=a(195);k=a(705);m=a(11);t=a(700);l=a(382);n=a(363);A=a(699);r=a(688);x=a(352);G=a(686);M=a(153);R=a(5);T=R.sk;W=R.Promise;D=R.MediaSource;U=a(83);Q=a(24);a(13);ia=a(684);Z=a(683);E=a(682);X=a(681);O=a(54);C=a(680);J=a(679);P=a(678);g=a(40);N=a(196).hDb;a=function(a){var Q2M;Q2M=2;while(Q2M!==105){switch(Q2M){case 2:b.__extends(c,a);Object.defineProperties(c.prototype,{M:{get:function(){var I2M;I2M=2;while(I2M!==1){switch(I2M){case 2:return String(this.hf.Oa.M);break;case 4:return String(this.hf.Oa.M);break;I2M=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{oa:{get:function(){var G2M,i5l;G2M=2;while(G2M!==1){i5l="dep";i5l+="r";i5l+="ecat";i5l+="ed";switch(G2M){case 2:throw Error(i5l);G2M=1;break;case 4:throw Error("");G2M=2;break;G2M=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{fq:{get:function(){var u2M;u2M=2;while(u2M!==1){switch(u2M){case 2:return this.qa.fq;break;case 4:return this.qa.fq;break;u2M=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{eU:{get:function(){var a2M;a2M=2;while(a2M!==1){switch(a2M){case 2:return this.Se.Sc;break;case 4:return this.Se.Sc;break;a2M=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Sh:{get:function(){var w2M;w2M=2;while(w2M!==1){switch(w2M){case 4:return this.zg(m.L.AUDIO);break;w2M=1;break;case 2:return this.zg(m.L.AUDIO);break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{jg:{get:function(){var S2M;S2M=2;while(S2M!==1){switch(S2M){case 4:return this.zg(m.L.VIDEO);break;S2M=1;break;case 2:return this.zg(m.L.VIDEO);break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{attributes:{get:function(){var e2M;e2M=2;while(e2M!==1){switch(e2M){case 4:return this.j_;break;e2M=1;break;case 2:return this.j_;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{V7:{get:function(){var B2M;B2M=2;while(B2M!==1){switch(B2M){case 2:return this.Uf;break;case 4:return this.Uf;break;B2M=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{ba:{get:function(){var F2M;F2M=2;while(F2M!==1){switch(F2M){case 2:return this.Be;break;case 4:return this.Be;break;F2M=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{WK:{get:function(){var O2M;O2M=2;while(O2M!==1){switch(O2M){case 4:return 6<this.cP?this.cP:5;break;O2M=1;break;case 2:return 0<=this.cP?this.cP:0;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{hf:{get:function(){var n2M;n2M=2;while(n2M!==1){switch(n2M){case 2:return this.sb[this.Be];break;case 4:return this.sb[this.Be];break;n2M=1;break;}}},enumerable:!0,configurable:!0}});Q2M=11;break;case 11:Object.defineProperties(c.prototype,{pt:{get:function(){var o2M;o2M=2;while(o2M!==1){switch(o2M){case 4:return this.kb.pt;break;o2M=1;break;case 2:return this.kb.pt;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{lw:{get:function(){var h2M;h2M=2;while(h2M!==1){switch(h2M){case 2:return this.fXa;break;case 4:return this.fXa;break;h2M=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{k8:{get:function(){var N2M;N2M=2;while(N2M!==1){switch(N2M){case 4:return this.FB;break;N2M=1;break;case 2:return this.FB;break;}}},enumerable:!0,configurable:!0}});c.prototype.zg=function(a){var k2M;k2M=2;while(k2M!==1){switch(k2M){case 4:return this.R0[a];break;k2M=1;break;case 2:return this.R0[a];break;}}};c.prototype.O5=function(){var j2M;j2M=2;while(j2M!==1){switch(j2M){case 2:return(this.sb||[]).reduce(function(a,b){var U2M,d;U2M=2;while(U2M!==3){switch(U2M){case 2:d=b.Oa;[m.L.AUDIO,m.L.VIDEO].forEach(function(b){var l2M;l2M=2;while(l2M!==1){switch(l2M){case 2:d.hK[b]>a[b]&&(a[b]=d.hK[b]);l2M=1;break;}}});return a;break;}}},[0,0]);break;}}};c.prototype.$j=function(a){var r2M;r2M=2;while(r2M!==5){switch(r2M){case 2:a=a||this.O5();return this.kb.$j(a[0],a[1]);break;}}};c.prototype.Iwa=function(){var g2M,a;g2M=2;while(g2M!==3){switch(g2M){case 4:return a;break;case 2:a=0;h.forEach(this.hf.Oa.Ja.audio_tracks,function(b){var P2M;P2M=2;while(P2M!==1){switch(P2M){case 2:h.forEach(b.streams,function(b){var L7M;L7M=2;while(L7M!==1){switch(L7M){case 2:a=Math.max(a,b.bitrate);L7M=1;break;}}});P2M=1;break;}}});g2M=4;break;case 14:return a;break;g2M=3;break;}}};c.prototype.vEa=function(){var s7M;s7M=2;while(s7M!==1){switch(s7M){case 4:return this.G.Pub?+this.CP:+8;break;s7M=1;break;case 2:return this.G.Pub?!this.CP:!1;break;}}};c.prototype.fD=function(a){var J7M;J7M=2;while(J7M!==1){switch(J7M){case 4:return this.qa.fD(a);break;J7M=1;break;case 2:return this.qa.fD(a);break;}}};c.prototype.jc=function(a){var H7M;H7M=2;while(H7M!==1){switch(H7M){case 4:return this.sb[a];break;H7M=1;break;case 2:return this.sb[a];break;}}};c.prototype.Hab=function(){var m7M,a;m7M=2;while(m7M!==4){switch(m7M){case 2:a=this.sb[0];return a.xg?this.sb[1]:a;break;}}};c.prototype.Sab=function(){var D7M,O4M;D7M=2;while(D7M!==1){switch(D7M){case 2:t8ii.Y5l(1);O4M=t8ii.I0l(20,18,639,14);return this.sb[this.sb.length-O4M];break;case 4:return this.sb[this.sb.length+6];break;D7M=1;break;}}};Q2M=23;break;case 50:c.prototype.seek=function(a,b){var O7M;O7M=2;while(O7M!==1){switch(O7M){case 4:return this.Yo.seek(a,b);break;O7M=1;break;case 2:return this.Yo.seek(a,b);break;}}};c.prototype.Ytb=function(a){var n7M,b,d,f,c,N7M,f5l,V5l,b5l,M5l,S5l;n7M=2;while(n7M!==17){f5l="branchOf";f5l+="f";f5l+="set:";V5l="e";V5l+="nt";V5l+="ry.manifes";V5l+="tOffset:";b5l="co";b5l+="ntent";b5l+="Pts";b5l+=":";M5l="underflow: goin";M5l+="g to B";M5l+="UFFERING at player pts:";S5l="un";S5l+="d";S5l+="er";S5l+="flo";S5l+="w";switch(n7M){case 11:n7M=this.uo?10:20;break;case 7:this.hf.Oa.QC()&&(this.WO=f+d.Hba,this.XO=R.time.da());this.qa.vg.forEach(function(f){var h7M,c,g,y5l,T5l,l5l,o5l,k5l,j5l,a5l,d5l,v5l,q5l,X5l;h7M=2;while(h7M!==8){y5l=", toApp";y5l+="e";y5l+="nd: ";T5l=", ";T5l+="fra";T5l+="gme";T5l+="n";T5l+="ts: ";l5l=", com";l5l+="pl";l5l+="eteStreamingPts: ";o5l=", stream";o5l+="in";o5l+="gPts:";o5l+=" ";k5l=", p";k5l+="arti";k5l+="a";k5l+="ls: ";j5l=", tota";j5l+="lBu";j5l+="fferB";j5l+="ytes: ";a5l=",";a5l+=" totalBuffe";a5l+="r";a5l+="Ms";a5l+=": ";d5l=",";d5l+=" buff";d5l+="erLevel";d5l+="Bytes:";d5l+=" ";v5l=", ";v5l+="me";v5l+="dia";v5l+="Type";v5l+=": ";q5l="under";q5l+="fl";q5l+="ow";q5l+=": ";X5l="re";X5l+="b";X5l+="uffer";switch(h7M){case 4:d.kf&&b.Qh(g);f.Mp=!1;d.Sp&&b.hf.cba&&(f=b.hf.cba,c=b.bb.Cb[c],f.Gaa(X5l,c.Q7));h7M=8;break;case 2:c=f.O;d.kf&&(g=b.ef[c],g=q5l+a+v5l+c+d5l+f.Ju+a5l+f.gF+j5l+f.zt+k5l+f.Za.dw+o5l+f.ab+l5l+f.ay+T5l+JSON.stringify(f.Za.$)+y5l+JSON.stringify(g.Ai));h7M=4;break;}}});this.emit(S5l);this.FP(2);n7M=12;break;case 2:b=this;d=this.G;f=this.ey(this.WK,a);this.Ha(M5l,a,b5l,f,V5l,this.hf.vn,f5l,this.qa.Rc);c=d.WT;this.ef.forEach(function(b){var o7M;o7M=2;while(o7M!==1){switch(o7M){case 2:c=Math.max(0,Math.min(c,b.Rab-a));o7M=1;break;}}});n7M=7;break;case 12:this.Vh.th();n7M=11;break;case 10:try{N7M=2;while(N7M!==1){switch(N7M){case 2:this.u4(m.Ma.Ij);N7M=1;break;case 4:this.u4(m.Ma.Ij);N7M=9;break;N7M=1;break;}}}catch(mb){var p5l;p5l="Hindsight";p5l+=": Error w";p5l+="hen ev";p5l+="aluating QoE";p5l+=" at Buffering: ";t8ii.Y5l(0);this.Va.rq(t8ii.I0l(mb,p5l));}n7M=20;break;case 20:f=this.kb.bf.get(!1);f=f.Gc?f.va.Fa:0;c>d.P8a&&f>d.O8a&&this.pH();n7M=17;break;}}};c.prototype.Ri=function(a){var k7M;k7M=2;while(k7M!==1){switch(k7M){case 2:this.Yo.Ri(a);k7M=1;break;case 4:this.Yo.Ri(a);k7M=4;break;k7M=1;break;}}};c.prototype.Ru=function(a,b,d){var j7M;j7M=2;while(j7M!==1){switch(j7M){case 4:return this.Yo.Ru(a,b,d);break;j7M=1;break;case 2:return this.Yo.Ru(a,b,d);break;}}};c.prototype.jla=function(a){var U7M,b;U7M=2;while(U7M!==9){switch(U7M){case 4:this.Va.XVa(a,b);this.bb.Scb(b.replace);U7M=9;break;case 2:this.Be=a;b=this.sb[a];U7M=4;break;}}};c.prototype.AH=function(a,b){var l7M,d,f,c,g,p,t,q,l,D5l,H5l,w5l,J5l,u5l,N5l,e5l,B5l,E5l,L5l,h5l,F5l;l7M=2;while(l7M!==41){D5l=",";D5l+=" ";H5l=") ";H5l+="l";H5l+="ast";H5l+="StreamApp";H5l+="ended: (";w5l=",";w5l+=" ";J5l=" st";J5l+="rea";J5l+="mCo";J5l+="unt: ";J5l+="(";u5l=" p";u5l+="l";u5l+="ay";u5l+="erSta";u5l+="te: ";N5l="addMani";N5l+="fest, cu";N5l+="rrentPts: ";e5l="addManif";e5l+="est i";e5l+="gnored, pipelines al";e5l+="rea";e5l+="dy set EOS:";B5l="addManifest";B5l+=": pipeline";B5l+="s already shutdown";E5l="b";E5l+="o";E5l+="ole";E5l+="a";E5l+="n";L5l="addManife";L5l+="st in fastplay but not dr";L5l+="m manifest, leaving space for i";L5l+="t";h5l="v";h5l+="ideo_";h5l+="tracks";F5l="audio_t";F5l+="ra";F5l+="c";F5l+="k";F5l+="s";switch(l7M){case 17:a=k.nga.jsa(this,this.G,this.K,a,{ba:g,wBa:b.mtb||[this.hf.xS(0),this.hf.xS(1)],xg:!1,gs:b.gs||this.n_,U:c,ha:p,e3:function(a){var g7M;g7M=2;while(g7M!==1){switch(g7M){case 2:return d.HO(a);break;case 4:return d.HO(a);break;g7M=1;break;}}},x6:this.R_,CAa:b.replace?this.sb[this.sb.length-1]:void 0},this.Bl,this.Va);t=a.Oa;q=[F5l,h5l];l=this.O5();b.replace&&q.forEach(function(a,b){var P7M,f,c;P7M=2;while(P7M!==9){switch(P7M){case 5:P7M=f?4:9;break;case 4:c=d.sb[0].Oa.Hs(b);c&&Object.keys(f).forEach(function(a){var L9M,d;L9M=2;while(L9M!==4){switch(L9M){case 2:d=c[a];d&&d.jd&&(f[a].WQ(d),a=t.hK,a[b]>l[b]&&(l[b]=a[b]));L9M=4;break;}}});P7M=9;break;case 2:f=t.Hs(b);P7M=5;break;}}});l7M=25;break;case 28:return!0;break;case 4:l7M=this.Ae()?3:9;break;case 13:b||(b={});b.j$&&(this.oP=!0);g=this.sb.length;b.replace&&1!==g?g=1:this.Ak&&!b.replace&&1===g&&(this.Ha(L5l),g=this.sb[0].clone(this),g.M8a=!0,this.sb.push(g),g=this.sb.length);l7M=20;break;case 23:a.ns=b.ns;E5l===typeof b.Ux?(a.Ux=b.Ux,a.Rx=b.Ux):(a.Ux=!0,a.Rx=!0);this.sb[g]&&this.sb[g].ae();l7M=35;break;case 6:l7M=this.Sh&&g.br||this.jg&&c.br?14:13;break;case 2:d=this;f=this.G;l7M=4;break;case 20:c=b.U||0;p=b.ha;this.te.nob(function(a,b){var r7M;r7M=2;while(r7M!==1){switch(r7M){case 2:a?d.te.Uka(b):d.dE(b);r7M=1;break;}}});l7M=17;break;case 25:q.forEach(function(a,b){var s9M,c;s9M=2;while(s9M!==4){switch(s9M){case 2:c=t.Hs(b);s9M=5;break;case 5:c&&Object.keys(c).forEach(function(a){var J9M,g;J9M=2;while(J9M!==3){switch(J9M){case 2:g=d.$j(l)[b];1===b&&0<f.nq&&(g=Math.min(g,f.nq));c[a].LDa(g,t.fq()?f.Mwa:0);J9M=3;break;}}});s9M=4;break;}}});a.lK=a.replace;l7M=23;break;case 3:this.Ha(B5l);l7M=41;break;case 14:this.Ha(e5l,g.br,c.br);l7M=41;break;case 32:b=this.bb.Cb[m.L.AUDIO].Fo;c=this.bb.Cb[m.L.VIDEO].Fo;f.kf&&this.Qh(N5l+this.ja.lf()+u5l+this.ja.gd()+J5l+a.Vp(0).$b.length+w5l+a.Vp(1).$b.length+H5l+b+D5l+c+")");l7M=29;break;case 9:c=this.qa.vg;g=c[m.L.AUDIO];c=c[m.L.VIDEO];l7M=6;break;case 35:this.sb[g]=a;a.toa(g,this.jc.bind(this));b.replace||this.qa.fZa(g,c,p);l7M=32;break;case 29:l7M=this.Sh&&h.R(b)||this.jg&&h.R(c)?28:44;break;case 44:this.wP(a,g);this.VP();return!0;break;}}};c.prototype.cQ=function(a){var H9M;H9M=2;while(H9M!==1){switch(H9M){case 4:return this.Yo.cQ(a);break;H9M=1;break;case 2:return this.Yo.cQ(a);break;}}};c.prototype.BR=function(a){var m9M,b,d,f,c,t5l,R5l,G5l,z5l;m9M=2;while(m9M!==13){t5l=" r";t5l+="e";t5l+="ad";t5l+="yState: ";R5l=" f";R5l+="or m";R5l+="ovi";R5l+="eId: ";G5l=",";G5l+=" ";z5l="drmReady";z5l+=" ";z5l+="at streami";z5l+="ng pts: ";switch(m9M){case 2:d=this.G;m9M=5;break;case 5:m9M=!this.Ae()?4:13;break;case 4:h.R(b)&&(b=!0);f=this.qa.vg;c=f[m.L.AUDIO];f=f[m.L.VIDEO];d.kf&&this.Qh(z5l+c.ab+G5l+f.ab+R5l+a+t5l+b);t8ii.Y5l(0);this.ja.nqb(t8ii.I0l("",a),b);b&&(this.ef.forEach(function(a){var D9M;D9M=2;while(D9M!==5){switch(D9M){case 2:d.V4&&a.C9a();d.XW&&a.resume();D9M=5;break;}}}),this.Ak&&this.UP(this.Yo.yi?this.Yo.yi.ba:this.Be+1),this.Yo.L_());m9M=13;break;}}};c.prototype.xv=function(){var v9M;v9M=2;while(v9M!==1){switch(v9M){case 2:return this.ja.xv(this.hf.Oa.M)||this.hf.ns;break;}}};c.prototype.Wja=function(a){var q9M,b,d,f,c;q9M=2;while(q9M!==20){switch(q9M){case 1:q9M=a>=this.sb.length?5:4;break;case 2:q9M=1;break;case 4:b=this.qa.vg;d=b[m.L.AUDIO];b=b[m.L.VIDEO];d=!d||d.Ig;q9M=7;break;case 5:return!1;break;case 13:q9M=!(a===this.Be+1&&c.replace||d&&f)||!this.ja.xv(b.M)&&!c.ns?12:11;break;case 7:f=!b||b.Ig;c=this.sb[a];b=c.Oa;q9M=13;break;case 12:return!1;break;case 11:a=!this.jg||b.Vc[m.L.VIDEO]&&b.Vc[m.L.VIDEO].stream.jd;return(!this.Sh||b.Vc[m.L.AUDIO]&&b.Vc[m.L.AUDIO].stream.jd)&&a?!0:!1;break;}}};c.prototype.VP=function(){var p9M;p9M=2;while(p9M!==1){switch(p9M){case 2:this.UP(this.Be+1);p9M=1;break;case 4:this.UP(this.Be*7);p9M=9;break;p9M=1;break;}}};c.prototype.UP=function(a){var V9M,b;V9M=2;while(V9M!==14){switch(V9M){case 2:V9M=1;break;case 4:b=this.sb[a];V9M=3;break;case 1:V9M=!this.Wja(a)?5:4;break;case 8:this.SXa(a);V9M=7;break;case 5:return!1;break;case 9:return!1;break;case 3:V9M=b.M8a||!b.replace?9:8;break;case 7:this.Vh.th();return!0;break;}}};Q2M=59;break;case 43:c.prototype.close=function(){var C7M;C7M=2;while(C7M!==1){switch(C7M){case 2:this.Mv.close();C7M=1;break;case 4:this.Mv.close();C7M=7;break;C7M=1;break;}}};c.prototype.iob=function(){var M7M;M7M=2;while(M7M!==1){switch(M7M){case 2:this.kb.XWa(this);M7M=1;break;case 4:this.kb.XWa(this);M7M=3;break;M7M=1;break;}}};c.prototype.ae=function(){var A7M,a,r5l;A7M=2;while(A7M!==12){r5l="E";r5l+="rror on Med";r5l+="ia";r5l+="Source destroy: ";switch(A7M){case 2:this.Od.Sjb();this.BO();A7M=4;break;case 4:this.qa.ae();this.KI.TTa();this.ja.Ld(m.Ma.ZN);this.zTa();A7M=7;break;case 7:this.Uf.clear();a=this.Se;this.Se=void 0;h.R(a)||a.hn()||this.Ha(r5l,a.error);A7M=12;break;}}};c.prototype.suspend=function(){var X7M;X7M=2;while(X7M!==1){switch(X7M){case 4:this.Mv.suspend();X7M=3;break;X7M=1;break;case 2:this.Mv.suspend();X7M=1;break;}}};c.prototype.resume=function(){var I7M;I7M=2;while(I7M!==1){switch(I7M){case 4:this.Mv.resume();I7M=6;break;I7M=1;break;case 2:this.Mv.resume();I7M=1;break;}}};c.prototype.Ae=function(){var G7M;G7M=2;while(G7M!==1){switch(G7M){case 4:return this.Mv.u0&&this.qa.cva;break;G7M=1;break;case 2:return this.Mv.u0||this.qa.cva;break;}}};c.prototype.AXa=function(){var u7M,a;u7M=2;while(u7M!==7){switch(u7M){case 3:this.vO||(this.vO=setInterval(this.Va.zla.bind(this.Va),a.hC));this.IP||(this.IP=setInterval(this.Va.kWa.bind(this.Va),a.wba));this.lw&&!this.tO&&(this.tO=setInterval(this.Va.yla.bind(this.Va),a.I1));u7M=7;break;case 2:a=this.G;this.Au&&clearTimeout(this.Au);this.Au=setTimeout(this.tH.bind(this),a.HW);u7M=3;break;}}};c.prototype.BXa=function(){var a7M,a,b,d;a7M=2;while(a7M!==7){switch(a7M){case 3:this.IG&&clearInterval(this.IG);d=-1;this.IG=setInterval(function(){var w7M,b,Z5l;w7M=2;while(w7M!==4){Z5l="v";Z5l+="b";switch(w7M){case 2:b=a.bb.Cb[m.L.VIDEO];(b=b.Iv&&b.Iv.P)&&d!==b&&(R.storage.set(Z5l,b),d=b);w7M=4;break;}}},b.LV);a7M=7;break;case 2:a=this;b=this.G;a7M=4;break;case 4:a7M=b.LV?3:7;break;}}};c.prototype.BO=function(){var S7M;S7M=2;while(S7M!==6){switch(S7M){case 2:this.Au&&(clearTimeout(this.Au),this.Au=void 0);this.vO&&(clearInterval(this.vO),this.vO=void 0);this.IP&&(clearInterval(this.IP),this.IP=void 0);this.tO&&(clearInterval(this.tO),this.tO=void 0);this.pB&&(clearTimeout(this.pB),this.pB=void 0);S7M=9;break;case 9:this.H_&&(clearTimeout(this.H_),this.H_=void 0);this.IG&&(clearInterval(this.IG),this.IG=void 0);this.Vh.BO();S7M=6;break;}}};c.prototype.play=function(){var e7M;e7M=2;while(e7M!==1){switch(e7M){case 2:this.Mv.play();e7M=1;break;case 4:this.Mv.play();e7M=0;break;e7M=1;break;}}};c.prototype.stop=function(){var B7M;B7M=2;while(B7M!==1){switch(B7M){case 2:this.Mv.stop();B7M=1;break;case 4:this.Mv.stop();B7M=0;break;B7M=1;break;}}};c.prototype.FE=function(a,b){var F7M;F7M=2;while(F7M!==1){switch(F7M){case 4:return this.Yo.FE(a,b);break;F7M=1;break;case 2:return this.Yo.FE(a,b);break;}}};Q2M=50;break;case 23:c.prototype.N5=function(){var v7M;v7M=2;while(v7M!==1){switch(v7M){case 4:return this.sb.length;break;v7M=1;break;case 2:return this.sb.length;break;}}};c.prototype.p7=function(a,b){var q7M;q7M=2;while(q7M!==9){switch(q7M){case 2:q7M=a===b?1:5;break;case 1:return!0;break;case 5:a=this.sb[a];b=this.sb[b];return a.xg&&b.lK||b.xg&&a.lK;break;}}};c.prototype.Isa=function(a){var p7M;p7M=2;while(p7M!==5){switch(p7M){case 1:return{Rc:a.Rc,Ic:a.Ic,ge:a.ge,Oc:a.Oc,Ve:a.Ve};break;case 2:p7M=(a=this.qa.xj.children[a])?1:5;break;}}};c.prototype.W5=function(){var V7M,a;V7M=2;while(V7M!==4){switch(V7M){case 2:a=this.qa.xj;return{id:a.xa.id,Rc:a.Rc,Ic:a.Ic,ge:a.ge,Oc:a.Oc,Ve:a.Ve};break;}}};c.prototype.Cqb=function(){var b7M;b7M=2;while(b7M!==5){switch(b7M){case 2:this.oP=!1;this.qa.vg.forEach(function(a){var i7M;i7M=2;while(i7M!==1){switch(i7M){case 4:a.LQ();i7M=3;break;i7M=1;break;case 2:a.LQ();i7M=1;break;}}});b7M=5;break;}}};c.prototype.jca=function(a,b){var T7M;T7M=2;while(T7M!==1){switch(T7M){case 4:return this.qa.jca(a,b);break;T7M=1;break;case 2:return this.qa.jca(a,b);break;}}};c.prototype.zTa=function(){var z7M,a,b;z7M=2;while(z7M!==9){switch(z7M){case 3:this.sb.length=0;z7M=9;break;case 5:a=this.sb[b],a.V7.clear(),a.ae();z7M=4;break;case 1:z7M=b<this.sb.length?5:3;break;case 2:b=0;z7M=1;break;case 4:++b;z7M=1;break;}}};c.prototype.HO=function(a){var x7M,b;x7M=2;while(x7M!==3){switch(x7M){case 2:b=new n.Sfa(this,this.kb.bf,this.kb.HD,!this.Ak,this.G);b.AH(a);x7M=4;break;case 4:return b;break;}}};c.prototype.open=function(){var Z7M,a,b,d,f,c,g,k,p,t,q4l,i4l,Y4l,s5l,I5l,A5l,m5l,x5l,O5l,n5l,c5l;Z7M=2;while(Z7M!==28){q4l="createMedia";q4l+="Sour";q4l+="ceStart";i4l="NFErr_MC_StreamingInit";i4l+="Failur";i4l+="e";Y4l="exce";Y4l+="pt";Y4l+="ion";Y4l+=" in";Y4l+=" init";s5l="E";s5l+="rr";s5l+="o";s5l+="r";s5l+=":";I5l="E";I5l+="rr";I5l+="o";I5l+="r";I5l+=":";A5l="create";A5l+="Media";A5l+="S";A5l+="ource";A5l+="End";m5l="NFErr_";m5l+="MC";m5l+="_St";m5l+="reamingI";m5l+="nitFailure";x5l="startPts must be a pos";x5l+="itive number";x5l+=",";x5l+=" not ";O5l="hea";O5l+="de";O5l+="r";O5l+="s";n5l="s";n5l+="t";n5l+="ar";n5l+="t";n5l+="play";c5l="logd";c5l+="a";c5l+="t";c5l+="a";switch(Z7M){case 33:t=function(){var y7M,g5l;y7M=2;while(y7M!==5){g5l="shutd";g5l+="ow";g5l+="n detected before s";g5l+="tartR";g5l+="equests";switch(y7M){case 2:a.Va.$Va();a.Ae()?a.Ha(g5l):a.LXa(d);y7M=5;break;}}};b.S5a?setTimeout(function(){var c7M;c7M=2;while(c7M!==1){switch(c7M){case 2:a.Vja(d).then(t);c7M=1;break;case 4:a.Vja(d).then(t);c7M=5;break;c7M=1;break;}}},0):this.Vja(d).then(function(){var Q7M;Q7M=2;while(Q7M!==1){switch(Q7M){case 4:setTimeout(t,2);Q7M=6;break;Q7M=1;break;case 2:setTimeout(t,0);Q7M=1;break;}}});f={type:c5l,target:n5l,fields:{audiogapconfig:b.XD,audiogapdpi:this.Se.Sc&&this.Se.Sc.XD}};Z7M=30;break;case 3:b=this.G;d=this.M;f=[];c=[O5l];Z7M=6;break;case 24:Z7M=!p.r1(f)?23:22;break;case 6:this.jg&&(f.push(1),c.push(1));this.Sh&&(f.push(m.L.AUDIO),c.push(0));this.KI.QUa();this.BXa();Z7M=11;break;case 22:p.sourceBuffers.forEach(function(d){var E7M,f,Q5l,P5l,U5l,C5l,K5l;E7M=2;while(E7M!==14){Q5l="log";Q5l+="dat";Q5l+="a";P5l="err";P5l+="o";P5l+="r";U5l="re";U5l+="qu";U5l+="estA";U5l+="ppe";U5l+="nded";C5l="headerA";C5l+="pp";C5l+="end";C5l+="ed";K5l="ma";K5l+="na";K5l+="ge";K5l+="rdebuge";K5l+="vent";switch(E7M){case 7:b.kf&&d.addEventListener(K5l,function(b){var d7M;d7M=2;while(d7M!==1){switch(d7M){case 2:Q.na(a,b.type,b);d7M=1;break;case 4:Q.na(a,b.type,b);d7M=3;break;d7M=1;break;}}});a.ef[f]=d;E7M=14;break;case 2:f=d.O;d=new x.jGa(a,a.bb.Cb[f].K,f,p,d,a.te.pv(f),b);d.addEventListener(C5l,a.EUa.bind(a));d.addEventListener(U5l,a.GUa.bind(a));d.addEventListener(P5l,function(b){var K7M,W5l;K7M=2;while(K7M!==1){W5l="NFErr";W5l+="_MC_Streami";W5l+="ngFailure";switch(K7M){case 2:a.zi(b.errorstr,void 0,W5l);K7M=1;break;}}});d.addEventListener(Q5l,function(b){var Y7M;Y7M=2;while(Y7M!==1){switch(Y7M){case 2:Q.na(a,b.type,b);Y7M=1;break;case 4:Q.na(a,b.type,b);Y7M=3;break;Y7M=1;break;}}});E7M=7;break;}}});this.lw&&this.Va.JVa();f=this.O5();this.Va.YVa(f[m.L.AUDIO],f[m.L.VIDEO]);Z7M=33;break;case 4:this.zi(x5l+this.qH,void 0,m5l);Z7M=28;break;case 27:this.Va.Er(A5l);Z7M=26;break;case 5:Z7M=!h.pa(this.qH)||0>this.qH?4:3;break;case 30:this.emit(f.type,f);Z7M=28;break;case 15:Z7M=1===p.readyState?27:29;break;case 23:throw this.Gk(I5l,p.error),p.error;Z7M=22;break;case 29:this.Gk(s5l,p.error),this.zi(Y4l,void 0,i4l);Z7M=28;break;case 11:this.CP=!1;g=b.DH;this.kb.Ug&&this.kb.Ug.EH(g,this.Bl.sessionId);k=this.KI.HTa(c,this.M);Z7M=18;break;case 18:c.forEach(function(b,d){var R7M,X4l;R7M=2;while(R7M!==1){X4l="he";X4l+="ad";X4l+="er";X4l+="s";switch(R7M){case 2:X4l===b?a.UG=k[d]:a.bb.Cb[b].ik=k[d];R7M=1;break;}}});this.Va.Er(q4l);p=new D(this.ja.gI);Z7M=15;break;case 26:p.Sc||(p.Sc=D.Sc);this.Se=p;Z7M=24;break;case 2:a=this;Z7M=5;break;}}};c.prototype.flush=function(){var W7M;W7M=2;while(W7M!==1){switch(W7M){case 4:this.Mv.flush();W7M=2;break;W7M=1;break;case 2:this.Mv.flush();W7M=1;break;}}};c.prototype.paused=function(){var t7M;t7M=2;while(t7M!==1){switch(t7M){case 4:this.ja.paused();t7M=8;break;t7M=1;break;case 2:this.ja.paused();t7M=1;break;}}};c.prototype.FW=function(){var f7M;f7M=2;while(f7M!==1){switch(f7M){case 2:this.ja.FW();f7M=1;break;case 4:this.ja.FW();f7M=2;break;f7M=1;break;}}};Q2M=43;break;case 70:c.prototype.sta=function(a,b,d){var W9M,f;W9M=2;while(W9M!==7){switch(W9M){case 4:W9M=!a.length?3:9;break;case 3:return b;break;case 2:f=this.jc(a.ba);a=d?f.Gra(this.zg.bind(this),a.Xa,b):f.dJ(this.zg.bind(this),a.Xa,b,this.G);W9M=4;break;case 9:b=a[m.L.VIDEO];return d?b.U:b.ha;break;}}};c.prototype.vUa=function(a,b){var t9M,d,f;t9M=2;while(t9M!==14){switch(t9M){case 2:d=this.G;f=this.te.Vk(a.O,b.za);t9M=4;break;case 3:f.OL&&this.te.Noa(f);t9M=14;break;case 4:t9M=f&&!f.$?3:9;break;case 9:t9M=f?8:7;break;case 6:this.te.qI(a,this.M,b,{url:b.url,offset:0}),this.te.ela=R.time.da();t9M=14;break;case 7:t9M=h.R(d.d9)||h.R(this.te.dla)||h.R(this.te.ela)||(f=R.time.da(),!(f-this.te.dla<d.d9||f-this.te.ela<d.d9))?6:14;break;case 8:return f;break;}}};c.prototype.fu=function(){var f9M;f9M=2;while(f9M!==1){switch(f9M){case 2:return this.qa.ug.v2(this.bb.Cb[m.L.VIDEO],this.bb.Cb[m.L.AUDIO],this.jg,this.ja.bm(),void 0!==this.kB,this.G.ai);break;}}};c.prototype.pH=function(){var C9M;C9M=2;while(C9M!==9){switch(C9M){case 2:this.qa.ug.hqb(this.ja.bm());this.tH();this.pB&&(clearTimeout(this.pB),this.pB=void 0);this.ja.Ld(m.Ma.ad);this.Vh.th();C9M=9;break;}}};c.prototype.pma=function(a,b){var M9M,A9M;M9M=2;while(M9M!==7){switch(M9M){case 2:a.Ig=!0;a.ha=h.pa(b)?b:a.ab;M9M=5;break;case 9:M9M=this.uo&&a.O===m.L.VIDEO?8:7;break;case 5:a.br=!1;a.LQ();this.fu();M9M=9;break;case 8:try{A9M=2;while(A9M!==1){switch(A9M){case 2:this.u4(m.Ma.$N,{ha:a.ha});A9M=1;break;}}}catch(ma){var v4l;v4l="Hin";v4l+="dsight: Er";v4l+="ror evaluating ";v4l+="QoE at endOfStream: ";t8ii.s0l(0);this.Va.rq(t8ii.A0l(ma,v4l));}M9M=7;break;}}};c.prototype.aXa=function(){var X9M,a;X9M=2;while(X9M!==4){switch(X9M){case 2:a=this.kb.bf;a&&(a=a.get())&&a.avtp&&this.pt.PYa({avtp:a.avtp.Fa});X9M=4;break;}}};c.prototype.LXa=function(a){var I9M,b,d,j4l,a4l,d4l;I9M=2;while(I9M!==8){j4l="startup, playerS";j4l+="tate no longer ";j4l+="STARTI";j4l+="NG:";a4l="fai";a4l+="led to st";a4l+="ar";a4l+="t ";a4l+="audio pipeline";d4l="failed to ";d4l+="s";d4l+="tart vi";d4l+="deo ";d4l+="pipeline";switch(I9M){case 2:this.ja.Ld(m.Ma.Nh);I9M=5;break;case 5:b=this.qa.vg;d=b[m.L.AUDIO];b=b[m.L.VIDEO];this.jg&&!this.tma(a,b)?this.Ha(d4l):this.Sh&&!this.tma(a,d)?this.Ha(a4l):(this.Qla=!0,this.sb[0].B6=!0,d=this.bb.Cb[m.L.VIDEO],b=this.bb.Cb[m.L.AUDIO],(d&&0<d.Qo||b&&0<b.Qo)&&this.Va.RVa(a,b?b.Qo:0,d?d.Qo:0,b?b.TK:0,d?d.TK:0),this.ja.vva()?(this.FP(0),this.Sh&&(a=this.hf.xS(0),d=this.hf.wS(0),this.Va.UVa(a,d))):this.Ha(j4l,this.ja.gd()));I9M=8;break;}}};c.prototype.tma=function(a,b){var G9M,d,f,o4l,k4l;G9M=2;while(G9M!==13){o4l="NFErr_MC_Stre";o4l+="a";o4l+="mingInit";o4l+="F";o4l+="ailure";k4l="startPipe";k4l+="line";k4l+=" failed";switch(G9M){case 3:return this.Ae()||this.zi(k4l,b.Rb.ba,o4l),!1;break;case 2:d=b.O;f=this.bb.Tbb(b);G9M=4;break;case 4:G9M=h.R(f)?3:9;break;case 9:f=b.$b[f];G9M=8;break;case 8:G9M=this.te.Vk(d,f.za)?7:6;break;case 7:return!0;break;case 6:this.te.qI(b,a,f,{offset:0,jy:!this.Ak&&!this.v_&&d===m.L.VIDEO,Ds:!this.bb.Cb[d].s9a},f.Oa.ba);G9M=14;break;case 14:return!0;break;}}};c.prototype.FP=function(a,b){var u9M,d,f,c,g;u9M=2;while(u9M!==17){switch(u9M){case 2:d=this;f=this.G;c=this.bb.Cb[m.L.AUDIO]||{};g=this.bb.Cb[m.L.VIDEO]||{};c.$H=void 0;g.$H=void 0;u9M=7;break;case 12:this.p_=R.time.da();c.Ll=g.Ll=this.p_;0===a&&(!this.jg||0<g.Qo)&&(!this.Sh||0<c.Qo)&&this.fu();f.RI&&(this.H_=setTimeout(function(){var w9M;w9M=2;while(w9M!==1){switch(w9M){case 4:d.aXa();w9M=3;break;w9M=1;break;case 2:d.aXa();w9M=1;break;}}},f.g4));this.ja.bm()&&(this.pB=setTimeout(function(){var S9M;S9M=2;while(S9M!==1){switch(S9M){case 2:d.fu();S9M=1;break;case 4:d.fu();S9M=0;break;S9M=1;break;}}},f.nE));this.Vh.th();u9M=17;break;case 7:this.CP=!1;this.ja.Ld(2===a?m.Ma.Yt:m.Ma.Ij);this.Va.OVa(b);this.qa.vg.forEach(function(b){var a9M;a9M=2;while(a9M!==5){switch(a9M){case 2:b.e2=0;b.seeking=0===a||1===a;a9M=5;break;}}});u9M=12;break;}}};c.prototype.WP=function(a){var e9M,b,l4l;e9M=2;while(e9M!==4){l4l="wi";l4l+="pe";l4l+="Header";l4l+="Cache:";switch(e9M){case 2:b=this.G;b.q9||(b.kf&&this.Qh(l4l+a),this.kb.poa(),this.If&&(this.If=void 0));e9M=4;break;}}};c.prototype.Vja=function(a){var B9M,b,d,f,c,p4l,y4l;B9M=2;while(B9M!==14){p4l="cat";p4l+="c";p4l+="h";y4l="che";y4l+="ckFor";y4l+="HcdSt";y4l+="art";switch(B9M){case 9:f=function(a,b){var F9M,d,f,c,g,k,p,T4l;F9M=2;while(F9M!==13){T4l="adoptPipeli";T4l+="ne no header fo";T4l+="r s";T4l+="treamI";T4l+="d:";switch(F9M){case 9:F9M=p&&(f=p.za,d=p.aq.stream,h.R(b.qn)||this.Od.RBa(b.qn,b.$l,b.Zk),g.Co=b.Co,g.Vl=b.Vl,g.deb=b.qn,a.bvb(f))?8:13;break;case 2:c=a.O;g=this.bb.Cb[c];k=!this.Ak&&!this.v_&&c===m.L.VIDEO;p=b[c];F9M=9;break;case 8:F9M=!p.aq?7:6;break;case 6:F9M=this.te.Rma(a,this.Be,p.aq,k,!0)?14:13;break;case 14:return b=this.te.Vk(c,f).$,b=b.Gi(a.ab,void 0,!0),k=d.ag(b),d=k.U,a.KL()&&(k=k.YR(a.ab))&&0<k.Kd&&(d=k.Kd),a.ab!==d&&(a.ab=d,a.bi=b,this.M0(c,d)),this.PSa(a,p.data),g.s9a=!0,c===m.L.AUDIO&&this.Od.NE(p.aq.P),f;break;case 7:a.bd(T4l,f);F9M=13;break;}}}.bind(this);this.Va.Er(y4l);this.sb.forEach(function(b){var O9M;O9M=2;while(O9M!==1){switch(O9M){case 2:M.lQ(b.Oa.M,a)&&(c=b);O9M=1;break;}}});return this.kb.Ug.Kgb(a,c?c.Oa:void 0).then(function(a){var n9M,c,g,k,V4l,b4l,M4l,S4l;n9M=2;while(n9M!==10){V4l="adop";V4l+="tHc";V4l+="d";V4l+="End";b4l="a";b4l+="d";b4l+="optHcdStart";M4l="heade";M4l+="rCacheDa";M4l+="taN";M4l+="o";M4l+="tFound";S4l="ch";S4l+="eckF";S4l+="o";S4l+="rHcd";S4l+="End";switch(n9M){case 5:n9M=h.R(a)?4:3;break;case 2:b.Va.Er(S4l);n9M=5;break;case 4:d.DH||b.WP(M4l);n9M=10;break;case 3:c=b.qa.vg;g=c[m.L.AUDIO];c=c[m.L.VIDEO];n9M=7;break;case 7:b.Va.Er(b4l);k=!0;n9M=14;break;case 14:b.jg&&(k=f(c,a));!b.Sh||d.mdb&&!k||f(g,a);b.Wka=a;b.Va.Er(V4l);n9M=10;break;}}}).then(function(){var o9M,f4l;o9M=2;while(o9M!==1){f4l="adoptedCom";f4l+="pl";f4l+="eted";f4l+="Requ";f4l+="ests";switch(o9M){case 2:d.DH||b.If&&0!==b.If.length||b.WP(f4l);o9M=1;break;}}})[p4l](function(a){var h9M,F4l;h9M=2;while(h9M!==1){F4l="headerCach";F4l+="e:lookupDataP";F4l+="romise caught error";F4l+=":";switch(h9M){case 4:b.Ha("",a);h9M=2;break;h9M=1;break;case 2:b.Ha(F4l,a);h9M=1;break;}}});break;case 4:B9M=!this.oYa||!this.kb.Ug?3:9;break;case 1:b=this;d=this.G;B9M=4;break;case 2:B9M=1;break;case 3:return this.kb.v0a(),W.resolve();break;}}};c.prototype.PSa=function(a,b){var N9M,d,g,k,f,c,p,L4l,h4l;N9M=2;while(N9M!==20){L4l="adopt";L4l+="Dat";L4l+="a, not adopting f";L4l+="ailed media";L4l+="Request:";h4l="adoptData, not adopting abort";h4l+="ed";h4l+=" mediaRequest:";switch(N9M){case 6:p=b.shift();N9M=14;break;case 10:b=this.sb[a.Rb.ba],f=b.WR(d,a.ab),void 0!==f?(a.bi=f,a.yg=b.Oa.Vc[d].stream.ag(a.bi)):a.bi=a.ck?a.ck.index+1:a.bi+1;N9M=20;break;case 8:d=a.O,g=this.bb.Cb[d];N9M=7;break;case 9:this.qO=!0;N9M=8;break;case 1:N9M=0!==b.length?5:20;break;case 2:N9M=1;break;case 14:7===p.readyState?a.Ha(h4l,p.toString()):6===p.readyState?(a.Ha(L4l,p.toString()),this.bu(a,p,!1)):a.ab>=p.Oc&&a.ab<p.Ve&&(a.ab<c||!h.pa(c))?(this.QSa(a,p),a.ab=p.Ve,h.pa(c)&&a.ab>=c&&this.Va.q0(f,p.Ve),d===m.L.AUDIO&&this.Od.NE(p.P),p.complete?(g.Qo+=p.duration,p.ngb&&(g.TK+=p.duration),k=p):(this.If||(this.If=[]),this.If.push(p))):this.bu(a,p,!1);N9M=7;break;case 5:d=a.Rb;f=d.xa;c=Math.min(this.sb[0].ha||Infinity,d.ha||Infinity);N9M=9;break;case 11:N9M=k||this.If&&this.If.length?10:20;break;case 13:k&&k.Nf.$ta(k);this.qO=!1;N9M=11;break;case 7:N9M=0<b.length?6:13;break;}}};Q2M=83;break;case 83:c.prototype.QSa=function(a,b){var k9M,d,e4l,B4l,E4l;k9M=2;while(k9M!==9){e4l=", pt";e4l+="s";e4l+=": ";B4l=", s";B4l+="t";B4l+="ate:";B4l+=" ";E4l="adopt";E4l+="MediaReques";E4l+="t";E4l+=":";E4l+=" type: ";switch(k9M){case 2:d=a.O;this.G.kf&&this.Qh(E4l+d+B4l+b.readyState+e4l+b.Oc);this.M0(d,b.Oc);a.Za.uZa(this,b);k9M=9;break;}}};c.prototype.wP=function(a,b,d,f){var j9M,c,g,k;j9M=2;while(j9M!==7){switch(j9M){case 8:a.BQ(b,this.jc.bind(this),this.G,this.Sh,this.jg,this.qa,this.Va,this.N5.bind(this));j9M=7;break;case 9:a.B6=!0;j9M=8;break;case 2:c=this;g=a.Oa.M;k=a.Go;this.qa.vg.forEach(function(p){var U9M,t,q,l,u4l,N4l;U9M=2;while(U9M!==6){u4l="request";u4l+="HeadersFromManifes";u4l+="t, shutdown ";u4l+="d";u4l+="etected";N4l="requestHeadersFromManifest, unab";N4l+="le to";N4l+=" ";N4l+="update urls";switch(U9M){case 4:q=a.Vp(t);U9M=3;break;case 2:t=p.O;U9M=5;break;case 5:U9M=c.zg(t)&&(h.R(f)||t===f)?4:6;break;case 3:U9M=c.Ae()?9:8;break;case 8:l=c.bb.MD(p);k.IW(l,b,q.$b)?(l=c.bb.Cb[t],l=c.Fka(q.$b,l.Fo?l.Fo.P:0),q=q.$b[l],(l=c.te.Vk(t,q.za))&&l.$?a.lca(p.O,l,b):c.te.qI(p,g,q,{offset:0,OL:!1,jy:t===m.L.VIDEO,Ds:!0},b,d)):p.Ha(N4l);U9M=6;break;case 9:c.Ha(u4l);U9M=6;break;}}});j9M=9;break;}}};c.prototype.G0=function(a,b){var l9M,d;l9M=2;while(l9M!==3){switch(l9M){case 2:d=this;this.qa.ug.reset(a,b);(void 0===b?[m.L.AUDIO,m.L.VIDEO]:[b]).forEach(function(a){var r9M;r9M=2;while(r9M!==4){switch(r9M){case 1:d.jXa(a);d.Od.akb(a);r9M=4;break;case 2:d.ef[a].reset();r9M=1;break;case 9:d.ef[a].reset();r9M=3;break;r9M=1;break;}}});l9M=3;break;}}};c.prototype.jXa=function(a){var g9M;g9M=2;while(g9M!==8){switch(g9M){case 3:a.TK=0;a.connected=!1;g9M=8;break;case 2:a=this.bb.Cb[a];a.Iv=void 0;a.N7=void 0;a.Qo=0;g9M=3;break;}}};c.prototype.M0=function(a,b){var P9M,d,f,J4l;P9M=2;while(P9M!==8){J4l="pts";J4l+="c";J4l+="ha";J4l+="ng";J4l+="ed";switch(P9M){case 5:P9M=d.Sg(a)?4:8;break;case 2:d=this.qa.ug;P9M=5;break;case 4:f=this.bb.Cb[a];h.R(f.Jk)&&(f.Jk=b,a===m.L.VIDEO&&this.Sh&&(a=this.bb.Cb[m.L.AUDIO],h.R(a.Jk)&&(d=d.Sg(m.L.AUDIO),d.qt(b)),this.emit(J4l,b)));h.R(f.$H)&&(f.$H=b);P9M=8;break;}}};c.prototype.Lcb=function(a){var L4M,b,w4l;L4M=2;while(L4M!==4){w4l="al";w4l+="l";w4l+="Com";w4l+="plete";w4l+="d";switch(L4M){case 9:b=this.G;L4M=8;break;L4M=5;break;case 2:b=this.G;L4M=5;break;case 5:this.If&&(a=this.If.indexOf(a),-1!=a&&this.If.splice(a,1),0===this.If.length&&(this.If=void 0,b.DH||this.qO||this.WP(w4l)));L4M=4;break;}}};c.prototype.tH=function(){var s4M,a,b,d,f,c,g,k,p,D4l;s4M=2;while(s4M!==16){D4l="nu";D4l+="mbe";D4l+="r";switch(s4M){case 2:a=this;b=this.G;d=this.WK;f=this.sb[d];c=this.qa.ug;g=this.ja.lf()||0;s4M=7;break;case 7:k=this.ey(d,g);this.CP=!0;p=b.HW;s4M=13;break;case 13:s4M=b.OI||b.Xqa?12:11;break;case 11:this.kb.Ug&&f.cl&&f.cl.Mi-g<=b.sxa&&this.kb.Ug.EH(!0,this.Bl.sessionId);this.ja.gd()===m.Ma.ad&&([m.L.VIDEO,m.L.AUDIO].forEach(function(b){var J4M,d,f,t,q,l,u,H4l;J4M=2;while(J4M!==13){H4l="Unable to";H4l+=" find request presenti";H4l+="ng at";H4l+=" player";H4l+="Pts:";switch(J4M){case 1:J4M=a.zg(b)?5:13;break;case 4:J4M=d?3:13;break;case 2:J4M=1;break;case 5:d=c.Sg(b);J4M=4;break;case 3:l=d;d.LQ(g);(u=d.Za.dD(g))&&!u.Rh&&(u=a.ef[b].ofb);u?(l=u.ge-g,l<p&&(p=l),q=a.bb.Cb[b],t=u.Oa.ba,l=u.Nf,a.jg&&b!==m.L.VIDEO||(a.qa.rjb(u,u.hm),t>a.cP?(a.cP=t,f=0<t?t-1:null,a.Va.VVa(t,a.sb[t],g,u.hm,null!==f?a.sb[f].Oa.M:null,f),k=a.ey(t,g)):a.FB&&u.hm!=q.xfb&&a.Va.lWa(u.hm)),q.xfb=u.hm,f=u.za,f!=q.N7&&(q.N7=f,b=a.sb[t].Oa.Zp(b,f),t=a.ey(t,u.Ic),a.Va.hWa(l,u.Ic,t,b.Oa.ba,b.Rf)),u=u.P,h.R(u)||u==d.gza||(d.gza=u)):d.Ha(H4l,g);a.RWa(l,g);a.qa.Tmb();J4M=13;break;}}}),this.qa.gp(g,k));this.Vh.th();p=Math.max(p,1);this.Au&&clearTimeout(this.Au);this.Au=setTimeout(this.tH.bind(this),p);s4M=16;break;case 12:d=this.qa.Bbb(),D4l===typeof d&&d-b.e9<=k&&(p=Math.min(p,b.c0a));s4M=11;break;}}};c.prototype.LG=function(a){var H4M;H4M=2;while(H4M!==1){switch(H4M){case 4:return this.Vh.LG(a);break;H4M=1;break;case 2:return this.Vh.LG(a);break;}}};c.prototype.th=function(){var m4M;m4M=2;while(m4M!==1){switch(m4M){case 2:return this.Vh.th();break;case 4:return this.Vh.th();break;m4M=1;break;}}};c.prototype.aQ=function(a,b){var D4M;D4M=2;while(D4M!==1){switch(D4M){case 4:return this.bu(a.Nf,a,b);break;D4M=1;break;case 2:return this.bu(a.Nf,a,b);break;}}};c.prototype.bu=function(a,b,d){var v4M,f,c;v4M=2;while(v4M!==14){switch(v4M){case 9:f.$B||a.Za.zV(b);this.ef[a.O].zV(b);!0===d&&this.Vh.th();return c;break;case 2:f=this.G;c=b.abort();b.ae();b.Uf&&b.Uf.clear();v4M=9;break;}}};c.prototype.KXa=function(a){var q4M,b,d,z4l;q4M=2;while(q4M!==3){z4l="no";z4l+=" n";z4l+="ewAudioT";z4l+="rack";z4l+=" set";switch(q4M){case 2:b=a.O;d=this.bb.Cb[b];h.R(d.zU)?a.Ha(z4l):(this.ef[b].pause(),d.tF=!0,a=this.hf.Vp(0),d=this.hf.Oa.LS(d.zU.eb),this.Va.LVa(a,d));q4M=3;break;}}};Q2M=98;break;case 59:c.prototype.SXa=function(a){var b9M,b,d,f,c,t4l,R4l,G4l;b9M=2;while(b9M!==15){t4l=",";t4l+=" ";R4l=", s";R4l+="tre";R4l+="aming";R4l+="Pts: ";G4l="swit";G4l+="chMan";G4l+="ifest manifestIndex: ";switch(b9M){case 13:b.Ux&&(b.Rx=!0);c=this.Be;f?this.qa.oob(c,a):d.vqb(a);d.Nua(a);b9M=20;break;case 8:c=c?c.ab:void 0;this.G.kf&&this.Qh(G4l+a+R4l+f+t4l+c);f=this.Ak;this.Ak=!1;b9M=13;break;case 17:this.Yo.L_();b9M=16;break;case 2:b=this.sb[a];d=this.qa.ug;f=d.Sg(m.L.AUDIO);f=f?f.ab:void 0;c=d.Sg(m.L.VIDEO);b9M=8;break;case 16:this.Vh.th();b9M=15;break;case 20:[m.L.VIDEO,m.L.AUDIO].forEach(function(a){var i9M,f;i9M=2;while(i9M!==4){switch(i9M){case 2:f=d.Sg(a);f&&!b.replace&&(b.wo?f.Gob(b.wo[a]):(a=b.Cz[a],f.Hob(a)));i9M=4;break;}}}.bind(this));this.jla(a);b.nca(a,this.G,this.Sh,this.jg,this.qa,this.Va);b9M=17;break;}}};c.prototype.Pjb=function(){var T9M,a,b,d,r4l;T9M=2;while(T9M!==13){r4l="onAudioTrackSwitchStart";r4l+="ed ignore";r4l+="d, no audio pipelin";r4l+="e";switch(T9M){case 4:b=this.ja.lf();d=this.bb.Cb[a.O];(b=a.Za.dD(b))&&b.Nf!=a&&(a=b.Nf);this.PWa(a);d.tF=!1;T9M=6;break;case 2:a=this.qa.ug.Sg(m.L.AUDIO);T9M=5;break;case 5:T9M=a?4:14;break;case 6:this.Vh.th();T9M=13;break;case 14:this.Ha(r4l);T9M=13;break;}}};c.prototype.Dsb=function(a){var z9M,b,d,f,c,U4l,C4l,K4l,O4l,n4l,c4l,g4l,Z4l;z9M=2;while(z9M!==22){U4l="s";U4l+="witchTracks r";U4l+="ejected, previous switch still waitin";U4l+="g to start";C4l="s";C4l+="witchTracks can't f";C4l+="ind trackId:";K4l="switchTracks rejected, pre";K4l+="vious switc";K4l+="h still in progress: ";O4l=" t";O4l+="o:";O4l+=" ";n4l="switch";n4l+="Track";n4l+="s cu";n4l+="rrent: ";c4l="switchTracks reje";c4l+="cted,";c4l+=" bufferLevelMs";g4l="s";g4l+="witchTracks reject";g4l+="ed,";g4l+=" buf";g4l+="fering";Z4l="switchTrac";Z4l+="ks reje";Z4l+="cte";Z4l+="d, audio d";Z4l+="isabled";switch(z9M){case 15:z9M=c===f.eb?27:26;break;case 4:return this.Ha(Z4l),!1;break;case 7:return this.Ha(g4l),!1;break;case 3:z9M=this.kB?9:8;break;case 2:b=this.G;z9M=5;break;case 18:z9M=!f?17:16;break;case 5:z9M=!this.Sh?4:3;break;case 14:z9M=d.tF?13:12;break;case 10:return this.Ha(c4l,f,"<",b.jU),!1;break;case 26:b.kf&&this.Qh(n4l+c+O4l+f.eb);d.zU={eb:a};this.KXa(this.qa.ug.Sg(m.L.AUDIO));return!0;break;case 9:return this.Ha(K4l+JSON.stringify(this.kB)),!1;break;case 20:a=a.fC;f=this.hf.Oa.LS(a);z9M=18;break;case 11:z9M=f<b.jU?10:20;break;case 17:return this.Ha(C4l,a),!1;break;case 6:d=this.bb.Cb[m.L.AUDIO];z9M=14;break;case 8:z9M=this.ja.bm()?7:6;break;case 13:return this.Ha(U4l),!1;break;case 27:return!1;break;case 12:f=this.qa.fD(m.L.VIDEO);z9M=11;break;case 16:c=this.hf.wS(0);z9M=15;break;}}};c.prototype.XV=function(a,b){var x9M;x9M=2;while(x9M!==1){switch(x9M){case 2:void 0!==b?this.jc(b).Vp(1).$b.forEach(function(b){var Z9M;Z9M=2;while(Z9M!==1){switch(Z9M){case 2:O(l.D1(b.gf,b.P,a),b);Z9M=1;break;}}}):(this.n_=a,this.qa.XV(a));x9M=1;break;}}};c.prototype.dD=function(a,b,d){var R9M;R9M=2;while(R9M!==1){switch(R9M){case 2:return this.qa.xj.Xa[b].Za.dD(a,void 0,d);break;}}};c.prototype.kC=function(a){var E9M;E9M=2;while(E9M!==1){switch(E9M){case 2:return this.Yo.kC(a);break;case 4:return this.Yo.kC(a);break;E9M=1;break;}}};c.prototype.u4=function(a,b){var K9M,d,f;K9M=2;while(K9M!==8){switch(K9M){case 2:d=this.bb;a=d.J4(a,b);K9M=4;break;case 4:f=this.Od.F$;a&&!a.aC&&f.t4(a);b?d.daa():(b=f.B$a(),this.Va.TVa(b));K9M=8;break;}}};c.prototype.Fka=function(a,b){var c7v=t8ii;var Y9M,d,f,c,W4l,P4l,o4M;Y9M=2;while(Y9M!==14){W4l="findNewStreamIndex un";W4l+="able to find ";W4l+="stream for bi";W4l+="tra";W4l+="te: ";P4l=" retu";P4l+="rning in";P4l+="dex: ";switch(Y9M){case 1:Y9M=0<=c?5:7;break;case 2:c7v.Y5l(2);o4M=c7v.I0l(19,14,6);c=a.length-o4M;Y9M=1;break;case 5:Y9M=(f=a[c],f.mf&&!f.Tg&&f.inRange)?4:8;break;case 9:d=c;Y9M=8;break;case 8:--c;Y9M=1;break;case 4:Y9M=f.P<=b?3:9;break;case 3:return c;break;case 7:c7v.s0l(3);this.Ha(c7v.A0l(P4l,d,b,W4l));return d;break;}}};c.prototype.ATa=function(a){var d9M,b;d9M=2;while(d9M!==3){switch(d9M){case 2:b=this.bb.Cb[a.O];d9M=5;break;case 5:b.Li&&b.Li.IQ&&(b.Li.IQ=void 0);a.AE&&(b.Fo=void 0,b.Li=void 0,b.eJ=void 0,b.Vl=void 0,a.AE=void 0);d9M=3;break;}}};c.prototype.N0a=function(a,b,d){var y9M;y9M=2;while(y9M!==1){switch(y9M){case 2:return this.sb[b].M0a(m.L.VIDEO,a,d||!1);break;}}};c.prototype.ey=function(a,b){var c9M,d,f;c9M=2;while(c9M!==8){switch(c9M){case 3:h.pa(d)||(d=this.sb[a].vn);t8ii.Y5l(4);return t8ii.A0l(d,b);break;case 2:void 0===a&&(a=this.WK);f=this.qa.d9a(b,a);f?d=f.Rc:(f=this.qa.K4(a),0<f.length&&(f=f[0],d=f.Rc));c9M=3;break;}}};c.prototype.X2=function(a,b){var Q9M,d,f;Q9M=2;while(Q9M!==8){switch(Q9M){case 2:void 0===a&&(a=this.WK);f=this.qa.c9a(b,a);f?d=f.Rc:(f=this.qa.K4(a),0<f.length&&(f=f[0],d=f.Rc));h.pa(d)||(d=this.sb[a].vn);t8ii.s0l(0);return t8ii.I0l(d,b);break;}}};Q2M=70;break;case 98:c.prototype.PWa=function(a){var p4M,b,f,c,g,h,k,p,t,x4l,Q4l;p4M=2;while(p4M!==33){x4l="aud";x4l+="ioTr";x4l+="ackChang";x4l+="e";Q4l="aud";Q4l+="i";Q4l+="oSwitch";switch(p4M){case 12:t=this.ja.lf()-g.Rc;this.If&&0<this.If.length&&(this.If=this.If.filter(function(d){var V4M;V4M=2;while(V4M!==4){switch(V4M){case 5:b.bu(a,d,!1);V4M=4;break;case 2:V4M=d.O!==c?1:5;break;case 1:return!0;break;case 8:return-1;break;V4M=4;break;case 9:V4M=d.O==c?5:2;break;V4M=d.O!==c?1:5;break;}}}),0===this.If.length&&(this.If=void 0,f.DH||this.WP(Q4l)));p4M=10;break;case 35:++f;p4M=22;break;case 10:f=this.kb.usa(k.Oa.Ja,[p],c);this.j_[c]=f[c];this.KI.ema(a);h.zU=void 0;p4M=17;break;case 17:h.Fo=void 0;p4M=16;break;case 24:h=function(a){var b4M,b,d,f;b4M=2;while(b4M!==8){switch(b4M){case 2:b=this;d=this.sb[a];b4M=4;break;case 4:d.ica(p);b4M=3;break;case 3:b4M=d.B6?9:8;break;case 9:k.Vp(c).$b.some(function(a){var i4M;i4M=2;while(i4M!==4){switch(i4M){case 1:i4M=!(f&&f.stream&&f.stream.$&&t<f.stream.$.ig(0))?5:4;break;case 5:return f;break;case 2:f=b.te.Vk(c,a.za);i4M=1;break;}}})?(d.Oa.Vc[m.L.AUDIO]=f,d.cL=!1,f.stream.jd&&k.BQ(this.Be,this.jc.bind(this),this.G,this.Sh,this.jg,this.qa,this.Va,this.N5.bind(this))):(d.Oa.Vc[m.L.AUDIO]=void 0,d.cL=!1,this.wP(k,a,!0,m.L.AUDIO));b4M=8;break;}}}.bind(this);p4M=23;break;case 21:h(f);p4M=35;break;case 23:f=this.Be;p4M=22;break;case 22:p4M=f<this.sb.length?21:34;break;case 34:g.pAa(t);p4M=33;break;case 2:b=this;f=this.G;c=a.O;d.tl.Xl(c);p4M=9;break;case 9:g=a.Rb;h=this.bb.Cb[c];this.kB=h.zU;k=this.hf;k.wS(c);p=k.n6(c,this.kB.eb);p4M=12;break;case 16:h.Li=void 0;h.eJ=void 0;h.Vl=void 0;this.G0(x4l,c);this.qa.OBa(g,!0);p4M=24;break;}}};c.prototype.N0=function(a,b,d){var T4M,f,A4l,m4l;T4M=2;while(T4M!==4){A4l="video_l";A4l+="oca";A4l+="tio";A4l+="n";m4l="l";m4l+="oca";m4l+="ti";m4l+="o";m4l+="n";switch(T4M){case 2:f=this.G.p9;h.R(b)||h.R(d)||(a.location=b,a.Fb=d,(m4l===f||A4l===f&&a.O===m.L.VIDEO)&&this.kb.bf.WV(b),this.Od.$jb(a.O,b));T4M=4;break;}}};c.prototype.a1=function(){var z4M,a,b,d,f,c,g,k,m,i7l,Y7l;z4M=2;while(z4M!==16){i7l="manife";i7l+="sts";i7l+=":";Y7l="updateRequestUrls,";Y7l+=" no mani";Y7l+="festEn";Y7l+="try:";switch(z4M){case 3:f=this.hf;z4M=9;break;case 2:a=this;b=[];d=0;z4M=3;break;case 9:z4M=!f?8:7;break;case 7:c=f.Go;g=[f.Oa.Hs(0),f.Oa.Hs(1)];this.qa.vg.forEach(function(d){var x4M,f,s4l,I4l;x4M=2;while(x4M!==8){s4l="location selector is gon";s4l+="e,";s4l+=" sess";s4l+="ion has been closed";I4l="location sele";I4l+="ctor retur";I4l+="ned ";I4l+="null streamList";switch(x4M){case 5:x4M=c?4:9;break;case 1:x4M=a.zg(d.O)?5:8;break;case 4:f=a.bb.MD(d);c.IW(f,a.Be,d.$b)?(k=d.Za.pca(g,a.N0.bind(a)),0<k.length&&b.push.apply(b,k)):d.Ha(I4l);x4M=8;break;case 9:d.Ha(s4l);x4M=8;break;case 2:x4M=1;break;}}});k=this.te.pca(g,this.N0.bind(this));0<k.length&&b.push.apply(b,k);z4M=11;break;case 11:z4M=0<b.length?10:17;break;case 8:return this.bd(Y7l,this.Be,i7l,this.sb.length),!1;break;case 10:m={};b.forEach(function(b){var Z4M,f;Z4M=2;while(Z4M!==4){switch(Z4M){case 2:f=b.ba;b.Yb&&f>a.Be&&(m[b.ba]=!0,++d);Z4M=4;break;}}});z4M=19;break;case 19:h.dd(m,function(b,d){var R4M;R4M=2;while(R4M!==1){switch(R4M){case 2:a.wP(a.sb[d],d);R4M=1;break;}}});return d===b.length?!0:!1;break;case 17:return!0;break;}}};c.prototype.RWa=function(a,b){var E4M,d;E4M=2;while(E4M!==3){switch(E4M){case 2:d=this.ef[a.O];a=a.Za.Umb(b,function(a){var K4M;K4M=2;while(K4M!==1){switch(K4M){case 4:d.zV(a);K4M=7;break;K4M=1;break;case 2:d.zV(a);K4M=1;break;}}});h.R(a)||this.Vh.th();E4M=3;break;}}};c.prototype.EUa=function(a){var Y4M,b,d;Y4M=2;while(Y4M!==7){switch(Y4M){case 2:b=this;d=a.mediaType;a=this.sb[a.manifestIndex].Oa.Zp(d,a.streamId);this.xXa(this.qa.ug.Sg(d),a);this.G=this.npa.VSa(a.gf,this.G);this.sb.forEach(function(a,d){var d4M;d4M=2;while(d4M!==1){switch(d4M){case 2:a.B6||0===d||b.wP(a,d);d4M=1;break;}}});Y4M=7;break;}}};c.prototype.GUa=function(a){var y4M,b;y4M=2;while(y4M!==8){switch(y4M){case 4:b.dua=!0;a.aS&&this.Va.QVa(b,a);a.hq&&this.Va.eWa(b.O,a.Oa.ba,b.Rb.xa);y4M=8;break;case 2:a=a.request;b=a.Nf;y4M=4;break;}}};c.prototype.xXa=function(a,b){var c4M;c4M=2;while(c4M!==1){switch(c4M){case 2:this.bb.Cb[a.O].Fo={id:b.za,index:b.Rf,P:b.P,va:b.Ka&&b.Ka.Gc&&b.Ka.va?b.Ka.va.Fa:0,location:b.location};c4M=1;break;}}};c.prototype.l7=function(a){var Q4M,b,d,f,c;Q4M=2;while(Q4M!==13){switch(Q4M){case 4:f=this.ef;Q4M=3;break;case 6:a&&f&&(a=f[m.L.VIDEO],f=f[m.L.AUDIO],a&&f&&(b.atoappend=JSON.stringify(a.Ai),b.vtoappend=JSON.stringify(f.Ai)));Q4M=14;break;case 2:b={};d=this.qa.vg;Q4M=4;break;case 3:Q4M=d?9:14;break;case 9:c=d[m.L.VIDEO];d=d[m.L.AUDIO];c&&d&&(b.vspts=c.ab,b.aspts=d.ab,b.vbuflbytes=c.Ju,b.abuflbytes=d.Ju,b.vbuflmsec=c.Ce,b.abuflmsec=d.Ce,a&&(b.a=d.Za.$.toJSON(),b.v=c.Za.$.toJSON()));Q4M=6;break;case 14:return b;break;}}};c.prototype.acb=function(a){var W4M,b,d,f,c,g,h;W4M=2;while(W4M!==13){switch(W4M){case 2:b=this.qa.ug.Sg(a);W4M=5;break;case 5:W4M=b?4:13;break;case 4:d=this.bb.Cb[a];f=b.zt;W4M=9;break;case 14:return{type:a,availableMediaBuffer:h-f,completeBuffer:b.Ce,incompleteBuffer:c,playbackBitrate:b.gza,streamingBitrate:d,streamingTime:b.ab+g,usedMediaBuffer:f,toappend:b.pvb};break;case 9:d=d.Fo?d.Fo.P:0;c=b.Za.Qya;g=this.qa.Rc;h=this.$j()[a];W4M=14;break;}}};c.prototype.yob=function(){var t4M,a,X7l;t4M=2;while(t4M!==4){X7l="reque";X7l+="stGarbageC";X7l+="ollection";switch(t4M){case 2:a={type:X7l,time:R.time.da()};Q.na(this,a.type,a);t4M=4;break;}}};c.prototype.Qh=function(a){var f4M,v7l,q7l;f4M=2;while(f4M!==5){v7l=",";v7l+=" ";q7l="managerde";q7l+="bug";q7l+="event";switch(f4M){case 2:a={type:q7l,message:"@"+R.time.da()+v7l+a};Q.na(this,a.type,a);f4M=5;break;}}};c.prototype.zi=function(a,b,d,f,c,g){var C4M,d7l;C4M=2;while(C4M!==1){d7l="NF";d7l+="Err_";d7l+="MC_Str";d7l+="eamingFailure";switch(C4M){case 2:this.Jx||(h.R(d)&&(d=d7l),this.Jx=!0,this.Va.iWa(d,a,f,c,g,b));C4M=1;break;}}};Q2M=115;break;case 115:c.prototype.R_=function(){var M4M,a7l;M4M=2;while(M4M!==3){a7l="Network ";a7l+="fa";a7l+="ilures reset!";switch(M4M){case 2:this.Ha(a7l);this.Jx=!1;this.a1();this.Vh.th();M4M=3;break;}}};c.prototype.TWa=function(a){var A4M,b;A4M=2;while(A4M!==9){switch(A4M){case 2:b=this.G.LK.fallbackBound;void 0===this.$P&&(this.$P=[]);void 0===this.$P[a]&&(this.$P[a]=Math.floor(2*Math.random()*b)-b);A4M=3;break;case 3:return this.$P[a];break;}}};c.prototype.HUa=function(a,b){var X4M;X4M=2;while(X4M!==1){switch(X4M){case 2:this.j_[a.O]=this.kb.wsa(b);X4M=1;break;}}};c.prototype.yTa=function(a,b,f,c){var I4M,g,h,k,p,t,k7l,j7l;I4M=2;while(I4M!==20){k7l="star";k7l+="tpl";k7l+="a";k7l+="y";j7l="lo";j7l+="gd";j7l+="a";j7l+="ta";switch(I4M){case 2:d.tl.Xl(a);I4M=5;break;case 5:g=this.sb[b];h=g.Go;k=g.Oa.Zp(a,f);f=this.bb.Cb[a];I4M=8;break;case 6:g=k.location===k.fV;p=k.Ub===k.u$;c&&k.Ub&&!f.DD?(t=m.Qe.$t,k.pl=m.Qe.name[t],this.Va.Dla(b,a,k.Ub,k.pl,k.location,k.P),f.DD=k.Ub):!c&&k.Ub&&k.Ub!==f.DD&&(t=k.pl,t=p?void 0===f.DD?m.Qe.$t:h.JE===m.Qe.sZ?m.Qe.HQa:m.Qe.kX:m.Qe.GQa,k.pl=m.Qe.name[t],this.Va.Dla(b,a,k.Ub,k.pl,k.location,k.P),f.DD=k.Ub);f.CD||(p={type:j7l,target:k7l,fields:{}},a===m.L.AUDIO?p.fields.alocid=k.location:a===m.L.VIDEO&&(p.fields.locid=k.location),this.emit(p.type,p));I4M=11;break;case 7:g=h.M5().filter(function(a){var G4M,h4M;G4M=2;while(G4M!==1){switch(G4M){case 2:return void 0!==a.oc[k.za];break;case 4:t8ii.s0l(5);h4M=t8ii.I0l(4,20,16);return h4M==a.oc[k.za];break;G4M=1;break;}}})[0],p=g.children.filter(function(a){var u4M;u4M=2;while(u4M!==1){switch(u4M){case 2:return a.Yc.some(function(a){var a4M;a4M=2;while(a4M!==1){switch(a4M){case 4:return a.stream.id!==k.za;break;a4M=1;break;case 2:return a.stream.id===k.za;break;}}});break;}}})[0],k.fV=g.id,k.u$=p.id;I4M=6;break;case 8:I4M=void 0===k.fV||void 0===k.u$?7:6;break;case 11:c&&k.location&&!f.CD?(t=m.Qe.$t,k.pl=m.Qe.name[t],this.Va.Bla(b,a,k.location,k.Z7,k.Ub,k.Vz,k.pl,k.xq),f.CD=k.location):!c&&k.location&&k.location!==f.CD&&(t=k.pl,t=g?void 0===f.CD?m.Qe.$t:h.JE===m.Qe.sZ?m.Qe.HLa:m.Qe.kX:m.Qe.GLa,k.pl=m.Qe.name[t],this.Va.Bla(b,a,k.location,k.Z7,k.Ub,k.Vz,k.pl,k.xq),k.xq=void 0,f.CD=k.location);this.G.Ro||(k.Lva=k.location,k.Mva=k.Ub);I4M=20;break;}}};c.prototype.qz=function(a){var w4M,o7l;w4M=2;while(w4M!==1){o7l="requestError igno";o7l+="red";o7l+=", pipelines shutdown, ";o7l+="mediaRequest";o7l+=":";switch(w4M){case 2:this.Ae()?this.Ha(o7l,a):(a.Yb||this.Va.$xa(a.Nf,this.sb[a.Oa.ba].Oa,a.za,a.Ic),this.yTa(a.O,a.Oa.ba,a.za,a.Yb),this.N0(a,a.location,a.Fb));w4M=1;break;}}};c.prototype.aw=function(a){var S4M,l7l;S4M=2;while(S4M!==1){l7l="onfirstbyte ignored, pipeli";l7l+="nes shut";l7l+="down, mediaRequest:";switch(S4M){case 2:this.Ae()?this.Ha(l7l,a):a.u1||(this.bb.Cb[a.O].connected=!0);S4M=1;break;}}};c.prototype.HK=function(a){var e4M,b,y7l,T7l;e4M=2;while(e4M!==8){y7l="req";y7l+="ues";y7l+="tProgress";T7l="onprogress igno";T7l+="red, pipelines shutdo";T7l+="wn, mediaRequest";T7l+=":";switch(e4M){case 2:e4M=1;break;case 1:e4M=this.Ae()?5:4;break;case 5:this.Ha(T7l,a);e4M=8;break;case 4:b=a.uc;this.G.HR&&this.MP.push(a.CT);this.emit(y7l,{timestamp:b,url:a.url});e4M=8;break;}}};c.prototype.ci=function(a){var B4M,M7l,S7l;B4M=2;while(B4M!==1){M7l="request";M7l+="Co";M7l+="mpl";M7l+="ete";S7l="oncomplete ignor";S7l+="ed, pipe";S7l+="lines shutdown, me";S7l+="diaReq";S7l+="uest:";switch(B4M){case 2:this.Ae()?this.Ha(S7l,a):(this.Jx&&(this.Jx=!1,this.sb[a.ba].WI.qL(!0)),a.u1||a.Yb||this.Od.fkb(a.O,a.duration,a.se,a.bk),a.Yb||a.Nf.$ta(a),this.G.HR&&this.MP.push(a.CT),this.emit(M7l,{timestamp:a.uc,mediaRequest:a}));B4M=1;break;}}};c.prototype.dE=function(a){var F4M,b,F7l,p7l,f7l,V7l,b7l;F4M=2;while(F4M!==4){F7l="NFEr";F7l+="r_MC_StreamingF";F7l+="ailur";F7l+="e";p7l="u";p7l+="nk";p7l+="n";p7l+="o";p7l+="wn";f7l=",";f7l+=" er";f7l+="rormsg: ";V7l="MP4 par";V7l+="sing error o";V7l+="n: ";b7l="request";b7l+="Error ignored, pipel";b7l+="ines shutdow";b7l+="n, me";b7l+="diaRequest:";switch(F4M){case 2:b=a.Xh;this.Ae()?this.Ha(b7l,a):a.Yb&&a.parseError?(this.Ha(V7l+a+f7l,a.parseError),this.zi(a.parseError)):(this.G.Jcb&&b===T.Jt.CY&&0<a.se&&(b=T.Jt.rX),this.sb[a.ba].WI.im({url:a.url},a.status,b,a.sj),this.a1()||this.zi(a.aD||p7l,void 0,F7l,b,a.status,a.sj));F4M=4;break;}}};return c;break;}}function c(b,d,c,g,h,q,l,u,n,y){var W2M,x,J7l,N7l,B7l,E7l,L7l,h7l;W2M=2;while(W2M!==68){J7l="ma";J7l+="nag";J7l+="erde";J7l+="bugevent";N7l="m";N7l+="e";N7l+="diac";N7l+="ache";B7l="m";B7l+="e";B7l+="dia";B7l+="|ase";B7l+="js";E7l="A";E7l+="S";E7l+="EJ";E7l+="S";L7l="1S";L7l+="IYb";L7l+="ZrNJCp9";h7l="streaming";h7l+="F";h7l+="ai";h7l+="lu";h7l+="re";switch(W2M){case 46:x.Uf.on(x.te,h7l,function(a){var C2M;C2M=2;while(C2M!==1){switch(C2M){case 2:x.zi(a.msg,a.manifestIndex);C2M=1;break;}}});x.ef=[];g=x.HO(d).Zbb();l=null;n.RI&&(l=x.kb.pt.xu);W2M=62;break;case 74:x.Od.kca(x.G);W2M=73;break;case 2:x=a.call(this)||this;x.qO=!1;x.n_=[];L7l;x.K=new R.Console(E7l,B7l,"("+q.sessionId+")");W2M=8;break;case 73:x.qa=new p.hGa(x,x.Va,x.K,x.Od,d.choiceMap,x.qH,x.G);x.bb=new r.sRa(x,x.K,x.Od,x.G);x.uo&&x.ja.addListener(function(a){var A2M,X2M;A2M=2;while(A2M!==1){switch(A2M){case 2:try{X2M=2;while(X2M!==1){switch(X2M){case 2:x.bb.kub.bind(x.bb)(a);X2M=1;break;}}}catch(ta){var e7l;e7l="Hindsight: Error when";e7l+=" adding ";e7l+="updatePlaySegme";e7l+="nt Listener: ";t8ii.Y5l(0);x.Va.rq(t8ii.I0l(ta,e7l));}A2M=1;break;}}});U.call(x);W2M=69;break;case 25:x.oYa=!!h.LW;x.FB=h.k8;x.yP=void 0;x.gUa=R.time.da()+h.xGb;W2M=21;break;case 53:x.Uf.on(x.kb.Ug,N7l,function(a){var f2M,u7l;f2M=2;while(f2M!==1){u7l="m";u7l+="e";u7l+="dia";u7l+="cac";u7l+="he";switch(f2M){case 4:Q.na(x,"",a);f2M=5;break;f2M=1;break;case 2:Q.na(x,u7l,a);f2M=1;break;}}});W2M=52;break;case 8:x.bd=x.K.error.bind(x.K);W2M=7;break;case 44:x.UG=void 0;x.Ela=0;x.cP=-1;W2M=41;break;case 41:x.Uf=new f.Uw();x.Yo=new P.cRa(x,x.K);x.Vh=new E.TIa(x,x.K);x.KI=new Z.SIa(x,x.K);W2M=37;break;case 54:W2M=(n.sca||n.Fw)&&x.kb.Ug?53:52;break;case 37:W2M=n.kf&&x.kb.Ug?36:54;break;case 76:h=n.qdb;W2M=75;break;case 58:c.Rx=!0;c.Oa.QC()&&(x.WO=x.qH+n.Hba,x.XO=R.time.da());x.sb=[c];x.Od=new A.dFa(x,x.K,g,x.kb.bf,n,x.Iwa(),l);W2M=77;break;case 21:x.ja=new J.sFa(u);x.Jm=d.duration;x.qH=g||0;x.WO=0;W2M=32;break;case 36:x.Uf.on(x.kb.Ug,J7l,function(a){var t2M;t2M=2;while(t2M!==1){switch(t2M){case 4:Q.na(x,a.type,a);t2M=9;break;t2M=1;break;case 2:Q.na(x,a.type,a);t2M=1;break;}}});W2M=54;break;case 69:return x;break;case 48:0===Math.floor(1E6*Math.random())%n.HH&&(x.fXa=new G.tQa());x.te=new t.qKa(x,x,x,x,x.Va,x.Vh,x.Yo,x.K,b,x.G);W2M=46;break;case 18:n=x.npa.TSa(d,n);x.G=n;x.oP=h.j$;x.Ak=!!h.xg;x.v_=!!h.ns;b=!!h.nF;W2M=25;break;case 52:g=Math.floor(1E6*Math.random());x.uo=0===g%n.L6&&0<n.CJ.length;q&&q.cg&&(x.uo=!1,n.av&&!n.k7a&&(n.set?n.set({enableAdaptiveParallelStreaming:!1}):n.av=!1));x.m4=x.uo&&0===g%n.K6;W2M=48;break;case 75:for(var K in h){n=h[K];h.hasOwnProperty(K)&&n&&(x.G[K]=n);}W2M=74;break;case 77:W2M=n.l4&&x.Od.uT?76:73;break;case 32:x.XO=0;x.Be=0;x.j_=l;x.Jx=!1;x.CP=!1;W2M=44;break;case 12:x.Mv=new X.OLa(x,x.K);x.R0=[!0,!0];h.cLb?x.R0[m.L.AUDIO]=!1:h.AEb&&(x.R0[m.L.VIDEO]=!1);x.kb=b;x.Bl=q;W2M=18;break;case 62:n.HR&&(x.MP=new N(n.Hfa.c,n.Hfa.maxc));c=k.nga.jsa(x,x.G,x.K,d,{ba:0,wBa:c,xg:!!h.xg,gs:y||x.n_,U:0,ha:h.ha,e3:function(a){var M2M;M2M=2;while(M2M!==1){switch(M2M){case 2:return x.HO(a);break;case 4:return x.HO(a);break;M2M=1;break;}}},x6:x.R_},q,x.Va);c.xg=h.xg;c.Ux=!0;W2M=58;break;case 7:x.Ha=x.K.warn.bind(x.K);x.Gk=x.K.trace.bind(x.K);x.Va=new C.NNa(x,x.K);x.npa=new ia.kHa(x.K);W2M=12;break;}}}}(U);c.iRa=a;g.mi(f.EventEmitter,a);},function(g,c,a){var f,h,p,d,k,m;function b(a,b,c){k=c;m=c.map(function(a,b){return a.mf&&a.inRange&&!a.Tg?b:null;}).filter(function(a){return null!==a;});if(null===d)return a=h(c),d=c[a].P,new p(a);if(!m.length)return null;a=m.filter(function(a){return c[a].P==d;})[0];return void 0===a?(f.log("Defaulting to first stream due to unvalid bitrate requested: "+d),new p(m[0])):new p(a);}a(6);a(11);c=a(44);a=a(5);f=c.console;h=c.M4;p=c.sp;d=null;k=null;m=null;a.f1a&&(a.f1a.WE={Bc:function(){m=k=d=null;},Eaa:function(a){d=a;},iHb:function(){return{all:k,$Da:m};}});g.T={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,c,a){(function(){var w7l,b,v2D;w7l=2;while(w7l!==8){v2D="1S";v2D+="IY";v2D+="bZrNJCp9";switch(w7l){case 2:a(6);b=a(11);a(44);g.T={checkBuffering:function(a,c,g,d,h){var Y7v=t8ii;var H7l,k,p,q,l,n,r,G,M2D,B2D,e2D,s2D,G7l,R7l,t7l;function f(a){var D7l;D7l=2;while(D7l!==5){switch(D7l){case 2:a=c.$.VR(k.tf+a,void 0,!0);return(n-k.ew)/(n+(a.offset+a.aa)-r);break;}}}H7l=2;while(H7l!==38){M2D="m";M2D+="a";M2D+="xsiz";M2D+="e";B2D="hi";B2D+="g";B2D+="h";B2D+="t";B2D+="p";e2D="o";e2D+="utofr";e2D+="ange";s2D="nor";s2D+="ebu";s2D+="ff";switch(H7l){case 23:H7l=q>c.P*h.TR?22:21;break;case 10:H7l=!q?20:19;break;case 44:return l=Math.min(g,p+G),{complete:!1,Rz:l,Qi:f(l)};break;case 17:H7l=!c.$||!c.$.length?16:15;break;case 7:H7l=q<=h.p8&&(0<q||!h.x4)?6:14;break;case 14:Y7v.x2D(0);G7l=Y7v.O2D(19,3,15);l=h.ai*(a.state===b.Ma.Yt?h.P$:G7l);h.z7a&&c.Ka&&c.Ka.Eg&&c.Ka.Eg.Fa>h.i8&&(l+=h.s1+c.Ka.Eg.Fa*h.V9);d&&(l+=d.$Q*h.t1);H7l=11;break;case 19:n=0;k.$.forEach(function(a){var z7l;z7l=2;while(z7l!==1){switch(z7l){case 2:n+=a.U+a.duration>k.tf?a.aa:0;z7l=1;break;}}});H7l=17;break;case 24:H7l=p>=l?23:40;break;case 27:H7l=-1===a?26:25;break;case 4:q=c.va||0;l=0;H7l=9;break;case 41:return{complete:!0,reason:s2D};break;case 15:a=c.$.Gi(k.ab);H7l=27;break;case 43:G=d.offset;H7l=42;break;case 39:return{complete:!1,Rz:l,Qi:f(l)};break;case 26:return{complete:!0,reason:e2D};break;case 30:d=c.$.get(h);Y7v.x2D(1);R7l=Y7v.p2D(114,10,8,14);G=R7l*G/q-d.U-l;H7l=28;break;case 40:0<q&&q<c.P&&(l=Math.min(g,Math.max(h.iL*(c.P/q-1),l)));H7l=39;break;case 25:r=c.$.fm(a);H7l=24;break;case 20:return{complete:!1,Rz:l};break;case 31:H7l=h>a?30:41;break;case 21:l=c.$.cd(a);h=Math.min(a+Math.floor(h.iL/l),c.$.length-1);G=c.$.fm(h);Y7v.x2D(2);t7l=Y7v.p2D(15,7);l=t7l*r/q-k.tf;H7l=32;break;case 6:return{complete:!1,gK:!0};break;case 32:--h;H7l=31;break;case 22:return{complete:!0,reason:B2D};break;case 9:H7l=p>=g?8:7;break;case 11:l=g?Math.min(g,l):l;H7l=10;break;case 42:--h;H7l=31;break;case 16:return q<c.P&&(l=Math.min(g,Math.max(h.iL*(c.P/q-1),l))),{complete:!1,Rz:l,Qi:(n-k.ew)/(n+(l-(k.ab-k.tf))*c.P/8)};break;case 2:k=a.buffer;p=a.Ce||k.Sk-k.tf;H7l=4;break;case 8:return{complete:!0,reason:M2D};break;case 28:H7l=0<G?44:43;break;}}}};w7l=9;break;case 9:v2D;w7l=8;break;}}}());},function(g,c,a){(function(){var H2D,f,c,h,d,J0F;H2D=2;while(H2D!==13){J0F="1";J0F+="SIYbZrNJC";J0F+="p9";switch(H2D){case 4:c=a(44);a(5);h=c.assert;d=c.sp;H2D=7;break;case 2:f=a(6);a(11);H2D=4;break;case 7:c=a(197);g.T={STARTING:c.STARTING,BUFFERING:c.BUFFERING,REBUFFERING:c.REBUFFERING,PLAYING:b,PAUSED:b};J0F;H2D=13;break;}}function b(a,b,c,g){var z2D,k,L0F,v0F,i2D;z2D=2;while(z2D!==11){L0F="playe";L0F+="r missing s";L0F+="trea";L0F+="mingIndex";v0F="Must have at l";v0F+="east";v0F+=" ";v0F+="one selec";v0F+="ted stream";switch(z2D){case 4:b=d(g);z2D=3;break;case 2:h(!f.R(g),v0F);h(f.pa(b.vw),L0F);z2D=4;break;case 9:z2D=-1<g?8:13;break;case 7:z2D=k.Ka&&k.Ka.va&&k.P<k.Ka.va.Fa-a.Ssb?6:14;break;case 8:k=c[g];z2D=7;break;case 14:--g;z2D=9;break;case 6:return b.yd=g,b;break;case 3:t8ii.B0F(0);i2D=t8ii.U0F(15,15);g=c.length-i2D;z2D=9;break;case 13:b.yd=0;return b;break;}}}}());},function(g,c,a){var f;function b(a,b,d){return new f(d.length-1);}a(6);f=a(44).sp;g.T={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,c,a){var f;function b(){return new f(0);}a(6);f=a(44).sp;g.T={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,c,a){(function(){var Y0F,h,d,k,m,t,l,n,A,r,x,w0F;function f(a,b,d,f){var m0F,g,p,q,l,u,n,y,x,K,M0F,X0F,k0F,O0F,p0F,f0F,z0F,l0F,H0F,P0F,o0F,G0F,Z0F,h0F,j0F,A0F,D0F,V0F,s0F,I0F,E0F,u0F,F0F;m0F=2;while(m0F!==28){M0F=" k";M0F+="b";M0F+="p";M0F+="s";X0F=" ";X0F+="kbp";X0F+="s > ";k0F="thro";k0F+="ughput f";k0F+="or aud";k0F+="io ";O0F=", strea";O0F+="m";O0F+="ingPts = ";p0F=", l";p0F+="a";p0F+="stUpswi";p0F+="t";p0F+="chPts = ";f0F="  Upswitch ";f0F+="al";f0F+="lowed. lastDownswitchPts = ";z0F="kb";z0F+="ps, streamingPt";z0F+="s :";l0F=",";l0F+=" aud";l0F+="io ";l0F+="throug";l0F+="hput:";H0F=" ";H0F+="kbps";H0F+=", p";H0F+="rofile :";P0F="selectA";P0F+="ud";P0F+="ioStream: selected stream :";o0F=" kb";o0F+="p";o0F+="s";G0F=" kbps,";G0F+=" ";G0F+="to ";Z0F="switch";Z0F+="ing ";Z0F+="a";Z0F+="udio from ";h0F="d";h0F+="o";h0F+="w";h0F+="n";j0F="u";j0F+="p";A0F="m";A0F+="s";D0F=", buff";D0F+="er level";D0F+=" =";D0F+=" ";V0F=", lastUps";V0F+="witchP";V0F+="t";V0F+="s ";V0F+="= ";s0F="  Upswitch not a";s0F+="llowed. l";s0F+="a";s0F+="stDownswitch";s0F+="Pts = ";I0F=" kbps";I0F+=", try to do";I0F+="w";I0F+="nswitch";E0F=" ";E0F+="kb";E0F+="ps";E0F+=" ";E0F+="< ";u0F="throu";u0F+="g";u0F+="hput for audi";u0F+="o ";F0F="Must hav";F0F+="e at";F0F+=" le";F0F+="ast one selected ";F0F+="stream";switch(m0F){case 4:m0F=!(a&&a.eM&&0<=a.eM.indexOf(g))?3:9;break;case 26:p=u;m0F=32;break;case 9:p=f;a.NCa.some(function(f){var C0F,c,h,k,m,p,t;C0F=2;while(C0F!==13){switch(C0F){case 5:h=c&&0<=c.indexOf(g);C0F=4;break;case 2:c=f.profiles;C0F=5;break;case 4:C0F=h?3:14;break;case 3:k=(f=f.fE)&&f.mU||a.mU;m=f&&f.zIb||-Infinity;p=f&&f.Iwa||Infinity;t=b.buffer.Pu;C0F=6;break;case 6:q=d.filter(function(a){var R0F,b;R0F=2;while(R0F!==4){switch(R0F){case 2:b=a.P;return b>=m&&b<=p&&0<=c.indexOf(a.gf)&&b*k/8<t;break;}}}).map(function(a){var W0F;W0F=2;while(W0F!==1){switch(W0F){case 2:return a.Rf;break;case 4:return a.Rf;break;W0F=1;break;}}});C0F=14;break;case 14:return h;break;}}});m0F=7;break;case 2:t(!h.R(f),F0F);g=d[f].gf;m0F=4;break;case 12:y=l.va;x=a.n_a;m0F=10;break;case 7:m0F=q&&1<q.length?6:32;break;case 35:m0F=(u=q[n],K=d[u],A(K)&&y>x.JDa*K.P)?34:21;break;case 17:m0F=0<=n?16:32;break;case 20:p=0;m0F=32;break;case 19:m0F=n&&y<x.Fqa*u?18:24;break;case 18:m&&k.log(u0F+y+E0F+x.Fqa+"*"+u+I0F),--n;m0F=17;break;case 10:m0F=0>n?20:19;break;case 16:u=q[n];K=d[u];m0F=27;break;case 21:m0F=++n<q.length?35:32;break;case 34:p=u;m0F=32;break;case 33:m&&k.log(s0F+this.Hv+V0F+this.FT+D0F+K+A0F);m0F=32;break;case 6:l=d[f];u=l.P;n=q.indexOf(f);m0F=12;break;case 3:return new r(f);break;case 32:y=d[p];p!==f&&m&&k.log((p>f?j0F:h0F)+Z0F+l.P+G0F+y.P+o0F);m&&k.log(P0F+y.P+H0F+g+l0F+y.va+z0F+b.buffer.ab);return new r(p);break;case 23:m0F=c(K,u.ab,x,b.Py)?22:33;break;case 27:m0F=A(K)&&(0==n||K.P*x.Fqa<y)?26:25;break;case 25:n--;m0F=17;break;case 22:m&&k.log(f0F+this.Hv+p0F+this.FT+O0F+u.ab);m0F=21;break;case 24:m0F=n<q.length-1&&y>x.JDa*u&&(m&&k.log(k0F+y+X0F+x.JDa+"*"+u+M0F),u=b.buffer,K=u.Sk-u.tf,l.$&&l.$.length)?23:32;break;}}}function c(a,b,d,f){var K0F;K0F=2;while(K0F!==1){switch(K0F){case 2:return f&&a>d.Ov&&(h.R(this.Hv)||this.FT>this.Hv||b-this.Hv>d.NT);break;}}}Y0F=2;while(Y0F!==10){w0F="1S";w0F+="IY";w0F+="bZrNJ";w0F+="C";w0F+="p9";switch(Y0F){case 6:A=d.Ry;Y0F=14;break;case 14:r=d.sp;x=a(356);g.T={STARTING:function(a,d,f,c){var x0F,g,h,c0F,g0F,i0F;x0F=2;while(x0F!==14){c0F=" kbp";c0F+="s, profile ";c0F+=":";g0F="s";g0F+="electAudioStreamStarting: select";g0F+="ed stream :";i0F="select";i0F+="AudioStreamStart";i0F+="ing: overriding config with ";switch(x0F){case 4:x0F=(h=a&&a.eM&&0<=a.eM.indexOf(h)?b(h,a.NCa):b(h,a.l_a))?3:9;break;case 2:g=a;h=f[c||0].gf;x0F=4;break;case 3:g={minInitAudioBitrate:a.uK,minHCInitAudioBitrate:a.tK,maxInitAudioBitrate:a.iK,minRequiredAudioBuffer:a.mU},m&&k.log(i0F+JSON.stringify(h)),l(h,g);x0F=9;break;case 9:a=x[n.Ma.name[n.Ma.Nh]](g,d,f,c);f=f[a.yd];m&&k.log(g0F+f.P+c0F+f.gf);return a;break;}}},BUFFERING:f,REBUFFERING:f,PLAYING:f,PAUSED:f};w0F;Y0F=10;break;case 5:d=a(44);k=d.console;m=d.debug;t=d.assert;l=a(48);n=a(11);Y0F=6;break;case 2:h=a(6);Y0F=5;break;}}function b(a,b){var b0F,d;b0F=2;while(b0F!==3){switch(b0F){case 5:b.some(function(b){var r0F,f;r0F=2;while(r0F!==3){switch(r0F){case 2:f=b.profiles;(f=f&&0<=f.indexOf(a))&&(d=b.override);return f;break;}}});return d;break;case 2:d=void 0;b0F=5;break;case 8:d=+3;b0F=6;break;b0F=5;break;}}}}());},function(g,c,a){var f,h,p,d;function b(a,b,c){var g,k;g=this.b0;b=b.buffer.ab;k="forward"===a.Uob;if(f.R(g))return g=k?h(c):h(c,c.length),this.c0=b,this.b0=g,new d(g);p(c[g])||(g=h(c,g),this.c0=b,this.b0=g);if(0>g)return null;if(b>this.c0+a.Usb){a=c.map(function(a,b){return a.mf&&a.inRange&&!a.Tg?b:null;}).filter(function(a){return null!==a;});if(!a.length)return null;k?g=(a.indexOf(g)+1)%a.length:(g=a.indexOf(g)-1,0>g&&(g=a.length-1));this.b0=a[g];this.c0=b;return new d(a[g]);}return new d(g);}f=a(6);a(11);c=a(44);h=c.M4;p=c.Ry;d=c.sp;g.T={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,c,a){function b(a){this.data=a;this.right=this.left=null;}function f(a){this.Ed=null;this.Rj=a;this.size=0;}c=a(357);b.prototype.uf=function(a){return a?this.right:this.left;};b.prototype.mm=function(a,b){a?this.right=b:this.left=b;};f.prototype=new c();f.prototype.am=function(a){if(null===this.Ed)return this.Ed=new b(a),this.size++,!0;for(var f=0,d=null,c=this.Ed;;){if(null===c)return c=new b(a),d.mm(f,c),ret=!0,this.size++,!0;if(0===this.Rj(c.data,a))return!1;f=0>this.Rj(c.data,a);d=c;c=c.uf(f);}};f.prototype.remove=function(a){var f,d,c,q,h;if(null===this.Ed)return!1;f=new b(void 0);d=f;d.right=this.Ed;for(var c=null,g=null,h=1;null!==d.uf(h);){c=d;d=d.uf(h);q=this.Rj(a,d.data);h=0<q;0===q&&(g=d);}return null!==g?(g.data=d.data,c.mm(c.right===d,d.uf(null===d.left)),this.Ed=f.right,this.size--,!0):!1;};g.T=f;},function(g,c,a){function b(a){this.data=a;this.right=this.left=null;this.red=!0;}function f(a){this.Ed=null;this.Rj=a;this.size=0;}function h(a){return null!==a&&a.red;}function p(a,b){var d;d=a.uf(!b);a.mm(!b,d.uf(b));d.mm(b,a);a.red=!0;d.red=!1;return d;}function d(a,b){a.mm(!b,p(a.uf(!b),!b));return p(a,b);}c=a(357);b.prototype.uf=function(a){return a?this.right:this.left;};b.prototype.mm=function(a,b){a?this.right=b:this.left=b;};f.prototype=new c();f.prototype.am=function(a){var f,c,g,k,q,l,n,r,M;f=!1;if(null===this.Ed)this.Ed=new b(a),f=!0,this.size++;else{c=new b(void 0);g=0;k=0;q=null;l=c;n=null;r=this.Ed;for(l.right=this.Ed;;){null===r?(r=new b(a),n.mm(g,r),f=!0,this.size++):h(r.left)&&h(r.right)&&(r.red=!0,r.left.red=!1,r.right.red=!1);if(h(r)&&h(n)){M=l.right===q;r===n.uf(k)?l.mm(M,p(q,!k)):l.mm(M,d(q,!k));}M=this.Rj(r.data,a);if(0===M)break;k=g;g=0>M;null!==q&&(l=q);q=n;n=r;r=r.uf(g);}this.Ed=c.right;}this.Ed.red=!1;return f;};f.prototype.remove=function(a){var f,c,n,g,r,l,M;if(null===this.Ed)return!1;f=new b(void 0);c=f;c.right=this.Ed;for(var g=null,k,q=null,l=1;null!==c.uf(l);){n=l;k=g;g=c;c=c.uf(l);r=this.Rj(a,c.data);l=0<r;0===r&&(q=c);if(!h(c)&&!h(c.uf(l)))if(h(c.uf(!l)))k=p(c,l),g.mm(n,k),g=k;else if(!h(c.uf(!l))&&(r=g.uf(!n),null!==r))if(h(r.uf(!n))||h(r.uf(n))){M=k.right===g;h(r.uf(n))?k.mm(M,d(g,n)):h(r.uf(!n))&&k.mm(M,p(g,n));n=k.uf(M);n.red=!0;c.red=!0;n.left.red=!1;n.right.red=!1;}else g.red=!1,r.red=!0,c.red=!0;}null!==q&&(q.data=c.data,g.mm(g.right===c,c.uf(null===c.left)),this.size--);this.Ed=f.right;null!==this.Ed&&(this.Ed.red=!1);return null!==q;};g.T=f;},function(g,c,a){g.T={jQa:a(725),Dwb:a(724)};},function(g,c,a){var f;function b(a,b,d){a=d.map(function(a,b){return a.mf&&a.inRange&&!a.Tg?b:null;}).filter(function(a){return null!==a;});return a.length?new f(a[Math.floor(Math.random()*a.length)]):null;}a(11);f=a(44).sp;g.T={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,c,a){var f,h,p,d;function b(a,b,c,g){if(f.R(g))a=h(c);else if(p(c[g]))a=g;else if(a=h(c,g),0>a)return null;return new d(a);}f=a(6);a(11);c=a(44);h=c.M4;p=c.Ry;d=c.sp;g.T={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=function(){function a(){}a.Cna=function(a,f){var b;return a.some(function(a){b=a;return f(a);})?b:void 0;};a.cC=function(a,f){var b;b=-1;return a.some(function(a,d){b=d;return f(a);})?b:-1;};a.AIb=function(a){return function(b,c){return a(b)<a(c)?b:c;};};return a;}();c.QM=g;},function(g,c,a){var b,f,h,p,d,k,m,t;Object.defineProperty(c,"__esModule",{value:!0});b=a(11);f=a(5);h=a(6);p=a(729);d=new f.Console("ASEJS_STREAM_SELECTOR","media|asejs");k=[b.Ma.name[b.Ma.Nh],b.Ma.name[b.Ma.Ij],b.Ma.name[b.Ma.Yt],b.Ma.name[b.Ma.ad],b.Ma.name[b.Ma.oi],"checkBuffering"];m={first:a(728),random:a(727),optimized:a(197),roundrobin:a(723),selectaudio:a(356),selectaudioadaptive:a(722),"default":a(197),lowest:a(721),highest:a(720),throughputthreshold:a(719),checkdefault:a(718),testscript:a(717)};t={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};g=function(){var a0F;a0F=2;while(a0F!==6){switch(a0F){case 2:a.prototype.Eaa=function(a,c,g,k,m,t,q){var U7v=t8ii;var T0F,l,u,n,y,r,A,x,K,M,G,R,E,C,n5F,G9Y,K5F,x5F;T0F=2;while(T0F!==56){G9Y="Stream selector called ";G9Y+="with invali";G9Y+="d player state ";switch(T0F){case 6:M=g.$;G=M.length;T0F=13;break;case 52:T0F=!l||null===l.yd?51:50;break;case 37:T0F=(m=c[M],m.mf&&m.inRange&&!m.Tg)?36:54;break;case 26:A.qW?M=C.filter(function(a){var B5F;B5F=2;while(B5F!==1){switch(B5F){case 4:return a.gv;break;B5F=1;break;case 2:return a.gv;break;}}}):A.Wy||a.state===b.Ma.ad||a.state===b.Ma.oi||(M=C.filter(function(a){var e5F;e5F=2;while(e5F!==1){switch(e5F){case 2:return!a.gCa;break;case 4:return~a.gCa;break;e5F=1;break;}}}));C=0<M.length?M:C.slice(0,1);void 0!==x&&(M=p.QM.cC(C,function(a){var J5F;J5F=2;while(J5F!==1){switch(J5F){case 2:return a.P>c[x].P;break;case 4:return a.P>=c[x].P;break;J5F=1;break;}}}),K=0<M?M-1:0===M?0:C.length-1);T0F=23;break;case 50:this.zx=l.yd;m=c[l.yd];l.reason&&(m.pl=l.reason,m.Daa=l.Ms,m.LJ=l.LJ,m.$l=l.$l,m.Zk=l.Zk);h.pa(x)&&m.P<c[x].P&&(this.Z_=g.ab);a.state!==b.Ma.ad&&a.state!==b.Ma.oi?(t=this.v2(a,m,t,q),(l.Mp=t.complete)?l.reason=t.reason:(l.Mp=!1,l.Rz=t.Rz,l.gK=t.gK,l.Qi=t.Qi)):l.Mp=!0;a.ER&&(l.ab=g.ab,t=a&&a.vw,q=m.$,l.bn=q&&void 0!==t&&!isNaN(t)&&0<=t&&t<q.length?q.ig(t):g.ab,l.imb=m.va||0,l.Ejb=m.Ka&&m.Ka.va&&m.Ka.va.Fa||0,l.k0a=g.Sk-g.tf,l.koa=g.rm,l.Ulb=n,l.Fp=a&&a.Fp,l.ADa=y,l.Jsb=f.time.da());T0F=65;break;case 43:T0F=(m=c[M],m.mf&&m.inRange&&!m.Tg)?42:41;break;case 60:T0F=n5F===b.Ma.ad?35:59;break;case 32:M=a.Ce||g.Sk-g.tf;m=void 0;K=!1;T0F=29;break;case 36:m.$&&m.$.length||(K=!0,l.ws.push(M));T0F=53;break;case 21:this.VO=b.zN.Nh;T0F=35;break;case 20:E=M[G-1].P,M=p.QM.cC(c,function(a){var d5F;d5F=2;while(d5F!==1){switch(d5F){case 4:return a.P<=E;break;d5F=1;break;case 2:return a.P>E;break;}}}),x=0<M?M-1:0===M?0:c.length-1;T0F=19;break;case 19:h.R(x)&&(x=this.zx);this.eS(c,function(d){var Q5F;Q5F=2;while(Q5F!==1){switch(Q5F){case 2:d.mf&&d.inRange&&!d.Tg&&d.Ka&&d.Ka.Gc?(u!==d.Ka&&(u=d.Ka,a&&a.Eo&&d.Ka&&(d.Ka.Eo=!0),n===b.Ma.Nh&&A.QI&&a.hT&&A.E1&&(d.Ka.va.Fa=a.hT),r=Math.floor(k(d.Ka,a.buffer)),r=0===r?1:r),d.va=r):d.va=void 0;Q5F=1;break;}}});n===b.Ma.Nh&&h.pa(x)&&(n=b.Ma.Ij);C=c.filter(function(a){var t5F;t5F=2;while(t5F!==1){switch(t5F){case 2:return a&&a.mf&&a.inRange&&!a.Tg;break;}}});C.length||(C=c.filter(function(a){var U5F;U5F=2;while(U5F!==1){switch(U5F){case 2:return a&&a.mf&&!a.Tg;break;case 4:return a||a.mf||~a.Tg;break;U5F=1;break;}}}),C.forEach(function(a){var N5F;N5F=2;while(N5F!==1){switch(N5F){case 4:a.inRange=~9;N5F=6;break;N5F=1;break;case 2:a.inRange=!0;N5F=1;break;}}}));M=C;T0F=26;break;case 13:T0F=0<G?12:19;break;case 40:T0F=!K?39:53;break;case 10:T0F=!(0<=x)?20:19;break;case 2:g=a&&a.buffer;n=a&&a.state;y=f.time.da();T0F=3;break;case 51:return null;break;case 42:m.$&&m.$.length||(K=!0,l.ws.push(M));T0F=40;break;case 23:n5F=a.state;T0F=n5F===b.Ma.Nh?22:63;break;case 22:this.d0=this.Z_=void 0;T0F=21;break;case 39:U7v.b9Y(0);K5F=U7v.H9Y(9,10);M=l.yd-K5F;T0F=38;break;case 38:T0F=0<=M?37:53;break;case 62:this.VO=b.zN.Nh;T0F=35;break;case 63:T0F=n5F===b.Ma.Ij?62:61;break;case 28:U7v.b9Y(1);x5F=U7v.Q9Y(11,11);M=l.yd+x5F;T0F=44;break;case 44:T0F=M<c.length?43:40;break;case 3:A=this.G;x=this.zx;h.pa(x)&&a&&a.state===b.Ma.Nh&&(x=this.zx=void 0);h.pa(x)&&x>=c.length&&(x=this.zx=void 0);T0F=6;break;case 61:T0F=n5F===b.Ma.Yt?62:60;break;case 33:T0F=(l.ws=[],c.forEach(function(a,b){var v5F;v5F=2;while(v5F!==4){switch(v5F){case 2:a===l.Zo&&(l.yd=b);a.vba&&l.ws.push(b);a.vba=!1;v5F=4;break;}}}),!l.ws.length)?32:52;break;case 41:++M;T0F=44;break;case 34:T0F=l.Zo?33:64;break;case 12:R=M[G-1].za;x=p.QM.cC(c,function(a){var y5F;y5F=2;while(y5F!==1){switch(y5F){case 2:return a.za===R;break;case 4:return a.za==R;break;y5F=1;break;}}});T0F=10;break;case 58:return d.error(G9Y+b.Ma.name[a.state]),null;break;case 64:m=function(a){var L5F;L5F=2;while(L5F!==1){switch(L5F){case 2:return p.QM.cC(c,function(b){var Y5F;Y5F=2;while(Y5F!==1){switch(Y5F){case 2:return b===C[a];break;case 4:return b==C[a];break;Y5F=1;break;}}});break;}}},l.yd=m(l.yd),l.ws&&(l.ws=l.ws.map(m));T0F=52;break;case 65:return l;break;case 53:K||(l.ws=void 0);T0F=52;break;case 54:--M;T0F=38;break;case 35:l=this.Od[b.Ma.name[n]].call(this,A,a,C,K,k,m);T0F=34;break;case 29:T0F=A.mCa&&M>A.iU?28:53;break;case 59:T0F=n5F===b.Ma.oi?35:58;break;}}};a.prototype.v2=function(a,b,d,f){var b5F;b5F=2;while(b5F!==1){switch(b5F){case 2:return this.Od.checkBuffering.call(this,a,b,d,f,this.G);break;}}};a.prototype.Yrb=function(a,b,d){var r5F;r5F=2;while(r5F!==1){switch(r5F){case 2:h.R(b)?this.Z_=this.d0=void 0:b.P<d.P&&(this.d0=a);r5F=1;break;}}};a.prototype.eS=function(a,b){var m5F,d,F5F;m5F=2;while(m5F!==3){switch(m5F){case 8:t8ii.U9Y(2);F5F=t8ii.Q9Y(158,16,10);d=a.length/F5F;m5F=7;break;m5F=1;break;case 2:d=a.length-1;m5F=1;break;case 7:m5F=7>d?4:8;break;m5F=0<=d?5:3;break;case 1:m5F=0<=d?5:3;break;case 5:b(a[d],d,a);m5F=4;break;case 14:++d;m5F=9;break;m5F=1;break;case 4:--d;m5F=1;break;}}};a0F=3;break;case 3:Object.defineProperties(a.prototype,{Hv:{get:function(){var C5F;C5F=2;while(C5F!==1){switch(C5F){case 4:return this.Z_;break;C5F=1;break;case 2:return this.Z_;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{FT:{get:function(){var R5F;R5F=2;while(R5F!==1){switch(R5F){case 2:return this.d0;break;case 4:return this.d0;break;R5F=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{yfb:{get:function(){var W5F;W5F=2;while(W5F!==1){switch(W5F){case 2:return this.zx;break;case 4:return this.zx;break;W5F=1;break;}}},enumerable:!0,configurable:!0}});return a;break;}}function a(a,b,d,f){var q0F,c,C9Y;q0F=2;while(q0F!==7){C9Y="1";C9Y+="SIYbZr";C9Y+="NJCp9";switch(q0F){case 2:c=this;this.G=d;C9Y;q0F=3;break;case 3:f&&(this.zx=f.zx,this.VO=f.VO);b=b||this.G.uba;this.Od=k.reduce(function(a,d){var S0F;S0F=2;while(S0F!==5){switch(S0F){case 2:a[d]=((m[b]||m[t[d]])[d]||m[t[d]][d]).bind(c);return a;break;}}},{});q0F=7;break;}}}}();c.QZ=g;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=a(40);f=a(94);a=function(a){function c(b,c,g,h,p){h=a.call(this,b,c,h,p)||this;c.aa=g.byteLength;f.qk.call(h,b,c);h.MB=g;h.jTa=c.aa;return h;}b.__extends(c,a);Object.defineProperties(c.prototype,{Yb:{get:function(){return!1;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{bk:{get:function(){return!1;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{CT:{get:function(){},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{uc:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{status:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{sj:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Xh:{get:function(){},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{complete:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{response:{get:function(){return this.MB;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{ngb:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{readyState:{get:function(){},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{se:{get:function(){return this.jTa;},enumerable:!0,configurable:!0}});c.prototype.My=function(){return!0;};c.prototype.bC=function(a){return this.Rh=a.appendBuffer(this.response,this);};c.prototype.ak=function(){return-1;};c.prototype.abort=function(){return!0;};c.prototype.ae=function(){};c.prototype.dM=function(){return!1;};return c;}(a(154).Jw);c.pFa=a;g.mi(f.qk,a);},function(g,c,a){var f,h,p,d;function b(a){return{mediaType:a.O,streamId:a.za,movieId:a.M,bitrate:a.P,location:a.location,serverId:a.Fb,saveToDisk:!0,offset:a.offset,bytes:a.aa,timescale:a.ga,frameDuration:a.stream.Ia&&a.stream.Ia.Ad,encrypted:a.Sl};}Object.defineProperty(c,"__esModule",{value:!0});f=a(6);h=a(731);p=a(366);d=a(60);c.lMa={GN:"movieEntry",jKa:"header",UY:"metadata",iKa:"headerData",RJa:"sizes",QJa:"durations",Fea:"fragments",vMa:"response",Yi:"billboard",Vt:{lifespan:259200}};c.ssa=function(a,b,d){var c,f;c=b.headerData;d&&b.sizes instanceof ArrayBuffer&&b.durations instanceof ArrayBuffer&&(f={Fj:d.startTicks,offset:d.offset,ga:d.timescale,sizes:new Uint32Array(b.sizes),cd:new Uint32Array(b.durations)});return{Yb:!0,O:a.mediaType,M:a.movieId,za:a.streamId,P:a.bitrate,location:a.location,Fb:a.serverId,aa:a.bytes,offset:a.offset,Ls:c,Sl:a.encrypted,ga:a.timescale,Ia:a.frameDuration,le:a.saveToDisk,$:f};};c.rsa=function(a,b){var d,c,f;b=b.response;d=a.startTicks;c=a.durationTicks;void 0!==d&&void 0!==c&&(f=d+c);return{Yb:!1,O:a.mediaType,M:a.movieId,za:a.streamId,P:a.bitrate,location:a.location,Fb:a.serverId,aa:a.bytes,offset:a.offset,response:b,ga:a.timescale,$a:a.startTicks,Rl:c,le:a.saveToDisk,wb:f};};c.nta=function(a){return{Vd:a.priority,M:a.movieId,headers:{},Ao:0,AC:0,VS:0,le:a.saveToDisk,Lb:a.stats,Vl:a.firstSelectedStreamBitrate,Co:a.initSelectionReason,qn:a.histDiscountedThroughputValue,Zk:a.histTdigest,$l:a.histAge,Jk:void 0};};c.pta=function(a,b,c,g){var k,m;k={headers:{},data:{}};c.forEach(function(c){var f,m;f=c.O;if(f=g&&g.Zp(f,c.za))if(c.$&&f.GU(c.ga,c.Ia?new d.gc(c.Ia,c.ga):void 0,c.$),c.Yb&&f&&f.jd)void 0===k.headers&&(k.headers={}),k.headers[c.za]=new p.hX(f,{aa:c.aa,offset:c.offset,Ls:c.Ls,Sl:c.Sl,mA:!1},a);else{if(c.response instanceof ArrayBuffer&&void 0!==f.$&&void 0!==c.$a&&void 0!==c.ga&&void 0!==c.wb){m=f.$.VR(new d.gc(c.$a,c.ga).zf);void 0!==m&&(f=new h.pFa(f,{ga:c.ga,$a:c.$a,wb:c.wb,index:m.index,offset:c.offset,aa:c.aa},c.response,b,a),void 0===k.data&&(k.data={}),k.data[c.za]||(k.data[c.za]=[]),k.data[c.za].push(f));}}else a.warn("Failed to load data from disk because the AseStream was missing from the stream map streamId: "+c.za+" movieId: "+c.M);});if(!f.R(k.data)){m=k.data;Object.keys(m).forEach(function(a){m[a].sort(function(a,b){return a.$a-b.$a;});});}return k;};c.ita=function(a){return{mediaType:a.O,streamId:a.za,movieId:a.M,bitrate:a.P,location:a.location,serverId:a.Fb,saveToDisk:!0,offset:a.offset,bytes:a.aa,timescale:a.ga,startTicks:a.$a,durationTicks:a.Rl};};c.Aab=b;c.wab=function(a){var d,c,f,g;d=b(a);a.stream.jd&&a.stream&&a.stream.$&&(c={timescale:a.stream.$.ga,startTicks:a.stream.$.Fj,offset:a.stream.$.fm(0)},g=a.stream.$.OE,f=g.sizes.buffer,g=g.cd.buffer);return{mediaType:d.mediaType,streamId:d.streamId,movieId:d.movieId,bitrate:d.bitrate,location:d.location,serverId:d.serverId,saveToDisk:!0,offset:d.offset,bytes:d.bytes,timescale:d.timescale,frameDuration:d.frameDuration,headerData:a.Ls,encrypted:a.Sl,fragments:c,sizes:f,durations:g};};c.ota=function(a){return{priority:a.Vd,movieId:a.M,saveToDisk:a.le,firstSelectedStreamBitrate:a.Vl,initSelectionReason:a.Co,histDiscountedThroughputValue:a.qn,histTdigest:a.Zk,histAge:a.$l};};c.Aeb=function(a){return!f.has(a,"startTicks");};c.gva=function(a){return!a.Ls||!a.ga||!a.$||void 0===a.$.Fj||void 0===a.$.offset||void 0===a.$.cd||!a.$.cd.length||void 0===a.$.sizes||!a.$.sizes.length;};c.fva=function(a){return void 0===a.aa||void 0===a.offset||void 0===a.ga||void 0===a.$a||void 0===a.Rl;};},function(g,c,a){var p,d;function b(a,d,c){Object.keys(a).forEach(function(f){var g,h;if(p.Ze(a[f]))if(a[f].qT){g=a[f];h=c+g.offset;a[f]=d.slice(h,h+g.byteLength);}else a[f]=b(a[f],d,c);});return a;}function f(a,b,d){Object.keys(a).forEach(function(c){var g;if(p.qT(a[c])){g=a[c];b.push(g);a[c]={qT:!0,offset:d.q3,byteLength:g.byteLength};d.q3+=g.byteLength;}else p.Ze(a[c])&&f(a[c],b,d);});return a;}function h(){var a,b,d;a=Array.prototype.concat.apply([],arguments);b=a.reduce(function(a,b){return a+b.byteLength;},0);d=new Uint8Array(b);a.reduce(function(a,b){d.set(new Uint8Array(b),a);return a+b.byteLength;},0);return d.buffer;}p=a(108);d=a(48);g.T={t2a:function(a){var b,c,g;b=d(a,{});a=[];b=f(b,a,{q3:0});b=JSON.stringify(b);c=new ArrayBuffer(b.length+4);g=new DataView(c);g.setUint32(0,b.length);for(var k=4,p=0,q=b.length;p<q;p++)g.setUint8(k,b.charCodeAt(p)),k++;a=[c].concat(a);return h.apply(null,a);},s2a:function(a){var d;d=new DataView(a,0,4).getInt32(0);for(var c=new Uint8Array(a,4,d),f="",g=0;g<c.byteLength;g++)f+=String.fromCharCode(c[g]);d=4+d;f=JSON.parse(f);return b(f,a,d);}};},function(g,c,a){var h;function b(a,b){return a.length>b.length?1:b.length>a.length?-1:0;}function f(a,b){var d,c,g;d=[];if(h.Ze(b)){c={};g={};g[a]=c;d.push(g);d=Object.keys(b).reduce(function(d,g){var k,m,p;k=b[g];p={};h.qT(k)?(m=a+".__embed__."+g,p[m]=k,d.push(p)):h.Ze(k)?(m=a+".__sub__."+g,k=f(m,k),c[g]=k[0][m],d=d.concat(k.slice(1))):c[g]=k;return d;},d);}else g={},g[a]=b,d.push(g);return d;}h=a(108);g.T={w6a:f,keb:function(a){var d,n;d=Object.keys(a).map(function(a){return a.split(".");});d.sort(b);for(var c=d[0],f=c.length,c=a[c.join(".")],g=1;g<d.length;g++)for(var h=!1,p=!1,q=c,l=f;l<d[g].length;l++){n=d[g][l];switch(n){case"__metadata__":break;case"__sub__":p=!0;break;case"__embed__":h=!0;break;default:p?(q=q[n],p=!1):h&&(q[n]=a[d[g].join(".")],h=!1);}}return c;},Deb:function(a){return a&&(0<=a.indexOf("__sub__")||0<=a.indexOf("__embed__"));}};},function(g,c,a){function b(a){return a;}function f(){return b;}a(6);g.T={nJ:f,d6:f};},function(g,c,a){var b,f,h,p;b=a(6);f=a(108);h={};h[f.Am.Pw]=function(a){return a;};h[f.Am.aO]=function(a){a=a||new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(a));};h[f.Am.OBJECT]=function(a){var b;b=a||new ArrayBuffer(0);a="";for(var b=new Uint8Array(b),d=0;d<b.byteLength;d++)a+=String.fromCharCode(b[d]);return JSON.parse(a);};p={};p[f.Am.Pw]=function(a){return a;};p[f.Am.aO]=function(a){for(var b=new ArrayBuffer(a.length),d=new Uint8Array(b),c=0,f=a.length;c<f;c++)d[c]=a.charCodeAt(c);return b;};p[f.Am.OBJECT]=function(a){return b.R(a)||b.Ra(a)?a:p[f.Am.aO](JSON.stringify(a));};g.T={nJ:function(a){return h[a]||h[f.Am.Pw];},d6:function(a){return p[a]||p[f.Am.Pw];}};},function(g){function c(a){if(!(this instanceof c))return new c(a);if("undefined"===typeof a)this.Rj=function(a,b){return a<=b;};else{if("function"!==typeof a)throw Error("heap comparator must be a function");this.Rj=a;}this.Mm=[];}function a(c,g){var f,d,h,m,t,l,q;f=c.Mm;d=c.Rj;h=2*g+1;m=2*g+2;t=f[g];l=f[h];q=f[m];l&&d(l.Vd,t.Vd)&&(!q||d(l.Vd,q.Vd))?(b(f,g,h),a(c,h)):q&&d(q.Vd,t.Vd)&&(b(f,g,m),a(c,m));}function b(a,b,c){var d;d=a[b];a[b]=a[c];a[c]=d;}c.prototype.clear=function(){this.Mm=[];};c.prototype.am=function(a,c){this.Mm.push({Vd:a,value:c});a=this.Mm;c=this.Rj;for(var f=a.length-1,d=0===f?null:Math.floor((f-1)/2);null!==d&&c(a[f].Vd,a[d].Vd);)b(a,f,d),f=d,d=0===f?null:Math.floor((f-1)/2);};c.prototype.remove=function(){var c;if(0!==this.Mm.length){c=this.Mm[0];b(this.Mm,0,this.Mm.length-1);this.Mm.pop();a(this,0);return c.value;}};c.prototype.hE=function(){if(0!==this.Mm.length)return this.Mm[0].value;};c.prototype.enqueue=c.prototype.am;c.prototype.Y5a=c.prototype.remove;c.prototype.iA=function(){return this.Mm.map(function(a){return a.value;});};g.T=c;},function(g,c,a){var f,h,p,d,k,m,t,l;function b(a,c,g){var K,U;function q(a,b,d,c){a.info.call(a,function(a,f){var g;if(a)c(a);else{try{g=f.values[this.context].entries[b][d].size;}catch(va){g=-1;}-1<g?c(null,g):this.ip(function(a,b){a?c(a):(b[d]&&(g=b[d].size),c(null,g));});}}.bind(a));}function n(a,d,c,f,g,m,p){var l;m?m.Vj||(m.Vj={}):m={Vj:{}};K(f);l=h.time.now();f=new t(function(b,f){a.create(h.storage.VA,d,c,function(a,d){a?f(a):b(d);});}).then(function(c){c.W?q(a,h.storage.VA,d,function(a,f){a?p(a):(U(f),K(f),m.Vj[b.OM.OY]={W:!0,time:g,Th:f,Ev:d,Uza:c,duration:h.time.now()-l},m.Ii=c.Ii,p(null,m));}):(m.Vj[b.OM.OY]={W:!1,Ev:d,error:c.error},p(null,m));},function(a){p(a);});k.zq(f);}function u(a,b,d,c,f,g){c.am(d.time,d);for(var h=d.time-864E5,k=c.hE();k&&!isNaN(k.time)&&k.time<h;)k=c.Y5a(),K(0-(k.aa||0)),k=c.hE();c=c.iA().map(function(a){return a.time+";"+a.aa;});n(a,b,Array.prototype.join.call(c,"|"),d.aa,d.time,f,g);}function y(a,d,c,f,g,k,t,l,n){var y;y=h.time.now();a.create(c,f,g,function(g,r){var A;if(g)m.error("Failed to replace item",f,g);else if(r.W){A=r.Ii;q(a,c,f,function(c,g){var m,p;if(c)n(c);else{c={time:l,aa:g||0};m={Ii:A,Vj:{}};p=h.time.now()-y;m.Vj[b.OM.REPLACE]={W:!0,time:l,Th:g,Ev:f,Uza:r,duration:p};k?u(a,d,c,t,m,n):(K(g),n(null,m));}});}else n(p.lO.wm(r.error||"Failed to create item"));});}function r(a,d,c,f,g,k,t,l,n){var y;y=h.time.now();a.append(c,f,g,function(g,r){var A;if(g)m.error("Failed to save item "+f,g),n(g);else if(r.W){A=r.Ii;q(a,c,f,function(c,g){var m,p;if(c)n(c);else{c={time:l,aa:g||0};m={Ii:A,Vj:{}};p=h.time.now()-y;m.Vj[b.OM.AQa]={W:!0,time:l,Th:g,Ev:f,Uza:r,duration:p};k?u(a,d,c,t,m,n):(K(g),n(null,m));}});}else n(p.lO.wm(r.error||"Failed to save item"));});}function A(a,b){a&&f.Ob(a.remove)&&a.ti.valid&&a.remove(h.storage.VA,b.EB,function(d,c){if(d)m.error("Failed to delete old journal key",d);else try{c&&(f.R(c.error)||c.error.some(function(a){return"NFErr_FileNotFound"===a.uGb;}))&&u(a,b.EB,{time:0,aa:0},b.lH,0,function(){});}catch(X){}});}if(!a.ti.valid)return l;this.nka=f.R(c)||f.Ra(c)?0:c;this.E_=a;this.X_=this.JG=0;this.lH=new d();this.EWa=g||"default";this.EB=this.EWa+".NRDCACHEJOURNALKEY";K=function(a){isNaN(a)||(this.JG+=a);return this.JG;}.bind(this);U=function(a){isNaN(a)||(this.X_+=a);return this.X_;}.bind(this);this.J5=function(){return this.EB;};this.save=function(a,b,d,c){var f;f=h.time.now();r(this.E_,this.EB,a,b,d,0<=this.nka,this.lH,f,c);};this.replace=function(a,b,d,c){var f;f=h.time.now();y(this.E_,this.EB,a,b,d,0<=this.nka,this.lH,f,c);};this.Dsa=function(a){var b,f;b=this.JG;a-=864E5;for(var d=this.lH.iA(),c=0;c<d.length;c++){f=d[c];f.time<a&&!isNaN(f.aa)&&(b-=f.aa);}return b;};(function(a){var b;b=a.E_;a.JG=0;b.read(h.storage.VA,a.EB,0,-1,function(d,c){var f,g,k,t;f=[];g=0;k=!0;if(d)m.error("Failed to compile records",d);else if(c.W){d=String.fromCharCode.apply(null,new Uint8Array(c.value));d=String.prototype.split.call(d,"|");c=d.reduce(function(a,b){return a+(b.length+40);},0);K(c);f=d.map(function(a){a=a.split(";");return{time:Number(a[0]),aa:Number(a[1])};});try{if(!isNaN(f.reduce(function(a,b){return a+b.aa;},0)))for(var k=!1,p=h.time.now()-864E5;g<f.length;g++){t=f[g];t.time<p||(a.lH.am(t.time,t),K(t.aa));}}catch(N){}}k&&A(b,a);});}(this));}f=a(6);h=a(109);p=a(199);d=a(737);c=a(48);k=a(198);m=new h.Console("DISKWRITEMANAGER","media|asejs");t=h.Promise;c({OM:{AQa:"saveitem",REPLACE:"replaceitem",OY:"journalupdate"}},b);l={save:function(a,b,d,c){c(p.ega);},replace:function(a,b,d,c){c(p.ega);},J5:function(){return"";},Dsa:function(){return 0;}};b.prototype.constructor=b;g.T={create:function(a,d,c){return new b(a,d,c);},QAb:l};},function(g,c,a){var k,m,t,l,n,r,K,x,G;function b(){}function f(d,c,g,t,l){var q;q=k.Ob(t)?t:b;this.su=d;this.pr=g.Pu;this.Pr=0;this.dUa=g.z8a||"NONE";this.sr=k.R(l)||k.Ra(l)?0:l;this.qd={};this.bo=g.tIb||m.storage.VA;this.xp=c;this.XB=n.create(this.xp,g.U4a*this.sr,this.su);this.on=this.addEventListener=G.addEventListener;this.removeEventListener=G.removeEventListener;this.emit=this.na=G.na;this.Vka=p(this,f.Bd.REPLACE);this.JUa=p(this,f.Bd.wja);this.Ex;this.Ex=g.dEa?a(736):a(735);this.xp.query(this.bo,this.em(""),function(a,b){var d;if(a)q(a);else{d=this.XB.J5();a=Object.keys(b).filter(function(a){return a!==d&&r.yD(a);}).map(this.dca.bind(this));this.rV(a,function(a,d){Object.keys(d).map(function(a){var c,f;c=d[a];this.qd[r.RR(a)]=c;if(c.faa&&1<Object.keys(c.faa).length){f=0;Object.keys(c.faa).forEach(function(a){b[this.em(a)]&&k.pa(b[this.em(a)].size)&&(f+=b[this.em(a)].size);}.bind(this));a=r.RR(a);this.qd[a].size=f;}else a=r.RR(a),b[this.em(a)]&&(this.qd[a].size=b[this.em(a)].size);}.bind(this));h(this.xp,this.bo,this.su,function(a,b){this.Pr=b;a?q(a):q(null,this);}.bind(this));}.bind(this));}}.bind(this));}function h(a,d,c,f){var g;g=k.Ob(f)?f:b;a.query(d,c,function(a,b){a?g(a):(a=Object.keys(b).reduce(function(a,d){return a+(b[d].size||0);},0),g(null,a));});}function p(a,b){return function(d,c,g,p,t){return function(l,q){var n;if(l)c||a.na(f.Bd.ERROR,{itemKey:d,error:l}),g(l);else{n={Th:0,duration:0,items:[],time:m.time.now()};Object.keys(q.Vj).map(function(b){var d;d=q.Vj[b];b={key:a.dca(d.Ev),nf:b};d.W?(n.Th+=d.Th,b.zT=d.Th,k.pa(d.duration)&&(n.duration+=d.duration)):b.error=d.error;n.items.push(b);});l=k.Ob(p)?p():0;0<t&&(n.zC=t-l);h(a.xp,a.bo,a.su,function(d,f){d?g(d):(a.Pr=f,n.Ii=a.pr-f,c||a.na(b,x.Jsa(n)),g(null,n));});}};};}function d(a,b){return 0<b&&a>=b?!0:!1;}k=a(6);m=a(109);t=a(199);c=a(48);l=new m.Console("MEDIACACHE","media|asejs");n=a(738);r=a(361);K=a(108);x=a(198);G=a(25).EventEmitter;c({Bd:{wja:"writeitem",REPLACE:"replaceitem",OY:"journalupdate",ERROR:"mediacache-error"}},f);f.prototype.getName=function(){return this.su;};f.prototype.dca=function(a){return a.slice(this.su.length+1);};f.prototype.B5=function(){return Object.keys(this.qd).filter(function(a){a=r.e5(this.qd[a]);return void 0===a||0>=a.fpa();}.bind(this));};f.prototype.qbb=function(){return Object.keys(this.qd).reduce(function(a,b){var d;d=this.qd[b];return d&&d.creationTime<a.creationTime?{resourceKey:b,creationTime:d.creationTime}:a;}.bind(this),{resourceKey:null,creationTime:m.time.now()}).SJb;};f.prototype.nab=function(){var a;switch(this.dUa){case"FIFO":a=this.qbb();}return a;};f.prototype.V5a=function(a){var d;d=k.Ob(a)?a:b;this.cta(function(b){var c,f,g;c=this.qd;f=Object.keys(c).reduce(function(a,b){b=c[b];b.resourceIndex&&Object.keys(b.resourceIndex).forEach(function(b){a.push(b);});return a;},[]);if((b=b.filter(function(a){return!r.yD(a)&&0>f.indexOf(a);}))&&0<b.length){g=this;b=m.Promise.all(b.map(function(a){return new m.Promise(function(b,d){g["delete"](a,function(a){a?d(a):b();});});})).then(function(){d(void 0,{S$:!0});},function(a){d(a,{S$:!1});});x.zq(b);}else a(void 0,{S$:!1});}.bind(this));};f.prototype.pnb=function(a,d,c){var f,g;f=k.Ob(d)?d:b;d=this.em(a);g=m.time.now();this.xp.read(this.bo,d,0,-1,function(b,d){var h;if(b)f(b);else if(d&&d.W&&d.value){k.Ob(c)||(c=this.Ex.nJ(K.Am.Pw),r.yD(a)?c=this.Ex.nJ(K.Am.OBJECT):(b=this.qd[a],!k.R(b)&&k.pa(b.resourceIndex[a])?(b=b.resourceIndex[a],k.R(b)&&(b=K.Am.Pw),c=this.Ex.nJ(b)):l.warn("Metadata is undefined or does not contain a resource format for key",a,":",b)));try{h=c(d.value);}catch(Z){return f(t.aB.wm(Z.message));}d={duration:m.time.now()-g};this.qd[a]&&k.pa(this.qd[a].size)&&(d.js=k.pa(this.qd[a].size)?this.qd[a].size:0);f(null,h,d);}else f(t.aB.wm(d.error));}.bind(this));};f.prototype.read=function(a,b,d){this.pnb(a,b,d);};f.prototype.rV=function(a,d,c){var f,g,h;f=k.Ob(d)?d:b;if("[object Array]"!==Object.prototype.toString.call(a))f(t.aB.wm("item keys must be an array"));else{g={};h=[];a=m.Promise.all(a.map(function(a){return new m.Promise(function(b,d){var f;c&&!k.R(c[a])&&(f=this.Ex.nJ(c[a]));this.read(a,function(c,f,k){c?(f={},f[a]=c,d(f)):(g[a]=f,h.push({duration:k.duration,js:k.js}),b());},f);}.bind(this));}.bind(this))).then(function(){var a;a={};0<h.length&&(a=h.reduce(function(a,b){k.pa(b.duration)&&(a.duration+=b.duration);k.pa(b.js)&&(a.js+=b.js);return a;},{duration:0,js:0}));f(null,g,a);},function(a){f(a);});x.zq(a);}};f.prototype.write=function(a,c,f,g,h){var m,p,l;f=k.Ob(f)?f:b;m=this.em(a);p="function"===typeof h?h():0;l=K.o6(c);l=this.Ex.d6(l)(c);l.byteLength+this.Pr>=this.pr?f(t.AA):d(l.byteLength+p,this.sr)?f(t.mO):this.XB.save(this.bo,m,c,this.JUa(a,g,f,h,this.sr),l.byteLength);};f.prototype.replace=function(a,c,f,g,h){var m,p,q,n;m=k.Ob(f)?f:b;p=this.em(a);q=0;"function"===typeof h&&(q=h());f=K.o6(c);n=this.Ex.d6(f)(c);f=(this.qd[a]||{}).size||0;0>=f&&this.qd[a]?this.vta([a],function(b){l.trace("Replacing key",a,"which exists:",!!this.qd[a],this.qd[a]?this.qd[a]:void 0,"and has size",b,"with",c,"with size",n.byteLength,"plus _used",this.Pr,"vs capacity",this.pr);n.byteLength-b+this.Pr>=this.pr?m(t.AA):d(n.byteLength-b+q,this.sr)?m(t.mO):this.XB.replace(this.bo,p,c,this.Vka(a,g,m,h,this.sr),n.byteLength);}.bind(this)):(l.trace("Replacing key",a,"which exists:",!!this.qd[a],this.qd[a]?this.qd[a]:void 0,"and has size",f,"with",c,"with size",n.byteLength,"plus _used",this.Pr,"vs capacity",this.pr),n.byteLength-f+this.Pr>=this.pr?m(t.AA):d(n.byteLength-f+q,this.sr)?m(t.mO):this.XB.replace(this.bo,p,c,this.Vka(a,g,m,h,this.sr),n.byteLength));};f.prototype.pob=function(a,d,c,g){var h;h=k.Ob(d)?d:b;"[object Object]"!==Object.prototype.toString.call(a)?h(t.lO.wm("items must be a map of keys to objects")):(d=m.Promise.all(Object.keys(a).map(function(b){return new m.Promise(function(d){this.replace(b,a[b],function(a,c){a?d({error:a,jm:b}):d(c);},!0,g);}.bind(this));}.bind(this))).then(function(a){var b,d,p,t;try{b=Number.MAX_VALUE;d=a.reduce(function(a,d){d.error||(a.Th+=d.Th,k.pa(d.duration)&&(a.duration+=d.duration),!k.R(d.Ii)&&d.Ii<b&&(b=d.Ii),d.items.map(function(b){a.items.push({key:b.key,nf:b.nf,zT:b.zT,Cgb:b.Cgb,duration:b.duration});}),b<Number.MAX_VALUE&&(a.Ii=b));return a;},{Th:0,items:[],time:m.time.now(),duration:0});0<this.sr&&(d.zC=this.sr-g());p=a.filter(function(a){return!k.R(a.error);});t=x.Xta(p);c||(t?t.forEach(function(a){this.na(f.Bd.ERROR,a);}.bind(this)):this.na(f.Bd.REPLACE,x.Jsa(d)));h(t,d);}catch(X){h(X);}}.bind(this),function(a){c||this.na(f.Bd.ERROR,a);h(a);}.bind(this)),x.zq(d));};f.prototype["delete"]=function(a,d){var c;c=k.Ob(d)?d:b;this.xp.remove(this.bo,this.em(a),function(a,b){a?c(a):b&&b.W?h(this.xp,this.bo,this.em(""),function(a,b){a?c(a):(this.Pr=b,c());}.bind(this)):c(t.OHa.wm(b.error));}.bind(this));};f.prototype.cta=function(a){this.query("",function(b,d){b?(l.error("Failed to get keys",b),a([])):a(d);});};f.prototype.query=function(a,d){var c,f;c=k.Ob(d)?d:b;f=this.XB.J5();this.xp.query(this.bo,this.em(a),function(a,b){a?c(a):c(null,Object.keys(b).filter(function(a){return a!==f;}).map(this.dca.bind(this)));}.bind(this));};f.prototype.em=function(a){return this.su+"."+a;};f.prototype.clear=function(a){var d;d=k.Ob(a)?a:b;this.cta(function(a){var b;b=m.Promise.all(a.map(function(a){return new m.Promise(function(b){a&&this["delete"](a,function(){b();});}.bind(this));}.bind(this))).then(function(){d(a);},function(a){this.na(f.Bd.ERROR,a);d([],a);}.bind(this));x.zq(b);}.bind(this));};f.prototype.vta=function(a,d){var c,f;c=k.Ob(d)?d:b;f=(a||[]).map(function(a){return this.em(a);}.bind(this));this.xp.query(this.bo,this.su,function(b,d){b?(l.error("failed to get persisted size for keyset ",a,b),c(0)):(b=Object.keys(d).filter(function(a){return 0<=f.indexOf(a);}).reduce(function(a,b){return a+(d[b].size||0);},0),c(b));}.bind(this));};f.prototype.z$a=function(a){return this.XB.Dsa(a);};f.prototype.constructor=f;g.T=f;},function(g,c,a){var f,h,p,d,k;function b(a){this.ti=a;this.context=a.context;this.Wxa="NULLCONTEXT"===a.context?!0:!1;}f=a(6);h=a(109);p=new h.Console("DISKCACHE","media|asejs");d={context:"NULLCONTEXT",read:function(a,b,d,c,f){f("MediaCache is not supported");},remove:function(a,b,d){d("MediaCache is not supported");},create:function(a,b,d,c){c("MediaCache is not supported");},append:function(a,b,d,c){c("MediaCache is not supported");},query:function(a,b,d){d([]);}};b.prototype.Lx=function(){var a,b,d;a=Array.prototype.slice.call(arguments);b=a[0];d=a[a.length-1];a=a.slice(1,a.length-1);a.push(function(a){d(null,a);});try{if(this.Wxa)throw Error("Media Cache not supported");b.apply(this.ti,a);}catch(y){d(y);}};b.prototype.query=function(a,b,d,c){try{if(this.Wxa)throw Error("Media Cache not supported");this.ti.query(a,b,function(a){d(null,a);},c);}catch(A){d(A);}};b.prototype.read=function(a,b,d,c,f){this.Lx(this.ti.read,a,b,d,c,f);};b.prototype.remove=function(a,b,d){this.Lx(this.ti.remove,a,b,d);};b.prototype.create=function(a,b,d,c){this.Lx(this.ti.create,a,b,d,c);};b.prototype.append=function(a,b,d,c){this.Lx(this.ti.append,a,b,d,c);};b.prototype.info=function(a){this.Lx(this.ti.info,a);};b.prototype.ip=function(a){this.Lx(this.ti.ip,a);};b.prototype.flush=function(a){this.Lx(this.ti.flush,a);};b.prototype.clear=function(){this.ti.clear();};g.T={m4a:function(a){var c,g,m,l,q;c=a.gGb||"NRDMEDIADISKCACHE";k=a.Yu||0;0!==k||f.R(h.options)||f.R(h.options.SD)||(k=h.options.SD);a=k;try{l=h.storage.JC;if(!l||!f.Ze(l))throw p.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store";if(m=l[c])p.warn("Disk store exists, returning"),g=new b(m);else{if(f.R(h.storage)||!f.Ob(h.storage.XQ)||h.options&&0===h.options.SD)throw p.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts";p.warn("Disk store context doesn't exist, creating with size "+a);q=h.storage.XQ({context:c,size:a,encrypted:!0,signed:!0});if(!q||!q.valid)throw"Failed to create disk store context";g=new b(q);}}catch(x){p.warn("Exception creating disk store context - returning NullContext (noops)",x);g=new b(d);}return g;},$$a:function(){return k;},Kxb:b};},function(g,c,a){var b,f,h,p,d;b=a(6);h=[];d=!1;g.T={Sua:function(c,g,t){var k;if(d)b.Ob(t)&&(f.sn||f.Ky?setTimeout(function(){t(f);},0):h.push(t));else{d=!0;k=a(109);k.JJ(c);p=new k.Console("MEDIACACHE","media|asejs");f=new(a(362))(g,function(a){a&&p.warn("Failed to initialize MediaCache",a);b.Ob(t)&&setTimeout(function(){t(f);},0);h.map(function(a){setTimeout(function(){a(f);},0);});});}return f;},JGb:function(d,c){f=new(a(362))(d,function(a,d){a&&p.warn("Failed to initialize MediaCache",a);b.Ob(c)&&setTimeout(function(){c(d);},0);});}};},function(g,c,a){var b,f,h,p,d,k;Object.defineProperty(c,"__esModule",{value:!0});a(13);b=a(741);f=a(25);h=a(6);p=a(211);g=a(40);d=a(732);k=d.lMa;a=function(){var s9Y;function a(a,b,d){var q9Y,F1q,Y1q,a1q,X1q;q9Y=2;while(q9Y!==13){F1q="1";F1q+="SIYbZ";F1q+="rN";F1q+="JCp9";Y1q="Media";Y1q+=" ";Y1q+="cache has n";Y1q+="ot been initiaized";a1q="me";a1q+="dia|ase";a1q+="js";X1q="M";X1q+="EDI";X1q+="A";X1q+="CACHE";switch(q9Y){case 2:this.K=new b.Console(X1q,a1q);this.c1=(a.Fw||a.sca)&&0<(a.Yu||(b.options||{}).SD||0);this.aUa=a.v7a?a.v7a:!1;q9Y=4;break;case 7:this.Jf=d;this.Ap=Promise.reject(Y1q);F1q;q9Y=13;break;case 4:this.Nm=a.S8?a.S8:!1;this.mVa=a.bxa?a.bxa:!1;this.G=a;this.Dk=b;q9Y=7;break;}}}s9Y=2;while(s9Y!==27){switch(s9Y){case 10:a.prototype.Zmb=function(a,b){var S0q,c,f;S0q=2;while(S0q!==3){switch(S0q){case 2:c=this;f=Object.keys(a).map(function(b){var u0q;u0q=2;while(u0q!==1){switch(u0q){case 2:return c.k4a(a[b]);break;case 4:return c.k4a(a[b]);break;u0q=1;break;}}});S0q=4;break;case 4:return Promise.all(f).then(function(a){var k0q;k0q=2;while(k0q!==5){switch(k0q){case 2:a.sort(function(a,b){var O0q;O0q=2;while(O0q!==1){switch(O0q){case 2:return a.Yb===b.Yb?0:a.Yb?-1:1;break;}}});return d.pta(c.K,c.Jf,a,b);break;}}});break;}}};a.prototype.k4a=function(a){var W0q,b,c,f,g;W0q=2;while(W0q!==3){switch(W0q){case 2:b=this;g={};return new Promise(function(h,m){var D0q,p;D0q=2;while(D0q!==5){switch(D0q){case 2:b.mh.rV(k.Yi,a,function(a,b){var w0q,t,T0q,v1q,A1q,l1q;w0q=2;while(w0q!==5){switch(w0q){case 2:try{T0q=2;while(T0q!==19){v1q="Missi";v1q+="ng or invalid head";v1q+="er data parts for stream ";A1q="Header fragments was an ";A1q+="array buffer, i";A1q+="s invalid type ";l1q="Missing or in";l1q+="valid media dat";l1q+="a par";l1q+="ts for stream ";switch(T0q){case 6:T0q=p.Yb?14:11;break;case 10:return t=l1q+p.za,m(t);break;case 11:T0q=d.fva(p)?10:12;break;case 3:T0q=c instanceof ArrayBuffer?9:7;break;case 9:t=A1q+p.za;return m(t);break;case 13:return t=v1q+p.za,m(t);break;case 12:h(p);T0q=19;break;case 2:T0q=a||void 0===b?1:5;break;case 1:return m(a);break;case 4:T0q=d.Aeb(f)?3:20;break;case 14:T0q=d.gva(p)?13:12;break;case 7:p=d.ssa(f,g,c);T0q=6;break;case 5:Object.keys(b).map(function(a){var I0q,E0q,d,h;I0q=2;while(I0q!==9){switch(I0q){case 4:try{E0q=2;while(E0q!==5){switch(E0q){case 2:h=new Uint8Array(b[a]);f=JSON.parse(String.fromCharCode.apply(null,h));E0q=5;break;}}}catch(ia){f=b[a];}I0q=9;break;case 5:I0q=d===k.UY?4:3;break;case 2:d=a.substr(a.lastIndexOf(".")+1);I0q=5;break;case 3:d===k.Fea?c=b[a]:g[d]=b[a];I0q=9;break;}}});T0q=4;break;case 20:p=d.rsa(f,{response:g.response});T0q=6;break;}}}catch(D){m(D);}w0q=5;break;}}});D0q=5;break;}}});break;}}};a.prototype.UWa=function(a,b,c){var r0q,f;r0q=2;while(r0q!==4){switch(r0q){case 2:f=this;return new Promise(function(g,m){var t0q,p;t0q=2;while(t0q!==5){switch(t0q){case 2:f.mh.read(k.Yi,a,function(k,t){var j0q,u,y,r,l,A,q,n,p1q,e1q,V1q,J1q;j0q=2;while(j0q!==4){p1q="M";p1q+="iss";p1q+="ing o";p1q+="r invalid media data parts for strea";p1q+="m ";e1q="Missing or invalid header data ";e1q+="parts for ";e1q+="str";e1q+="eam ";V1q="Hea";V1q+="der fragments was an array buffer, is in";V1q+="val";V1q+="id";V1q+=" type ";J1q="mediacachel";J1q+="ook";J1q+="up";switch(j0q){case 43:f.KE(J1q,{QT:f.Dk.time.da()-c,bR:!0});g(p);j0q=4;break;case 29:q++;j0q=23;break;case 6:k=d.nta(l.movieEntry);j0q=14;break;case 25:j0q=l.data?24:28;break;case 22:u=n[q],y=0,r=Object.keys(l[u]);j0q=21;break;case 27:t.push(u);j0q=26;break;case 23:j0q=q<n.length?22:28;break;case 30:y++;j0q=21;break;case 8:l=t[a];j0q=7;break;case 14:t=[];j0q=13;break;case 33:j0q=d.fva(A)?32:31;break;case 10:u=n[q];u=l.headers[u];j0q=19;break;case 18:return k=V1q+u.streamId,m(k);break;case 44:void 0!==p&&(p.Ni=k);j0q=43;break;case 7:j0q=l.movieEntry?6:43;break;case 16:j0q=d.gva(u)?15:27;break;case 2:j0q=1;break;case 13:j0q=l.headers?12:25;break;case 12:q=0,n=Object.keys(l.headers);j0q=11;break;case 11:j0q=q<n.length?10:25;break;case 15:return k=e1q+u.za,m(k);break;case 24:l=l.data,q=0,n=Object.keys(l);j0q=23;break;case 26:q++;j0q=11;break;case 9:g();j0q=4;break;case 3:j0q=h.R(t)?9:8;break;case 32:return k=p1q+A.za,m(k);break;case 28:p=d.pta(f.K,f.Jf,t,b);j0q=44;break;case 31:t.push(A);j0q=30;break;case 35:A=l[u][r[y]];A=d.rsa(A,A);j0q=33;break;case 19:j0q=u.fragments instanceof ArrayBuffer?18:17;break;case 17:u=d.ssa(u,u,u.fragments);j0q=16;break;case 5:m(k);j0q=4;break;case 1:j0q=k?5:3;break;case 21:j0q=y<r.length?35:29;break;}}});t0q=5;break;}}});break;}}};a.prototype.bla=function(a){var Z0q,b,M1q;Z0q=2;while(Z0q!==4){M1q="Me";M1q+="dia cache ";M1q+="is not en";M1q+="abled";switch(Z0q){case 2:b=this;Z0q=5;break;case 5:return this.Ap?this.Ap.then(function(){var y0q;y0q=2;while(y0q!==1){switch(y0q){case 2:return new Promise(function(d){var K1q;K1q=2;while(K1q!==1){switch(K1q){case 2:b.mh.Dz(k.Yi,a.toString(),function(b){var L1q;L1q=2;while(L1q!==1){switch(L1q){case 2:b&&0!==b.length?1===b.length&&b[0]===a.toString()?d(!0):d(!1):d(!1);L1q=1;break;}}});K1q=1;break;}}});break;}}}):Promise.reject(M1q);break;}}};a.prototype.oXa=function(a){var h1q,c,f;h1q=2;function b(a){var B1q,n1q;B1q=2;while(B1q!==1){n1q="del";n1q+="et";n1q+="e";switch(B1q){case 2:c.mh[n1q](k.Yi,a);B1q=1;break;}}}function d(a){var N1q;N1q=2;while(N1q!==1){switch(N1q){case 2:a.map(b);N1q=1;break;case 4:a.map(b);N1q=2;break;N1q=1;break;}}}while(h1q!==9){switch(h1q){case 4:this.mh.Dz(k.Yi,[k.GN,a].join("."),d);this.mh.Dz(k.Yi,f,d);h1q=9;break;case 2:c=this;f=a.toString();h1q=4;break;}}};s9Y=16;break;case 13:a.prototype.hgb=function(a,b){var M0q,d;M0q=2;while(M0q!==4){switch(M0q){case 2:d=this;return b&&b.headers&&b.headers&&0<Object.keys(b.headers).length&&b.data?new Promise(function(a){var n0q,d,c;n0q=2;while(n0q!==7){switch(n0q){case 9:Object.keys(c).forEach(function(a){var f0q;f0q=2;while(f0q!==5){switch(f0q){case 2:d[a]||(d[a]={});c[a].forEach(function(b){var z0q;z0q=2;while(z0q!==1){switch(z0q){case 2:h.R(b.Oc)||(d[a][b.Oc]=!0);z0q=1;break;}}});f0q=5;break;}}});n0q=8;break;case 4:n0q=b.data?3:8;break;case 2:d={};b.headers&&Object.keys(b.headers).forEach(function(a){var R0q;R0q=2;while(R0q!==5){switch(R0q){case 2:d[a]||(d[a]={});d[a].header=!0;R0q=5;break;}}});n0q=4;break;case 8:return a(d);break;case 3:c=b.data;n0q=9;break;}}}):this.bla(a).then(function(b){var i0q;i0q=2;while(i0q!==5){switch(i0q){case 1:return new Promise(function(b){var o0q;o0q=2;while(o0q!==1){switch(o0q){case 2:d.mh.read(k.Yi,a,function(d,c){var d0q,f,g;d0q=2;while(d0q!==4){switch(d0q){case 2:d0q=1;break;case 5:b();d0q=4;break;case 1:d0q=d?5:3;break;case 3:d0q=h.R(c)?9:8;break;case 8:f=c[a];g={};f.headers&&Object.keys(f.headers).forEach(function(a){var H0q;H0q=2;while(H0q!==5){switch(H0q){case 2:g[a]||(g[a]={});g[a].header=!0;H0q=5;break;}}});d0q=14;break;case 9:b(void 0);d0q=4;break;case 14:f.data&&Object.keys(f.data).forEach(function(a){var Q0q;Q0q=2;while(Q0q!==5){switch(Q0q){case 2:g[a]||(g[a]={});Object.keys(f.data[a]).forEach(function(b){var U0q;U0q=2;while(U0q!==1){switch(U0q){case 2:g[a][b]=!0;U0q=1;break;case 4:g[a][b]=-4;U0q=8;break;U0q=1;break;}}});Q0q=5;break;}}});b(g);d0q=4;break;}}});o0q=1;break;}}});break;case 2:i0q=b?1:5;break;}}});break;}}};a.prototype.hbb=function(){var b0q,a,R1q;b0q=2;while(b0q!==4){R1q="Media cach";R1q+="e is not e";R1q+="nabled";switch(b0q){case 5:return this.Ap?this.Ap.then(function(){var G0q;G0q=2;while(G0q!==1){switch(G0q){case 2:return new Promise(function(b){var C0q;C0q=2;while(C0q!==1){switch(C0q){case 2:a.mh.Dz(k.Yi,k.GN,function(a){var s0q,d;s0q=2;while(s0q!==8){switch(s0q){case 4:d=[];a.forEach(function(a){var q0q;q0q=2;while(q0q!==1){switch(q0q){case 2:a&&a.length&&(a=a.split("."))&&1<a.length&&d.push(a[1]);q0q=1;break;}}});b(d);s0q=8;break;case 5:b([]);s0q=8;break;case 2:s0q=1;break;case 1:s0q=!a||0>=a.length?5:4;break;}}});C0q=1;break;}}});break;}}}):Promise.reject(R1q);break;case 2:a=this;b0q=5;break;}}};a.prototype.KE=function(a,b){var m0q,d,o1q,i1q,z1q,f1q;m0q=2;while(m0q!==8){o1q="media";o1q+="c";o1q+="achestats";i1q="medi";i1q+="aca";i1q+="chelo";i1q+="o";i1q+="kup";z1q="sa";z1q+="v";z1q+="e";z1q+="todi";z1q+="sk";f1q="m";f1q+="e";f1q+="d";f1q+="iac";f1q+="ache";switch(m0q){case 3:d.oneObject=this.Nm;this.aUa&&this.na(f1q,d);m0q=8;break;case 5:z1q===a&&(d.saveTime=b.jBa);i1q===a&&(d.lookupTime=b.QT,d.dataFound=b.bR);m0q=3;break;case 2:d={type:o1q,operation:a};m0q=5;break;}}};s9Y=10;break;case 2:a.prototype.Bc=function(a,d){var m9Y,c,H1q;m9Y=2;while(m9Y!==4){H1q="Media c";H1q+="ache is di";H1q+="sabled";switch(m9Y){case 2:c=this;return this.Ap=this.c1?new Promise(function(f,g){var S9Y;S9Y=2;while(S9Y!==1){switch(S9Y){case 2:(void 0!==d&&null!==d?d.Sua:function(a){var u9Y;u9Y=2;while(u9Y!==1){switch(u9Y){case 4:return b.Sua(c.Dk,c.G,a);break;u9Y=1;break;case 2:return b.Sua(c.Dk,c.G,a);break;}}})(function(b){var k9Y,d,d1q;k9Y=2;while(k9Y!==3){d1q="Media cache did not ini";d1q+="t";d1q+="ialize";switch(k9Y){case 2:c.mh=b;d=b.sn;(b=b.Ky)?g(b):d?(c.Tqb(a),f()):g(Error(d1q));k9Y=3;break;}}});S9Y=1;break;}}}):Promise.reject(H1q);break;}}};a.prototype.jgb=function(a){var O9Y,b,c,f;O9Y=2;while(O9Y!==9){switch(O9Y){case 2:b=this;c=[k.GN,a].join(".");f=this.Dk.time.da();O9Y=3;break;case 3:return this.Ap.then(function(){var W9Y;W9Y=2;while(W9Y!==1){switch(W9Y){case 2:return new Promise(function(g){var D9Y;D9Y=2;while(D9Y!==1){switch(D9Y){case 2:b.mh.Dz(k.Yi,c,function(c){var w9Y,m,Q1q;w9Y=2;while(w9Y!==9){Q1q="me";Q1q+="diacachel";Q1q+="o";Q1q+="okup";switch(w9Y){case 5:g(),b.KE(Q1q,{QT:b.Dk.time.da()-f,bR:!1});w9Y=9;break;case 1:w9Y=!c||0>=c.length?5:4;break;case 2:w9Y=1;break;case 4:m=c[0];b.mh.read(k.Yi,m,function(c,f){var T9Y,k,p,I9Y,b1q,U1q;T9Y=2;while(T9Y!==14){b1q=" ";b1q+="fa";b1q+="il";b1q+="ed";U1q="Rea";U1q+="ding movie ent";U1q+="ry ";switch(T9Y){case 2:c&&b.K.warn(U1q+m+b1q,c);T9Y=5;break;case 3:try{I9Y=2;while(I9Y!==1){switch(I9Y){case 2:k=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(f)));I9Y=1;break;}}}catch(D){}T9Y=8;break;case 5:T9Y=!h.R(f)?4:8;break;case 4:T9Y=f instanceof ArrayBuffer?3:9;break;case 9:k={priority:f.priority,movieId:f.movieId,saveToDisk:f.saveToDisk,firstSelectedStreamBitrate:f.firstSelectedStreamBitrate,initSelectionReason:f.initSelectionReason,histDiscountedThroughputValue:f.histDiscountedThroughput,histTdigest:f.histTdigest,histAge:f.histAge,headerCount:f.headerCount,dataRequestCount:f.dataRequestCount,headerRequestCount:f.headerRequestCount,stats:f.stats};T9Y=8;break;case 8:h.R(k)||(p=d.nta(k));h.R(p)||h.Ra(p)||(p.Lb=p.Lb||{},p.headers=p.headers||{});b.iva(p)?g(p):(b.oXa(a),g());T9Y=14;break;}}});w9Y=9;break;}}});D9Y=1;break;}}});break;}}});break;}}};a.prototype.cgb=function(a,b,d){var E9Y,c,f,G1q;E9Y=2;while(E9Y!==8){G1q="M";G1q+="edia c";G1q+="ache";G1q+=" is not enabled";switch(E9Y){case 4:return Promise.reject(G1q);break;case 5:E9Y=!this.Ap?4:3;break;case 2:c=this;E9Y=5;break;case 3:f=this.Dk.time.da();return this.Ap.then(function(){var r9Y;r9Y=2;while(r9Y!==1){switch(r9Y){case 2:return new Promise(function(g){var t9Y;t9Y=2;while(t9Y!==1){switch(t9Y){case 2:c.mh.Dz(k.Yi,a,function(k){var j9Y;j9Y=2;while(j9Y!==5){switch(j9Y){case 2:k=k.reduce(function(a,b){var Z9Y,d,C1q;Z9Y=2;while(Z9Y!==8){C1q="drmHeade";C1q+="r.__embed_";C1q+="_";switch(Z9Y){case 5:Z9Y=-1!==d.indexOf(C1q)?4:3;break;case 4:return a;break;case 2:d=b.substr(0,b.lastIndexOf("."));Z9Y=5;break;case 3:a[d]?a[d].push(b):a[d]=[b];return a;break;}}},{});c.Zmb(k,b).then(function(b){var y9Y,k,m,q1q,s1q;y9Y=2;while(y9Y!==6){q1q="me";q1q+="diac";q1q+="acheloo";q1q+="kup";s1q="No";s1q+=" co";s1q+="nten";s1q+="t dat";s1q+="a found for ";switch(y9Y){case 1:y9Y=void 0===d||void 0===b?5:4;break;case 4:k=c.Dk.time.da()-f;m=!1;h.R(b)||h.R(b.data)||!h.Ze(b.data)?c.K.trace(s1q+a,d):m=!0;c.KE(q1q,{QT:k,bR:m});g(b);y9Y=6;break;case 2:y9Y=1;break;case 5:return g();break;}}},function(){var K0q;K0q=2;while(K0q!==1){switch(K0q){case 2:g();K0q=1;break;case 4:g();K0q=9;break;K0q=1;break;}}});j9Y=5;break;}}});t9Y=1;break;}}});break;}}});break;}}};a.prototype.dgb=function(a,b){var L0q,d,c;L0q=2;while(L0q!==3){switch(L0q){case 8:d=this;L0q=6;break;L0q=5;break;case 2:d=this;L0q=5;break;case 5:c=this.Dk.time.da();return this.Ap.then(function(){var h0q;h0q=2;while(h0q!==1){switch(h0q){case 4:return d.bla(a);break;h0q=1;break;case 2:return d.bla(a);break;}}}).then(function(f){var B0q,m1q;B0q=2;while(B0q!==5){m1q="mediacach";m1q+="e";m1q+="lookup";switch(B0q){case 4:d.KE(m1q,{QT:d.Dk.time.da()-c,bR:!1});B0q=5;break;case 1:return d.UWa(a.toString(),b,c);break;case 2:B0q=f?1:4;break;case 8:return d.UWa(a.toString(),b,c);break;B0q=5;break;}}});break;}}};a.prototype.fpb=function(a,b){var N0q,c;N0q=2;while(N0q!==4){switch(N0q){case 2:c=d.ota(a);this.mh.save(k.Yi,[k.GN,a.M].join("."),c,k.Vt,function(){var x0q;x0q=2;while(x0q!==1){switch(x0q){case 4:b();x0q=2;break;x0q=1;break;case 2:b();x0q=1;break;}}});N0q=4;break;}}};s9Y=9;break;case 16:a.prototype.Tqb=function(a){var x1q,b,k1q,S1q;x1q=2;while(x1q!==3){k1q="mediac";k1q+="ache-err";k1q+="or";S1q="media";S1q+="cac";S1q+="h";S1q+="e";switch(x1q){case 2:b=new f.Uw();b.on(this.mh,S1q,function(b){var P1q,u1q;P1q=2;while(P1q!==4){u1q="m";u1q+="ed";u1q+="i";u1q+="acac";u1q+="he";switch(P1q){case 1:b.keys||b.items.map(function(a){var c1q;c1q=2;while(c1q!==1){switch(c1q){case 2:return a.key;break;case 4:return a.key;break;c1q=1;break;}}});P1q=5;break;case 2:P1q=b.keys||b.items?1:5;break;case 5:a.na(u1q,b);P1q=4;break;}}});x1q=4;break;case 4:b.on(this.mh,k1q,function(b){var g1q,W1q,O1q;g1q=2;while(g1q!==5){W1q="m";W1q+="e";W1q+="d";W1q+="iacache";O1q="e";O1q+="rr";O1q+="or";switch(g1q){case 2:b.type=O1q;a.na(W1q,b);g1q=5;break;}}});x1q=3;break;}}};return a;break;case 9:a.prototype.dpb=function(a,b){var P0q,c,f,g,m,p,t;P0q=2;while(P0q!==19){switch(P0q){case 6:P0q=a.stream.jd&&!h.R(a.stream.$)?14:20;break;case 2:c=this;f=[a.M,a.za,k.jKa].join(".");g=this.Dk.time.da();P0q=3;break;case 14:m={timescale:a.stream.$.ga,startTicks:a.stream.$.Fj,offset:a.stream.$.fm(0)};t=a.stream.$.OE;p[f+"."+k.Fea]={jm:m,kd:k.Vt};p[f+"."+k.RJa]={jm:t.sizes.buffer,kd:k.Vt};P0q=10;break;case 10:p[f+"."+k.QJa]={jm:t.cd.buffer,kd:k.Vt};P0q=20;break;case 3:m=d.Aab(a);p={};p[f+"."+k.UY]={jm:m,kd:k.Vt};p[f+"."+k.iKa]={jm:a.Ls,kd:k.Vt};P0q=6;break;case 20:this.mh.iBa(k.Yi,p,function(d){var c0q;c0q=2;while(c0q!==5){switch(c0q){case 2:d||(d=c.Dk.time.da()-g,a.Ni&&(h.R(a.Ni.Lb.sm)&&(a.Ni.Lb.sm=0),a.Ni.Lb.sm+=d));b();c0q=5;break;}}});P0q=19;break;}}};a.prototype.cpb=function(a,b,c){var g0q,f,g,m,p,t,w1q;g0q=2;while(g0q!==11){w1q="Unable to save frag";w1q+="ment because response is n";w1q+="ot an ArrayBuffer";switch(g0q){case 3:m=this.Dk.time.da();p=[a.M,a.za,a.Oc].join(".");a=d.ita(a);t={};g0q=6;break;case 6:t[p+"."+k.UY]={jm:a,kd:k.Vt};h.R(g)||(t[p+"."+k.vMa]={jm:g,kd:k.Vt});g0q=13;break;case 4:g0q=g instanceof ArrayBuffer?3:12;break;case 2:f=this;g=a.response;g0q=4;break;case 13:this.mh.iBa(k.Yi,t,function(a){var X0q,D1q;X0q=2;while(X0q!==5){D1q="F";D1q+="ailed ";D1q+="to save f";D1q+="ragment";switch(X0q){case 2:a?f.K.warn(D1q,a):(a=f.Dk.time.da()-m,h.R(b.Lb.sm)&&(b.Lb.sm=0),b.Lb.sm+=a);c();X0q=5;break;}}});g0q=11;break;case 12:c(Error(w1q));g0q=11;break;}}};a.prototype.gpb=function(a){var a0q,g,t,l,q,E,b,c,f,m,n,r,D,Q,C;a0q=2;while(a0q!==32){switch(a0q){case 12:g={},t=a.data,l=0,q=Object.keys(a.data);a0q=11;break;case 7:m={};Object.keys(a.headers).forEach(function(b){var Y0q,c;Y0q=2;while(Y0q!==4){switch(Y0q){case 2:c=d.wab(a.headers[b]);m[b]=c;Y0q=4;break;}}});a0q=14;break;case 14:f.headers=m;a0q=13;break;case 13:a0q=a&&a.data?12:35;break;case 17:E=0;a0q=16;break;case 26:C=d.ita(Q);a0q=25;break;case 18:a0q=r?17:22;break;case 27:a0q=Q instanceof p.gX&&Q.response instanceof ArrayBuffer&&!h.R(Q.Oc)?26:24;break;case 24:E++;a0q=16;break;case 15:Q=r[E];a0q=27;break;case 16:a0q=E<r.length?15:23;break;case 35:g={lifespan:259200};this.mVa&&(g.convertToBinaryData=!0);this.mh.save(k.Yi,a.M,f,g,function(a){var F0q,T1q;F0q=2;while(F0q!==1){T1q="s";T1q+="av";T1q+="et";T1q+="odi";T1q+="sk";switch(F0q){case 2:a||b.KE(T1q,{jBa:b.Dk.time.da()-c});F0q=1;break;}}});a0q=32;break;case 10:n=q[l];r=t[n];D={};a0q=18;break;case 3:g=d.ota(a);f.movieEntry=g;a0q=8;break;case 25:D[Q.Oc]={mediaType:C.mediaType,streamId:C.streamId,movieId:C.movieId,bitrate:C.bitrate,location:C.location,serverId:C.serverId,saveToDisk:C.saveToDisk,offset:C.offset,bytes:C.bytes,timescale:C.timescale,startTicks:C.startTicks,durationTicks:C.durationTicks,response:Q.response};a0q=24;break;case 11:a0q=l<q.length?10:21;break;case 23:g[n]=D;a0q=22;break;case 8:a0q=a.headers?7:13;break;case 22:l++;a0q=11;break;case 21:f.data=g;a0q=35;break;case 2:b=this;c=this.Dk.time.da();f={};a0q=3;break;}}};a.prototype.iva=function(a){var l0q;l0q=2;while(l0q!==1){switch(l0q){case 2:return!(h.R(a)||h.Ra(a)||h.R(a.Lb)||h.Ra(a.Lb)||h.R(a.M)||h.Ra(a.M)||h.R(a.Vd)||h.Ra(a.Vd));break;}}};a.prototype.Mgb=function(a){var A0q,b,d;A0q=2;while(A0q!==3){switch(A0q){case 8:A0q=8;break;A0q=1;break;case 1:b=this;d=h.R(a)?"":a.toString();return new Promise(function(a){var v0q,J0q;v0q=2;while(v0q!==4){switch(v0q){case 8:a();v0q=6;break;v0q=4;break;case 5:try{J0q=2;while(J0q!==1){switch(J0q){case 2:b.mh.Dz(k.Yi,"",function(b){var V0q;V0q=2;while(V0q!==5){switch(V0q){case 2:b=b.filter(function(a){var e0q,I1q;e0q=2;while(e0q!==5){I1q="movieEn";I1q+="t";I1q+="r";I1q+="y";switch(e0q){case 1:return d&&(d===a[0]||I1q===a[0]&&d===a[1]);break;case 2:a=a.split(".");e0q=1;break;}}}).reduce(function(a,b){var p0q,d,E1q;p0q=2;while(p0q!==3){E1q="m";E1q+="ov";E1q+="ieE";E1q+="ntry";switch(p0q){case 2:d=b.split(".");E1q!==d[0]&&(b=d[1],d=d[2],h.R(a[b])&&(a[b]={}),h.R(a[b][d])&&(a[b][d]=!0));return a;break;}}},{});a(b);V0q=5;break;}}});J0q=1;break;}}}catch(K){a();}v0q=4;break;case 1:a();v0q=4;break;case 2:v0q=h.R(b.mh)?1:5;break;}}});break;case 2:A0q=1;break;}}};s9Y=13;break;}}}();c.VMa=a;g.mi(f.EventEmitter,a);},function(g,c,a){var t,l,n,r,K,x,G,M;function b(a){var d,c,f;a=a.parent;d=!1;if(a&&a.children){c={};c[x.$i]=[];c[x.pi]=[];c[x.TEMPORARY]=[];f=a.children;f.forEach(function(a){a&&c[a.Qd].push(a);});0<c[x.$i].length||(c[x.pi].length===f.length?a.Qd!==x.pi&&(a.Qd=x.pi,K.error("PERM failing :",n.Hf.name[a.my]+" "+a.id),d=!0):(a.Qd===x.$i&&(a.Qd=x.TEMPORARY,K.error("TEMP failing :",n.Hf.name[a.my]+" "+a.id),d=!0),c[x.TEMPORARY].forEach(function(a){a.Qd=x.$i;})),d&&b(a));}}function f(a){var d;for(var b=[];a;a=a.parent)switch(a.my){case n.Hf.lx:d=a;b.unshift(d.id+"("+d.name+")");break;case n.Hf.Ofa:b.unshift(a.id);break;case n.Hf.URL:b.unshift("<url for "+a.stream.P+">");}return b.length?"/"+b.join("/"):"";}function h(a){var b;if((a=a.parent)&&0<a.children.length&&a.Qd!==x.$i){b={};b[x.$i]=[];b[x.pi]=[];b[x.TEMPORARY]=[];a.children.forEach(function(a){a&&b[a.Qd].push(a);});0<b[x.$i].length&&(a.Qd=x.$i,h(a));}}function p(a){return a.Qd!==x.$i;}function d(a){switch(a.Qd){case x.$i:return"OK";case x.pi:return"FAILED PERMANENTLY";case x.TEMPORARY:return"FAILED TEMPORARILY";default:return"INVALID";}}function k(a){a.zca=a.Ka.Gc>=n.Cd.Nt&&!a.Ka.oy?a.Ka.va.Fa*a.weight:0;}function m(a,b){if(a.Qd===x.TEMPORARY||a.Qd===x.pi&&b)a.Qd=x.$i;a.children&&a.children.forEach(function(a){a&&m(a,b);});}Object.defineProperty(c,"__esModule",{value:!0});t=a(6);g=a(25);l=a(40);n=a(11);r=a(5);K=new r.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(a){a[a.$i=0]="OK";a[a.TEMPORARY=1]="TEMPORARY";a[a.pi=2]="PERMANENT";}(x||(x={})));(function(a){a[a.QNa=0]="ORIGINAL";a[a.KGa=1]="CONTINUOUS";}(G||(G={})));(function(a){a[a.$t=0]="STARTUP";a[a.YBb=1]="REBUFFER";a[a.kx=2]="SEEK";a[a.Hyb=3]="FAILURE";a[a.nBb=4]="PERFORMANCE";}(M||(M={})));a=function(){var r1q;function a(a,b,d,c,f){var t1q,g,D5Q,I5Q,E5Q,s5Q;t1q=2;while(t1q!==25){D5Q="1S";D5Q+="IY";D5Q+="bZrNJ";D5Q+="Cp9";I5Q="c";I5Q+="l";I5Q+="o";I5Q+="s";I5Q+="e";E5Q="ne";E5Q+="t";E5Q+="wo";E5Q+="r";E5Q+="k";s5Q="un";s5Q+="d";s5Q+="erflo";s5Q+="w";switch(t1q){case 2:g=this;t1q=5;break;case 15:t1q=a&&(a.on(s5Q,function(){var j1q;j1q=2;while(j1q!==1){switch(j1q){case 2:g.xob();j1q=1;break;case 4:g.xob();j1q=9;break;j1q=1;break;}}}),f.sgb)?27:26;break;case 11:this.Yc={};this.oc={};this.Us=[];this.xU=!1;this.el={id:E5Q,my:n.Hf.fr,Qd:x.$i,xq:void 0,parent:void 0,children:this.Us};this.IE=this.fP=null;this.JE=n.Qe.$t;t1q=15;break;case 27:a.on(I5Q,function(){var Z1q;Z1q=2;while(Z1q!==1){switch(Z1q){case 2:g.tlb();Z1q=1;break;case 4:g.tlb();Z1q=8;break;Z1q=1;break;}}});t1q=26;break;case 8:this.config=f;this.So=f.RC&&c;this.mode=G.QNa;this.iq=void 0;this.dk={};this.Nn={};t1q=11;break;case 26:D5Q;t1q=25;break;case 5:this.events=a;this.bf=b;this.HD=d;this.So=c;t1q=8;break;}}}r1q=2;while(r1q!==27){switch(r1q){case 8:a.prototype.Wra=function(a){var x2q,b;x2q=2;while(x2q!==3){switch(x2q){case 1:x2q=a?5:3;break;case 7:x2q=a?8:0;break;x2q=a?5:3;break;case 2:x2q=1;break;case 5:b=a.bind(this);t.forEach(this.Yc,function(a){var P2q,d;P2q=2;while(P2q!==4){switch(P2q){case 2:d=a.Ub;b(d.location,d,a.stream,a);P2q=4;break;}}});x2q=3;break;}}};a.prototype.AH=function(a){var c2q,b,t5Q;c2q=2;while(c2q!==20){t5Q="m";t5Q+="a";t5Q+="nif";t5Q+="es";t5Q+="tAdded";switch(c2q){case 2:b=this;a.locations.forEach(function(a){var g2q,d,c,f,g;g2q=2;while(g2q!==13){switch(g2q){case 2:d=a.key;g2q=5;break;case 5:g2q=!b.dk[d]?4:13;break;case 4:c=[];f=b.HD.get(d);g=b.el;g2q=8;break;case 8:a={id:d,my:n.Hf.Ofa,Qd:x.$i,ie:a.rank,level:a.level,weight:a.weight,xq:void 0,parent:g,children:c,Nn:c,oc:{},et:!1,Dza:!1,Ka:f,zca:null,QQ:void 0};b.dk[a.id]=a;g.children.push(a);k(a);g2q=13;break;}}});c2q=4;break;case 13:this.Us=a;this.el.children=a;this.emit(t5Q);c2q=10;break;case 8:a.audio_tracks.forEach(function(a){var Y2q;Y2q=2;while(Y2q!==1){switch(Y2q){case 4:b.Fza(a);Y2q=4;break;Y2q=1;break;case 2:b.Fza(a);Y2q=1;break;}}});a.video_tracks.forEach(function(a){var F2q;F2q=2;while(F2q!==1){switch(F2q){case 4:b.Fza(a);F2q=7;break;F2q=1;break;case 2:b.Fza(a);F2q=1;break;}}});a=this.Us.filter(function(a){var l2q,d;l2q=2;while(l2q!==3){switch(l2q){case 2:d=a.Nn.every(function(a){var A2q;A2q=2;while(A2q!==1){switch(A2q){case 2:return 0===a.Yc.length;break;case 4:return 8!==a.Yc.length;break;A2q=1;break;}}});d&&(a.Nn.forEach(function(a){var v2q;v2q=2;while(v2q!==1){switch(v2q){case 2:b.Nn[a.id]=void 0;v2q=1;break;}}}),b.dk[a.id]=void 0,a.parent=void 0,a.children.length=0,a.oc={});return!d;break;}}});a.forEach(function(a){var J2q;J2q=2;while(J2q!==1){switch(J2q){case 2:a.Nn.sort(function(a,b){var V2q;V2q=2;while(V2q!==1){switch(V2q){case 4:return a.ie%b.ie;break;V2q=1;break;case 2:return a.ie-b.ie;break;}}});J2q=1;break;}}});c2q=13;break;case 10:this.dump();c2q=20;break;case 4:this.fP=r.time.da();this.Us.sort(function(a,b){var X2q;X2q=2;while(X2q!==1){switch(X2q){case 2:return a.level-b.level||a.ie-b.ie;break;}}});a.servers.forEach(function(a){var a2q,d,c,f;a2q=2;while(a2q!==14){switch(a2q){case 5:a2q=!b.Nn[d]?4:14;break;case 2:d=a.id;a2q=5;break;case 4:c=b.dk[a.key];a2q=3;break;case 3:a2q=c?9:14;break;case 9:f=[];a={id:d,my:n.Hf.lx,Qd:x.$i,xq:void 0,parent:c,children:f,Yc:f,name:a.name,type:a.type,ie:a.rank,location:c};b.Nn[a.id]=a;a2q=6;break;case 6:c.children.push(a);a2q=14;break;}}});c2q=8;break;}}};a.prototype.IW=function(a,b,d){var e2q,c,f,g,h,m,l,q,u,u5Q,V5Q,K5Q,w5Q;e2q=2;while(e2q!==25){u5Q="(e";u5Q+="mpty";u5Q+=" stream list)";V5Q="Did not find a URL fo";V5Q+="r ";V5Q+="ANY stream...";K5Q="n";K5Q+="et";K5Q+="workFa";K5Q+="iled";w5Q="N";w5Q+="etwork has fail";w5Q+="ed, not updating";w5Q+=" stream se";w5Q+="lection";switch(e2q){case 9:m=a.buffer.Sk-a.buffer.tf||0;l=0;r.oo&&r.oo(b);e2q=6;break;case 14:return!1;break;case 13:q=n.Cd.Nt;f.yK&&(q=n.Cd.lp);this.bf.location&&g.Gc>=q&&(b=this.dk[this.bf.location])&&(b.Ka=g,k(b));e2q=10;break;case 10:e2q=t.Ra(this.IE)||h?20:19;break;case 20:this.IE=this.gub(a);e2q=19;break;case 2:c=this;f=this.config;g=this.bf.get();h=this.So;e2q=9;break;case 6:e2q=p(this.el)?14:13;break;case 18:return this.im(n.Hf.fr,!1),!1;break;case 19:e2q=!this.IE?18:17;break;case 16:e2q=!u.length?15:27;break;case 17:u=this.IE;e2q=16;break;case 15:return this.im(n.Hf.fr,!1),!1;break;case 27:d.forEach(function(a,b){var p2q,d,k5Q,g5Q,o5Q,X5Q;p2q=2;while(p2q!==4){k5Q=" ";k5Q+="Kb";k5Q+="p";k5Q+="s)";g5Q=" ";g5Q+="(";o5Q="]";o5Q+=" ";X5Q="F";X5Q+="ai";X5Q+="l";X5Q+="ing strea";X5Q+="m [";switch(p2q){case 2:d=a.id;u.some(function(b){var M2q,c,k;M2q=2;while(M2q!==7){switch(M2q){case 2:c=b.oc[d];M2q=5;break;case 5:M2q=!c?4:3;break;case 3:k=c.dk[0];void 0===a.fV&&(a.fV=k.id,a.u$=c.xM[k.id][0].Ub.id);return c.xM[b.id].some(function(d){var n2q,c,a5Q,H5Q,m5Q,n5Q,F5Q;n2q=2;while(n2q!==11){a5Q="locat";a5Q+="ionfa";a5Q+="ilover";H5Q="serverfa";H5Q+="ilove";H5Q+="r";m5Q="p";m5Q+="er";m5Q+="forman";m5Q+="ce";n5Q="p";n5Q+="ro";n5Q+="be";F5Q="un";F5Q+="kn";F5Q+="ow";F5Q+="n";switch(n2q){case 2:n2q=1;break;case 1:n2q=p(d.Ub)?5:4;break;case 5:return d.Ub.Qd===x.TEMPORARY&&(a.Qd=x.TEMPORARY),f.Ro&&a.Ub===d.Ub.id&&d.Ub.xq&&(a.xq=d.Ub.xq),!1;break;case 9:c=F5Q;a.location!==b.id&&(f.Ro?a.Yeb=b.id===k.id:c=b!==u[0]?""+n.Qe.kX:void 0===a.location?""+n.Qe.$t:h?n5Q:t.R(a.Lva)||a.Lva===b.id?t.R(a.Mva)||a.Mva===d.Ub.id?m5Q:H5Q:a5Q,a.location=b.id,a.Z7=b.level,a.pl=c);a.url=d.url;n2q=6;break;case 4:n2q=p(d)?3:9;break;case 3:return!1;break;case 6:a.Ub=d.Ub.id;a.Vz=d.Ub.name;a.Ka=f.X1?b.Ka.Gc>=n.Cd.lp?!f.wza||m<f.vza?b.Ka:b.Ka.va&&b.Ka.va.Fa&&g.va&&g.va.Fa&&b.Ka.va.Fa<g.va.Fa?g:b.Ka:g.Gc<q?b.Ka:g:g.Gc===n.Cd.HAVE_NOTHING||b.Ka.Gc>=n.Cd.lp?!f.wza||m<f.vza?b.Ka:b.Ka.va&&b.Ka.va.Fa&&g.va&&g.va.Fa&&b.Ka.va.Fa<g.va.Fa?g:b.Ka:g;return!0;break;}}});break;case 4:return!1;break;}}})?(a.Tg=void 0,a.Qd=void 0,a.mf&&++l):a.Qd&&a.Qd===x.TEMPORARY?c.el.Qd=x.TEMPORARY:a.Tg||(K.warn(X5Q+b+o5Q+d+g5Q+a.P+k5Q),a.D1a(),a.Tg=!0);p2q=4;break;}}});return p(this.el)?(K.warn(w5Q),this.xU=!0,this.emit(K5Q,this.el.Qd===x.pi),!1):l?!0:(K.warn(V5Q+(d.length?"":u5Q)),this.im(n.Hf.fr,!0),!1);break;}}};a.prototype.cqb=function(a,b){var R2q,d,c;R2q=2;while(R2q!==9){switch(R2q){case 5:c=/^http(s?):\/\/([^\/:]+):?([0-9]*)/;t.forEach(this.Yc,function(f,g){var f2q,h,k,m,p,T5Q,S5Q,t2q;f2q=2;while(f2q!==13){T5Q="8";T5Q+="0";S5Q="4";S5Q+="4";S5Q+="3";switch(f2q){case 3:f2q=k&&4===k.length?9:13;break;case 6:k.length||(k=m?S5Q:T5Q);f2q=14;break;case 5:h=d[f];k=g.match(c);f2q=3;break;case 2:f=f.parent?f.parent.id:"";f2q=5;break;case 9:t8ii.P5Q(0);t2q=t8ii.c5Q(15,14);m="s"===k[t2q];p=k[2];k=k[3];f2q=6;break;case 14:t.Sd(p)&&t.Sd(k)&&p===a&&k==b&&(h?h.push(g):d[f]=[g]);f2q=13;break;}}});return d;break;case 2:d={};R2q=5;break;}}};r1q=13;break;case 2:a.prototype.Zbb=function(){var y1q;y1q=2;while(y1q!==1){switch(y1q){case 2:return this.Us[0].Ka;break;case 4:return this.Us[1].Ka;break;y1q=1;break;}}};a.prototype.M5=function(){var K2q;K2q=2;while(K2q!==1){switch(K2q){case 4:return this.Us;break;K2q=1;break;case 2:return this.Us;break;}}};a.prototype.oy=function(){var L2q;L2q=2;while(L2q!==1){switch(L2q){case 4:return p(this.el);break;L2q=1;break;case 2:return p(this.el);break;}}};a.prototype.GBa=function(a){var h2q;h2q=2;while(h2q!==5){switch(h2q){case 1:return a.parent.id;break;case 2:h2q=(a=this.Yc[a])&&a.parent?1:5;break;}}};a.prototype.MT=function(a){var B2q;B2q=2;while(B2q!==5){switch(B2q){case 9:return a.Ub.location;break;B2q=5;break;case 1:return a.Ub.location;break;case 2:B2q=(a=this.Yc[a])&&a.Ub?1:5;break;}}};a.prototype.ECa=function(a){var N2q;N2q=2;while(N2q!==5){switch(N2q){case 3:N2q=(a=this.Yc[a])?2:6;break;N2q=(a=this.Yc[a])?1:5;break;case 2:N2q=(a=this.Yc[a])?1:5;break;case 1:return a.stream;break;}}};r1q=8;break;case 17:a.prototype.tlb=function(){var I2q,a;I2q=2;while(I2q!==4){switch(I2q){case 2:a=this;this.xU||this.Us.forEach(function(b){var E2q;E2q=2;while(E2q!==1){switch(E2q){case 2:b.Qd===x.TEMPORARY&&a.HD.fail(b.id,r.time.da());E2q=1;break;}}});I2q=4;break;}}};a.prototype.dump=function(){};return a;break;case 13:a.prototype.im=function(a,c,g,h){var z2q,i2q,k,m,t,i5Q,J5Q,G5Q,l5Q,x5Q,B5Q,q5Q,h5Q,C5Q;z2q=2;while(z2q!==25){i5Q="net";i5Q+="w";i5Q+="orkFai";i5Q+="led";J5Q="E";J5Q+="mitti";J5Q+="ng networkFailed, p";J5Q+="ermanent =";G5Q="I";G5Q+="nvalid failure ";G5Q+="state";l5Q="Unable to find failur";l5Q+="e";l5Q+=" e";l5Q+="ntit";l5Q+="y for URL ";x5Q=" ";x5Q+=": was";x5Q+=" ";B5Q=" a";B5Q+="t";B5Q+=" ";q5Q=" failu";q5Q+="re rep";q5Q+="orted for ";h5Q="T";h5Q+="E";h5Q+="M";h5Q+="P";C5Q="P";C5Q+="E";C5Q+="R";C5Q+="M";switch(z2q){case 15:z2q=27;break;case 9:K.warn((c?C5Q:h5Q)+q5Q+n.Hf.name[a]+B5Q+f(k)+x5Q+d(k));z2q=8;break;case 8:i2q=k.Qd;z2q=i2q===x.pi?7:6;break;case 7:return;break;case 26:t8ii.M5Q(1);K.warn(t8ii.U5Q(g,l5Q));z2q=25;break;case 4:z2q=k?3:26;break;case 3:z2q=t!==k.Qd?9:25;break;case 1:z2q=k&&k.parent&&k.my!==a?5:4;break;case 6:z2q=i2q===x.TEMPORARY?14:16;break;case 5:k=k.parent;z2q=1;break;case 19:this.JE=n.Qe.ERROR;h&&(this.JE=n.Qe.TOa,k.xq=h);this.dump();z2q=25;break;case 2:k=a!==n.Hf.fr&&g?this.Yc[g]:this.el,m=this.el.Qd,t=c?x.pi:x.TEMPORARY;z2q=1;break;case 27:throw Error(G5Q);z2q=14;break;case 14:k.Qd=t;b(k);this.xU=this.xU||p(this.el);a=this.el.Qd;a>m&&(K.warn(J5Q,a===x.pi),this.emit(i5Q,a===x.pi));this.IE=null;z2q=19;break;case 16:z2q=i2q===x.$i?14:15;break;}}};a.prototype.PAa=function(a,b){var o2q;o2q=2;while(o2q!==3){switch(o2q){case 2:o2q=(a=this.Nn[a])?1:5;break;case 8:o2q=(a=this.Nn[a])?8:6;break;o2q=(a=this.Nn[a])?1:5;break;case 1:m(a,b),h(a);o2q=5;break;case 5:this.IE=null;this.JE=n.Qe.sZ;o2q=3;break;}}};a.prototype.qL=function(a){var d2q;d2q=2;while(d2q!==1){switch(d2q){case 2:m(this.el,a);d2q=1;break;case 4:m(this.el,a);d2q=2;break;d2q=1;break;}}};a.prototype.mz=function(a){var H2q,j5Q;H2q=2;while(H2q!==1){j5Q="l";j5Q+="o";j5Q+="gda";j5Q+="ta";switch(H2q){case 4:this.na("",a);H2q=2;break;H2q=1;break;case 2:this.na(j5Q,a);H2q=1;break;}}};a.prototype.Fza=function(a){var Q2q,b;Q2q=2;while(Q2q!==4){switch(Q2q){case 2:b=this;a.streams.forEach(function(a){var U2q,d,c,f,v5Q;U2q=2;while(U2q!==13){v5Q="no";v5Q+="n";v5Q+="e";v5Q+="-";switch(U2q){case 3:f=a.content_profile;c={id:d,P:a.bitrate,xc:a.vmaf,type:a.type,profile:f,clear:0===f.indexOf(v5Q),mf:!0,Yc:[],xM:{},dk:[]};U2q=8;break;case 7:a.urls.forEach(function(a){var b2q,d,f,g;b2q=2;while(b2q!==11){switch(b2q){case 2:d=a.url;f=b.Yc[d];b2q=4;break;case 4:b2q=t.R(f)&&(a=b.Nn[a.cdn_id])?3:11;break;case 12:(d=c.xM[g.id])?d.push(f):c.xM[g.id]=[f];b2q=11;break;case 3:g=a.location;f={id:d,my:n.Hf.URL,Qd:x.$i,xq:void 0,parent:a,children:[],url:d,Ub:a,stream:c};b.Yc[d]=f;a.children.push(f);c.Yc.push(f);0===c.dk.filter(function(a){var G2q;G2q=2;while(G2q!==1){switch(G2q){case 2:return a.id===g.id;break;case 4:return a.id==g.id;break;G2q=1;break;}}}).length&&c.dk.push(g);g.oc[c.id]=c;b2q=12;break;}}});t.dd(c.xM,function(a){var C2q;C2q=2;while(C2q!==1){switch(C2q){case 2:a.sort(function(a,b){var s2q;s2q=2;while(s2q!==1){switch(s2q){case 4:return a.Ub.ie/b.Ub.ie;break;s2q=1;break;case 2:return a.Ub.ie-b.Ub.ie;break;}}});C2q=1;break;}}});c.dk=c.dk.sort(function(a,b){var q2q;q2q=2;while(q2q!==1){switch(q2q){case 2:return a.level-b.level||a.ie-b.ie;break;}}});U2q=13;break;case 4:U2q=t.R(c)?3:7;break;case 2:d=a.downloadable_id;c=b.oc[d];U2q=4;break;case 8:b.oc[c.id]=c;U2q=7;break;}}});Q2q=4;break;}}};a.prototype.gub=function(a){var m2q,b,d,c,f,g,h;m2q=2;while(m2q!==27){switch(m2q){case 13:a.forEach(function(a){var u2q;u2q=2;while(u2q!==1){switch(u2q){case 2:a.id!==b.bf.location&&(a.Ka=b.HD.get(a.id));u2q=1;break;}}}),this.fP=f;m2q=12;break;case 10:a.forEach(function(a){var k2q;k2q=2;while(k2q!==1){switch(k2q){case 2:a.Ka.Gc>=n.Cd.lp?(a.Dza=a.Dza||a.et,a.et=!1,a.QQ=n.Cd.lp):(a.et=!0,a.QQ=a.Ka.Gc);k2q=1;break;}}});h=null;m2q=19;break;case 14:m2q=null===this.fP||this.fP+d.Y7<f?13:12;break;case 8:m2q=0===a.length?7:6;break;case 2:b=this;m2q=5;break;case 6:f=r.time.da();m2q=14;break;case 7:return null;break;case 11:m2q=this.So?10:15;break;case 5:d=this.config;a=a.buffer;c=a.Sk-a.tf;m2q=9;break;case 19:a.every(function(a){var O2q;O2q=2;while(O2q!==5){switch(O2q){case 2:t.Ra(h)&&(h=a.level);return h!==a.level?(b.So=!1,g=n.Qe.$ca,!1):a.Ka.Gc<n.Cd.lp?!1:a.Ka.va.Fa>d.F4?(b.So=!1,g=n.Qe.LJa,!1):!0;break;}}})&&(this.So=!1,g=n.Qe.$ca);m2q=18;break;case 12:g=null;m2q=11;break;case 18:d.RC?a.sort(function(a,d){var W2q;W2q=2;while(W2q!==1){switch(W2q){case 2:return a.level-d.level||(b.So&&a.et&&!d.et?-1:0)||(b.So&&d.et&&!a.et?1:0)||(b.So&&a.et&&d.et?a.ie-d.ie:0)||d.QQ-a.QQ||d.zca-a.zca||a.ie-d.ie;break;}}}):a.sort(function(a,b){var D2q;D2q=2;while(D2q!==1){switch(D2q){case 2:return a.level-b.level||a.ie-b.ie;break;}}});this.iq||t.Ra(g)||(this.iq=!0);return a;break;case 9:a=this.Us.filter(function(a){var S2q;S2q=2;while(S2q!==1){switch(S2q){case 2:return!p(a)&&0!==a.level;break;case 4:return-p(a)||1==a.level;break;S2q=1;break;}}});m2q=8;break;case 15:d.RC?(g=n.Qe.kMa,this.mode===G.KGa&&(this.So=c>d.Mba)):g=this.JE;m2q=18;break;}}};a.prototype.xob=function(){var w2q,a;w2q=2;while(w2q!==9){switch(w2q){case 2:a=this.bf.location;this.iq=!1;w2q=4;break;case 4:this.So=this.config.RC&&!0;this.Us.forEach(function(b){var T2q;T2q=2;while(T2q!==1){switch(T2q){case 2:b.id!==a&&b.Ka&&b.Ka.Gc>n.Cd.Nt&&(b.Ka.Gc=n.Cd.Nt);T2q=1;break;}}});w2q=9;break;}}};r1q=17;break;}}}();c.Sfa=a;l.mi(g.EventEmitter,a);},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(25);g=a(54);a=function(){function a(a,c){var d;d=this;this.track=a;this.po=!1;this.listeners=new b.Uw();this.listeners.on(a,"networkfailing",function(){d.emit("networkfailing");});this.listeners.on(a,"error",function(){d.emit("error");});if(c)this.po=!0,setTimeout(function(){return d.emit("created");},0);else this.listeners.on(a,"created",function(){d.po=!0;d.emit("created");});}Object.defineProperties(a.prototype,{E4:{get:function(){return this.track.E4;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Xh:{get:function(){return this.track.Xh;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{sj:{get:function(){return this.track.sj;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{wra:{get:function(){return this.track.wra;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{config:{get:function(){return this.track.config;},enumerable:!0,configurable:!0}});a.prototype.hn=function(){this.listeners.clear();};a.prototype.bk=function(){return this.track.bk();};a.prototype.toString=function(){return this.track.toString();};return a;}();c.xQa=a;g(b.EventEmitter,a.prototype);},function(g,c,a){var b,f,h,p,d,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(200);f=a(11);h=a(153);p=a(207);d=a(60);k=a(24);a(13);a(5);g=function(){var Z5Q;Z5Q=2;function a(){var R5Q,d8S;R5Q=2;while(R5Q!==1){d8S="1";d8S+="SIYb";d8S+="ZrNJC";d8S+="p9";switch(R5Q){case 4:"";R5Q=9;break;R5Q=1;break;case 2:d8S;R5Q=1;break;}}}while(Z5Q!==13){switch(Z5Q){case 8:a.prototype.bC=function(a,b,d,c,g){var A5Q,h;A5Q=2;while(A5Q!==6){switch(A5Q){case 5:A5Q=this.Rh?4:3;break;case 2:h=this.Nb;A5Q=5;break;case 3:a=this.fsa?a.appendBuffer(k.$m(this.Sqa),this):this.Ta&&!this.hq?this.YTa(a,b,c,g):this.Ta&&this.hq?this.ZTa(a,d,c,g):this.O===f.L.AUDIO&&h.Gn&&b&&this.Aw&&b.ge>=this.ge&&this.Ve-this.Aw<this.Aw-this.Oc?!0:a.appendBuffer(this.response,this);this.Rh=!0;this.jL();return a;break;case 4:return!1;break;}}};a.prototype.YTa=function(a,b,d,c){var N5Q,g,h,m,n8S,N8S;N5Q=2;while(N5Q!==6){n8S=" ";n8S+="f";n8S+="ro";n8S+="m";n8S+=" [ ";N8S="AseFragm";N8S+="entMediaR";N8S+="equest: Fragment edit f";N8S+="ai";N8S+="led for ";switch(N5Q){case 8:m&&(this.Ta&&(0<this.Ta.start||h.Hq)?(g=new p.JN(this.stream,this.response),(b=g.wAa(this.Ta.start,this.Zv,h.Hq,h.eaa))?(g=a.appendBuffer(k.$m(b.$f),this),this.uP(h),this.mP(b.$f)):(this.K.error(N8S+this.toString()+n8S+this.jv+"-"+this.kS+"]"),g=!0)):g=a.appendBuffer(this.response,this));return g;break;case 2:h={Hq:0};g=!1;m=!0;this.O===f.L.AUDIO&&b&&(d?c&&this.Lqa():this.bka(b)?b.Ta&&this.Ta&&this.Ta.start!==b.Ta.end&&this.Ej({start:b.Ta.end}):(h=this.sTa(),b.ge===this.Ic&&(h.Hq=0)));0>=this.duration&&(m=!1,g=!0);N5Q=8;break;}}};a.prototype.ZTa=function(a,b,d,c){var Q5Q,g,h,m,v8S,K8S;Q5Q=2;while(Q5Q!==6){v8S=" ";v8S+="f";v8S+="rom [ ";K8S="AseFragmen";K8S+="tMediaRequest: ";K8S+="Fragment edit failed for ";switch(Q5Q){case 4:h=!0;this.O===f.L.AUDIO&&(d?c&&(this.W6a(),h=0<this.Ta.end):this.bka(b)?b.Ta&&0!==b.Ta.start?this.Ej({start:0,end:b.Ta.start}):h=!1:(m=this.tTa(),g.Gn||(b=this.USa(b,m.Xra),(h=b.Xqb)&&b.Pgb&&!m.eaa&&(m.Hq=0))));h&&0===this.duration&&(h=!1);h?this.Ta&&this.Ta.end<this.iJ||m.Hq?(h=new p.JN(this.stream,this.response),(h=h.zAa(this.Ta&&this.Ta.end,this.ga,m.Hq,m.eaa))?(a=a.appendBuffer(k.$m(h.$f),this),this.uP(m),this.mP(h.$f)):(this.K.error(K8S+this.toString()+v8S+this.jv+"-"+this.kS+"]"),a=!0)):a=a.appendBuffer(this.response,this):a=!0;return a;break;case 2:g=this.Nb;m={Hq:0};Q5Q=4;break;}}};return a;break;case 2:a.prototype.bka=function(a){var W5Q;W5Q=2;while(W5Q!==1){switch(W5Q){case 2:return a&&h.lQ(a.M,this.M)&&a.csa===this.csa?!0:!1;break;}}};a.prototype.rTa=function(){var O5Q,a,b,d,c;O5Q=2;while(O5Q!==7){switch(O5Q){case 3:c=this.Eu&&this.Eu.Kp;Array.isArray(c)&&Array.isArray(a.Kp)?c=c.filter(function(b){var a0v=t8ii;var e5Q,b5Q,L5Q;e5Q=2;while(e5Q!==1){switch(e5Q){case 4:a0v.f8S(0);b5Q=a0v.w8S(14,147,1,10);return!b5Q===a.Kp.indexOf(b);break;e5Q=1;break;case 2:a0v.z8S(1);L5Q=a0v.w8S(13,13,1);return L5Q!==a.Kp.indexOf(b);break;}}}):Array.isArray(a.Kp)?c=a.Kp:Array.isArray(c)||(c=[]);return-1!==c.indexOf(this.profile)?{Xra:!!b,RAa:!b,fba:!b||!d}:{Xra:!1,RAa:!1,fba:!d};break;case 2:a=this.Nb;b=void 0!==a.yw?a.yw:this.Eu&&this.Eu.yw;d=void 0!==a.xw?a.xw:this.Eu&&this.Eu.xw;O5Q=3;break;}}};a.prototype.Uja=function(a,b){var d5Q,d,c,f,g,t8S,q8S;d5Q=2;while(d5Q!==13){t8S="de";t8S+="f";t8S+="aul";t8S+="t";q8S="def";q8S+="a";q8S+="ul";q8S+="t";switch(d5Q){case 8:g.Hq=g.fba?void 0!==d?d:1:0;g.eaa=void 0!==c?c:g.RAa;return g;break;case 3:d5Q=(d=(void 0!==a?a:f.PJ)||0,a=f.Uua&&f.Uua[this.stream.profile])?9:8;break;case 2:f=this.Nb;g=this.rTa();d5Q=4;break;case 4:d5Q=void 0!==f.PJ&&null!==f.PJ?3:14;break;case 9:c=a.name,d=void 0!==a[b]?a[b]:void 0!==a[q8S]?a[t8S]:d;d5Q=8;break;case 14:g.fba=!1;d5Q=8;break;}}};a.prototype.sTa=function(){var r5Q,D8S;r5Q=2;while(r5Q!==1){D8S="o";D8S+="nE";D8S+="ntr";D8S+="y";switch(r5Q){case 2:return this.Uja(this.Nb.Vua,D8S);break;case 4:return this.Uja(this.Nb.Vua,"");break;r5Q=1;break;}}};a.prototype.tTa=function(){var y5Q,C8S;y5Q=2;while(y5Q!==1){C8S="onE";C8S+="x";C8S+="i";C8S+="t";switch(y5Q){case 2:return this.Uja(this.Nb.Wua,C8S);break;case 4:return this.Uja(this.Nb.Wua,"");break;y5Q=1;break;}}};a.prototype.USa=function(a,c){var z5Q,g,h,k,m,p,l,t,q,n,u;z5Q=2;function f(a){var f5Q,b,d;f5Q=2;while(f5Q!==9){switch(f5Q){case 4:t8ii.z8S(2);d=t8ii.w8S(b,n);return{Jn:a,Rl:b,NGb:d,Sxa:0<a&&d<l/1E3};break;case 2:a=Math.floor(Math.min(t,a)/p.Ad);b=p.Ad*a;f5Q=4;break;}}}while(z5Q!==18){switch(z5Q){case 4:g=!1;h=b.mta(k,this.Eu);p=this.Ia;l=p.ga;z5Q=7;break;case 2:k=this.Nb;m=!0;z5Q=4;break;case 7:t=this.Rl;q=a?a.RK:this.aV-2*p.Ad;n=q-this.esa;c=k.E9a||c;a&&!c&&(g=f(n),u=g.Jn,g=g.Sxa);g||(u=q-d.gc.Cxa(h,l),u=new d.gc(u-this.esa,l),h=f(k.ql?Infinity:Math.max(0,u.Ad)),u=h.Jn,(h=h.Sxa)&&0<u&&!k.ql&&--u);z5Q=10;break;case 10:this.Ej({start:0,end:u});u<(k.yib||1)&&(m=!1);return{Xqb:m,Pgb:g};break;}}};Z5Q=8;break;}}}();c.ewb=g;c["default"]=new g();},function(g){var c,a,b,f;c={name:"heaac-2-dash reset sample",profile:53,Pk:2,sampleRate:24E3,duration:1024,tt:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,Pk:2,sampleRate:24E3,duration:1024,tt:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};b={name:"ddplus-5.1-dash standard sample",profile:54,Pk:6,sampleRate:48E3,duration:1536,tt:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};f={name:"ddplus-2.0-dash standard sample",profile:57,Pk:2,sampleRate:48E3,duration:1536,tt:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};g.T={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":b,"ddplus-5.1hq-dash":b,"ddplus-2.0-dash":f},reset:{"heaac-2-dash":c,"heaac-2hq-dash":c},"heaac-2-dash":c,"heaac-2-dash-alt":a,"ddplus-5.1-dash":b,"ddplus-2.0-dash":f};},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){var a,b,c,f,g;this.pf();a=this.Dq([{Xba:"int32"},{iqa:"int32"},{jR:"int32"},{lR:"int32"},{kR:"int32"}]);b=a.Xba;c=a.iqa;f=a.jR;g=a.kR;a=a.lR;this.fd={eb:b,K5a:c,iR:f,eqa:g,fqa:a};this.Xba=b;this.iqa=c;this.jR=f;this.lR=a;this.kR=g;return!0;};c.Xj="trex";c.Sb=!1;return c;}(a(32).Hh);c["default"]=g;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=a(93);a=a(32);f=g.bZ;a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.pf();this.fd=this.Dq([{EU:"int32"},{EI:"int16"}]);return!0;};c.Xj=f;c.Sb=!1;return c;}(a.Hh);c["default"]=a;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(206);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.pf();this.nJa=f.uea.Yza(this.J);return!0;};c.Xj="esds";c.Sb=!1;return c;}(a(32).Hh);c["default"]=g;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.py=function(){var a;a=this.ry("esds");if(a=a&&a.nJa.ry(5))this.lS=a.lS;return!0;};c.Xj="mp4a";c.Sb=!0;return c;}(a(371)["default"]);c["default"]=g;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(59);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.pf();this.fd=this.Dq([{uJb:"int32"},{bua:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.fd.bua=f.MG(this.fd.bua);return!0;};c.Xj="hdlr";c.Sb=!1;return c;}(a(32).Hh);c["default"]=g;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.fd=this.Dq([{PEb:"int32"},{xn:"int32"},{E_a:"int32"}]);return!0;};c.Xj="btrt";c.Sb=!1;return c;}(a(32).Hh);c["default"]=g;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.fd=this.Dq([{rHb:"int32"},{bLb:"int32"}]);return!0;};c.Xj="pasp";c.Sb=!1;return c;}(a(32).Hh);c["default"]=g;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.pf();this.fd=this.Dq(1===this.version?[{dsa:"int64"}]:[{dsa:"int32"}]);return!0;};c.Xj="mehd";c.Sb=!1;return c;}(a(32).Hh);c["default"]=g;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){var a;this.pf();a=1===this.version?[{Og:"int64"},{modificationTime:"int64"},{eb:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{Og:"int32"},{modificationTime:"int32"},{eb:"int32"},{offset:32,type:"offset"},{duration:"int32"}];a=a.concat({offset:64,type:"offset"},{Cfb:"int16"},{zZa:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.fd=this.Dq(a);this.fd.HKb=!!(this.Ke&1);this.fd.IKb=!!(this.Ke&2);this.fd.JKb=!!(this.Ke&4);this.fd.KKb=!!(this.Ke&8);this.J.console.trace("Finished parsing track box");return!0;};c.Xj="tkhd";c.Sb=!1;return c;}(a(32).Hh);c["default"]=g;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.Xj="trak";c.Sb=!0;return c;}(a(32).Hh);c["default"]=g;},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.pf();this.fd=1===this.version?this.Dq([{Og:"int64"},{modificationTime:"int64"},{ga:"int32"},{duration:"int64"}]):this.Dq([{Og:"int32"},{modificationTime:"int32"},{ga:"int32"},{duration:"int32"}]);return!0;};c.Xj="mvhd";c.Sb=!1;return c;}(a(32).Hh);c["default"]=g;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(126);a(126);f=a(59);g=function(){function a(a,b,c){this.view=a;this.console=b;this.config=c;this.view=a;this.console=b;this.iz=this.uQ=this.offset=0;}a.prototype.T$a=function(a){return new DataView(this.view.buffer,this.view.byteOffset+this.offset,a);};a.prototype.Bf=function(a){for(;this.iz<a;)this.uQ=(this.uQ<<8)+this.je(),this.iz+=8;this.iz-=a;return this.uQ>>>this.iz&(1<<a)-1;};a.prototype.je=function(){var a;a=this.view.getUint8(this.offset);this.offset+=1;return a;};a.prototype.Pf=function(a){a=this.view.getUint16(this.offset,a);this.offset+=2;return a;};a.prototype.ub=function(a){a=this.view.getUint32(this.offset,a);this.offset+=4;return a;};a.prototype.M$=function(){var a;a=this.view.getInt32(this.offset,void 0);this.offset+=4;return a;};a.prototype.llb=function(a,b){var d;d=this.view.getUint32(this.offset+(a?4:0),a);a=this.view.getUint32(this.offset+(a?0:4),a);b||0===(d&4278190080)||this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296*d+a;};a.prototype.hi=function(a,b){a=this.llb(a,b);this.offset+=8;return a;};a.prototype.mlb=function(){var a,b;a=this.view.getInt32(this.offset+0,void 0);b=this.view.getUint32(this.offset+4,void 0);0===((0<a?a:-a)&4278190080)||this.console.warn("Warning: read signed value > 56 bits");return 4294967296*a+b;};a.prototype.qnb=function(){var a;a=this.mlb();this.offset+=8;return a;};a.prototype.eL=function(){return f.MG(this.ub());};a.prototype.sV=function(){var b,c,f,g,h,l;function a(a,b){return("000000"+a.toString(16)).slice(2*-b);}b=this.ub(!0);c=this.Pf(!0);f=this.Pf(!0);g=this.Pf();h=this.Pf();l=this.ub();return[a(b,4),a(c,2),a(f,2),a(g,2),a(h,2)+a(l,4)].join("-");};a.prototype.Xza=function(a){var b;b=this.view.byteOffset+this.offset;return this.view.buffer.slice(b,b+a);};a.prototype.jnb=function(a){var b;b=[];if(0===a)return"";a=a||Number.MAX_SAFE_INTEGER;for(var c=this.je();0!==c&&0<--a;)b.push(c),c=this.je();return String.fromCharCode.apply(null,b);};a.prototype.pV=function(a){var d,c;void 0===d&&(d=1);void 0===c&&(c=!0);return this.wd(this.config.sA&&b.tcb||b.oD,1,a,d,c);};a.prototype.inb=function(a){var d,c,f;c=10;f=!1;void 0===c&&(c=2);void 0===f&&(f=!0);void 0===d&&(d=!1);return this.wd(this.config.sA&&b.scb||b.MS,2,a,c,f,d);};a.prototype.oV=function(a,d,c){var f;void 0===d&&(d=4);void 0===c&&(c=!0);void 0===f&&(f=!1);return this.wd(this.config.sA&&b.Rta||b.Ey,4,a,d,c,f);};a.prototype.mnb=function(){for(var a=this.je(),b=a&127;a&128;)a=this.je(),b=b<<7|a&127;return b;};a.prototype.wd=function(a,b,c,f,g,h){void 0===g&&(g=!0);void 0===h&&(h=!1);a=a(this.view,this.offset,c,f,h);this.offset=g||!f||f===b?this.offset+c*(f||b):this.offset+b;return a;};return a;}();c.ASa=g;},function(g,c,a){var b,f,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(24);h=a(59);g=function(a){function d(b,d,c){b=a.call(this,b,d,c)||this;b.$u=[];b.Spa=[];return b;}b.__extends(d,a);d.prototype.$W=function(a,b){this.view.setUint8(void 0!==b?b:this.offset,a);void 0===b&&(this.offset+=1);};d.prototype.Cvb=function(a,b){this.view.setUint16(void 0!==b?b:this.offset,a,!1);void 0===b&&(this.offset+=2);};d.prototype.xm=function(a,b,d){this.view.setUint32(void 0!==d?d:this.offset,a,b);void 0===d&&(this.offset+=4);};d.prototype.zEa=function(a){this.view.setInt32(this.offset,a,void 0);this.offset+=4;};d.prototype.Dvb=function(a,b){var d;d=Math.floor(a/4294967296);a&=4294967295;void 0!==b?(this.view.setUint32(b,d,!1),this.view.setUint32(b+4,a,!1)):(this.view.setUint32(this.offset,d,!1),this.offset+=4,this.view.setUint32(this.offset,a,!1),this.offset+=4);};d.prototype.xEa=function(a){this.xm(h.cka(a));};d.prototype.B8=function(a){var b;b=void 0!==b?b:this.offset;this.Spa.push({offset:b,Jl:a});};d.prototype.Aj=function(a,b){this.$u.push({offset:b,remove:a});};d.prototype.mL=function(a,b,d){this.$u.push({offset:d,remove:a,replace:b});};d.prototype.Ta=function(){var a,b,d,c;a=this;if(0===this.$u.length)return[this.view.buffer];this.fub();this.Kob();b=[];d=this.view.byteLength;c=0;this.$u.filter(function(a){return a.offset<d;}).forEach(function(d){d.offset>c&&b.push(a.view.buffer.slice(c,d.offset));d.replace&&b.push(d.replace);c=d.offset+d.remove;});b.push(this.view.buffer.slice(c));return b;};d.prototype.Kob=function(){this.$u.sort(function(a,b){return a.offset-b.offset;});this.$u=this.$u.reduce(function(a,b){var d,c;if(0===a.length)return a.push(b),a;d=a[a.length-1];c=d.offset+d.remove;b.offset>=c?a.push(b):b.offset+b.remove>c&&(d.remove+=b.offset+b.remove-c,b.replace&&(d.replace=d.replace?f.$m(d.replace,b.replace):b.replace));return a;},[]);};d.prototype.fub=function(){var a;a=this;this.Spa.forEach(function(b){var d,c;d=b.Jl+a.view.getUint32(b.offset);c=a.$u.reduce(function(a,c){return c.offset>b.Jl&&c.offset<d?a+(c.remove-(c.replace?c.replace.byteLength:0)):a;},0);a.view.setUint32(b.offset,d-b.Jl-c);});};return d;}(a(758).ASa);c.zSa=g;},function(g,c,a){var b,f,h,p;Object.defineProperty(c,"__esModule",{value:!0});b=a(374);f=a(373);h=a(202);p=a(368);g=function(){function a(a,b){this.stream=a;this.view=b instanceof ArrayBuffer?new DataView(b):new DataView(b.data,b.offset,b.length);}a.prototype.parse=function(a){var d;d=new p.Zda(this.view.byteLength);this.ei=new b.qX(f.xK.Fc,d,this.view,h.console,{T9:!0});a=this.ei.parse(a);this.Fc=this.ei.Fc;return a.done;};return a;}();c.rNa=g;},function(g,c,a){var f;function b(a){this.EE=new Uint16Array(a.length);for(var b=0;b<a.length;++b)this.EE[b]=a.charCodeAt(b);}f=new(a(5)).Console("ASEJS_XORCiper","media|asejs");b.prototype.constructor=b;b.prototype.encrypt=function(a){var b,d;b=this.EE.length;if(void 0===this.EE)f.warn("XORCiper.encrypt is called with undefined secret!");else{d="";for(var c=0;c<a.length;++c)d+=String.fromCharCode(this.EE[c%b]^a.charCodeAt(c));return encodeURIComponent(d);}};b.prototype.decrypt=function(a){var b,d;b="";d=this.EE.length;a=decodeURIComponent(a);for(var c=0;c<a.length;c++)b+=String.fromCharCode(this.EE[c%d]^a.charCodeAt(c));return b;};g.T=b;},function(g,c,a){var b;b=0;g.T.lZ=function(c,g){var d,h,m,l;function f(a,b){return(a["$ASE$order"+l]||0)-(b["$ASE$order"+l]||0);}d=a(48);h=this;m=g?[g]:[];l="$op$"+b++;d({value:c,addListener:function(a,b){a["$ASE$order"+l]=b;m=m.slice();m.push(a);m.sort(f);},removeListener:function(a){var b;m=m.slice();0<=(b=m.indexOf(a))&&m.splice(b,1);},set:function(a,b){var c;if(h.value!==a){c={oldValue:h.value,newValue:a};b&&d(b,c);h.value=a;a=m;b=a.length;for(var f=0;f<b;f++)a[f](c);}}},h);};},function(g){function c(a,b){this.Fa=a;this.eh=b;}c.prototype.n$=function(a){a*=2;if(2<=a)a=-100;else if(0>=a)a=100;else{for(var b=1>a?a:2-a,c=Math.sqrt(-2*Math.log(b/2)),c=-.70711*((2.30753+.27061*c)/(1+c*(.99229+.04481*c))-c),g=0;2>g;g++)var h=Math.abs(c),d=1/(1+h/2),h=d*Math.exp(-h*h-1.26551223+d*(1.00002368+d*(.37409196+d*(.09678418+d*(-.18628806+d*(.27886807+d*(-1.13520398+d*(1.48851587+d*(-.82215223+.17087277*d))))))))),h=(0<=c?h:2-h)-b,c=c+h/(1.1283791670955126*Math.exp(-(c*c))-c*h);a=1>a?c:-c;}return this.Fa-Math.sqrt(2*this.eh)*a;};g.T=c;},function(g,c,a){var b,f,h,p,d,k,m,l,n;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(11);g=a(5);h=a(24);a(13);p=a(207);d=a(207);k=a(210);m=a(94);l=a(201);n=g.sk;a=function(a){function c(b,d,c,g,h,k){var p,t;g=a.call(this,b,c,g,k)||this;h=m.qk.prototype.toString.call(g)+(h?"(cache)":"");p={offset:c.offset,aa:c.j9,responseType:0};g.push(new l.SM(b,d,h+"(moof)",p,g,k));p={offset:c.offset+p.aa+8,aa:c.aa-(p.aa+8),responseType:n.Sc&&!n.Sc.zE.nx?0:1};if(g.O===f.L.VIDEO&&g.Ta){if(0<g.Ta.start){if(t=g.Lra(g.Ta.start))p.offset=c.offset+t,p.aa=c.aa-t;}else g.Ta.end<g.iJ&&(t=g.Lra(g.Ta.end))&&(p.aa-=c.aa-t);}g.push(new l.SM(b,d,h+"(mdat)",p,g,k));return g;}b.__extends(c,a);c.prototype.bC=function(a){var b,c;if(this.Rh)return!0;if(!this.My())return!1;c=!1;if(this.fsa)c=a.appendBuffer(h.$m(this.Sqa),this);else if(this.Ta&&0<this.Ta.start){b=new p.JN(this.stream,this.ta[0].response);if(b=b.wAa(this.Ta.start,this.ga))c=a.appendBuffer(h.$m(b.$f),this),this.mP(b.$f);this.uP();}else if(this.Ta&&this.Ta.end<this.iJ){b=new p.JN(this.stream,this.ta[0].response);if(b=b.zAa(this.Ta.end,this.ga))c=a.appendBuffer(h.$m(b.$f),this),this.mP(b.$f);this.uP();}else c=a.appendBuffer(this.ta[0].response,this);c&&(c=a.appendBuffer(d.Sgb(this.ta[1].aa),this))&&(c=a.appendBuffer(this.ta[1].response,this));this.Rh=c;this.bob();return c;};return c;}(k.xA);c.oFa=a;},function(g,c,a){var f,h,p,d,k,m,l;function b(a,b){var c,f;c=Math.floor(1E3*a/b);f=1E3*Math.round(c/1E3);return new d.gc(f,Math.abs(Math.floor(1001*a/b)-f)>Math.abs(c-f)?1E3:1001);}Object.defineProperty(c,"__esModule",{value:!0});f=a(0);h=a(48);p=a(6);d=a(60);k=a(380);m=a(379);a(13);l=a(376);g=function(){function a(d,c,f){this.G=c;this.K=f;this.g0=d.Zy;this.Pd=d.Oa;this.o0=d.M;this.Sj=d.O;1===this.Sj&&(c=this.g0.streams[0],void 0!==c.framerate_value&&void 0!==c.framerate_scale&&(this.f0=b(c.framerate_value,c.framerate_scale).znb()));this.Nr=(this.zB=this.f0)&&this.zB.ga;this.S_=this.wka=!1;this.I6=-Infinity;this.uwa=Infinity;d=a.KTa(this,d.xg,d.gs);c=d.xn;f=d.$b;this.KUa=d.zJ;this.lVa=c;this.Lr=f;this.OXa=f.reduce(function(a,b){a[b.za]=b;return a;},{});!1;}a.KTa=function(a,b,d){var c,g,k,t,q,n;c=a.G;g=1===a.O;k={};c.TL&&c.TL.enabled&&c.TL.profiles&&c.TL.profiles.forEach(function(a){k[a]={action:c.TL.action,applied:!1};});t=!1;q=0;n=[];a.Zy.streams.forEach(function(u,r){var y,A,x,G,K;A=u.bitrate;x=u.vmaf;G=u.content_profile;K={inRange:!0,mf:!0};if(g){y=-1===u.content_profile.indexOf("none");K.mf=b&&!y||!b&&y;K.mf&&d&&h(l.D1(u.content_profile,u.bitrate,d),K);if(A<c.hib||A>c.bhb)K.inRange=!1;!p.Ra(x)&&(x<c.iib||x>c.chb)&&(K.inRange=!1);k.hasOwnProperty(G)&&"keepLowest"===k[G].action&&(k[G].applied?K.inRange=!1:k[G].applied=!0);t=t||y;}K.inRange&&K.mf&&A>q&&(q=A);u=new m.xFa(f.__assign({Ygb:u,Rf:r,track:a},K),c,a.K);n.push(u);});return{zJ:t,xn:q,$b:n};};Object.defineProperties(a.prototype,{jd:{get:function(){return!!this.bp;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{b4:{get:function(){return this.wka;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Oa:{get:function(){return this.Pd;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{M:{get:function(){return this.o0;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{eb:{get:function(){return this.g0.track_id;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{O:{get:function(){return this.Sj;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ia:{get:function(){return this.zB;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ga:{get:function(){return this.Nr;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Zv:{get:function(){return this.AVa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{bp:{get:function(){return this.Hb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Zy:{get:function(){return this.g0;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{zJ:{get:function(){return this.KUa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{xn:{get:function(){return this.lVa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{$b:{get:function(){return this.Lr;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{c5:{get:function(){return this.Ia.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{b5:{get:function(){return this.Ia.Ad;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{LH:{get:function(){return this.Ia.Ad;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{NH:{get:function(){return this.Ia.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{k7:{get:function(){return this.Ia.zf;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{U:{get:function(){return 0;},enumerable:!0,configurable:!0}});a.prototype.Zp=function(a){return this.Hs()[a];};a.prototype.Hs=function(){return this.OXa;};a.prototype.GU=function(a,b,d,c,f){if(c&&void 0!==c.Fj&&(this.jd||void 0!==c.cd&&c.cd.length))if(a.tn&&(this.wka=!0),this.jd)!this.S_&&c.cd&&c.cd.length>this.bp.length&&(this.Hb=new k.dja(this.O,this.Ia,c,f),this.I6=-Infinity,this.S_=!0);else{this.rma(b);if(d=d||this.f0)this.qma(d||this.f0),void 0===this.ga&&this.sma(d.ga);this.Hb=new k.dja(this.O,this.Ia,c,f);a.tn&&(this.S_=!0);}else this.K&&this.K.error("AseTrack.onHeaderReceived with missing fragments data");};a.prototype.x2a=function(a){this.jd||(this.sma(a.ga),this.rma(a.Zv),this.qma(a.Ia),this.Hb=a.bp);};a.prototype.toJSON=function(){return{movieId:this.M,mediaType:this.O,trackId:this.eb};};a.prototype.toString=function(){return(0===this.O?"a":"v")+":"+this.eb;};a.prototype.sma=function(a){this.Nr=a;};a.prototype.rma=function(a){this.AVa=a;};a.prototype.qma=function(a){this.zB=a;};return a;}();c.yFa=g;},function(g,c,a){var b,f,h,p,d,k,m,l,n,r,A,K,x,G,M,R,T,C,D,E,Q,J,Z;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);f=a(13);g=a(25);h=a(6);p=a(381);d=a(211);k=a(367);m=a(83);a(379);l=a(365);n=a(364);r=a(11);A=a(363);K=a(742);x=a(54);G=a(5);M=a(360);R=a(359);T=G.Promise;C=new G.Console("HEADERCACHE","media|asejs");a=new G.Console("MEDIACACHE","media|asejs");D=G.DA;E=C.trace.bind(C);a.trace.bind(a);Q=C.warn.bind(C);J=C.error.bind(C);Z=C.info.bind(C);a=function(a){var I8S;function c(b,d,c,f){var W8S,i8v,M8v,W8v;W8S=2;while(W8S!==24){i8v="1";i8v+="SI";i8v+="YbZrNJ";i8v+="C";i8v+="p9";M8v="ca";M8v+="t";M8v+="ch";W8v="func";W8v+="ti";W8v+="on";switch(W8S){case 2:b=a.call(this)||this;b.Gk=E;b.bd=J;b.Ha=Q;W8S=3;break;case 7:b.Yd=Object.create(null);b.eu=0;b.Lg=[];b.cH=d.hR;b.uu=[];W8S=11;break;case 10:b.xB=[];b.NB={};b.c1=(b.Ck.Fw||b.Ck.sca)&&0<(b.Ck.Yu||(G.options||{}).SD||0);b.Nm=b.Ck.S8;W8S=17;break;case 3:b.cEb=Z;b.VG=Object.create(null);b.Ck=d;W8S=7;break;case 11:b.KO=!1;W8S=10;break;case 17:b.Je=void 0;b.c1&&(b.Ck.Yu||(d=(G.options||{}).SD||0,W8v===typeof b.Ck.set?b.Ck.set({Yu:d}):b.Ck.Yu=(G.options||{}).SD||0),b.Je=new K.VMa(b.Ck,G,b),b.Je.Bc(b,f).then(function(){var r8S,n8v;r8S=2;while(r8S!==1){n8v="Me";n8v+="dia ";n8v+="cache initialized";switch(r8S){case 2:E(n8v);r8S=1;break;case 4:E("");r8S=8;break;r8S=1;break;}}})[M8v](function(a){var p8S,f8v;p8S=2;while(p8S!==1){f8v="Med";f8v+="ia cach";f8v+="e did not init";f8v+="ialize";switch(p8S){case 2:J(f8v,a);p8S=1;break;case 4:J("",a);p8S=9;break;p8S=1;break;}}}));b.Bl=c;m.call(b);W8S=26;break;case 26:i8v;return b;break;}}}I8S=2;while(I8S!==50){switch(I8S){case 10:c.prototype.qz=function(a){var V8S,b;V8S=2;while(V8S!==4){switch(V8S){case 2:b=this.Yd[a.M];b&&(this.Yb(a)?h.R(b.Lb.sua)&&!h.R(a.af)&&(b.Lb.sua=a.af):h.R(b.Lb.oE)&&!h.R(a.af)&&(b.Lb.oE=a.af));V8S=4;break;}}};c.prototype.ci=function(a){var e8S;e8S=2;while(e8S!==1){switch(e8S){case 2:this.Yb(a)?this.nkb(a):this.pkb(a);e8S=1;break;}}};c.prototype.dE=function(a){var O8S,r8v;O8S=2;while(O8S!==5){r8v="_o";r8v+="nErro";r8v+="r:";r8v+=" ";switch(O8S){case 2:Q(r8v,a.toString());this.CO(a);O8S=5;break;}}};c.prototype.nkb=function(a){var g8S,b;g8S=2;while(g8S!==8){switch(g8S){case 9:this.iXa(a,function(){var h8S;h8S=2;while(h8S!==1){switch(h8S){case 2:h.R(a)||(h.R(a.Ni)||a.Ni.VS--,b.CO(a));h8S=1;break;}}});g8S=8;break;case 2:b=this;a.Xsb=a.uc;this.MSa(a);h.R(a.BJ)||a.BJ(a.Xsb);g8S=9;break;}}};I8S=17;break;case 14:c.prototype.Kgb=function(a,b){var M8S,d,c;M8S=2;while(M8S!==3){switch(M8S){case 2:d=this;c=this.qwa(a);return c||!this.Je?T.resolve(c):(this.Nm?this.bVa(a,b):this.aVa(a,b)).then(function(a){var m8S;m8S=2;while(m8S!==1){switch(m8S){case 2:return d.Gza(a);break;case 4:return d.Gza(a);break;m8S=1;break;}}});break;}}};c.prototype.qwa=function(a){var G8S;G8S=2;while(G8S!==1){switch(G8S){case 2:return this.Gza(this.Yd[a]);break;case 4:return this.Gza(this.Yd[a]);break;G8S=1;break;}}};c.prototype.Yy=function(){var X8S,T8v;X8S=2;while(X8S!==1){T8v="Media cache i";T8v+="s ";T8v+="not";T8v+=" enabl";T8v+="ed";switch(X8S){case 2:return this.Je?this.Je.hbb():T.reject(T8v);break;}}};c.prototype.Tra=function(){var T8S,d,c,f,S8v,u8v;function a(a){var Q8S;Q8S=2;while(Q8S!==1){switch(Q8S){case 2:a.Moa();Q8S=1;break;case 4:a.Moa();Q8S=7;break;Q8S=1;break;}}}T8S=2;while(T8S!==3){switch(T8S){case 2:d=0;for(c in this.Yd){f=this.Yd[c];if(f.data){for(var g in f.data){S8v="i";S8v+="n";S8v+=" e";S8v+="ntry:";u8v="m";u8v+="i";u8v+="ssing header";u8v+="Entry for streamId:";f.headers[g]||J(u8v,g,S8v,f);b(f,g);f.data[g].forEach(a);delete f.data[g];}delete f.data;}}this.bXa(d);T8S=3;break;}}function b(a,b){var a8S;a8S=2;while(a8S!==1){switch(a8S){case 2:a&&a.data&&a.data[b].forEach(function(a){var b8S;b8S=2;while(b8S!==5){switch(b8S){case 2:a.abort();d+=a.se;b8S=5;break;}}});a8S=1;break;}}}};I8S=10;break;case 37:c.prototype.xoa=function(a,b,d,c,f){var Q3S,P8v,h8v;Q3S=2;while(Q3S!==8){P8v="updateSt";P8v+="reamSelectio";P8v+="n returned nul";P8v+="l list";h8v="sel";h8v+="ec";h8v+="tSt";h8v+="ream retur";h8v+="ned null";switch(Q3S){case 2:Q3S=a.location.IW(a.ja,void 0,b)?1:9;break;case 5:Q3S=(a=a.stream[d?1:0].Eaa(a.ja,b,void 0,d?c.tza:c.sza))?4:3;break;case 1:c=M(c,f);Q3S=5;break;case 4:return b=b[a.yd],b.Co=a.reason,b.qn=a.Ms,b.tdb=a.$l,b.ZS=a.Zk,b;break;case 3:Q(h8v);Q3S=8;break;case 9:Q(P8v);Q3S=8;break;}}};c.prototype.Ita=function(a,b,d,c,f){var a3S,g,h,k,m;a3S=2;while(a3S!==14){switch(a3S){case 2:g=a.O===r.L.VIDEO;h=[];k=[];a.$b.forEach(function(a){var b3S;b3S=2;while(b3S!==1){switch(b3S){case 2:(a.tn?k:h).push(a);b3S=1;break;}}});a=[];a3S=8;break;case 8:d&&0!==h.length&&(m=this.xoa(b,h,g,c,f))&&a.push(m);m||(m=this.xoa(b,k,g,c,f))&&a.push(m);return a;break;}}};c.prototype.bcb=function(a,b,d,c,f,g,k){var V3S,m,l,t,q,p8v,K8v;V3S=2;while(V3S!==10){p8v="Unable to find requested au";p8v+="dio tr";p8v+="ack ";p8v+="in manifest:";K8v="U";K8v+="nable ";K8v+="to find ";K8v+="audio nor video tracks in manifest:";switch(V3S){case 2:m=this;d=new p.Xca({qc:String(d.movieId),ba:void 0,Ja:d,Kya:!0,Pya:!0,xg:!!f,gs:[],config:g,K:k},function(){});l=d.hK[0];a=a.$j(l,d.hK[1]);b.ja.buffer.Pu=a[r.L.VIDEO];V3S=8;break;case 6:V3S=h.R(t)&&h.R(q)?14:13;break;case 13:V3S=h.R(q)&&c?12:11;break;case 14:Q(K8v,c);V3S=10;break;case 11:return[].concat(t||[]).concat(q||[]);break;case 8:d.getTracks(1).some(function(a){var e3S;e3S=2;while(e3S!==3){switch(e3S){case 2:e3S=a.Zy.stereo?1:5;break;case 8:e3S=a.Zy.stereo?8:2;break;e3S=a.Zy.stereo?1:5;break;case 1:return!1;break;case 5:t=m.Ita(a,b,f,g,l);return!0;break;case 7:return~4;break;e3S=3;break;}}});d.getTracks(0).some(function(a){var O3S;O3S=2;while(O3S!==1){switch(O3S){case 2:return a.eb===c?(q=m.Ita(a,b,f,g,l),!0):!1;break;}}});V3S=6;break;case 12:Q(p8v,c);V3S=10;break;}}};I8S=53;break;case 2:b.__extends(c,a);Object.defineProperties(c.prototype,{cache:{get:function(){var o8S;o8S=2;while(o8S!==1){switch(o8S){case 2:return this.Yd;break;case 4:return this.Yd;break;o8S=1;break;}}},enumerable:!0,configurable:!0}});c.prototype.hn=function(){var R8S;R8S=2;while(R8S!==5){switch(R8S){case 2:this.flush();this.pka();R8S=5;break;case 3:this.flush();this.pka();R8S=8;break;R8S=5;break;}}};I8S=4;break;case 17:c.prototype.pkb=function(a){var A8S,b,d,c,f,J8v,d8v,N8v,j8v,a8v;A8S=2;while(A8S!==14){J8v="m";J8v+="anagerde";J8v+="b";J8v+="ugevent";d8v=", ";d8v+="remain";d8v+="i";d8v+="ng: ";N8v=", ";N8v+="pt";N8v+="s";N8v+=":";N8v+=" ";j8v=",";j8v+=" st";j8v+="ream";j8v+="I";j8v+="d: ";a8v=", heade";a8v+="rCache dataComplete: movieI";a8v+="d: ";switch(A8S){case 3:A8S=c?9:14;break;case 2:b=this;d=a.M;c=this.Yd[d]||a.Ni;A8S=3;break;case 9:A8S=(this.Ck.kf&&(d="@"+G.time.da()+a8v+d+j8v+a.za+N8v+a.U+d8v+(c.AC-1),this.na(J8v,{message:d})),a.le&&0===a.responseType&&this.Je&&!this.Nm)?8:6;break;case 6:--c.AC,b.CO(a);A8S=14;break;case 8:f=G.time.now();this.Je.cpb(a,c,function(d){var L8S;L8S=2;while(L8S!==4){switch(L8S){case 2:d||h.R(c)||(d=G.time.da()-f,h.R(c.Lb)&&(c.Lb={}),h.R(c.Lb.sm)&&(c.Lb.sm=0),c.Lb.sm+=d);--c.AC;b.CO(a);L8S=4;break;}}});A8S=14;break;}}};c.prototype.gka=function(){var S8S;S8S=2;while(S8S!==1){switch(S8S){case 2:0===this.uu.length&&(this.uu=[n.Ht.Av.ZQ(0,void 0,!1,!1,this.Bl,this.Ck),n.Ht.Av.ZQ(1,void 0,!1,!1,this.Bl,this.Ck)],D.Ye());S8S=1;break;}}};c.prototype.pka=function(){var u8S,a;u8S=2;while(u8S!==3){switch(u8S){case 2:a=this.uu;this.uu=[];u8S=4;break;case 4:a.forEach(function(a){var H8S;H8S=2;while(H8S!==1){switch(H8S){case 4:n.Ht.Av.N3(a);H8S=3;break;H8S=1;break;case 2:n.Ht.Av.N3(a);H8S=1;break;}}});u8S=3;break;}}};I8S=27;break;case 30:c.prototype.$Wa=function(a){var W3S,z8v;W3S=2;while(W3S!==1){z8v="discar";z8v+="d";z8v+="edBytes";switch(W3S){case 2:0!==a&&(a={type:z8v,bytes:a},this.na(a.type,a));W3S=1;break;}}};c.prototype.bXa=function(a){var r3S,e8v;r3S=2;while(r3S!==1){e8v="f";e8v+="lush";e8v+="edBy";e8v+="t";e8v+="es";switch(r3S){case 2:0!==a&&(a={type:e8v,bytes:a},this.na(a.type,a));r3S=1;break;}}};c.prototype.ZWa=function(a){var p3S,A8v;p3S=2;while(p3S!==5){A8v="cach";A8v+="e";A8v+="E";A8v+="vict";switch(p3S){case 1:this.na(a.type,a);p3S=5;break;case 3:a={type:"",movieId:a};p3S=4;break;p3S=1;break;case 2:a={type:A8v,movieId:a};p3S=1;break;}}};c.prototype.iXa=function(a,b){var o3S,d;o3S=2;while(o3S!==9){switch(o3S){case 2:d=a.Nb;h.R(a.IAa)||this.vP(a,a.IAa);!this.Je||!a.le||this.Nm||h.R(a.Uv)||a.Uv[a.za]&&a.Uv[a.za].header?b():this.Je.dpb(a,b);d.LW||0!==Object.keys(this.VG).length||this.pka();o3S=9;break;}}};c.prototype.sXa=function(a,b){var R3S,k8v;R3S=2;while(R3S!==4){k8v="pr";k8v+="ebuf";k8v+="fst";k8v+="a";k8v+="ts";switch(R3S){case 2:a.Lb.cV=b;a={type:k8v,movieId:a.M,stats:{prebuffstarted:a.Lb.oE,prebuffcomplete:a.Lb.cV}};this.na(a.type,a);R3S=4;break;}}};c.prototype.bVa=function(a,b){var Z3S,d,C8v;Z3S=2;while(Z3S!==4){C8v="M";C8v+="edia cache";C8v+=" is";C8v+=" not enab";C8v+="led";switch(Z3S){case 2:d=this;return this.Je?this.Je.dgb(a,b).then(function(b){var y3S;y3S=2;while(y3S!==5){switch(y3S){case 1:return d.Yd[a]=b.Ni,++d.eu,d.zO(),d.Lg.push(b.Ni),d.Lg.sort(d.gV),d.Hja(a,b),d.cache[a];break;case 2:y3S=b&&b.Ni?1:5;break;}}}):T.reject(C8v);break;}}};c.prototype.aVa=function(a,b){var J3S,d,c,f,V8v;J3S=2;while(J3S!==6){V8v="Media cache ";V8v+="is not enable";V8v+="d";switch(J3S){case 5:J3S=this.Je?4:7;break;case 7:return T.reject(V8v);break;case 4:c=void 0;f=!1;this.Je.iva(this.Yd[a])?(c=T.resolve(this.Yd[a]),f=!0):c=this.Je.jgb(a);return c.then(function(c){var U3S;U3S=2;while(U3S!==1){switch(U3S){case 2:return!h.R(c)&&d.Je?d.Je.cgb(a,b,c).then(function(b){var j3S;j3S=2;while(j3S!==5){switch(j3S){case 2:b&&(f||(d.Yd[a]=c,++d.eu,d.zO(),d.Lg.push(c),d.Lg.sort(d.gV)),d.Hja(a,b));return d.Yd[a];break;}}}):T.resolve(void 0);break;}}});break;case 2:d=this;J3S=5;break;}}};I8S=40;break;case 26:c.prototype.gXa=function(a,b){var l8S,d,c,g,k,m,p,t,q,n,u,y,x,G,b8v;l8S=2;while(l8S!==24){b8v="A co";b8v+="nfig must be passed to _r";b8v+="equest";b8v+="Head";b8v+="er";switch(l8S){case 2:d=this;c=b.M;g=b.Vd;k=b.Kd;l8S=9;break;case 9:m=b.le;p=b.abb();t=p.Ja;q=p.xg;p=p.fC;f.assert(b.config,b8v);n=b.config;l8S=11;break;case 16:y=this.Yd[c];y||(y={Vd:g,M:c,headers:Object.create(null),Ao:0,VS:0,AC:0,data:void 0,le:m,Lb:{},nR:void 0,dna:void 0},!y.le||this.Nm?this.Yd[c]=y:y.Lb.sm=0,this.Lg.push(y),this.Lg.sort(this.gV));x=[];n.ndb&&(G=2292+12*Math.ceil(t.duration/2E3));return(m&&this.Je?this.Nm?this.Je.hgb(c,y):this.Je.Mgb(c):T.resolve(void 0)).then(function(a){var Y8S;Y8S=2;while(Y8S!==5){switch(Y8S){case 2:u.forEach(function(b){var k3S,c;k3S=2;while(k3S!==4){switch(k3S){case 2:c=G?G:n.WS;n.SI&&y.headers[b.za]||(h.R(y.Vl)&&b.O===r.L.VIDEO&&(y.Vl=b.P,y.Co=b.Co,y.qn=b.qn,y.$l=b.tdb,y.Zk=b.ZS),q&&b.O===r.L.VIDEO&&n.SR?c=n.SR:n.gEa&&b.Gq&&(c=b.Gq.offset+b.Gq.size),b={stream:b,url:b.url,offset:0,aa:c,le:m},m&&(y.Lb.Lhb=!h.R(a)&&0<Object.keys(a).length,b.Uv=a),b=d.hXa(b,k,y,n),x.push(b));k3S=4;break;}}});return T.all(x);break;}}}).then(function(a){var F3S;F3S=2;while(F3S!==1){switch(F3S){case 2:return new T(function(b){var x3S;x3S=2;while(x3S!==1){switch(x3S){case 2:d.Je&&m&&!d.Nm?d.Je.fpb(y,function(){var E3S;E3S=2;while(E3S!==1){switch(E3S){case 4:b(a);E3S=3;break;E3S=1;break;case 2:b(a);E3S=1;break;}}}):b(a);x3S=1;break;}}});break;}}}).then(function(a){var s3S;s3S=2;while(s3S!==3){switch(s3S){case 2:a=Math.max.apply(Math,a);y.Lb.cS=y.Lb.sua;y.Lb.IT=a;return{firstheadersent:y.Lb.cS,lastheadercomplete:y.Lb.IT};break;}}});break;case 11:n=l.mpa(n,t);b={stream:[new R.QZ(void 0,n.Nna,n,void 0),new R.QZ(void 0,n.uba,n,void 0)],location:new A.Sfa(void 0,a.bf,a.HD,!q,n),ja:{state:r.Ma.Nh,s7:!0,buffer:{Pu:void 0,U:0,tf:0,ab:0,Sk:0,ew:0,$:[],rm:void 0,J9a:void 0}}};b.location.AH(t);u=this.bcb(a,b,t,p,q,n,C);l8S=18;break;case 18:l8S=!u?17:16;break;case 17:return T.reject();break;}}};c.prototype.x_=function(a,b){var w3S,d;w3S=2;while(w3S!==7){switch(w3S){case 5:2>this.uu.length&&this.gka();b=new k.Wca(a.stream,b,this.uu[d].track,a,this,!0,C);b.le=a.le;b.Ug=this;w3S=8;break;case 2:d=a.stream.O;w3S=5;break;case 8:return b;break;}}};c.prototype.FTa=function(a,b){var i3S,c;i3S=2;while(i3S!==7){switch(i3S){case 3:b.le=a.le;b.Ug=this;return b;break;case 2:c=a.stream.O;2>this.uu.length&&this.gka();b=d.gX.create(a.stream,b,this.uu[c].track,a,this,!0,C);i3S=3;break;}}};c.prototype.CO=function(a){var f3S,b,L8v;f3S=2;while(f3S!==8){L8v="s";L8v+="avetodi";L8v+="s";L8v+="k";switch(f3S){case 2:this.Yb(a)&&delete this.VG[a.za];this.Yb(a)||delete a.response;a.ae();b=this.Yd[a.M]||a.Ni;b&&0===b.VS&&0===b.AC&&(this.sXa(b,a.uc),b.le&&this.Je&&(b.Lb.Lhb||(this.Nm?this.Je.gpb(b):this.Je.KE(L8v,{jBa:b.Lb.sm}))));f3S=8;break;}}};I8S=22;break;case 22:c.prototype.hXa=function(a,b,d,c){var z3S,f;z3S=2;while(z3S!==11){switch(z3S){case 2:f=this.x_(a,c);f.IAa=b;z3S=4;break;case 4:f.Ni=d;f.Uv=a.Uv;z3S=9;break;case 8:return T.reject();break;case 7:d.VS++;this.VG[f.za]=f;z3S=14;break;case 13:f.BJ=a.BJ;z3S=11;break;case 9:z3S=!f.cw()?8:7;break;case 12:return new T(function(a){var d3S;d3S=2;while(d3S!==1){switch(d3S){case 4:f.BJ=a;d3S=2;break;d3S=1;break;case 2:f.BJ=a;d3S=1;break;}}});break;case 14:z3S=a.BJ?13:12;break;}}};I8S=21;break;case 34:c.prototype.MSa=function(a){var q3S;q3S=2;while(q3S!==1){switch(q3S){case 4:this.Gja(a,a.Ni);q3S=6;break;q3S=1;break;case 2:this.Gja(a,a.Ni);q3S=1;break;}}};c.prototype.LSa=function(a,b){var t3S;t3S=2;while(t3S!==1){switch(t3S){case 4:this.Gja(a,b);t3S=8;break;t3S=1;break;case 2:this.Gja(a,b);t3S=1;break;}}};c.prototype.Gja=function(a,b){var D3S,d;D3S=2;while(D3S!==3){switch(D3S){case 5:D3S=(b=this.Yd[a.M]||b)?4:3;break;case 2:d=a.za;D3S=5;break;case 8:d=a.za;D3S=3;break;D3S=5;break;case 4:b.dna||b.le&&!this.Nm||(b.dna=!0,++this.eu),b.headers||(b.headers={}),b.headers[d]=a,this.Ck.SI&&(b.Ao||(b.Ao=0),++b.Ao),this.zO();D3S=3;break;}}};c.prototype.zO=function(){var C3S,b,d,c;function a(a){var I3S;I3S=2;while(I3S!==5){switch(I3S){case 2:a.abort();c+=a.se;I3S=5;break;}}}C3S=2;while(C3S!==11){switch(C3S){case 5:C3S=!(this.eu<=this.cH)?4:11;break;case 4:C3S=this.eu>this.cH?3:12;break;case 2:c=0;C3S=5;break;case 3:C3S=(d=this.Lg.shift())?9:4;break;case 7:for(var f in d.data){d.data[f].forEach(a);delete d.data[f];}C3S=6;break;case 9:b=d.M;C3S=8;break;case 8:C3S=d.data?7:6;break;case 6:delete this.Yd[b];--this.eu;C3S=13;break;case 13:this.ZWa(b);C3S=4;break;case 12:this.$Wa(c);C3S=11;break;}}};I8S=30;break;case 8:c.prototype.list=function(){var U8S;U8S=2;while(U8S!==1){switch(U8S){case 4:return this.Lg;break;U8S=1;break;case 2:return this.Lg;break;}}};c.prototype.SBa=function(a){var j8S;j8S=2;while(j8S!==1){switch(j8S){case 2:this.cH!==a&&(this.cH=a,this.zO());j8S=1;break;}}};c.prototype.j8=function(a,b){var c8S;c8S=2;while(c8S!==4){switch(c8S){case 1:c8S=(b=a.headers[b])?5:4;break;case 2:c8S=(a=this.Yd[a])?1:4;break;case 8:c8S=(b=a.headers[b])?0:5;break;c8S=(b=a.headers[b])?5:4;break;case 5:return b;break;}}};I8S=14;break;case 27:c.prototype.fVa=function(){var P8S,a;P8S=2;while(P8S!==4){switch(P8S){case 2:a=this;P8S=5;break;case 9:a=this;P8S=4;break;P8S=5;break;case 5:!this.KO&&0<this.xB.length&&(this.xB.forEach(function(b){var B8S;B8S=2;while(B8S!==1){switch(B8S){case 2:a.vP(b.odb,b.Kd);B8S=1;break;}}}),this.xB=[]);P8S=4;break;}}};I8S=26;break;case 21:c.prototype.nVa=function(a,b,d){var N3S,c,f;N3S=2;while(N3S!==7){switch(N3S){case 2:N3S=1;break;case 1:c=a.I3;b.le&&this.Je&&(a.cU?c=a.cU:a.Pwa&&0<a.Pwa&&(c=2E3*a.Pwa));N3S=4;break;case 3:return function(a,b){var r0v=t8ii;var n3S;n3S=2;while(n3S!==1){switch(n3S){case 2:r0v.m5v(0);return r0v.c5v(b,c);break;case 4:r0v.m5v(1);return r0v.c5v(c,b);break;n3S=1;break;}}};break;case 9:f=d&&d.length<a.H3?d.length:a.H3;return function(a){var S0v=t8ii;var K3S;K3S=2;while(K3S!==1){switch(K3S){case 2:S0v.m5v(0);return S0v.c5v(a,f);break;case 4:S0v.F5v(2);return S0v.s5v(a,f);break;K3S=1;break;}}};break;case 4:N3S=0<c?3:9;break;}}};c.prototype.vP=function(a,b){var v3S,d,c,f,g,k,m,p,l,t,q,n,G8v,v8v,w8v,E8v,Q8v,x8v,X8v;v3S=2;while(v3S!==47){G8v="manager";G8v+="debug";G8v+="event";v8v=", sta";v8v+="rtP";v8v+="ts";v8v+=": ";w8v=", p";w8v+="t";w8v+="s";w8v+=": ";E8v=", ";E8v+="stre";E8v+="amId: ";Q8v=", headerCa";Q8v+="che";Q8v+=" request";Q8v+="Data: movieId: ";x8v="no";x8v+=" proper fragment found to r";x8v+="equest data at pts";X8v="u";X8v+="n";X8v+="de";X8v+="fine";X8v+="d";switch(v3S){case 37:++q;v3S=39;break;case 23:v3S=this.KL(a.O,g)?22:35;break;case 15:v3S=-1===p||void 0===p?27:26;break;case 9:v3S=this.KO?8:14;break;case 14:k=this.Yd[d]||a.Ni;v3S=13;break;case 19:b=k.Jk;v3S=18;break;case 11:v3S=void 0===k.Jk?10:19;break;case 22:t=l.YR(b);v3S=21;break;case 40:t8ii.F5v(3);q=t8ii.s5v(1,p);v3S=39;break;case 41:v3S=!h.R(m)&&!l.Ta?40:36;break;case 34:void 0===k.data&&(k.data={});void 0===k.data[c]&&(k.data[c]=[]);v3S=32;break;case 21:t&&(l.O===r.L.AUDIO&&!g.hxa&&t.Kd<(g.io&&!g.Sx&&f.yj?Math.floor(f.yj.zf):0)&&(++t.km,t.Kd+=l.Ia.zf),0<t.km&&l.Ej({start:t.km}));v3S=35;break;case 26:l=a.stream.ag(p);v3S=25;break;case 4:f=a.stream;g=a.Nb;v3S=9;break;case 36:h.R(k.Jk)&&(k.Jk=l.U);l.le&&(l.responseType=0);a.le&&this.Je&&a.Uv&&a.Uv[c]&&X8v!==typeof l.U&&a.Uv[c][l.U]||(q=this.FTa(l,a.Nb),q.le&&(q.Ni=a.Ni),q.cw(),++k.AC,b.push(q));v3S=52;break;case 24:l.le=a.le;v3S=23;break;case 25:v3S=!h.R(l)?24:34;break;case 10:k.nR=a;return;break;case 48:k.nR&&!h.R(k.Jk)&&(a=k.nR,delete k.nR,this.vP(a,k.Jk));v3S=47;break;case 12:v3S=a.O===r.L.AUDIO?11:18;break;case 52:++t;f+=l.duration;v3S=50;break;case 39:v3S=q<m.length&&(l.aa<n||l.duration<g)?38:36;break;case 2:d=a.M;c=a.za;v3S=4;break;case 50:l=void 0;v3S=49;break;case 6:this.xB.shift();v3S=7;break;case 18:a.O===r.L.AUDIO&&g.jn&&g.io&&!g.Sx&&f.yj&&(b=Math.max(f.$&&f.$.ig(0)||0,b+f.yj.zf));m=a.$;p=m&&m.Gi(b);v3S=15;break;case 7:v3S=this.xB.length>g.z6?6:47;break;case 27:J(x8v,b);v3S=47;break;case 43:v3S=(void 0===l&&(l=a.stream.ag(p)),void 0!==l)?42:49;break;case 42:l.le=a.le;v3S=41;break;case 8:this.xB.push({odb:a,Kd:b});v3S=7;break;case 28:n=q===r.L.VIDEO?g.pU:g.hU,g=q===r.L.VIDEO?g.wib:g.kib;v3S=44;break;case 32:b=k.data[c];d=this.nVa(g,a,m);t=f=0;q=l&&l.O;v3S=28;break;case 38:l.v1(m.get(q)),l.zK=q+1,p=q;v3S=37;break;case 35:g.kf&&(b="@"+G.time.da()+Q8v+d+E8v+c+w8v+b+v8v+l.U,this.na(G8v,{message:b}));v3S=34;break;case 44:v3S=p<(m&&m.length||0)&&!d(t,f)?43:48;break;case 13:v3S=k?12:47;break;case 49:++p;v3S=44;break;}}};I8S=34;break;case 4:c.prototype.EH=function(a,b,d){var Z8S,c,f;Z8S=2;while(Z8S!==7){switch(Z8S){case 9:d&&delete c[b];f?(this.KO=!1,this.fVa()):this.KO=!0;Z8S=7;break;case 5:f=a;Z8S=4;break;case 2:c=this.NB;Z8S=5;break;case 4:Z8S=(c[b]=a)?3:9;break;case 3:for(var g in c){c.hasOwnProperty(g)&&!1===c[g]&&(f=!1);}Z8S=9;break;}}};c.prototype.smb=function(a,b){var y8S,d,c,g,k,B8v,y8v,D8v;y8S=2;while(y8S!==25){B8v="A config must be pa";B8v+="s";B8v+="sed to prepareP";y8v="); ignoring prepare for ";y8v+="mov";y8v+="ieId: ";D8v="PTS passed to HeaderCa";D8v+="che.prepareP is not undefined or a positive number";D8v+=" ";D8v+="(";switch(y8S){case 17:return T.resolve();break;case 20:y8S=(d.Vd=c,this.Lg.sort(this.gV),!h.R(g))?19:17;break;case 14:y8S=!h.R(g)&&(!h.pa(g)||0>g)?13:12;break;case 13:return J(D8v+g+y8v+d),T.reject();break;case 11:y8S=!h.R(d)&&(2<=d.Ao||!k.SI)?10:16;break;case 19:void 0===d.data&&(d.Lb.oE=void 0);y8S=18;break;case 2:d=b.M;c=b.Vd;g=b.Kd;f.assert(b.config,B8v);k=b.config;this.SBa(k.hR);y8S=7;break;case 12:d=this.Yd[d];y8S=11;break;case 7:y8S=k.Ohb?6:14;break;case 10:y8S=!this.Nm||!d.le?20:17;break;case 15:y8S=c>k.A6||this.eu+1>this.cH&&c>this.Lg[0].Vd?27:26;break;case 16:y8S=!b.le||!this.Je||this.Nm?15:26;break;case 18:for(var m in d.headers){!h.R(d.headers[m].url)&&null!==d.headers[m].url&&(void 0===d.data||void 0===d.data[m]||d.data[m].length<k.H3)?this.vP(d.headers[m],g):(h.R(d.headers[m].url)||null===d.headers[m].url)&&void 0!==d.data&&void 0!==d.data[m]&&0<d.data[m].length&&delete d.headers[m];}y8S=17;break;case 6:return T.reject();break;case 27:return T.reject();break;case 26:return this.gXa(a,b);break;}}};c.prototype.flush=function(){var J8S,a,l8v,t8v;J8S=2;while(J8S!==7){l8v="man";l8v+="agerdebu";l8v+="gevent";t8v=", header";t8v+="Cache fl";t8v+="ush: ";switch(J8S){case 2:this.Tra();for(var b in this.VG){a=this.VG[b];a.abort();}this.Yd=Object.create(null);J8S=3;break;case 3:this.eu=0;this.Lg=[];this.Ck.kf&&(a="@"+G.time.da()+t8v,this.na(l8v,{message:a}));J8S=7;break;}}};I8S=8;break;case 39:c.prototype.gV=function(a,b){var X3S;X3S=2;while(X3S!==1){switch(X3S){case 4:return b.Vd%a.Vd;break;X3S=1;break;case 2:return b.Vd-a.Vd;break;}}};c.prototype.Gza=function(a){var T3S,b,d,c;T3S=2;while(T3S!==10){switch(T3S){case 2:T3S=1;break;case 1:b={};T3S=5;break;case 4:for(d in a.data){c=a.data[d];0<c.length&&(b[c[0].O]={za:d,aq:a.headers[d],data:c});}b.Jk=a.Jk;T3S=9;break;case 9:b.Ao=a.Ao;b.Lb=a.Lb;b.Vl=a.Vl;T3S=6;break;case 5:T3S=a&&a.data?4:10;break;case 6:b.Co=a.Co;b.qn=a.qn;b.$l=a.$l;b.Zk=a.Zk;return b;break;}}};I8S=37;break;case 40:c.prototype.Hja=function(a,b){var c3S,d,c,f,g;c3S=2;while(c3S!==14){switch(c3S){case 2:d=this;c3S=5;break;case 5:c3S=b?4:14;break;case 4:c=this.Yd[a];f=b.headers;c3S=9;break;case 9:c&&f&&Object.keys(f).forEach(function(a){var M3S;M3S=2;while(M3S!==1){switch(M3S){case 2:d.LSa(f[a],c);M3S=1;break;case 4:d.LSa(f[a],c);M3S=8;break;M3S=1;break;}}});c3S=8;break;case 8:c3S=b.data?7:14;break;case 7:g=b.data;Object.keys(g).forEach(function(a){var m3S,b,d;m3S=2;while(m3S!==8){switch(m3S){case 2:b=g[a];h.R(c.data)&&(c.data={});m3S=4;break;case 4:h.R(c.data[a])&&(c.data[a]=[]);d=c.data;b.forEach(function(b){var G3S;G3S=2;while(G3S!==1){switch(G3S){case 2:d[a].push(b);G3S=1;break;case 4:d[a].push(b);G3S=2;break;G3S=1;break;}}});m3S=8;break;}}});c3S=14;break;}}};I8S=39;break;case 53:c.prototype.KL=function(a,b){var g3S;g3S=2;while(g3S!==1){switch(g3S){case 2:return a===r.L.VIDEO&&b.ys||a===r.L.AUDIO&&b.jn;break;}}};c.prototype.Yb=function(a){var h3S;h3S=2;while(h3S!==1){switch(h3S){case 4:return-+a.Yb;break;h3S=1;break;case 2:return!!a.Yb;break;}}};return c;break;}}}(m);c.pKa=a;x(g.EventEmitter,a.prototype);},function(g){function c(a,c,g,h){a.trace(":",g,":",h);c(h);}function a(a){this.listeners=[];this.console=a;}a.prototype.constructor=a;a.prototype.addEventListener=function(a,f,g,h){g=h?g.bind(h):g;h=!1;if(a){this.console&&(g=c.bind(null,this.console,g,f));if("function"===typeof a.addEventListener)h=a.addEventListener(f,g);else if("function"===typeof a.addListener)h=a.addListener(f,g);else throw Error("Emitter does not have a function to add listeners for '"+f+"'");this.listeners.push([a,f,g]);}return h;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var a;a=this.listeners.length;this.listeners.forEach(function(a){var b,c;b=a[0];c=a[1];a=a[2];"function"===typeof b.removeEventListener?b.removeEventListener(c,a):"function"===typeof b.removeListener&&b.removeListener(c,a);});this.listeners=[];this.console&&this.console.trace("removed",a,"listener(s)");};g.T=a;},function(g){function c(a,c){var b;if(void 0===c||"function"!==typeof c||"string"!==typeof a)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0===this.Dl)return this.Dl={},this.Dl[a]=[c],!0;b=this.Dl[a];return void 0===b?(this.Dl[a]=[c],!0):0>b.indexOf(c)?(b.push(c),!0):!1;}function a(a,c){a=this.Dl?this.Dl[a]:void 0;if(!a)return!1;a.forEach(function(a){a(c);});return!0;}g.T={addEventListener:c,on:c,removeEventListener:function(a,c){var b;if(void 0===c||"function"!==typeof c||"string"!==typeof a)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0===this.Dl)return!1;b=this.Dl[a];if(void 0===b)return!1;c=b.indexOf(c);if(0>c)return!1;if(1===b.length)return delete this.Dl[a],!0;b.splice(c,1);return!0;},na:a,emit:a,removeAllListeners:function(a){this.Dl&&(void 0===a?delete this.Dl:delete this.Dl[a]);return this;}};},function(g,c,a){var b,f,h,p,d,k,m,l,n,r,A,K,x,G;Object.defineProperty(c,"__esModule",{value:!0});b=a(6);f=a(11);h=a(25);p=a(766);d=a(716);k=a(677);m=a(5);l=m.Promise;n=a(351);r=a(669);A=a(668);K=a(665);g=new m.Console("ASEJS","media|asejs");x=g.trace.bind(g);G=g.warn.bind(g);g=function(){var o8v;o8v=2;function c(b,d){var g8v,c;g8v=2;while(g8v!==11){var e7v="1";e7v+="SIY";e7v+="b";e7v+="ZrNJCp";e7v+="9";var z7v="D";z7v+="E";z7v+="BU";z7v+="G";z7v+=":";var J7v="nf-as";J7v+="e ve";J7v+="rs";J7v+="io";J7v+="n:";switch(g8v){case 2:c=a(664);g8v=5;break;case 5:x(J7v,c,z7v,!1);this.HWa=this.Zka=!1;this.G=b;this.NB=[];this.addEventListener=h.EventEmitter.addEventListener;this.on=h.EventEmitter.on;g8v=6;break;case 12:e7v;g8v=11;break;case 6:this.removeEventListener=h.EventEmitter.removeEventListener;this.emit=this.na=h.EventEmitter.na;this.PP=d;g8v=12;break;}}}while(o8v!==23){switch(o8v){case 9:Object.defineProperties(c.prototype,{Ug:{get:function(){var Z8v;Z8v=2;while(Z8v!==1){switch(Z8v){case 2:return this.vi;break;case 4:return this.vi;break;Z8v=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{HD:{get:function(){var R8v;R8v=2;while(R8v!==1){switch(R8v){case 4:return this.kh;break;R8v=1;break;case 2:return this.kh;break;}}},enumerable:!0,configurable:!0}});o8v=7;break;case 2:Object.defineProperties(c.prototype,{bf:{get:function(){var O8v;O8v=2;while(O8v!==1){switch(O8v){case 2:return this.Pb;break;case 4:return this.Pb;break;O8v=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{pt:{get:function(){var I8v;I8v=2;while(I8v!==1){switch(I8v){case 4:return this.oma;break;I8v=1;break;case 2:return this.oma;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{lCa:{get:function(){var U8v;U8v=2;while(U8v!==1){switch(U8v){case 4:return this.EP;break;U8v=1;break;case 2:return this.EP;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Web:{get:function(){var H8v;H8v=2;while(H8v!==1){switch(H8v){case 4:return~b.R(this.HP);break;H8v=1;break;case 2:return!b.R(this.HP);break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{nrb:{get:function(){var Y8v;Y8v=2;while(Y8v!==1){switch(Y8v){case 2:return this.HXa;break;case 4:return this.HXa;break;Y8v=1;break;}}},enumerable:!0,configurable:!0}});o8v=9;break;case 10:c.prototype.Yy=function(){var i7v;i7v=2;while(i7v!==1){switch(i7v){case 2:return this.vi?this.vi.Yy():l.resolve([]);break;}}};c.prototype.XWa=function(a){var r7v,d;r7v=2;while(r7v!==3){var A7v="can't fi";A7v+="nd ses";A7v+="sion in array, movieId:";switch(r7v){case 2:this.Pb.WV(null);d=this.NB.indexOf(a);b.R(d)?G(A7v,a.M):(this.NB.splice(d,1),0===this.NB.length&&this.tu.Qrb(),this.tu.save(),this.kh.save());r7v=3;break;}}};o8v=19;break;case 7:Object.defineProperties(c.prototype,{Edb:{get:function(){var q8v;q8v=2;while(q8v!==1){switch(q8v){case 4:return this.HWa;break;q8v=1;break;case 2:return this.HWa;break;}}},enumerable:!0,configurable:!0}});c.prototype.Bc=function(a,d,c,f,g,h){var s8v,m,l;s8v=2;while(s8v!==18){var L7v="mediac";L7v+="a";L7v+="c";L7v+="he";var b7v="c";b7v+="ach";b7v+="eEvict";var V7v="f";V7v+="lush";V7v+="e";V7v+="dByt";V7v+="es";var C7v="discarded";C7v+="By";C7v+="tes";var k7v="pre";k7v+="buf";k7v+="fst";k7v+="a";k7v+="ts";switch(s8v){case 2:m=this;l=this.G;0<l.Rs&&(!b.R(a)&&a>l.Rs&&(a=l.Rs),d>l.Rs&&(d=l.Rs));b.R(a)?this.HP=d:this.hTa=[a,d];this.EP=f;s8v=8;break;case 8:this.HXa=g;k(l);this.kh=new n(l,this.PP);this.tu=new r(l);s8v=13;break;case 10:s8v=l.nF||l.LW?20:19;break;case 20:d=new p.pKa(this,l,c,h),a=function(a){var m8v;m8v=2;while(m8v!==1){switch(m8v){case 2:m.na(a.type,a);m8v=1;break;case 4:m.na(a.type,a);m8v=2;break;m8v=1;break;}}},d.addEventListener(k7v,a),d.addEventListener(C7v,a),d.addEventListener(V7v,a),d.addEventListener(b7v,a),(l.sca||l.Fw)&&d.addEventListener(L7v,function(a){var F8v;F8v=2;while(F8v!==1){var X7v="me";X7v+="di";X7v+="a";X7v+="c";X7v+="ache";switch(F8v){case 2:m.na(X7v,a);F8v=1;break;case 4:m.na("",a);F8v=2;break;F8v=1;break;}}}),this.vi=d;s8v=19;break;case 19:this.Zka=!0;s8v=18;break;case 13:this.Pb=new A(this.tu,this.kh,l);this.oma=new K(l);l.WU&&!this.mXa&&(this.mXa=setInterval(function(){var c8v;c8v=2;while(c8v!==5){switch(c8v){case 2:m.kh.save();c8v=1;break;case 1:m.tu.save();c8v=5;break;}}},l.WU));s8v=10;break;}}};c.prototype.$j=function(a,d){var W7v,c;W7v=2;while(W7v!==4){switch(W7v){case 2:c=this.G;return this.HP?(b.R(a)&&(a=192),b.R(d)&&(d=5800),a=Math.floor(this.HP*a/(a+d)),a<c.qxa&&(a=c.qxa),[a,this.HP-a]):this.hTa;break;}}};c.prototype.rs=function(a,c,g,h,k,m,p,l,t){var n7v;n7v=2;while(n7v!==4){var Q7v="br";Q7v+="anc";Q7v+="h";Q7v+="i";Q7v+="ng";var x7v="open: streamingMan";x7v+="age";x7v+="r not initted";switch(n7v){case 5:G(x7v);n7v=4;break;case 2:n7v=this.Zka?1:5;break;case 7:G("");n7v=2;break;n7v=4;break;case 1:return l=l||this.G,this.Pb.reset(),this.tu.Erb(),this.oma.reset(),void 0===m&&(m=this.usa(a,c)),b.R(this.EP)&&(this.$j()[f.L.VIDEO]<=l.tib?this.EP=0:this.EP=l.CV),a&&a.choiceMap&&Q7v===a.choiceMap.type&&(k.cg=!0),a=new d.iRa(this,a,c,g,h,k,m,p,l,t),this.NB.push(a),a;break;}}};c.prototype.j8=function(a,b){var M7v;M7v=2;while(M7v!==1){switch(M7v){case 2:return this.vi&&(a=this.vi.j8(a,b))?a:!1;break;}}};c.prototype.Lgb=function(a){var f7v;f7v=2;while(f7v!==1){switch(f7v){case 2:return this.vi&&(a=this.vi.qwa(a))?a:!1;break;}}};o8v=10;break;case 19:c.prototype.wsa=function(a){var T7v,b;T7v=2;while(T7v!==3){switch(T7v){case 2:b={profile:a.spoofedProfile||a.profile,c5:a.max_framerate_value,b5:a.max_framerate_scale,maxWidth:a.maxWidth,maxHeight:a.maxHeight,$ya:a.pixelAspectX,aza:a.pixelAspectY,Pk:a.channels,sampleRate:48E3};T7v=5;break;case 5:a.spoofedProfile&&(b.originalProfile=a.profile);return b;break;case 6:a.spoofedProfile||(b.originalProfile=a.profile);return b;break;T7v=3;break;}}};c.prototype.usa=function(a,b,d){var u7v,c,g;u7v=2;while(u7v!==9){var v7v="v";v7v+="id";v7v+="eo_t";v7v+="rac";v7v+="ks";var w7v="audi";w7v+="o";w7v+="_tracks";var E7v="aud";E7v+="i";E7v+="o_trac";E7v+="ks";switch(u7v){case 2:c=this;g=[{},{}];(d===f.L.AUDIO?[E7v]:[w7v,v7v]).forEach(function(d,f){var S7v;S7v=2;while(S7v!==1){switch(S7v){case 2:a[d].some(function(a,d){var h7v;h7v=2;while(h7v!==1){switch(h7v){case 2:return d===b[f]?(g[f]=c.wsa(a),!0):!1;break;}}});S7v=1;break;}}});u7v=3;break;case 3:return g;break;}}};c.prototype.SDa=function(a){var P7v;P7v=2;while(P7v!==1){switch(P7v){case 2:m.JJ(a);P7v=1;break;case 4:m.JJ(a);P7v=5;break;P7v=1;break;}}};c.prototype.qoa=function(a,d){var K7v;K7v=2;while(K7v!==1){var G7v="ca";G7v+="t";G7v+="c";G7v+="h";switch(K7v){case 2:this.vi&&(a=this.vi.smb(this,a),b.R(d)||a.then(d),a[G7v](function(a){var p7v;p7v=2;while(p7v!==1){var D7v="cac";D7v+="hePrepare caugh";D7v+="t er";D7v+="ror:";switch(p7v){case 4:x("",a);p7v=8;break;p7v=1;break;case 2:x(D7v,a);p7v=1;break;}}}));K7v=1;break;}}};o8v=15;break;case 15:c.prototype.k2=function(){var a7v;a7v=2;while(a7v!==1){switch(a7v){case 2:this.vi&&this.vi.flush();a7v=1;break;}}};c.prototype.v0a=function(){var j7v;j7v=2;while(j7v!==1){switch(j7v){case 2:this.vi&&this.vi.Tra();j7v=1;break;}}};o8v=26;break;case 26:c.prototype.l2=function(){var N7v;N7v=2;while(N7v!==1){switch(N7v){case 2:return this.vi?this.vi.list():[];break;case 4:return this.vi?this.vi.list():[];break;N7v=1;break;}}};c.prototype.poa=function(){var d7v;d7v=2;while(d7v!==1){switch(d7v){case 2:this.vi&&this.vi.hn();d7v=1;break;}}};return c;break;}}}();c.IMa=g;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});},function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});g=a(4);a=a(72);c.EEa=!0;c.nia=!1;a=g.V.get(a.pp);c.$n={};c.VY=a.zn;c.OX=a.ln;c.mJa=a.XC;c.Mea=a.h5;c.RHa=a.sR;c.wxb=a.sqa;c.xxb=a.sR;c.Lda=a.uqa;c.Hzb=a.hfb;c.Lzb=a.mwa;c.FAb=!1;c.ENa=!0;c.Jg={OX:a.ln,Kt:void 0,It:void 0,THa:void 0,SHa:void 0,OOa:void 0,Jda:void 0,QHa:void 0};},function(g,c){function a(a){this.Zb=a;this.Qa=JSON.stringify(this.bbb());}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.bbb=function(){var a;a=[];(!this.Zb.Ei||0>=this.Zb.Ei.length)&&a.push({error:"No CDN."});this.Zb.G3||a.push({error:"No default audio track.",foundTracks:this.C5(this.Zb.Um)});this.Zb.K3||a.push({error:"No default video track.",foundTracks:this.C5(this.Zb.Pq)});this.Zb.J3||a.push({error:"No default subtitle track.",foundTracks:this.C5(this.Zb.Hj)});return a;};a.prototype.C5=function(a){return a&&0<a.length?a.map(function(a){return a.eb;}):"No tracks found.";};c.QMa=a;},function(g,c,a){var f,h,p,d,k,m;function b(a,b){a=h.ze.call(this,a,"ManifestParserConfigImpl")||this;a.gn=b;return a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(36);p=a(27);d=a(34);k=a(137);m=a(35);ba(b,h.ze);oa.Object.defineProperties(b.prototype,{zba:{configurable:!0,enumerable:!0,get:function(){return[];}},W4:{configurable:!0,enumerable:!0,get:function(){return"";}},r2:{configurable:!0,enumerable:!0,get:function(){return[];}},q2:{configurable:!0,enumerable:!0,get:function(){return[];}},Y4:{configurable:!0,enumerable:!0,get:function(){return"";}},U6:{configurable:!0,enumerable:!0,get:function(){return 0;}},dF:{configurable:!0,enumerable:!0,get:function(){return this.gn.dF.ea(m.Un);}},xt:{configurable:!0,enumerable:!0,get:function(){return this.gn.xt;}}});a=b;g.__decorate([d.config(d.xba,"supportedAudioTrackTypes")],a.prototype,"zba",null);g.__decorate([d.config(d.string,"forceAudioTrack")],a.prototype,"W4",null);g.__decorate([d.config(d.DDa,"cdnIdWhiteList")],a.prototype,"r2",null);g.__decorate([d.config(d.DDa,"cdnIdBlackList")],a.prototype,"q2",null);g.__decorate([d.config(d.string,"forceTimedTextTrack")],a.prototype,"Y4",null);g.__decorate([d.config(d.Ew,"imageSubsResolution")],a.prototype,"U6",null);g.__decorate([d.config(d.Ew,"timedTextSimpleFallbackThreshold")],a.prototype,"dF",null);g.__decorate([d.config(d.xba,"timedTextProfiles")],a.prototype,"xt",null);a=g.__decorate([f.N(),g.__param(0,f.l(p.cj)),g.__param(1,f.l(k.pG))],a);c.LMa=a;},function(g,c,a){var f,h,p,d;function b(a,b){return h.IN.call(this,a,b)||this;}Object.defineProperty(c,"__esModule",{value:!0});f=a(127);h=a(388);p=a(75);d=a(157);ba(b,h.IN);b.prototype.Ykb=function(a){var b,c;b=this;a=P(f.Zs(function(a){return a.oc&&0<a.oc.length;},a));c=a.next().value;a.next().value.forEach(function(a){return b.log.warn("Video track is missing streams",{trackId:a.Mo});});a=c.map(function(a){var c;c=a.Ui;c={type:p.mg.video,eb:a.Mo,Ly:a.qM,Ui:d.XZ[c.toLowerCase()]||d.up.$A,Fz:c,oc:[],eg:{}};c.oc=b.tDa(a.oc,c);b.log.trace("Transformed video track",{StreamCount:c.oc.length});return c;});if(!a.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:a.length});return a;};b.prototype.Tkb=function(a){var b;b=a.map(function(a){return a.v$;}).filter(Boolean);b=[].concat.apply([],[].concat(da(b))).map(function(a){return a.aa;});a=a.map(function(a){return a.a4;}).filter(Boolean).map(function(a){return a.aa;});return 0<b.length?b:a;};c.ySa=b;},function(g,c,a){var f,h,p,d,k;function b(a,b,d,c){a=h.IN.call(this,a,c)||this;a.config=b;a.j=d;return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(414);h=a(388);p=a(127);d=a(75);k=a(157);ba(b,h.IN);b.prototype.Akb=function(a,b,c){var g,h,m;g=this;a=P(p.Zs(function(a){return a.oc&&0<a.oc.length;},a));h=a.next().value;a.next().value.forEach(function(a){return g.log.warn("Audio track is missing streams",g.Qta(a));});m=this.config.zba;a=P(p.Zs(function(a){return 0===m.length||0<=m.indexOf(a.Ui);},h));h=a.next().value;a.next().value.forEach(function(a){return g.log.warn("Audio track is not supported",g.Qta(a));});a=h.map(function(a){var h;h=a.Ui;h={type:d.mg.audio,eb:a.Mo,Ly:a.qM,Ui:k.XZ[h.toLowerCase()]||k.up.$A,Fz:h,Wj:a.language,displayName:a.BD,Pk:a.Pk,eFb:a.Pk,dFb:Number(a.Pk[0]),Hj:g.g$a(a.Mo,b,c),eg:{Bcp47:a.language,TrackId:a.Mo},oc:[],isNative:a.isNative};h.oc=g.tDa(a.oc,h);g.log.trace("Transformed audio track",h,{StreamCount:h.oc.length,AllowedTimedTextTracks:h.Hj.length});h.Voa=f.Zca[h.oc[0].gf];return h;});if(!a.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:a.length});return a;};b.prototype.p_a=function(a){var b,d;b=this;d=this.config.W4;if(d){if(a=P(a.filter(function(a){return a.Wj==d||a.eb==d;})).next().value)return a;}else if(this.j.fS&&(a=P(a.filter(function(a){return a.eb==b.j.fS;})).next().value))return a;};b.prototype.Qta=function(a){return{language:a.BD,bcp47:a.language,type:a.Ui};};b.prototype.g$a=function(a,b,d){return b.filter(function(b){return b.cp.AUDIO===a;}).map(function(a){return a.cp.UZ;}).map(function(a){return d.find(function(b){return b.eb===a;});}).filter(Boolean);};c.BFa=b;},function(g,c){function a(a,c,g){this.log=a;this.j=c;this.bca=g;}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.Xkb=function(a){var b;b=this;a=(a||[]).filter(function(a){return a.Yc&&0<a.Yc.length;}).map(function(a){return b.bca(b.j,a.id,a.height,a.width,a.bza,a.cza,a.size,{unknown:a.Yc[0]});});0===a.length&&this.log.warn("There are no trickplay tracks");a.sort(function(a,b){return a.size-b.size;});this.log.trace("Transformed trick play tracks",{Count:a.length});return a;};c.cSa=a;},function(g,c){function a(a,c,g,h,d,k){this.y8=a;this.s2=c;this.TCa=g;this.Ltb=h;this.Pna=d;this.oEa=k;}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.Qkb=function(a){var b,c,g,d,h,m,l,n,r,A,K,x,G,M,R,T;a=this.y8.decode(a);b=this.s2.Lya(a.Nn,a.dk,!0);c=this.TCa.Wkb(a.hDa);g=this.Ltb.Xkb(a.yDa);d=this.Pna.Akb(a.O1,a.media,c);h=this.oEa.Ykb(a.VW);m=this.Skb(a,d,c);l=m[0];n=h[0];r=this.Pna.p_a(d)||l.Nc||d[0];l=this.TCa.$sb(r.Hj)||l.wc||r.Hj[0];A=this.oEa.Tkb(a.VW);K=a.Of;x=a.Poa;G=a.fua;M=a.Yj;R=a.O1.findIndex(function(a){return a.Mo==r.eb;});T=a.VW.findIndex(function(a){return a.Mo==n.eb;});return{Uo:A,Ei:b,Um:d,Pq:h,Hj:c,Bt:g,Of:K,dqb:x,Dv:G,Yj:M,cqa:R,hqa:T,eV:m,K3:n,G3:r,J3:l,CIb:a};};a.prototype.Skb=function(a,c,g){var b,d;b=[];d=a.gqa[0];b.push({Nc:c.find(function(a){return a.Ly===d.fC;}),wc:g.find(function(a){return a.Ly===d.HCa;}),vJb:0});return b;};c.NMa=a;},function(g,c,a){var f,h,p,d;function b(a,b,d,c,f){this.log=a;this.config=b;this.j=d;this.s2=c;this.i$=f;}Object.defineProperty(c,"__esModule",{value:!0});f=a(66);h=a(8);p=a(157);d=a(215);b.prototype.Wkb=function(a){var b;b=this;a=a.map(function(a){var d,c,g;d=b.stb(a);!1!==a.wT||d.length||b.log.error("track without downloadables",b.gta(a));!0!==a.tT||d.length||b.log.error("forced track without downloadables",b.gta(a));c={};g=[];if(0<d.length){c=d[0];g=c.profile;if(g==f.xk.SA||g==f.xk.NN)c=b.Ipb(d);g=b.s2.Lya(a.Boa,void 0,!1);}a=b.i$(b.j,a.Mo,a.id,c.Tc,c.Yc||{},g,a.language,a.BD,p.XZ[a.Ui.toLowerCase()]||p.up.$A,a.Fz.toUpperCase(),c.profile,b.ebb(c)||{},a.wT,a.tT,a.UJ);b.log.trace("Transformed timed text track",a);return a;});this.log.trace("Transformed timed text tracks",{Count:a.length});return a;};b.prototype.$sb=function(a){var b,d;b=this;d=this.config.Y4;if(d){if(a=P(a.filter(function(a){return a.Wj==d||a.eb==d;})).next().value)return a;}else if(this.j.gS&&(a=P(a.filter(function(a){return a.eb==b.j.gS;})).next().value))return a;};b.prototype.stb=function(a){var b,d,c;b=this;d=a.BDa;c=a.Iqa;a=Object.keys(d||{}).map(function(a){var f;f=d[a];return{Tc:c[a],profile:a,size:f.size||0,Vd:b.fab(a,f),offset:f.sK||0,xlb:f.width,Zya:f.height,Yc:f.Rp};});a.sort(function(a,b){return a.Vd-b.Vd;});return a;};b.prototype.fab=function(a,b){var d,c;d=this.config.xt.indexOf(a);b=b.size;c=this.config.dF;return a===f.xk.CX&&0<c&&b>c?this.config.xt.length+1:0<=d?d:this.config.xt.length;};b.prototype.ebb=function(a){if(a.profile===f.xk.SA||a.profile===f.xk.NN)return{offset:a.offset,length:a.size,RJb:{width:a.xlb,height:a.Zya}};};b.prototype.Ipb=function(a){var b,c;b=this.config.U6||d.TZ.V5();c=P(a.filter(function(a){return a.profile===f.xk.SA||a.profile===f.xk.NN;}).filter(function(a){return a.Zya===b;})).next().value;if(c)return c;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:h.hr.height,intendedResolution:b});return a[0];};b.prototype.gta=function(a){return{isNone:a.wT,isForced:a.tT,bcp47:a.language,id:a.Mo};};c.HRa=b;},function(g){g.T=function(c){return function(){return!c.apply(this,arguments);};};},function(g,c,a){var b,f;b=a(779);c=a(50);f=a(395);a=c(function(a,c){return f(b(a),c);});g.T=a;},function(g,c,a){c=a(159);a=a(217);a=c(a);g.T=a;},function(g,c,a){c=a(50)(function(a,c){for(var b=0;b<a.length;){if(null==c)return;c=c[a[b]];b+=1;}return c;});g.T=c;},function(g,c,a){var b;c=a(50);b=a(782);a=c(function(a,c){return b([a],c);});g.T=a;},function(g,c,a){var b,f;c=a(50);b=a(392);f=function(){function a(a,b){this.NM=b;this.aJ=a;}a.prototype["@@transducer/init"]=b.Bc;a.prototype["@@transducer/result"]=b.result;a.prototype["@@transducer/step"]=function(a,b){return this.NM["@@transducer/step"](a,this.aJ(b));};return a;}();a=c(function(a,b){return new f(a,b);});g.T=a;},function(g,c,a){var b,f,h,p,d,k;c=a(50);b=a(394);f=a(390);h=a(217);p=a(784);d=a(389);k=a(391);a=c(b(["fantasy-land/map","map"],p,function(a,b){switch(Object.prototype.toString.call(b)){case"[object Function]":return d(b.length,function(){return a.call(this,b.apply(this,arguments));});case"[object Object]":return h(function(d,c){d[c]=a(b[c]);return d;},{},k(b));default:return f(a,b);}}));g.T=a;},function(g,c,a){var b,f;c=a(50);b=a(785);f=a(783);a=c(function(a,c){return b(f(a),c);});g.T=a;},function(g,c,a){c=a(50)(function(a,c){return c>a?c:a;});g.T=c;},function(g,c,a){var f,h;function b(a,d,c){return function(){var q;for(var g=[],k=0,p=a,l=0;l<d.length||k<arguments.length;){l<d.length&&(!h(d[l])||k>=arguments.length)?q=d[l]:(q=arguments[k],k+=1);g[l]=q;h(q)||--p;l+=1;}return 0>=p?c.apply(this,g):f(p,b(a,g,c));};}f=a(216);h=a(158);g.T=b;},function(g,c,a){var b,f,h,p,d;c=a(50);b=a(390);f=a(389);h=a(787);p=a(786);d=a(781);a=c(function(a,c){return f(d(h,0,p("length",c)),function(){var d,f;d=arguments;f=this;return a.apply(f,b(function(a){return a.apply(f,d);},c));});});g.T=a;},function(g,c,a){var b;c=a(110);b=a(789);a=c(function(a){return b(function(){return Array.prototype.slice.call(arguments,0);},a);});g.T=a;},function(g,c,a){var b,f;b=a(218);f=Object.prototype.toString;g.T=function(){return"[object Arguments]"===f.call(arguments)?function(a){return"[object Arguments]"===f.call(a);}:function(a){return b("callee",a);};};},function(g,c,a){var b,f;c=a(50);b=a(392);f=function(){function a(a,b){this.NM=b;this.aJ=a;}a.prototype["@@transducer/init"]=b.Bc;a.prototype["@@transducer/result"]=b.result;a.prototype["@@transducer/step"]=function(a,b){return this.aJ(b)?this.NM["@@transducer/step"](a,b):a;};return a;}();a=c(function(a,b){return new f(a,b);});g.T=a;},function(g,c,a){var b;b=a(216);c=a(50)(function(a,c){return b(a.length,function(){return a.apply(c,arguments);});});g.T=c;},function(g){var c;c=function(){function a(a){this.aJ=a;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(a){return a;};a.prototype["@@transducer/step"]=function(a,c){return this.aJ(a,c);};return a;}();g.T=function(a){return new c(a);};},function(g){g.T=function(c){return"[object String]"===Object.prototype.toString.call(c);};},function(g,c,a){var b,f;c=a(110);b=a(393);f=a(795);a=c(function(a){return b(a)?!0:!a||"object"!==typeof a||f(a)?!1:1===a.nodeType?!!a.length:0===a.length?!0:0<a.length?a.hasOwnProperty(0)&&a.hasOwnProperty(a.length-1):!1;});g.T=a;},function(g){g.T=function(c,a){for(var b=0,f=a.length,g=[];b<f;)c(a[b])&&(g[g.length]=a[b]),b+=1;return g;};},function(g){g.T=function(c){return"function"===typeof c["@@transducer/step"];};},function(g,c,a){var b;c=a(395);b=a(790);a=a(780);a=b([c,a]);g.T=a;},function(g,c,a){var b;c=a(159);b=a(218);a=c(function(a,c,g){var d,f;d={};for(f in c)b(f,c)&&(d[f]=b(f,g)?a(f,c[f],g[f]):c[f]);for(f in g)b(f,g)&&!b(f,d)&&(d[f]=g[f]);return d;});g.T=a;},function(g,c,a){var b,f;c=a(159);b=a(396);f=a(800);a=c(function p(a,c,g){return f(function(d,c,f){return b(c)&&b(f)?p(a,c,f):a(d,c,f);},c,g);});g.T=a;},function(g,c,a){var b;c=a(159);b=a(801);a=c(function(a,c,g){return b(function(b,c,f){return a(c,f);},c,g);});g.T=a;},function(g,c,a){var f;function b(a,b){this.log=a;this.config=b;}Object.defineProperty(c,"__esModule",{value:!0});f=a(127);b.prototype.Lya=function(a,b,d){var c,g,h,p,l;c=this;g=this.config.r2;h=this.config.q2;a=P(f.Zs(function(a){return(!g.length||0<=g.indexOf(a.id))&&0>h.indexOf(a.id);},a||[]));p=a.next().value;a.next().value.forEach(function(a){return c.log.warn("Cdn is not allowed",{Id:a.id});});l=p.map(function(a){var d;d=(b?b.find(function(b){return b.key===a.key;}):void 0)||{};return{id:a.id,name:a.name,ie:a.ie,type:a.type,X7:a.key,PHb:a.vwa,location:{id:d.key,ie:d.ie,level:d.level,weight:d.weight,Ei:[]}};});l.sort(function(a,b){return a.ie-b.ie;});l.forEach(function(a){return a.location.Ei=l.filter(function(b){return b.X7===a.X7;});});this.log.trace("Transformed cdns",{Count:l.length});if(d&&!l.length)throw Error("no valid cdns");return l;};c.VGa=b;},function(g,c,a){var f,h,p,d,k,m,l,n,r,A,K,x,G;function b(a,b,d,c,f,g){this.yf=a;this.y8=b;this.config=d;this.i$=c;this.bca=f;this.BW=g;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(7);p=a(160);d=a(397);k=a(803);m=a(778);l=a(777);n=a(776);r=a(775);A=a(774);K=a(387);x=a(386);a=a(385);b.prototype.create=function(a){var b,d;b=this.yf.lb("ManifestParser",a);d=new k.VGa(b,this.config);return new l.NMa(this.y8,d,new m.HRa(b,this.config,a,d,this.i$),new n.cSa(b,a,this.bca),new r.BFa(b,this.config,a,this.BW),new A.ySa(b,this.BW));};G=b;G=g.__decorate([f.N(),g.__param(0,f.l(h.ob)),g.__param(1,f.l(p.mga)),g.__param(2,f.l(d.oga)),g.__param(3,f.l(K.Zha)),g.__param(4,f.l(a.gja)),g.__param(5,f.l(x.eja))],G);c.MMa=G;},function(g,c,a){var b,f,h,p,d,k,m,l;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(398);f=a(804);h=a(397);p=a(773);d=a(387);k=a(386);m=a(384);l=a(772);c.Xgb=new g.ac(function(c){c(h.oga).to(p.LMa).Z();c(b.pga).to(f.MMa).Z();c(d.Zha).Dh(function(b){for(var d=[],c=0;c<arguments.length;++c)d[c-0]=arguments[c];c=a(214).wG;return new(Function.prototype.bind.apply(c,[null].concat(da(d))))();});c(k.eja).Dh(function(b){for(var d=[],c=0;c<arguments.length;++c)d[c-0]=arguments[c];c=a(341).PGa;return new(Function.prototype.bind.apply(c,[null].concat(da(d))))();});c(m.qga).Sf(function(){return function(a){return new l.QMa(a);};});});},function(g,c,a){var f,h,p,d,k,m,l,n,r,A;function b(a,b,d,c,f,g,h,k){this.OC=a;this.re=b;this.config=d;this.zn=f;this.Sr=g;this.aca=h;this.dU=k;this.log=c.lb("CDMAttestedDescriptor");this.Hsa();}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(119);p=a(41);d=a(17);k=a(7);m=a(77);l=a(111);n=a(65);r=a(219);a=a(135);b.prototype.Hsa=function(){var a;a=this;return this.aca.NW?this.config().m7a?this.Gsa().then(function(b){if(b)return Promise.resolve(void 0);a.Rva||(a.Rva=a.Vab());return a.Rva;}).then(function(b){return Promise.all([Promise.resolve(b),a.Gsa()]);}).then(function(a){var b;a=P(a);b=a.next().value;if(!a.next().value)return b;}):(this.zn.Yg.removeServiceToken("cad"),Promise.resolve(void 0)):Promise.resolve(void 0);};b.prototype.Vab=function(){var a;a=this;return Promise.all([this.OC(),this.Gab()]).then(function(b){var d;d=P(b);b=d.next().value;d=d.next().value;d={type:m.Zi.Tt,gT:d,context:{Td:a.config().Td}};return b.X9a(d,a.dU());}).then(function(b){var d;d=a.re.encode(b.T7.data);a.log.trace("Challenge generated",d);b.close().subscribe();return d;})["catch"](function(b){a.log.error("Failed to generate challenge for CAD token",b);});};b.prototype.Gsa=function(){var a;a=this;return this.Sr().then(function(b){return(b=a.zn.Yg.getServiceTokens(b.profile.id))&&b.find(function(a){return"cad"===a.name;});});};b.prototype.Gab=function(){return Promise.resolve(this.re.decode("AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="));};A=b;A=g.__decorate([f.N(),g.__param(0,f.l(h.lN)),g.__param(1,f.l(p.Jj)),g.__param(2,f.l(d.ld)),g.__param(3,f.l(k.ob)),g.__param(4,f.l(l.RA)),g.__param(5,f.l(n.Xq)),g.__param(6,f.l(r.gO)),g.__param(7,f.l(a.eG))],A);c.rGa=A;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(399);f=a(806);c.z0a=new g.ac(function(a){a(b.kda).to(f.rGa).Z();});},function(g,c,a){var f,h,p;function b(a){this.Ba=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(21);p=a(3);b.prototype.esb=function(a,b){var d,c;d=parseFloat(a);c=0;"%"===a[a.length-1]&&this.Ba.Xf(d)?c=Math.round(d*b.ea(p.ma)/100):(a=parseInt(a),this.Ba.Hp(a)&&(c=a));return p.Db(Math.min(c,b.ea(p.ma)));};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.we))],a);c.bGa=a;},function(g,c,a){var f,h;function b(a){this.config=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);a=a(17);b.prototype.D5=function(){return this.mv().X_a;};b.prototype.E5=function(){return this.mv().Y_a;};b.prototype.Fab=function(){return this.mv().Z_a;};b.prototype.o5=function(){return this.mv().boa;};b.prototype.mv=function(){return this.config();};h=b;h=g.__decorate([f.N(),g.__param(0,f.l(a.ld))],h);c.aGa=h;},function(g,c,a){var f,h,p,d,k,m,l;function b(a,b,d,c,f){this.vQ=b;this.Ba=d;this.W_a=c;this.config=f;this.ia=a.lb("Bookmark");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(401);p=a(400);d=a(7);k=a(21);m=a(3);a=a(17);b.prototype.gna=function(a){var b,d;b=a.Ya.playbackState&&a.Ya.playbackState.currentTime;d=this.J$a(a.M);b=this.Ba.Ql(b)?m.Db(b):d;if(this.Ba.Fd(b))this.ia.info("Overriding bookmark",{From:a.qA.ea(m.ma),To:b.ea(m.ma)}),a=Object.assign({},a,{qA:b});else if(this.Mdb(a))return this.ia.trace("Ignoring bookmark because it's too close to beginning"),m.Fg(0);return this.Ldb(a)?(this.ia.trace("Ignoring bookmark because it's too close to end"),m.Fg(0)):this.Kdb(a)?(this.ia.trace("Ignoring bookmark because it's too close to the end to start decoding"),m.Fg(0)):a.qA;};b.prototype.Mdb=function(a){return 0>a.qA.Rk(this.D5(a));};b.prototype.D5=function(a){return this.coa(this.vQ.D5(),a.OK);};b.prototype.Ldb=function(a){return 0<a.qA.Rk(this.E5(a));};b.prototype.E5=function(a){var b;b=a.Ya.cg?this.vQ.Fab():this.vQ.E5();return a.OK.me(this.coa(b,a.OK));};b.prototype.Kdb=function(a){return 0<a.qA.Rk(this.kab(a));};b.prototype.kab=function(a){var b;b=a.Ya.cg?this.config().xya:this.config().M9;return a.OK.me(m.Db(b));};b.prototype.J$a=function(a){var b;a=this.vQ.o5()[a];b=-1;this.Ba.Ci(a)?b=parseInt(a):this.Ba.Xf(a)&&(b=a);if(this.Ba.Hp(b))return m.Db(b);};b.prototype.coa=function(a,b){return this.W_a.esb(a,b);};l=b;l=g.__decorate([f.N(),g.__param(0,f.l(d.ob)),g.__param(1,f.l(h.hda)),g.__param(2,f.l(k.we)),g.__param(3,f.l(p.gda)),g.__param(4,f.l(a.ld))],l);c.cGa=l;},function(g,c,a){var b,f,h,p,d,k;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(220);f=a(401);h=a(400);p=a(810);d=a(809);k=a(808);c.Z1=new g.ac(function(a){a(b.pX).to(p.cGa).Z();a(f.hda).to(d.aGa).Z();a(h.gda).to(k.bGa).Z();});},function(g,c){function a(a){var b;b=Error.call(this);this.message=b.message;"stack"in b&&(this.stack=b.stack);this.name="InvalidOperationError";this.message=a;}Object.defineProperty(c,"__esModule",{value:!0});ba(a,Error);c.Ffa=a;},function(g,c,a){var f,h,p,d;function b(a){this.Ba=a;this.V0={};this.jma={};for(var b in f.EF)this.Ba.Xf(parseInt(b))&&(this.jma[f.EF[b]]=1);}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(221);h=a(812);p=a(1);a=a(21);b.prototype.track=function(a){var b;if(this.Ba.Ci(a)){if(!this.jma[a])throw new h.Ffa("Cast Interaction type "+a+" is undefined.");}else{if(!this.Ba.Ql(f.EF[a]))throw new h.Ffa("Cast Interaction type "+a+" is undefined.");a=f.EF[a];}b=this.V0[a];this.V0[a]=b?b+1:1;};d=b;d=g.__decorate([p.N(),g.__param(0,p.l(a.we))],d);c.SGa=d;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(221);f=a(813);c.GQ=new g.ac(function(a){a(b.sda).to(f.SGa);});},function(g,c,a){var h,p,d;function b(a,b,d){var c;c=this;this.ia=a;this.valid=!0;this.Sl=!1;this.context=d.context;this.size=d.size;this.$h=b.create().then(function(a){c.storage=a;return a.eK("mediacache").then(function(a){c.keys=a;});});}function f(a,b){this.yf=a;this.Ch=b;this.JC={};}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(1);p=a(7);a=a(63);f.prototype.XQ=function(a){this.JC[a.context]=new b(this.yf.lb("DiskStorageContext"),this.Ch,a);return this.JC[a.context];};f.prototype.qqa=function(a){delete this.JC[a.context];};d=f;d=g.__decorate([h.N(),g.__param(0,h.l(p.ob)),g.__param(1,h.l(a.jp))],d);c.MIa=d;b.prototype.create=function(a,b,d,c){var f,g,h;f=this;g=this.getKey(a,b);h=Date.now();this.$h.then(function(){f.keys[g]=void 0;return f.storage.save(g,d,!1).then(function(){f.ia.trace("create succeeded for "+g+", "+(Date.now()-h)+" ms");c(f.JS(a,b));});})["catch"](function(d){f.ia.trace("create failed",d);c(f.ov(a,b,d));});};b.prototype.append=function(a,b,d,c){d=this.getKey(a,b);this.ia.trace("append "+d);c(this.ov(a,b,"append is not supported"));};b.prototype.remove=function(a,b,d){var c,f,g;c=this;f=this.getKey(a,b);g=Date.now();this.$h.then(function(){if(c.keys.hasOwnProperty(f))return delete c.keys[f],c.storage.remove(f).then(function(){c.ia.trace("remove succeeded for "+f+", "+(Date.now()-g)+" ms");d(c.JS(a,b));});d(c.JS(a,b));})["catch"](function(f){c.ia.trace("remove failed",f);d(c.ov(a,b,f));});};b.prototype.read=function(a,b,d,c,f){var g,h,k;g=this;h=this.getKey(a,b);k=Date.now();0!==d||-1!=c?f(this.ov(a,b,"byteStart/byteEnd combination is not supported")):this.$h.then(function(){if(g.keys.hasOwnProperty(h))return g.storage.load(h).then(function(m){g.ia.trace("read succeeded for "+h+", "+(Date.now()-k)+" ms");f(Object.assign(g.JS(a,b),{value:m.value,JEb:d,end:c}));});f(g.ov(a,b,"Item doesn't exist"));})["catch"](function(d){g.ia.trace("read failed",d);f(g.ov(a,b,d));});};b.prototype.info=function(a){var b;b=this;this.ia.trace("info ");this.$h.then(function(){var d;d={values:{}};d.values[b.context]={entries:Object.keys(b.keys).reduce(function(a,d){d=b.S9(d);a[d.vI]||(a[d.vI]={});a[d.vI][d.Ev]={size:0};return a;},{}),total:b.size,WKb:0};a(d);})["catch"](function(d){b.ia.trace("info failed",d);a(b.ov(void 0,void 0,d));});};b.prototype.query=function(a,b,d){var c,f;c=this;f=this.getKey(a,b||"");this.$h.then(function(){var a;a=Object.keys(c.keys).filter(function(a){return 0===a.indexOf(f);}).reduce(function(a,b){a[c.S9(b).Ev]={size:0};return a;},{});c.ia.trace("query succeeded for prefix "+b,a);d(a);})["catch"](function(a){c.ia.trace("query failed",a);d({});});};b.prototype.ip=function(a){var b;b=this;this.ia.trace("validate");this.$h.then(function(){var d;d=Object.keys(b.keys).reduce(function(a,d){a[b.S9(d).Ev]={size:0};return a;},{});a(d);})["catch"](function(d){b.ia.trace("validate failed",d);a(b.ov(void 0,void 0,d));});};b.prototype.getKey=function(a,b){return["mediacache",this.context,a,b].join(".");};b.prototype.JS=function(a,b){return{W:!0,vI:void 0===a?"":a,key:void 0===b?"":b,Tub:0,Ii:this.size};};b.prototype.ov=function(a,b,d){return{W:!1,error:d,vI:void 0===a?"":a,key:void 0===b?"":b,Tub:0,Ii:this.size};};b.prototype.S9=function(a){var b,d;a=a.slice(a.indexOf(".")+1);b=a.slice(a.indexOf(".")+1);d=b.indexOf(".");a=b.slice(0,d);b=b.slice(d+1);return{vI:a,Ev:b};};c.Lxb=b;},function(g,c,a){var f,h,p;function b(a){this.yf=a;this.Ts={};this.ia=this.yf.lb("MemoryStorage");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);a=a(7);b.prototype.load=function(a){var b;if(this.Ts.hasOwnProperty(a)){b=this.Ts[a];this.ia.debug("Storage entry loaded",{key:a});return Promise.resolve({key:a,value:b});}this.ia.debug("Storage entry not found",{key:a});return Promise.reject({Y:h.u.rp});};b.prototype.save=function(a,b,c){if(c&&this.Ts.hasOwnProperty(a))return Promise.resolve(!1);this.Ts[a]=b;return Promise.resolve(!0);};b.prototype.remove=function(a){delete this.Ts[a];return Promise.resolve();};b.prototype.loadAll=function(){var a,b;a=this;b=Object.keys(this.Ts).map(function(b){return{key:b,value:a.Ts[b]};});return Promise.resolve(b);};b.prototype.eK=function(a){var b;b=Object.keys(this.Ts).reduce(function(b,d){a&&0!==d.indexOf(a)||(b[d]=void 0);return b;},{});return Promise.resolve(b);};b.prototype.removeAll=function(){this.Ts={};return Promise.resolve();};p=b;p=g.__decorate([f.N(),g.__param(0,f.l(a.ob))],p);c.hNa=p;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.MHa="__default_rule_key__";},function(g,c,a){var h,p,d,k,m,l,n;function b(a,b,d,c){this.ia=a;this.config=b;this.Idb=d;this.Y8=c;this.Tu={mem:{storage:this.Y8,key:"mem"}};this.tw=this.config.tw;}function f(a,b,d,c){this.yf=a;this.Ch=b;this.Y8=d;this.config=c;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(1);p=a(2);d=a(161);k=a(7);m=a(403);l=a(817);a=a(51);f.prototype.create=function(){this.sI||(this.sI=this.uC());return this.sI;};f.prototype.uC=function(){this.CZa=new b(this.yf.lb("AppStorage"),this.config,this.Ch,this.Y8);return this.CZa.create();};n=f;n=g.__decorate([h.N(),g.__param(0,h.l(k.ob)),g.__param(1,h.l(d.MY)),g.__param(2,h.l(m.Aga)),g.__param(3,h.l(a.zm))],n);c.hFa=n;b.prototype.create=function(){var a;a=this;return this.u4a().then(function(b){if(!a.R0a(b,a.config.cT))throw a.fjb(b);return a;});};b.prototype.load=function(a){var b;b=this;return new Promise(function(d,c){b.t5(a).storage.load(a).then(function(a){d(a);})["catch"](function(a){c(a);});});};b.prototype.save=function(a,b,d){var c;c=this;return new Promise(function(f,g){c.t5(a).storage.save(a,b,d).then(function(a){f(a);})["catch"](function(a){g(a);});});};b.prototype.remove=function(a){var b;b=this;return new Promise(function(d,c){b.t5(a).storage.remove(a).then(function(){d();})["catch"](function(a){c(a);});});};b.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,d){a.tAa("mem").then(function(){return a.tAa("idb");})["catch"](function(a){return Promise.reject(a);}).then(function(){b();})["catch"](function(b){a.ia.error("remove all failed");d(b);});});};b.prototype.loadAll=function(){var a,b;a=this;b=[];return this.Zva("mem").then(function(d){b=b.concat(d);return a.Zva("idb");})["catch"](function(b){a.Seb(b)||a.ia.error("IndexedDb.LoadAll exception",b);return[];}).then(function(a){return b=b.concat(a);})["catch"](function(b){a.ia.error("load all failed",b);throw b;});};b.prototype.eK=function(a){var b;b=this;return new Promise(function(d,c){var f;f=b.Tu.idb;f?f.storage.eK(a).then(function(a){d(a);})["catch"](function(a){b.ia.error("loadKeys failed",a);c(a);}):c("Storage is not available");});};b.prototype.u4a=function(){var a;a=this;return this.Idb.create().then(function(b){a.Tu.idb={storage:b,key:"idb"};})["catch"](function(b){a.ia.error("idb failed to load",b);return b||{Y:p.u.bj};});};b.prototype.R0a=function(a,b){return!a||a&&b?!0:!1;};b.prototype.fjb=function(a){var b;b="";a&&(b+=a.Y);return{Y:b};};b.prototype.tAa=function(a){return(a=this.Tu[a])?a.storage.removeAll():Promise.resolve();};b.prototype.Zva=function(a){return(a=this.Tu[a])?a.storage.loadAll():Promise.resolve([]);};b.prototype.g9a=function(a){for(var b in this.tw)if(a.startsWith(b))return this.tw[b];return this.tw[l.MHa];};b.prototype.t5=function(a){var b,d;b=this;this.g9a(a).every(function(a){return b.Tu[a]?(d=b.Tu[a],!1):!0;});d||(this.ia.error("component not found for storageKey",{Urb:a,BEb:Object.keys(this.Tu),rules:this.tw}),d=this.Tu.mem);this.ia.trace("component found for key",{storageKey:a,componentKey:d.key});return d;};b.prototype.Seb=function(a){return(a&&(a.Y||a.errorSubCode))===p.u.rp;};c.Sca=b;},function(g,c,a){var f,h;function b(a){this.config=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);a=a(51);oa.Object.defineProperties(b.prototype,{timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.tba;}},enabled:{configurable:!0,enumerable:!0,get:function(){return this.config.SCa;}}});h=b;h=g.__decorate([f.N(),g.__param(0,f.l(a.zm))],h);c.pHa=h;},function(g,c,a){var f,h,p,d,k;function b(a,b){a=p.ze.call(this,a,"IndexedDBConfigImpl")||this;a.config=b;a.version=1;a.oz="namedatapairs";return a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(34);p=a(36);d=a(51);a=a(27);ba(b,p.ze);oa.Object.defineProperties(b.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return"netflix.player"+(this.config.Up?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.tba;}},kQ:{configurable:!0,enumerable:!0,get:function(){return this.config.kQ;}},gba:{configurable:!0,enumerable:!0,get:function(){return 0;}},LL:{configurable:!0,enumerable:!0,get:function(){return 0;}},Sra:{configurable:!0,enumerable:!0,get:function(){return!0;}}});k=b;g.__decorate([h.config(h.Ew,"simulateIdbOpenError")],k.prototype,"gba",null);g.__decorate([h.config(h.Ew,"simulateIdbLoadAllError")],k.prototype,"LL",null);g.__decorate([h.config(h.$d,"fixInvalidDatabase")],k.prototype,"Sra",null);k=g.__decorate([f.N(),g.__param(0,f.l(a.cj)),g.__param(1,f.l(d.zm))],k);c.tLa=k;},function(g,c,a){var h,p,d;function b(a,b,d){this.config=a;this.zj=b;this.ct=d;}function f(a,b){this.reason=a;this.cause=b;}Object.defineProperty(c,"__esModule",{value:!0});h=a(2);p=a(62);(function(a){a[a.iZ=0]="NoData";a[a.Error=1]="Error";a[a.px=2]="Timeout";}(d=c.pQa||(c.pQa={})));b.prototype.load=function(a){var b;b=this;return new Promise(function(c,f){b.QR("get",!1,a).then(function(b){c({key:a,value:b});})["catch"](function(a){var b;b=h.u.Fia;switch(a.reason){case d.iZ:b=h.u.rp;break;case d.px:b=h.u.RQa;}f({Y:b,cause:a.cause});});});};b.prototype.save=function(a,b,c){var f;f=this;return new Promise(function(g,k){f.QR(c?"add":"put",!0,{name:a,data:b}).then(function(){g(!c);})["catch"](function(a){var b;b=h.u.Gia;switch(a.reason){case d.px:b=h.u.UQa;}k({Y:b,cause:a.cause});});});};b.prototype.remove=function(a){var b;b=this;return new Promise(function(c,f){b.QR("delete",!0,a).then(function(){c();})["catch"](function(a){var b;b=h.u.LZ;switch(a.reason){case d.px:b=h.u.Eia;}f({Y:b,cause:a.cause});});});};b.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,c){a.QR("clear",!0,"").then(function(){b();})["catch"](function(a){var b;b=h.u.LZ;switch(a.reason){case d.px:b=h.u.Eia;}c({Y:b,cause:a.cause});});});};b.prototype.loadAll=function(){var a;a=this;return this.zj.nl(this.config.timeout,new Promise(function(b,c){var g,h,k;if(a.config.LL)c(new f(a.config.LL));else{g=[];h=a.ct.transaction(a.config.oz,"readonly");k=h.objectStore(a.config.oz).openCursor();h.onerror=function(){c(new f(d.Error,k.error));};k.onsuccess=function(a){if(a=a.target.result)try{g.push({key:a.value.name,value:a.value.data});a["continue"]();}catch(x){c(new f(d.Error,x));}else b(g);};k.onerror=function(){c(new f(d.Error,k.error));};}}))["catch"](function(a){return a instanceof p.Fm?Promise.reject(new f(d.px,a)):a instanceof f?Promise.reject(a):Promise.reject(new f(d.Error,a));});};b.prototype.eK=function(a){var b;b=this;return this.zj.nl(this.config.timeout,new Promise(function(c,g){var h,k,m;if(b.config.LL)g(new f(b.config.LL));else{h={};k=b.ct.transaction(b.config.oz,"readonly");m=k.objectStore(b.config.oz).openKeyCursor(a?IDBKeyRange.lowerBound(a):void 0);k.onerror=function(){g(new f(d.Error,m.error));};m.onsuccess=function(b){var k,m;try{k=b.target.result;if(k){m=k.key;a&&0!==m.indexOf(a)?c(h):(h[m]=void 0,k["continue"]());}else c(h);}catch(R){g(new f(d.Error,R));}};m.onerror=function(){g(new f(d.Error,m.error));};}}))["catch"](function(a){return a instanceof p.Fm?Promise.reject(new f(d.px,a)):a instanceof f?Promise.reject(a):Promise.reject(new f(d.Error,a));});};b.prototype.QR=function(a,b,c){var g;g=this;return this.zj.nl(this.config.timeout,new Promise(function(h,k){var m,p;m=g.ct.transaction(g.config.oz,b?"readwrite":"readonly");p=m.objectStore(g.config.oz)[a](c);m.onerror=function(){k(new f(d.Error,p.error));};p.onsuccess=function(b){var c;if("get"==a)try{c=b.target.result;c?h(c.data):k(new f(d.iZ));}catch(R){k(new f(d.iZ,R));}else h();};p.onerror=function(){k(new f(d.Error,p.error));};}))["catch"](function(a){return a instanceof p.Fm?Promise.reject(new f(d.px,a)):a instanceof f?Promise.reject(a):Promise.reject(new f(d.Error,a));});};c.sLa=b;},function(g,c,a){var p,d,k,m,l,n,r,A,K,x,G,M;function b(a,b,d,c,f,g){this.config=b;this.wI=d;this.Ch=c;this.avb=f;this.ki=g;this.ia=a.lb(n.PZ);}function f(a,b){this.config=a;this.yt=b;}function h(a,b,d,c,f){this.config=b;this.yt=d;this.ki=f;this.ia=a.lb(n.PZ);this.wI=new Promise(function(a,b){var d;try{d=c();d?a(d):b({Y:l.u.$ea});}catch(ea){b({Y:l.u.DN,cause:ea});}});}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);p=a(1);d=a(7);k=a(821);m=a(162);l=a(2);n=a(406);r=a(407);A=a(62);K=a(63);x=a(114);G=a(161);M=a(61);h.prototype.create=function(){this.v3||(this.v3=this.uC());return this.v3;};h.prototype.hn=function(a){var b;b=this;this.v3=null;return this.yt.nl(this.config.timeout,new Promise(function(d,c){a.close();b["delete"](a.name).then(function(){d();})["catch"](function(a){c(a);});}))["catch"](function(a){return a instanceof A.Fm?Promise.reject({Y:l.u.DN}):a.Y?Promise.reject(a):Promise.reject({Y:l.u.DN,cause:a});});};h.prototype["delete"]=function(a){var b;b=this;return this.yt.nl(this.config.timeout,new Promise(function(d,c){b.wI.then(function(b){var f;f=b.deleteDatabase(a);f.onsuccess=function(){d();};f.onerror=function(){c({Y:l.u.DN,cause:f.error});};})["catch"](function(a){c(a);});}));};h.prototype.uC=function(){var a,b;a=this;return this.yt.nl(this.config.timeout,new Promise(function(d,c){a.config.gba?c({Y:a.config.gba}):a.wI.then(function(f){a.ki.mark(M.si.HKa);(b=f.open(a.config.name,a.config.version))?(b.onblocked=function(){a.ki.mark(M.si.EKa);c({Y:l.u.AKa});},b.onupgradeneeded=function(){var d;a.ki.mark(M.si.OKa);d=b.result;try{d.createObjectStore(a.config.oz,{keyPath:"name"});}catch(ia){a.ia.error("Exception while creating object store",ia);}},b.onsuccess=function(g){var h,k;a.ki.mark(M.si.NKa);try{h=g.target.result;k=h.objectStoreNames.length;a.ia.trace("objectstorenames length ",k);if(0===k){a.ia.error("invalid indexedDb state, deleting");a.ki.mark(M.si.GKa);try{h.close();}catch(ea){}f.deleteDatabase(a.config.name);setTimeout(function(){c({Y:l.u.zKa});},1);return;}}catch(ea){a.ia.error("Exception while inspecting indexedDb objectstorenames",ea);}d(b.result);},b.onerror=function(){a.ki.mark(M.si.FKa);a.ia.error("IndexedDB open error",b.error);c({Y:l.u.BKa,cause:b.error});}):c({Y:l.u.afa});})["catch"](function(a){c(a);});}))["catch"](function(d){if(d instanceof A.Fm){try{b&&b.readyState&&a.ki.mark("readyState-"+b.readyState);}catch(D){}if(a.config.kQ&&b&&"done"===b.readyState){if(a.Xub(b))return a.ki.mark(M.si.LKa),Promise.resolve(b.result);a.ki.mark(M.si.KKa);}a.ki.mark(M.si.JKa);return Promise.reject({Y:l.u.DKa});}if(d.Y)return Promise.reject(d);a.ki.mark(M.si.IKa);a.ia.error("IndexedDB open exception occurred",d);return Promise.reject({Y:l.u.CKa,cause:d});});};h.prototype.Xub=function(a){try{return 0<a.result.objectStoreNames.length;}catch(T){this.ki.mark(M.si.MKa);this.ia.error("failed to check open request state",T);}return!1;};a=h;a=g.__decorate([p.N(),g.__param(0,p.l(d.ob)),g.__param(1,p.l(r.EN)),g.__param(2,p.l(A.hx)),g.__param(3,p.l(m.Zea)),g.__param(4,p.l(x.qx))],a);c.xKa=a;f.prototype.create=function(a){return Promise.resolve(new k.sLa(this.config,this.yt,a));};a=f;a=g.__decorate([p.N(),g.__param(0,p.l(r.EN)),g.__param(1,p.l(A.hx))],a);c.uLa=a;b.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.sI||(this.sI=this.uC(this.avb));return this.sI;};b.prototype.uC=function(a){var b;a=void 0===a?[]:a;b=this;return new Promise(function(d,c){b.ki.mark(M.si.QQa);b.wI.create().then(function(f){b.Ch.create(f).then(function(g){Promise.all(a.map(function(a){return a.ip(g);})).then(function(){b.storage=g;d(b.storage);})["catch"](function(a){b.ia.debug("DB validation failed, cause: "+a);b.config.Sra?(b.ia.debug("Fixing corrupt DB"),b.wI.hn(f).then(function(){b.ia.error("Invalid database deleted, creating new database.");b.uC().then(function(a){b.ia.error("Invalid database successfully recreated.");b.storage=a;d(b.storage);});})["catch"](function(a){b.ia.error("Couldn't delete invalid database.");c(a);})):(b.ia.debug("Ignoring invalid DB due to config"),b.storage=g,d(b.storage));});})["catch"](function(a){c(a);});})["catch"](function(a){c(a);});});};a=b;a=g.__decorate([p.N(),g.__param(0,p.l(d.ob)),g.__param(1,p.l(r.EN)),g.__param(2,p.l(G.Yea)),g.__param(3,p.l(G.Afa)),g.__param(4,p.hz(K.Pia)),g.__param(5,p.l(x.qx))],a);c.vLa=a;},function(g,c,a){var f,h,p;function b(a){this.ct=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);a=a(162);b.prototype.load=function(a){var b;b=this;return new Promise(function(d,c){var f,g;try{f=b.ct.getItem(a);if(f){g=f;if("{"===f[0])try{g=JSON.parse(f)||f;}catch(A){}d({key:a,value:g});}else c({Y:h.u.rp});}catch(A){c({Y:h.u.Fia,cause:A});}});};b.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(f,g){if(c&&d.ct.getItem(a))f(!1);else try{"string"===typeof b?d.ct.setItem(a,b):d.ct.setItem(a,JSON.stringify(b));f(!0);}catch(A){g({Y:h.u.Gia,cause:A});}});};b.prototype.remove=function(a){var b;b=this;return new Promise(function(d,c){try{b.ct.removeItem(a);d();}catch(u){c({Y:h.u.LZ,cause:u});}});};b.prototype.loadAll=function(){return Promise.reject("Not supported");};b.prototype.eK=function(){return Promise.reject("Not supported");};b.prototype.removeAll=function(){return Promise.reject("Not supported");};p=b;p=g.__decorate([f.N(),g.__param(0,f.l(a.GNa))],p);c.PLa=p;},function(g,c,a){var f,h,p,d,k;function b(a,b,c){this.zj=b;this.config=c;this.ia=a.lb(d.PZ);}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(7);p=a(62);d=a(406);a=a(405);b.prototype.ip=function(a){return this.config.enabled?this.config.timeout?this.zj.nl(this.config.timeout,this.Cqa(a)):this.Cqa(a):Promise.resolve();};b.prototype.Cqa=function(a){var b;b=this;return new Promise(function(d,c){return a.save("indexdb-test","true",!0).then(function(){return a.load("indexdb-test").then(function(f){"true"!==f.value&&c();b.ia.debug("save/load test passed");a.remove("indexdb-test").then(function(){d();})["catch"](function(){b.ia.error("Failed to remove testValue");d();});});})["catch"](function(a){return c(a);});});};k=b;k=g.__decorate([f.N(),g.__param(0,f.l(h.ob)),g.__param(1,f.l(p.hx)),g.__param(2,f.l(a.Dda))],k);c.oHa=k;},function(g,c,a){var b,f,h,p,d,k,m,l,n,r,A,K,x,G,M,R,C;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(407);f=a(63);h=a(162);p=a(824);d=a(404);k=a(823);m=a(405);l=a(161);n=a(822);r=a(820);A=a(819);K=a(818);x=a(63);G=a(403);M=a(816);R=a(402);C=a(815);c.storage=new g.ac(function(a){a(h.Mga).Sf(function(){return function(){return J.localStorage;};});a(h.Zea).Sf(function(){return function(){return J.indexedDB;};});a(G.Aga).to(M.hNa).Z();a(x.jp).to(K.hFa).Z();a(d.Rfa).to(k.PLa).Z();a(b.EN).to(r.tLa).Z();a(l.Afa).to(n.uLa).Z();a(f.Pia).to(p.oHa).Z();a(l.Yea).to(n.xKa).Z();a(l.MY).to(n.vLa).Z();a(m.Dda).to(A.pHa).Z();a(R.bea).to(C.MIa).Z();});},function(g,c,a){var f,h,p;function b(a){this.vmb=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(222);a=a(408);b.prototype.W8a=function(){var a,b;a={$I:h.Vw.oSa};b=this.vmb.PresentationRequest;b&&(new b("https://netflix.com").getAvailability()||Promise.reject()).then(function(b){var d;a.$I=b.value?h.Vw.fia:h.Vw.Pca;if(a.$I===h.Vw.Pca){d=function(){b.value&&(a.$I=h.Vw.fia);b.removeEventListener("change",d);};b.addEventListener("change",d);}})["catch"](function(){a.$I=h.Vw.Error;});return a;};p=b;p=g.__decorate([f.N(),g.__param(0,f.l(a.gia))],p);c.JJa=p;},function(g,c,a){var f,h,p;function b(a,b){this.cxa=a;this.log=b.lb("MediaCapabilities");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(410);h=a(7);a=a(1);b.prototype.H4=function(a){var b,d,c;b=this;d={Sc:void 0};if(this.cxa.dxa){c={contentType:'video/mp4;codecs="avc1.640028"',width:a.width,height:a.height,P:1E3*a.P,mS:"24"};this.cxa.H4(c).then(function(a){return d.Sc=Object.assign(Object.assign({},a),c);})["catch"](function(a){return b.log.error("Error calling MediaCapabilities API",a);});}return d;};p=b;p=g.__decorate([a.N(),g.__param(0,a.l(f.tga)),g.__param(1,a.l(h.ob))],p);c.UMa=p;},function(g,c,a){var f,h;function b(a){this.navigator=a;this.dxa="mediaCapabilities"in this.navigator&&"decodingInfo"in this.navigator.mediaCapabilities;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);a=a(37);b.prototype.H4=function(a){return this.dxa?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:a.contentType,width:a.width,height:a.height,bitrate:a.P,framerate:a.mS}}).then(function(a){return{vKb:a.supported,rrb:a.smooth,bmb:a.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};h=b;h=g.__decorate([f.N(),g.__param(0,f.l(a.WA))],h);c.TMa=h;},function(g,c,a){var f,h;function b(a,b,c,g){a=f.ym.call(this,a,b,c)||this;a.Qg=g;a.type=h.Pj.Jia;return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(128);h=a(29);ba(b,f.ym);b.prototype.uJ=function(){return Promise.resolve({SUPPORTS_SECURE_STOP:this.Qg.ji.toString()});};c.XQa=b;},function(g,c,a){var f,h,p;function b(a,b,c,g,p,l){a=f.ym.call(this,a,b,c)||this;a.yn=g;a.Ho=p;a.Sa=l;a.type=h.Pj.vX;a.log=a.Ho.lb("ChromeVideoCapabilityDetector");return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(128);h=a(29);p=a(3);ba(b,f.ym);b.prototype.Jq=function(a){switch(a){case h.Ih.mp:return this.zsb;default:return Promise.resolve(!1);}};b.prototype.mD=function(){var a;a=this;return this.Jq(h.Ih.mp).then(function(a){return a?h.Ih.mp:void 0;}).then(function(b){return a.rI(b);});};b.prototype.o1=function(a){return this.fw=a;};b.prototype.wM=function(){var a;if(this.fw){a=this.oua&&this.pua&&this.oua.me(this.pua).ea(p.ma);this.fw.itshdcp=JSON.stringify({hdcp1:this.Js,time1:a});}};oa.Object.defineProperties(b.prototype,{fk:{configurable:!0,enumerable:!0,get:function(){this.fxa||(this.fxa=this.yn.qJ().then(function(a){return a.createMediaKeys();}));return this.fxa;}},zsb:{configurable:!0,enumerable:!0,get:function(){var a;a=this;this.Bba||(this.config().r7a?this.Bba=this.fk.then(function(b){if(b&&b.getStatusForPolicy)return a.pua=a.Sa.Xe,b.getStatusForPolicy({minHdcpVersion:"1.4"}).then(function(b){a.oua=a.Sa.Xe;a.Js=b;a.log.trace("hdcpStatus: "+a.Js);return"usable"===a.Js;});a.Js="not available";a.log.trace("hdcpStatus: "+a.Js);return!1;})["catch"](function(b){a.Js="exception";a.log.error("Exception in supportsHdcpLevel",{hdcpStatus:a.Js},b);return!1;}).then(function(b){a.wM();return b;}):(this.Js="not enabled",this.log.trace("hdcpStatus: "+this.Js),this.wM(),this.Bba=Promise.resolve(!1)));return this.Bba;}}});c.$Ga=b;},function(g,c,a){var f,h,p,d,k,m,l,n,r,A,K,x,G,M,R,C,E,D,U;function b(a,b,d,c,f,g,k){a=h.ym.call(this,a,b,d)||this;a.ka=c;a.Sa=f;a.Ho=g;a.re=k;a.type=p.Pj.dx;a.CF="hvc1";a.vGa="avc1";a.dza={};a.log=a.Ho.lb("MicrosoftVideoCapabilityDetector");a.sF[p.od.Zq]=n.Md.NF;a.Brb();a.ZL&&a.config().Vhb?a.Q6a=a.p4a():(a.Q6a=Promise.resolve(""),a.config().Xhb?a.t4a():a.config().Whb&&a.s4a());return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(66);h=a(128);p=a(29);g=a(97);d=a(136);k=a(102);m=a(3);l=a(233);n=a(129);r=a(223);A="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8".split(" ");K="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8".split(" ");x="decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1".split(" ");G="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1".split(" ");M="decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05".split(" ");R="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05".split(" ");C=["hdcp=1"];E=["hdcp=2"];D=new g.ox();U=new l.mX();ba(b,h.ym);b.prototype.Jq=function(a){switch(a){case p.Ih.mp:return this.JCa();case p.Ih.Yw:return this.YK;default:return Promise.resolve(!1);}};b.prototype.jD=function(){return this.ZL?this.Gdb?this.JCa().then(function(a){return Promise.resolve(a?d.ib.md:d.ib.qG);}):Promise.resolve(d.ib.qG):this.Asb?Promise.resolve(d.ib.qG):Promise.resolve(d.ib.qp);};b.prototype.$L=function(){return this.ysb();};b.prototype.bM=function(){return this.ZL&&this.LCa()?this.YK:Promise.resolve(!1);};b.prototype.YL=function(){return this.xsb();};b.prototype.o1=function(a){this.fw=a;Object.assign(this.fw,this.dza);a.itshwdrm=this.ZL;a.itsqhd=this.KCa();a.itshevc=this.LCa();a.itshdr=this.$L();a.itsdv=this.YL();return a;};b.prototype.BH=function(a,b){(this.fw?this.fw:this.dza)[a]=b;};b.prototype.mD=function(){var a;a=this;return this.Jq(p.Ih.Yw).then(function(b){return b?a.rI(p.Ih.Yw):a.Jq(p.Ih.mp).then(function(b){return b?a.rI(p.Ih.mp):a.rI(void 0);});});};b.prototype.uJ=function(){return this.jD().then(function(a){return a===d.ib.md?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};b.prototype.I4=function(a){var b;b=this;return a.filter(function(a){var c,g;for(var c=P(b.yq),f=c.next();!f.done;f=c.next())if(f.value.test(a))return!0;c=P(b.ml);for(f=c.next();!f.done;f=c.next())if(f.value.test(a))return!1;a=b.z$[a];c=[];g=d.ib.qp;if(a)return b.is.Ci(a)?f=a:(c=a.ed,f=a.De,g=a.Fe),b.Ou(g,f,c);});};b.prototype.fy=function(){var a;a=h.ym.prototype.fy.call(this);a[f.ca.AG]="vp09.00.11.08.02";a[f.ca.BG]="vp09.00.11.08.02";a[f.ca.CG]="vp09.00.11.08.02";a[f.ca.jY]={De:"hev1.2.6.L90.B0",Fe:d.ib.md,ed:A};a[f.ca.mY]={De:"hev1.2.6.L93.B0",Fe:d.ib.md,ed:A};a[f.ca.pY]={De:"hev1.2.6.L120.B0",Fe:d.ib.md,ed:A};a[f.ca.sY]={De:"hev1.2.6.L123.B0",Fe:d.ib.md,ed:A};a[f.ca.QF]={De:"hev1.2.6.L150.B0",Fe:d.ib.md,ed:A};a[f.ca.RF]={De:"hev1.2.6.L153.B0",Fe:d.ib.md,ed:A};a[f.ca.kY]={De:"hev1.2.6.L90.B0",Fe:d.ib.md,ed:A};a[f.ca.nY]={De:"hev1.2.6.L93.B0",Fe:d.ib.md,ed:A};a[f.ca.qY]={De:"hev1.2.6.L120.B0",Fe:d.ib.md,ed:A};a[f.ca.tY]={De:"hev1.2.6.L123.B0",Fe:d.ib.md,ed:A};a[f.ca.uY]={De:"hev1.2.6.L150.B0",Fe:d.ib.md,ed:A};a[f.ca.vY]={De:"hev1.2.6.L153.B0",Fe:d.ib.md,ed:A};a[f.ca.tN]={De:"hev1.2.6.L90.B0",Fe:d.ib.md,ed:x};a[f.ca.uN]={De:"hev1.2.6.L93.B0",Fe:d.ib.md,ed:x};a[f.ca.vN]={De:"hev1.2.6.L120.B0",Fe:d.ib.md,ed:x};a[f.ca.wN]={De:"hev1.2.6.L123.B0",Fe:d.ib.md,ed:G};a[f.ca.eY]={De:"hev1.2.6.L150.B0",Fe:d.ib.md,ed:G};a[f.ca.gY]={De:"hev1.2.6.L153.B0",Fe:d.ib.md,ed:G};a[f.ca.eN]={De:"hev1.2.6.L90.B0",Fe:d.ib.md,ed:M};a[f.ca.fN]={De:"hev1.2.6.L93.B0",Fe:d.ib.md,ed:M};a[f.ca.gN]={De:"hev1.2.6.L120.B0",Fe:d.ib.md,ed:M};a[f.ca.hN]={De:"hev1.2.6.L123.B0",Fe:d.ib.md,ed:R};a[f.ca.iN]={De:"hev1.2.6.L150.B0",Fe:d.ib.md,ed:R};a[f.ca.EX]={De:"hev1.2.6.L153.B0",Fe:d.ib.md,ed:R};return a;};b.prototype.Ou=function(a,b,d){a=r.ex.YQ(a,b,d);return this.ks(a);};b.prototype.KCa=function(){return this.Ou(d.ib.md,this.CF,A);};b.prototype.ysb=function(){return this.Ou(d.ib.md,this.CF,x);};b.prototype.xsb=function(){return this.Ou(d.ib.md,this.CF,M);};b.prototype.LCa=function(){return this.Ou(d.ib.md,this.CF,K);};b.prototype.JCa=function(){var a;a=this;return this.YK.then(function(b){return b?Promise.resolve(b):a.Mza;});};b.prototype.wM=function(){this.fw&&(this.fw.itshdcp=JSON.stringify({hdcp1:this.mua,time1:this.$Ca-this.wCa,hdcp2:this.nua,time2:this.aDa-this.xCa}));};b.prototype.Brb=function(){var a;a=this;this.ZL?(this.k$=new k.aj(),this.l$=new k.aj(),this.Mza=k.Da.from(this.k$).nM().then(function(a){return"probably"===a;}),this.YK=k.Da.from(this.l$).nM().then(function(a){return"probably"===a;}),this.dCa(this.l$,this.config().Zhb),this.mza(this.zab.bind(this),this.l$),this.YK.then(function(b){b||(a.dCa(a.k$,a.config().Yhb),a.mza(a.yab.bind(a),a.k$));})):(this.Mza=Promise.resolve(!0),this.YK=Promise.resolve(!1));};b.prototype.mza=function(a,b){k.Da.yt(0,this.config().$hb).map(function(){return a();}).ML(function(a){return"maybe"===a;}).map(function(a){b.next(a);b.complete();}).jM(k.Da.from(b)).nM();};b.prototype.dCa=function(a,b){this.ka.hg(m.Db(b),function(){a.next("timeout");a.complete();});};b.prototype.yab=function(){var a;a=r.ex.YQ(d.ib.qG,this.vGa,C).split("|");this.mua=r.ex.Aba(a[0],a[1]);this.$Ca=this.Sa.Xe.ea(m.ma);this.wCa=this.wCa||this.$Ca;this.wM();return this.mua;};b.prototype.zab=function(){var a;a=r.ex.YQ(d.ib.md,this.CF,E).split("|");this.nua=r.ex.Aba(a[0],a[1]);this.aDa=this.Sa.Xe.ea(m.ma);this.xCa=this.xCa||this.aDa;this.wM();return this.nua;};b.prototype.p4a=function(){var a;a=this;return this.i3(d.ib.md,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=</ServerCert></DriverInfo></PlayReadyCDMData>').then(function(b){a.log.debug("DriverInfo: "+b);return b;})["catch"](function(b){a.BH("itsDriverInfo","exception");a.log.error("DriverInfo exception",b);throw b;});};b.prototype.s4a=function(){var a;a=this;this.i3(d.ib.qp,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(b){var d;d=String.fromCharCode.apply(void 0,a.re.decode(b));a.BH("itsHardwareInfo",d);a.log.debug("HardwareInfo: "+d);return b;})["catch"](function(b){a.BH("itsHardwareInfo","exception");a.log.error("HardwareInfo exception",b);throw b;});};b.prototype.t4a=function(){var a;a=this;this.i3(d.ib.qp,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(b){var d;d=String.fromCharCode.apply(void 0,a.re.decode(b));a.BH("itsHardwareReset",d);a.log.debug("ResetHardwareDRMDisabled: "+d);return b;})["catch"](function(b){a.BH("itsHardwareReset","exception");a.log.error("ResetHardwareDRMDisabled exception",b);throw b;});};b.prototype.i3=function(a,b){var d;d=this;return new Promise(function(c,f){var t,n,q;function g(a){try{p(a.target,"Unexpectedly got an mskeyerror event: 0x"+U.jJ(a&&a.target&&a.target.error&&a.target.error.xKb||0,4));}catch(ma){p(a.target,ma);}}function h(a){p(a.target,"Unexpectedly got an mskeyadded event");}function k(a){var b;try{b=d.C4(a.message,"PlayReadyKeyMessage","Challenge");l(a.target);c(b);}catch(Fa){p(a.target,Fa);}}function p(a,c){d.log.error("PlayReadyChallenge error",{cdmData:b});l(a);f(c);}function l(a){a.removeEventListener("mskeymessage",k);a.removeEventListener("mskeyadded",h);a.removeEventListener("mskeyerror",g);t&&t.cancel();}try{n=new Uint8Array(D.dsb(b));q=new J.MSMediaKeys(a).createSession("video/mp4",new Uint8Array(0),n);q.addEventListener("mskeymessage",k);q.addEventListener("mskeyadded",h);q.addEventListener("mskeyerror",g);t=d.ka.hg(m.Db(1E3),function(){p(q,Error("timeout"));});}catch(xa){f(xa);}});};b.prototype.C4=function(a,b){var d,c,f,g;for(var d=1;d<arguments.length;++d);d="";f=a.length;for(c=0;c<f;c++)g=a[c],0<g&&(d+=String.fromCharCode(g));f="\\s*(.*)\\s*";for(c=arguments.length-1;0<c;c--){g=arguments[c];if(0>d.search(g))return;g="(?:[^:].*:|)"+g;f="[\\s\\S]*<"+g+"[^>]*>"+f+"</"+g+">[\\s\\S]*";}if(d=d.match(new RegExp(f)))return d[1];};oa.Object.defineProperties(b.prototype,{Gdb:{configurable:!0,enumerable:!0,get:function(){return this.config().q7a&&(!this.config().aib||this.KCa());}},ZL:{configurable:!0,enumerable:!0,get:function(){try{return this.ks(d.ib.md);}catch(Q){return!1;}}},Asb:{configurable:!0,enumerable:!0,get:function(){try{return this.ks(d.ib.qG);}catch(Q){return!1;}}}});c.GMa=b;b.jF='video/mp4;codecs="{0},mp4a";';},function(g,c,a){var f,h,p,d,k;function b(a,b,c,g){a=d.GX.call(this,a,b)||this;a.is=c;a.platform=g;a.type=f.Lw.dx;return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(29);h=a(66);p=a(136);d=a(411);k=a(223);ba(b,d.GX);b.prototype.XL=function(){return this.config().NI&&this.Ou(p.ib.qp,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]);};b.prototype.fy=function(){var a;a={};a[h.Xi.xN]="mp4a.40.2";a[h.Xi.hY]="mp4a.40.5";this.config().k4&&(a[h.Xi.yN]="mp4a.40.2");"browser"===this.platform.sqa?this.config().NI&&(a[h.Xi.cN]={De:"avc1",Fe:p.ib.qp,ed:["audio-endpoint-codec=DD+JOC"]},a[h.Xi.dN]={De:"avc1",Fe:p.ib.qp,ed:["audio-endpoint-codec=DD+JOC"]}):(this.config().i4&&(a[h.Xi.cN]="ec-3"),this.config().h4&&(a[h.Xi.yX]="ec-3"),this.config().NI&&(a[h.Xi.dN]={De:"avc1",Fe:p.ib.qp,ed:["audio-endpoint-codec=DD+JOC"]}));return a;};b.prototype.I4=function(a){var b;b=this;return a.filter(function(a){var d,f;for(var d=P(b.yq),c=d.next();!c.done;c=d.next())if(c.value.test(a))return!0;d=P(b.ml);for(c=d.next();!c.done;c=d.next())if(c.value.test(a))return!1;a=b.z$[a];d=[];f=p.ib.qp;if(a)return b.is.Ci(a)?c=a:(d=a.ed,c=a.De,f=a.Fe),b.Ou(f,c,d);});};b.prototype.Ou=function(a,b,d){a=k.ex.YQ(a,b,d);return this.ks(a);};c.lNa=b;},function(g,c,a){var f,h,p,d,k,m,l,n,r,A,K,x,G,M,R,C,E,D,J;function b(a,b,d,c,f,g,h,k,m,p,l){this.wva=a;this.cast=b;this.config=d;this.ka=c;this.Sa=f;this.is=g;this.yn=h;this.Ho=k;this.Qg=m;this.platform=p;this.re=l;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(29);p=a(225);d=a(163);k=a(224);m=a(832);l=a(831);n=a(128);r=a(411);A=a(30);K=a(42);x=a(21);G=a(830);M=a(118);R=a(7);C=a(829);E=a(64);D=a(72);a=a(41);b.prototype.a4a=function(a){var b;b=this.wva.Cpa();switch(a){case h.Lw.dx:return new m.lNa(this.config,b,this.is,this.platform);default:return new r.GX(this.config,b);}};b.prototype.N4a=function(a){var b;b=this.wva.Cpa();switch(a){case h.Pj.tX:a=new k.tda(this.config,b,this.is,this.cast);break;case h.Pj.vX:a=new G.$Ga(this.config,b,this.is,this.yn,this.Ho,this.Sa);break;case h.Pj.dx:a=new l.GMa(this.config,b,this.is,this.ka,this.Sa,this.Ho,this.re);break;case h.Pj.Jia:a=new C.XQa(this.config,b,this.is,this.Qg);break;default:a=new n.ym(this.config,b,this.is);}return a;};J=b;J=g.__decorate([f.N(),g.__param(0,f.l(p.Gfa)),g.__param(1,f.l(k.uX)),g.__param(2,f.l(d.kN)),g.__param(3,f.l(A.pg)),g.__param(4,f.l(K.Kj)),g.__param(5,f.l(x.we)),g.__param(6,f.l(M.cx)),g.__param(7,f.l(R.ob)),g.__param(8,f.l(E.Wn)),g.__param(9,f.l(D.pp)),g.__param(10,f.l(a.Jj))],J);c.QGa=J;},function(g,c,a){var f,h,p,d,k,m;function b(a,b,d){this.config=a;this.dqa=b;this.cast=d;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(225);p=a(163);d=a(29);k=a(224);m=a(223);b.prototype.Cpa=function(){switch(this.config().UW){case d.Pj.tX:return k.tda.d3(this.dqa,this.cast);case d.Pj.dx:return m.ex.d3(this.config);default:return this.dqa;}};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(p.kN)),g.__param(1,f.l(h.Mha)),g.__param(2,f.l(k.uX))],a);c.BLa=a;},function(g,c,a){var f,h,p,d,k,m,l,n;function b(a,b,c){this.qR=a;this.Ba=b;this.XE=c;this.sYa="video/mp4;codecs={0}";this.$Sa="audio/mp4;codecs={0}";a=this.qR.vS(h.od.Zq);this.rYa=d.Md.Fpa(a);}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(29);p=a(1);d=a(129);k=a(21);m=a(231);l=a(414);n=a(9);b.prototype.tI=function(a){a=this.qR.Cab(a);a=this.Ba.Ql(a)?a:h.od.uG;return this.XE.format(this.sYa,this.rYa[a]);};b.prototype.nI=function(a){return 0===a.length?this.XE.format(this.$Sa,d.Md.cX):l.Zca[a[0].gf]===f.VEa?n.$w:n.mMa;};a=f=b;a.VEa="AAC";a=f=g.__decorate([p.N(),g.__param(0,p.l(h.IX)),g.__param(1,p.l(k.we)),g.__param(2,p.l(m.SZ))],a);c.lRa=a;},function(g,c,a){var f,h,l,d,k,m;function b(a,b,d){this.config=a;this.yoa=b;this.Clb=d;this.Kmb=this.F4a();}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(29);h=a(163);l=a(1);d=a(66);k=a(416);a=a(415);b.prototype.dcb=function(){return this.xsa().Lta();};b.prototype.ecb=function(){return this.$p().Lta();};b.prototype.xsa=function(){this.M1&&this.M1.type==this.config().N1||(this.M1=this.yoa.a4a(this.config().N1));return this.M1;};b.prototype.$p=function(){this.TW&&this.TW.type==this.config().UW||(this.TW=this.yoa.N4a(this.config().UW),this.TW.o1(this.Clb.pab()));return this.TW;};b.prototype.Cab=function(a){var c;if(!a||!a.length)return f.od.sN;a=this.l9a(a);for(var b=[f.od.uG,f.od.sN,f.od.hO,f.od.cr,f.od.Zq,f.od.wA,f.od.au,f.od.Eh],d=b.length;d--;){c=b[d];if((0,this.Kmb[c])(a))return c;}return f.od.uG;};b.prototype.Jq=function(a){return this.$p().Jq(a);};b.prototype.ks=function(a){return this.$p().ks(a);};b.prototype.jD=function(){return this.$p().jD();};b.prototype.$L=function(){return this.$p().$L();};b.prototype.XL=function(){return this.xsa().XL();};b.prototype.YL=function(){return this.$p().YL();};b.prototype.bM=function(){return this.$p().bM();};b.prototype.vS=function(a){return this.$p().vS(a);};b.prototype.mD=function(){return this.$p().mD();};b.prototype.uJ=function(){return this.$p().uJ();};b.prototype.l9a=function(a){var b;b={};a.filter(function(a){return"video"===a.type;}).forEach(function(a){b[a.gf]="";});return Object.keys(b);};b.prototype.F4a=function(){var a;a={};a[f.od.Eh]=function(a){return a.some(function(a){return-1<a.indexOf("av1");});};a[f.od.wA]=function(a){return a.some(function(a){return-1<a.indexOf("hpl");});};a[f.od.au]=function(a){return a.some(function(a){return-1<a.indexOf("vp9");});};a[f.od.Zq]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-dv");});};a[f.od.cr]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-hdr");});};a[f.od.hO]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-main10-L")||-1<a.indexOf("hevc-main-L");});};a[f.od.sN]=function(a,b){var d;d={};a.forEach(function(a){return d[a]=1;});a=P(b);for(b=a.next();!b.done;b=a.next())if(d[b.value])return!0;}.bind(null,[d.ca.rN]);a[f.od.uG]=function(){return!0;};return a;};m=b;m=g.__decorate([l.N(),g.__param(0,l.l(h.kN)),g.__param(1,l.l(a.rda)),g.__param(2,l.l(k.Cea))],m);c.FIa=m;},function(g,c,a){var b,f,h,l,d,k,m,t,n,r,A,K,x,G,M,R,C,E,D,U;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(29);f=a(17);h=a(836);l=a(163);d=a(113);k=a(835);m=a(225);t=a(834);n=a(416);r=a(415);A=a(833);K=a(224);x=a(8);G=a(410);M=a(828);R=a(409);C=a(827);E=a(222);D=a(826);U=a(408);c.qR=new g.ac(function(a){a(d.cB).to(k.lRa).Z();a(b.IX).to(h.FIa).Z();a(m.Gfa).to(t.BLa).Z();a(r.rda).to(A.QGa).Z();a(m.Mha).Dh({isTypeSupported:x.TA&&x.TA.isTypeSupported});a(K.uX).Dh("undefined"!==typeof cast?cast:null);a(n.Cea).jA(function(){return{pab:function(){return J._cad_global.platformExtraInfo;}};});a(l.kN).jA(function(a){return a.ec.get(f.ld);});a(G.tga).to(M.TMa).Z();a(R.sga).to(C.UMa).Z();a(E.Bea).to(D.JJa).Z();a(U.gia).Dh(J);});},function(g,c,a){function b(a){this.I6a=void 0===a?10:a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);a=a(1);b=g.__decorate([a.N()],b);c.JRa=b;},function(g,c,a){var f,h;function b(a){this.ntb=a;this.xW={};}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);a=a(226);b.prototype.F$a=function(){var a,b,c;a=[];for(b in this.xW){c=this.xW[b];a.push({Qu:Number(b),eA:c.Xk().eA,Z3:c.Xk().Z3});}return a;};b.prototype.eQ=function(a){var b,c;b=a.Qu;c=this.xW[b];c||(c=this.ntb(),this.xW[b]=c);c.eQ(a);};h=b;h=g.__decorate([f.N(),g.__param(0,f.l(a.WZ))],h);c.XGa=h;},function(g,c,a){var f,h,l,d;function b(a){this.config=a;this.jba=h.Ff;this.RE=[];}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(35);l=a(3);a=a(418);b.prototype.Xk=function(){var b;for(var a;0<this.RE.length;)a=this.RE.shift(),this.Nma(a);a=void 0===this.JI||void 0===this.iy?l.Ff:this.iy.me(this.JI);b=a.zva()?0:this.jba.ea(h.yA)/a.ea(l.ma);return{eA:Math.floor(b),Z3:a.ea(l.ma)};};b.prototype.eQ=function(a){this.jba=this.jba.add(a.size);this.RE.push(a.H6a);for(this.RE.sort(function(a,b){return a.start.Rk(b.start);});this.RE.length>this.config.I6a;)a=this.RE.shift(),this.Nma(a);};b.prototype.Nma=function(a){void 0===this.JI&&(this.JI=a.start);void 0!==this.iy&&0>this.iy.Rk(a.start)&&(this.JI=this.JI.add(a.start.me(this.iy)));if(void 0===this.iy||0>this.iy.Rk(a.end))this.iy=a.end;};d=b;d=g.__decorate([f.N(),g.__param(0,f.l(a.bja))],d);c.KRa=d;},function(g,c,a){var b,f,h,l,d,k;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(840);f=a(839);h=a(838);l=a(417);d=a(418);k=a(226);c.fA=new g.ac(function(a){a(k.cja).to(b.KRa);a(l.uda).to(f.XGa).Z();a(d.bja).Dh(new h.JRa());a(k.WZ).Sf(function(a){return function(){return a.ec.get(k.cja);};});});},function(g,c,a){var f,h,l,d,k,m;function b(a,b,d,c,f,g,k,m,l,p,n,q,r,C,E,J){var t;t=this;this.Xd=a;this.Ba=b;this.ya=d;this.Ib=f;this.No=k;this.iI=m;this.HYa=l;this.config=p;this.he=q;this.M=r;this.j=n.create(r,C,E);this.j.background=!0;this.j.Ja=J;this.log=c.lb("VideoPlayer",this.j);this.Vya=[];this.ended=!1;this.KM();this.j.state.addListener(function(a){a.newValue===h.jb.$c&&t.Hd(h.qb.v7,{movieId:r});});this.j.Ya.cg&&(this.gC=g.b4a(this,this.j,this.he),this.j.addEventListener(h.S.yL,function(a){t.Hd(h.qb.Hpb,{segmentId:a.segmentId});}));}Object.defineProperty(c,"__esModule",{value:!0});f=a(2);h=a(15);l=a(3);d=a(8);k=a(76);m=a(18);b.prototype.isReady=function(){return this.j.state.value===h.jb.$c;};b.prototype.gbb=function(){return this.j.M;};b.prototype.p6=function(){return this.j.oa;};b.prototype.yy=function(){return this.j.Zg;};b.prototype.Py=function(){return this.j.wq.value;};b.prototype.Heb=function(){return this.j.paused.value;};b.prototype.xeb=function(){return this.ended;};b.prototype.nj=function(){var a;a=this.j.i2.value;return a?{networkStalled:!!a.iW,stalled:!!a.iW,progress:a.Qi,progressRollback:!!a.Nmb}:null;};b.prototype.getError=function(){var a;a=this.j.Yh;return a?a.Uba():null;};b.prototype.x$a=function(){var a;a=(this.v5()||0)+this.j.Csa();return Math.min(a,this.u5());};b.prototype.v5=function(){return this.j.zy();};b.prototype.u5=function(){return this.j.qs.ea(l.ma);};b.prototype.zcb=function(){return this.j.qF?{width:this.j.qF.width,height:this.j.qF.height}:null;};b.prototype.M$a=function(){var f;if(this.j.Pq){for(var a,b=0;b<this.j.Pq.length;b++)for(var d=this.j.Pq[b],c=0;c<d.oc.length;c++){f=d.oc[c];this.Ba.Xf(f.P4a)&&this.Ba.Xf(f.Jpa)&&this.Ba.Xf(f.Ipa)&&this.Ba.Xf(f.Hpa)&&0<f.Jpa&&(f=f.Hpa/f.Ipa,a=this.Ba.Xf(a)?Math.min(a,f):f);}return a;}};b.prototype.Y$a=function(){var a;a=this;return{addEventListener:this.j.O3.addEventListener,removeEventListener:this.j.O3.removeEventListener,getModel:function(){return a.j.O3.FIb;},getTime:function(){return a.ya.Xb().ea(l.ma);},getGroups:function(){var b;b=a.j.YU;return b?b.xab():[];}};};b.prototype.k$a=function(){var a;a=this;return this.j.Um?this.j.Um.map(function(b){return a.Dy(b);}).filter(function(a){return null!==a;}):[];};b.prototype.Ota=function(a){var b,d;b=this;d=a&&this.j.Um.find(function(d){return b.Dy(d)===a;})||this.j.Nc.value;return null===d?[]:d.Hj.map(function(a){return b.Dy(a);}).filter(function(a){return null!==a;});};b.prototype.Geb=function(){return this.j.muted.value;};b.prototype.Ccb=function(){return this.j.volume.value;};b.prototype.j$a=function(){return this.Dy(this.j.Nc.value);};b.prototype.Nta=function(){return this.Dy(this.j.wc.value);};b.prototype.teb=function(){return!!this.j.background;};b.prototype.xqb=function(a){this.j.muted.set(!!a);};b.prototype.Mqb=function(a){this.j.volume.set(this.hya(a,1));};b.prototype.Bqb=function(a){this.j.playbackRate.set(this.hya(a,2));};b.prototype.gqb=function(a){var b,d;b=this;d=this.j.Um.find(function(d){return b.Dy(d)===a;});d?this.j.Nc.set(d):this.log.error("Invalid setAudioTrack call");};b.prototype.YBa=function(a){var c;if(null!==this.j.Nc.value){for(var b=this.j.Nc.value.Hj,d=0;d<b.length;d++){c=b[d];if(!a&&null===c){this.j.wc.set(null);return;}if(this.Dy(c)===a){this.log.info("Setting Timed Text, profile: "+c.profile);this.j.wc.set(c);return;}}this.log.error("Invalid setTimedTextTrack call");}};b.prototype.LBa=function(a){this.j.background=a;};b.prototype.QL=function(){this.j.QL();};b.prototype.addEventListener=function(a,b,d){this.Ib.addListener(a,b,d);};b.prototype.removeEventListener=function(a,b){this.Ib.removeListener(a,b);};b.prototype.iw=function(){};b.prototype.load=function(){var a;a=this;this.loaded||(this.loaded=!0,this.j.load(function(b,d){try{a.Hd(h.qb.pgb,void 0,!0);b.Ja&&(b.Ja.watermarkInfo&&a.Hd(h.qb.svb,b.Ja.watermarkInfo,!0),b.Ja.choiceMap&&a.Hd(h.qb.Gpb,{segmentMap:b.Ja.choiceMap},!0));d({W:!0});}catch(A){d({Y:f.u.fh,Qa:a.Xd.ud(A)});}}));};b.prototype.close=function(a){var b;b=this;this.Roa||(this.Roa=new Promise(function(d){a?b.j.sd(a,d):b.j.close(d);}));return this.Roa;};b.prototype.play=function(){this.j.jj?this.j.fireEvent(h.S.dBa):(this.load(),this.j.paused.value&&(this.j.paused.set(!1),this.j.fireEvent(h.S.hEa)));};b.prototype.pause=function(){this.load();this.j.paused.value||(this.j.paused.set(!0),this.j.fireEvent(h.S.Vub));};b.prototype.seek=function(a,b,d,c){this.j.Ag?this.j.Ag.seek(a,b,d,c):this.j.Xx=a;};b.prototype.Hlb=function(a){return this.gC?(this.log.trace("Playing a segment",a),this.gC.play(a)):Promise.resolve();};b.prototype.enb=function(a){return this.gC?(this.log.trace("Queueing a segment",a),this.gC.gi(a)):Promise.resolve();};b.prototype.Qn=function(a,b){return this.gC?(this.log.trace("Updating next segment weights",a,b),this.gC.Qn(a,b)):Promise.resolve();};b.prototype.tM=function(){this.j.tM();};b.prototype.KS=function(){var a;a=this.j.Pn.KS();return{bounds:a.YH,margins:a.wn,size:a.size,visibility:a.visibility};};b.prototype.IL=function(a){var b,d,c;b=a.bounds;d=a.margins;c=a.size;a=a.visibility;this.j.mM&&(b&&this.j.mM.Xaa(b),d&&this.j.mM.Yaa(d),"boolean"===typeof a&&this.j.mM.Zaa(a));this.j.Pn&&c&&this.j.Pn.Hqb(c);};b.prototype.$Ba=function(a){this.j.um=a;};b.prototype.pcb=function(a){return this.j.At&&this.j.At.vab(a)||null;};b.prototype.e$a=function(){return this.Xd.gk({playerver:this.config.version,jssid:this.config.efb,groupName:this.config.config.vv,xid:this.j.oa,pbi:this.j.index},this.config.Dlb,{prefix:"pi_"});};b.prototype.Zdb=function(a){this.j.sd(this.he(f.I.pJa,f.u.bj,a));};b.prototype.bgb=function(a,b,d){if(!this.Ba.ona(a))throw Error("invalid url");this.Vya.push({url:a,name:b,u_a:d});this.Iza();};b.prototype.Gta=function(){var a,b,d,c,f,g,h,k;a={};b=this.j.lW;try{if(this.j.Yh&&(a.errorCode=this.j.Yh.tR,a.errorType=b?"endplay":"startplay"),a.playdelay=m.Wl(this.j.voa()),a.xid=this.j.oa,this.j.Ja&&this.Ba.Ci(this.j.Ja.packageId)&&(a.packageId=Number(this.j.Ja.packageId)),a.auth=this.j.m$a(),a.hdr=this.j.Jab(),b){a.totaltime=this.j.il?this.sy(this.j.il.vJ()):0;a.abrdel=this.j.il?this.j.il.ysa():0;d=this.j.Ag;c=d?d.xy():null;this.Ba.Xf(c)&&(a.totdfr=c);c=d?d.mJ():null;this.Ba.Xf(c)&&(a.totcfr=c);f=d?d.Kab():null;f&&(a.rbfrs_decoder=f.F5a,a.rbfrs_network=f.Wib);a.rbfrs_delay=this.j.il?this.j.il.m7:0;a.init_vbr=this.j.lT;g=this.ES();this.Ba.Ql(g)&&(a.pdltime=g);h=this.j.Me.value;k=h&&h.stream;k&&(a.vbr=k.P,a.vdlid=k.Tc);a.bufferedTime=this.j.Csa();}}catch(R){this.log.error("error capturing session summary",R);}return a;};b.prototype.TI=function(a){var b,d,c;b=this;if(this.Ba.Xf(this.j.Qb.value)){d=Object.assign(Object.assign({},this.No.create(this.j)),{action:a});c=this.iI(k.ul.TI);return this.HYa().then(function(a){return c.nn(b.log,a.profile,b.j.Ja.xf,d);}).then(function(){return{success:!0};})["catch"](function(a){return{success:!1,errorCode:a.code,errorSubCode:a.Jc,errorExternalCode:a.wg,errorData:a.data,errorDetails:a.EC};});}return Promise.resolve({success:!1});};b.prototype.Dy=function(a){var b;if(null!==a){b=a.Wmb=a.Wmb||{trackId:a.eb,bcp47:a.Wj,displayName:a.displayName,trackType:a.Ui,channels:a.Pk};a.gq&&(b.isImageBased=!0);this.Keb(a)&&(b.isNative=a.isNative);this.Leb(a)&&(b.isNoneTrack=a.VJ(),b.isForcedNarrative=a.sT());return b;}return null;};b.prototype.Keb=function(a){return"undefined"!==typeof a.isNative;};b.prototype.Leb=function(a){return"undefined"!==typeof a.VJ&&"undefined"!==typeof a.sT;};b.prototype.hya=function(a,b){return 0<=a?a<=b?a:b:0;};b.prototype.sy=function(a){return this.Ba.Xf(a)?(a/1E3).toFixed(0):"";};b.prototype.Hd=function(a,b,d){b=b||{};b.target=this;this.Ib.Jb(a,b,!d);};b.prototype.KM=function(){var a;a=this;this.j.addEventListener(h.S.Kba,function(){a.Hd(h.qb.en);});this.j.addEventListener(h.S.bU,function(){a.Hd(h.qb.joa);});this.j.addEventListener(h.S.Fn,function(){a.Hd(h.qb.joa);});this.j.addEventListener(h.S.tD,function(b){a.Hd(h.qb.tD,{errorCode:b});});this.j.addEventListener(h.S.Q1,function(b){a.Hd(h.qb.v_a,b.j);});this.j.addEventListener(h.S.jj,function(b){a.Hd(h.qb.w_a,b);});this.j.wq.addListener(function(){a.Hd(h.qb.Xlb);});this.j.paused.addListener(function(){a.Hd(h.qb.clb);});this.j.muted.addListener(function(){a.Hd(h.qb.Oib);});this.j.volume.addListener(function(){a.Hd(h.qb.nvb);});this.j.Eb.addListener(function(){a.PDa();});this.j.state.addListener(function(){a.PDa();});this.j.i2.addListener(function(b){a.mgb||a.j.state.value!=h.jb.$c||b.newValue||(a.mgb=!0,a.Hd(h.qb.loaded),setTimeout(function(){a.log.debug.bind(a.log,"summary ",a.Gta());}));a.Hd(h.qb.j2);});this.j.Nc.addListener(function(b){a.Hd(h.qb.OH);b.oldValue&&b.newValue&&b.oldValue.Hj==b.newValue.Hj||a.Hd(h.qb.hA);setTimeout(function(){var b;if(null!==a.j.Nc.value&&null!==a.j.wc.value){b=a.j.Nc.value.Hj;0<=b.indexOf(a.j.wc.value)||(a.log.info("Changing timed text track to match audio track"),a.j.wc.set(b[0]));}},0);});this.j.wc.addListener(function(b){b.oldValue&&b.newValue&&b.oldValue.eb==b.newValue.eb||a.Hd(h.qb.eF);});this.j.addEventListener(h.S.hA,function(){a.Hd(h.qb.hA);});this.j.addEventListener(h.S.rM,function(){a.Hd(h.qb.rM);});this.j.state.addListener(function(b){switch(b.newValue){case h.jb.$c:a.Hd(h.qb.c7a);a.Hd(h.qb.jvb);a.Hd(h.qb.Ona);a.Hd(h.qb.hA);a.Hd(h.qb.ogb);a.Iza();a.xvb();break;case h.jb.CLOSING:a.j.Yh&&a.Hd(h.qb.error,a.j.Yh.Uba());break;case h.jb.CLOSED:a.Hd(h.qb.closed),a.Ib.KC();}});};b.prototype.xvb=function(){var a;a=this;this.j.Pn.addEventListener("showsubtitle",function(b){a.Hd(h.qb.hrb,b,!0);});this.j.Pn.addEventListener("removesubtitle",function(b){a.Hd(h.qb.job,b,!0);});};b.prototype.Iza=function(){if(this.j.state.value==h.jb.$c){for(var a,b,d;b=this.Vya.shift();)a=this.j.Pn.n1(b.url,b.name),b.u_a&&(d=a);d&&this.j.wc.set(d);}};b.prototype.PDa=function(){var a;a=this.j.state.value==h.jb.$c&&this.j.Eb.value==h.hb.ar;this.ended!==a&&(this.ended=a,this.Hd(h.qb.j8a));};b.prototype.ES=function(){var a,b;try{a=/playercore.*js/;b=d.gr.getEntriesByType("resource").filter(function(b){return null!==a.exec(b.name);});if(b&&0<b.length)return JSON.stringify(Math.round(b[0].duration));}catch(y){}};c.xLa=b;},function(g,c,a){var f,h,l,d,k,m,n,u,r,A,K,x;function b(a){this.Wc=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(247);l=a(22);d=a(21);k=a(23);m=a(7);n=a(70);u=a(229);r=a(842);A=a(227);K=a(76);x=a(65);b.prototype.C4a=function(a,b,c,f,g,h,p){return new r.xLa(this.Wc.get(l.df),this.Wc.get(d.we),this.Wc.get(k.Pe),this.Wc.get(m.ob),this.Wc.get(n.pN),this.Wc.get(u.NZ),this.Wc.get(A.wZ),this.Wc.get(K.RX),this.Wc.get(x.Xq),a,b,c,f,g,h,p);};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.Bfa))],a);c.vSa=a;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(419);f=a(843);c.hvb=new g.ac(function(a){a(b.uja).to(f.vSa).Z();});},function(g,c,a){var f,h;function b(a){this.config=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);a=a(17);b.prototype.Jza=function(a,b,c){var d;if(this.config().Spb){d=a.metrics;c||(void 0===d?b.jq.transition({isBranching:b.Ya.cg||void 0,isPlaygraph:a.playlistSegment||void 0,srcxid:b.oa,srcmid:b.M,segment:a.segmentId,dataerror:"missingMetrics"}):b.jq.transition({isBranching:b.Ya.cg||void 0,isPlaygraph:a.playlistSegment||void 0,srcxid:b.oa,srcmid:b.M,segment:a.segmentId,srcsegment:d.srcsegment,srcsegmentduration:d.srcsegmentduration,srcoffset:d.srcoffset,seamlessRequested:d.seamlessRequested,transitionType:d.transitionType,delayToTransition:d.delayToTransition,durationOfTransition:d.durationOfTransition,atRequest:d.atRequest,atTransition:d.atTransition,discard:d.discard}));}};h=b;h=g.__decorate([f.N(),g.__param(0,f.l(a.ld))],h);c.ZRa=h;},function(g,c,a){var h;function b(){}function f(a,b,c,f,g){this.debug=a;this.version=b;this.efb=c;this.Dlb=f;this.config=g;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);a=a(1);f.prototype.o5=function(){return this.config.boa;};f.prototype.xta=function(){return this.config.Ylb;};b.prototype.mv=function(a,b,c,g,h){return new f(a,b,c,g,h);};h=b;h=g.__decorate([a.N()],h);c.eRa=h;},function(g,c,a){var l,d,k,m;function b(a,b,d,c,f,g,h,m,l){var p;p=this;this.ja=b;this.j=d;this.aE=c;this.Xv=f;this.ka=g;this.nQ=h;this.he=m;this.lA=l;this.Iz=function(){p.sq&&(p.sq.closed||p.sq.unsubscribe(),p.sq=void 0);};this.log=a.lb("SegmentManager",this.j);this.xd=new Map();this.eva=!0;this.j.Ya.cg&&(this.j.addEventListener(k.S.yL,function(a){return p.hkb(a);}),this.j.addEventListener(k.S.closed,this.Iz));}function f(a,b){this.id=a;this.z2=b;}function h(a,b,c,f){return d.Qc.call(this,a,c,void 0,void 0,void 0,b,void 0,f)||this;}Object.defineProperty(c,"__esModule",{value:!0});l=a(2);d=a(56);k=a(15);m=a(3);ba(h,d.Qc);h.prototype.toString=function(){return this.code+"-"+this.Jc+" : "+this.message+"\n"+JSON.stringify(this.data);};f.prototype.toJSON=function(){return{id:this.id,contentStartPts:this.om,contentEndPts:this.UC};};oa.Object.defineProperties(f.prototype,{om:{configurable:!0,enumerable:!0,get:function(){return this.z2.startTimeMs;}},UC:{configurable:!0,enumerable:!0,get:function(){return this.z2.endTimeMs;}},$ib:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.z2.next);}}});b.prototype.hkb=function(a){var b,d;b=this;if(0===this.xd.size){d=this.j.uS();Object.keys(d).forEach(function(a){b.xd.set(a,new f(a,d[a]));});}this.fa=this.xd.get(a.segmentId);this.lA.Jza(a,this.j,this.eva);this.eva=!1;};b.prototype.play=function(a){this.Ez&&(this.Ez=void 0);this.Iz();this.log.trace("Playing segment",a);return this.kva(a)?this.Glb(a):this.XU(a);};b.prototype.gi=function(a){this.log.trace("Queueing segment",a);return this.kva(a)?this.dnb(a):this.fnb(a);};b.prototype.Qn=function(a,b){var d,c;d=this;c=this.j.nb;if(!c)return Promise.reject(this.getError(l.I.bda,"ASE session manager is not yet initialized",l.u.lX,{segmentId:a,updates:b}));this.log.trace("Updating next segment weights",a,b);return new Promise(function(f,g){try{c.jca(a,b);d.j.fireEvent(k.S.Qn,{kk:a,zub:b});f();}catch(G){g(d.getError(l.I.bda,"updateNextSegmentWeights threw an exception",l.u.OFa,{segmentId:a,updates:b,error:G}));}});};b.prototype.kva=function(a){return this.fa?void 0!==this.j.uS()[this.fa.id].next[a]:!1;};b.prototype.yta=function(){if(this.j.nb)return this.j.nb.W5().ge;};b.prototype.Abb=function(){if(this.j.nb)return this.j.nb.W5().id;};b.prototype.H$a=function(a){if(this.j.nb)return(a=this.j.nb.Isa(a))&&a.Rc;};b.prototype.Glb=function(a){var b,d,c;b=this;d=this.j.nb;if(!d)return Promise.reject(this.getError(l.I.AF,"ASE session manager is not yet initialized",l.u.lX,{id:a}));if(this.fa&&1===this.fa.$ib.length)return this.XU(a);if(!this.j.Ag)return this.log.warn("MediaPresenter is not initialized",a),Promise.reject(this.getError(l.I.AF,"MediaPresenter is not initialized",l.u.LFa,{id:a}));c=this.H$a(a);return void 0===c?(this.log.error("playNextSegment: branchOffset missing",{segment:a}),this.XU(a)):new Promise(function(f,g){var q,u,r,y,A,x;function h(){!r&&u&&q&&(x.cancel(),r=!0,b.log.trace("Telling ASE to choose the next segment",{id:a,stopped:u,repositioned:q,completed:r}),d.Ru(a,!1,!0)?(f(),r=!0):(r=!0,b.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:a}),b.XU(a).then(f)["catch"](g)));}function p(){q=!0;b.log.trace("Player is repositioned",{id:a,stopped:u,repositioned:q,completed:r});b.j.removeEventListener(k.S.Fn,p);h();}function n(){b.j.removeEventListener(k.S.Kz,n);d.stop();}function t(){u=!0;b.log.trace("ASE is stopped",{id:a,stopped:u,repositioned:q,completed:r});d.removeEventListener("stop",t);h();}q=!1;u=!1;r=!1;y=b.xd.get(a);A=y.om+(c||0);b.log.trace("Seeking to next segment",JSON.stringify({segmentId:a,seekTo:A,currentSegment:b.fa,nextSegment:y},null,"  "));b.j.fireEvent(k.S.AU,{wh:b.fa&&b.fa.id,BU:a});d.addEventListener("stop",t);b.j.addEventListener(k.S.Kz,n);b.j.addEventListener(k.S.Fn,p);x=b.ka.hg(m.Fg(10),function(){r=!0;x.cancel();g(b.getError(l.I.AF,"Timed out waiting for the player to be repositioned and ASE to be stopped",l.u.KFa,{id:a,stopped:u,repositioned:q,completed:r}));});b.ja.seek(A,k.ng.bB);});};b.prototype.XU=function(a){var b;b=this.xd.get(a);return b?this.uBa(b,l.I.AF):Promise.reject(this.getError(l.I.AF,"Unable to find the separated segment",l.u.ada,{id:a}));};b.prototype.dnb=function(a){var b;b=this.j.nb;if(!b)return Promise.reject(this.getError(l.I.Mw,"ASE session manager is not yet initialized",l.u.lX,{id:a}));if(b.Ru(a,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed",{segment:a});return Promise.reject(this.getError(l.I.Mw,"ASE chooseNextSegment failed",l.u.HFa,{id:a}));};b.prototype.fnb=function(a){var b,d;b=this;this.log.error("calls to queueSeparatedSegment are deprecated",{segment:a,mid:this.j.M,srcsegment:this.Abb()});if(this.Ez)return Promise.reject(this.getError(l.I.Mw,"Unable to queue a non-next segment because there is currently already a segment queued",l.u.NFa,{currentSegment:this.fa?this.fa.id:void 0,queuedSegment:this.Ez.id,failedSegment:a}));if(!this.fa)return Promise.reject(this.getError(l.I.Mw,"Unable to queue a non-next segment because there is no currently playing segment",l.u.IFa,{nextSegmentid:a}));d=this.xd.get(a);if(!d)return Promise.reject(this.getError(l.I.Mw,"Unable to find the separated segment",l.u.ada,{nextSegmentid:a,currentSegmentId:this.fa.id}));this.Ez={id:a,rE:new Promise(function(c,f){var g,h;g=b.aE.Apa({xta:function(){return 100;}},function(){return b.ja.j.Qb.value||0;});h=b.yta()-500;b.log.trace("Adding moment for queued segment",{segment:a,pts:h});g.Wma(b.Xv.zpa(a+":lastPts",h));b.sq=g.observe().subscribe(function(){b.log.trace("Moment has arrived",{segment:a,currentSegment:b.fa.id,playerEndPts:b.yta(),pts:h});b.Ez=void 0;b.Iz();b.uBa(d,l.I.Mw).then(c)["catch"](f);},function(d){b.Ez=void 0;b.Iz();f(b.getError(l.I.Mw,"ASE session manager is not yet initialized",l.u.JFa,{id:a,error:d}));});})};this.Ez.rE["catch"](function(a){b.j.sd(b.he(a.code,a));});return Promise.resolve();};b.prototype.uBa=function(a,b){var d;d=this;return new Promise(function(c,f){try{d.ja.seek(a.om,k.ng.kx);c();}catch(x){f(d.getError(b,"Seek threw an exception",l.u.MFa,{id:a.id,error:x}));}});};b.prototype.getError=function(a,b,d,c){this.log.warn(b,c);return new h(a,b,d,c);};c.iGa=b;},function(g,c,a){var d,k,m;function b(a,b,c,f,g,h,m,l,p){var n;n=this;this.ya=a;this.Xv=c;this.aE=f;this.g$=g;this.config=h;this.he=m;this.PK=l;this.y8a=Object.keys(k.qb).map(function(a){return{event:k.qb[a],wv:function(b){return n.Ib.Jb(k.qb[a],b);}};});this.Ib=p.create();this.pw=[];this.log=b.lb("SegmentManager");new d.aj();this.S4=!0;}function f(a,b,c,f,g,k,m,p,n){var t;t=this;this.log=a;this.config=b;this.Gjb=c;this.Xv=f;this.g$=g;this.he=k;this.PK=m;this.Eq=p;this.xa=n;this.Iz=function(){t.sq&&(t.sq.closed||t.sq.unsubscribe(),t.sq=void 0);};this.w6=function(a){t.log.trace("Received the transition event",{movieId:a.M});t.rnb(l(t.xa));};this.log.debug("Constructing session data",h(n));this.W7=new d.aj();this.ctb=new Promise(function(a){t.rnb=a;});}function h(a){return{movieId:a.M};}function l(a){return JSON.stringify({movieId:a.M,startPts:a.U,logicalEnd:a.dm,params:a.cb?{trackingId:a.cb.bh,authParams:a.cb.PH,sessionParams:a.cb.lm,disableTrackStickiness:a.cb.S3,uiPlayStartTime:a.cb.EW,loadImmediately:a.cb.LT,playbackState:a.cb.playbackState?{currentTime:a.cb.playbackState.currentTime,volume:a.cb.playbackState.volume,muted:a.cb.playbackState.muted}:void 0,pin:a.cb.a$,heartbeatCooldown:a.cb.D6,uiLabel:a.cb.ue}:void 0});}Object.defineProperty(c,"__esModule",{value:!0});d=a(102);k=a(15);m=a(3);f.prototype.load=function(a){var b,d;b=this;this.log.trace("Loading new segment",h(this.xa));this.ja=this.g$.C4a(this.config,this.PK,this.he,this.xa.M,this.xa.jl,this.xa.cb,this.xa.RT);this.ja.addEventListener(k.qb.tD,function(a){b.log.trace("Segment is inactive",h(b.xa));b.Eq.close(b.he(a.errorCode));});this.ja.addEventListener(k.qb.closed,this.Iz);if(a)this.log.debug("Pausing background segment",h(this.xa)),this.ja.addEventListener(k.qb.v7,this.w6),this.ja.pause();else{d=function(a){b.w6(a);b.ja.removeEventListener(k.qb.loaded,d);};this.ja.addEventListener(k.qb.loaded,d);}};f.prototype.observe=function(){var a,b,d;a=this;this.log.trace("Observing segment",l(this.xa));if(this.sq)this.log.trace("Segment is currently observing",h(this.xa));else if(this.xa.cb&&this.xa.cb.LT)this.W7.next(this);else{b=this.Gjb.Apa(this.config,function(){var b;if(a.ja){b=a.ja.j.Qb.value;if(b)return b;}return 0;});d=this.Xv.zpa("LOAD",this.G0a(this.xa));this.log.trace("Adding a moment to watch",{name:d.name,time:d.time});b.Wma(d);this.sq=b.observe().subscribe(function(){a.log.trace("Segment has reached its loading point",h(a.xa));a.W7.next(a);a.Iz();});}};f.prototype.close=function(a){this.log.info("Closing segment",{segment:l(this.xa),error:a});return this.ja?(this.ja.removeEventListener(k.qb.v7,this.w6),this.ja.close(a)):Promise.resolve();};f.prototype.G0a=function(a){var b,d;b=a.dm;a=a.cb?a.cb.LT:!1;d=0;b&&!a&&(d=b-this.config.config.bwa,d<this.config.config.Fwa&&(d=b-(b-this.config.config.Fwa)/2));return d;};b.prototype.FS=function(){return this.ce&&this.ce.ja?this.ce.ja.isReady():!1;};b.prototype.Wk=function(){if(!this.ce||!this.ce.ja)throw Error("Player not ready");return this.ce.ja;};b.prototype.q1=function(a){this.log.info("Adding segment",l(a));this.S4?(this.log.trace("First segment, loading",h(a)),a=this.awa(a),this.S4=!1):(this.log.trace("Subsequent segment, caching",h(a)),a=this.Lob(a));return a?a.ctb:null;};b.prototype.transition=function(a){var b;if(this.Vs&&this.Vs.ja){b=this.Vs;this.Vs=void 0;this.log.info("Transitioning segment",l(b.xa));b&&b.ja&&b.ja.$Ba(this.ya.Xb().ea(m.ma));return this.vDa(b,a);}return Promise.resolve();};b.prototype.close=function(a){var b,d;b=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(h(this.ce.xa)),nextSession:this.Vs?JSON.stringify(h(this.Vs.xa)):void 0});d=[this.ce.close(a)];this.Vs&&d.push(this.Vs.close());return new Promise(function(a,c){Promise.all(d).then(function(){b.Vs=void 0;b.pw=[];b.S4=!0;a();})["catch"](c);});};b.prototype.addListener=function(a,b,d){this.Ib.addListener(a,b,d);};b.prototype.removeListener=function(a,b){this.Ib.removeListener(a,b);};b.prototype.awa=function(a){var b,d;b=this;this.log.info("Loading the next episode",h(a));this.ce&&(this.config.o5()[a.M]=a.U);d=this.j9a(a);if(!d)return this.log.warn("Unable to find the session, make sure to add it before loading",h(a)),null;this.log.trace("Found the next session",h(a));d.W7.subscribe(function(a){b.Wsb(a);});this.ce?(this.log.trace("Subsequent playback, caching player and pausing",h(a)),this.Vs=d,d.load(!0)):(this.log.trace("First playback transitioning immediately",h(a)),d.load(!1),this.vDa(d));return d;};b.prototype.vDa=function(a,b){var d,c,f;b=void 0===b?{}:b;this.log.trace("Playing episode",h(a.xa));d=this.ce;this.ce=a;if(this.ce.ja&&(this.ce.ja.LBa(!1),this.KM(this.ce.ja,d?d.ja:void 0),d&&d.ja)){c=d.ja.yy();a=this.ce.ja.yy();f=c.parentElement;c.style.display="none";d=d.close();f.appendChild(a);this.ce.ja&&(a.style.display="block",this.ce.ja.getError()?this.ce.ja.close():(this.ce.ja.j.lub(b),this.ce.ja.QL(),this.ce.ja.play()));d.then(function(){c.parentElement&&c.parentElement.removeChild(c);});return d;}return Promise.resolve();};b.prototype.Wsb=function(a){var b,d,c,f;if(this.pw.length&&a.ja){a=a.ja.j.Qb.value;b=this.pw[0];d=this.ce.xa.dm;c=this.ce.xa.cb?this.ce.xa.cb.LT:!1;if(d||c){c?f=0:d&&(f=d-this.config.config.bwa);null!==a&&a>=f&&(this.log.info("Got a time change, loading the next player",h(b.xa)),this.awa(b.xa),this.pw.splice(0,1));}}};b.prototype.j9a=function(a){return this.ce?this.pw.find(function(b){return b.xa.M===a.M;}):this.rs(a);};b.prototype.Lob=function(a){var d;if(this.ce.xa.M===a.M)return this.Iya(this.ce.xa,a),this.log.trace("Overwrote the currently playing segment data",l(this.ce.xa)),this.ce;for(var b=0;b<this.pw.length;++b){d=this.pw[b];if(d.xa.M===a.M)return this.Iya(d.xa,a),this.log.trace("Overwrote the currently playing segment data",l(d.xa)),d;}a=this.rs(a);this.pw.push(a);this.ce.observe();return a;};b.prototype.Iya=function(a,b){a.U=b.U||a.U;a.dm=b.dm||a.dm;a.cb=b.cb||a.cb;a.RT=b.RT||a.RT;};b.prototype.rs=function(a){return new f(this.log,this.config,this.aE,this.Xv,this.g$,this.he,this.PK,this,a);};b.prototype.KM=function(a,b){this.y8a.forEach(function(d){b&&b.removeEventListener(d.event,d.wv);a.addEventListener(d.event,d.wv);});this.Ib.Jb(k.sG.zL);};c.gRa=b;},function(g,c,a){var f,h,l,d,k,m,n,u,r,A,K,x,G,M;function b(a,b,d,c,f,g,h,k,m,l,p){this.ya=a;this.yf=b;this.Xv=d;this.aE=c;this.ivb=f;this.PK=g;this.ka=h;this.nQ=k;this.lA=m;this.he=l;this.w4=p;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(23);l=a(7);d=a(423);k=a(422);m=a(55);n=a(420);u=a(419);r=a(848);A=a(847);K=a(84);x=a(30);G=a(228);a=a(425);b.prototype.y4a=function(a){return new r.gRa(this.ya,this.yf,this.Xv,this.aE,this.ivb,a,this.he,this.PK,this.w4);};b.prototype.b4a=function(a,b,d){d=void 0===d?this.he:d;return new A.iGa(this.yf,a,b,this.aE,this.Xv,this.ka,this.nQ,d,this.lA);};M=b;M=g.__decorate([f.N(),g.__param(0,f.l(h.Pe)),g.__param(1,f.l(l.ob)),g.__param(2,f.l(d.Dga)),g.__param(3,f.l(k.Ega)),g.__param(4,f.l(u.uja)),g.__param(5,f.l(n.Xha)),g.__param(6,f.l(x.pg)),g.__param(7,f.l(K.eX)),g.__param(8,f.l(G.YZ)),g.__param(9,f.l(m.vk)),g.__param(10,f.l(a.oN))],M);c.fRa=M;},function(g,c,a){var b,f,h,l,d,k;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(229);f=a(421);h=a(849);l=a(846);d=a(228);k=a(845);c.xd=new g.ac(function(a){a(b.NZ).to(h.fRa).Z();a(f.Kia).to(l.eRa).Z();a(d.YZ).to(k.ZRa).Z();});},function(g,c,a){var f;function b(a,b){this.config=a;this.Qb=b;this.wK=[];}Object.defineProperty(c,"__esModule",{value:!0});f=a(102);b.prototype.Wma=function(a){0===this.wK.filter(function(b){return b.h9===a;}).length&&this.wK.push({h9:a,fAa:!1});};b.prototype.observe=function(){var a;a=this;return f.Da.interval(this.config.xta()).Es(function(){var b,d;b=a.Qb();d=a.wK.filter(function(a){return!a.fAa&&a.h9.time<=b;});d.forEach(function(a){a.fAa=!0;});return f.Da.from(d.map(function(a){return a.h9;}));});};c.qNa=b;},function(g,c,a){var f,h;function b(){}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(851);b.prototype.Apa=function(a,b){return new h.qNa(a,b);};a=b;a=g.__decorate([f.N()],a);c.pNa=a;},function(g,c){function a(a,c){this.name=a;this.time=c;if(0==a.length)throw new TypeError("'name' property is not valid: "+a);if(0>c)throw new TypeError("'time' property is not valid: "+c);}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.add=function(b,c){return new a(b,this.time+c);};a.prototype.me=function(b,c){return new a(b,this.time-c);};c.oNa=a;},function(g,c,a){var f,h;function b(){}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(853);b.prototype.zpa=function(a,b){return new h.oNa(a,b);};a=b;a=g.__decorate([f.N()],a);c.nNa=a;},function(g,c,a){var b,f,h,l;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(423);f=a(854);h=a(422);l=a(852);c.wK=new g.ac(function(a){a(b.Dga).to(f.nNa).Z();a(h.Ega).to(l.pNa).Z();});},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.reduce=function(a,b,c){for(;void 0!==a;a=a.cause)c=b(c,a);return c;};},function(g,c,a){var A,K,x,G;function b(a,b){this.re=a;this.Xd=b;this.fd=[];}function f(a){return r.call(this,a,function(a){return{Details:a};})||this;}function h(a){return r.call(this,a,function(a){return JSON.parse(a.toJSON());})||this;}function l(a,b){b=r.call(this,b,function(b){return{Base64:a.encode(b)};})||this;b.re=a;return b;}function d(a,b){b=r.call(this,b,function(a){return a();})||this;b.Xd=a;return b;}function k(a,b){return n.call(this,a,b,function(a){var b;b=K.reduce(a,function(a,b){var d;a.name=void 0!==a.name?a.name+("-"+b.name):b.name;d="";d="undefined"!==typeof b.type&&"undefined"!==typeof b.type.prefix?d+b.type.prefix:d+b.name;"undefined"!==typeof b.number&&(d+=b.number);a.errorCode=void 0!==a.errorCode?a.errorCode+("-"+d):d;k.M1a(b,a,"stack","message");return a;},{});return Object.assign(Object.assign({},a),b);})||this;}function m(a){return r.call(this,a,function(a){return{Exception:a.message||""+a,StackTrace:a.stack||"nostack"};})||this;}function n(a,b,d){b=r.call(this,b,d)||this;b.Xd=a;return b;}function u(a){return r.call(this,a,function(a){return{Details:a};})||this;}function r(a,b){this.Wo=a;this.value=b?b(a):a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);A=a(1);K=a(856);x=a(22);a=a(41);r.prototype.VI=function(a){return this.Wo===a;};ba(u,r);u.prototype.kA=function(a,b){return b?"":"\r\n"+this.Wo;};ba(n,r);n.prototype.kA=function(){var a;a="";this.Xd.cv(this.value,function(b,d){try{a+=", "+b+": "+d;}catch(W){try{a+=", "+b+": "+JSON.stringify(d);}catch(D){a+=", error stringifying "+b;}}});return a.replace(/[\r\n]+ */g," ");};ba(m,r);m.prototype.kA=function(a){var b;b="\r\n"+this.Wo.message;a||(b+="\r\n"+this.Wo.stack);return b;};ba(k,n);k.M1a=function(a,b,d){var g,h;for(var c=[],f=2;f<arguments.length;++f)c[f-2]=arguments[f];for(f=0;f<c.length;++f){g=a[c[f]];if(void 0!==g){h=""+c[f];b[h]=b[h]||[];b[h].push(g);}}};c.nyb=k;ba(d,r);d.prototype.kA=function(){var a;a="";this.Xd.cv(this.value,function(b,d){a+=", "+b+": "+d;});return a.replace(/[\r\n]+ */g," ");};ba(l,r);l.prototype.kA=function(a,b){return this.Wo&&!b?"\r\n"+this.re.encode(this.Wo):"";};ba(h,r);h.prototype.kA=function(){return this.Wo?this.Wo.toJSON():"";};ba(f,r);f.prototype.kA=function(){return", "+(this.Wo.toString?""+this.Wo.toString():"");};b.prototype.jZa=function(a){this.fd.push(new u(a));};b.prototype.$Ya=function(a){this.fd.push(new n(this.Xd,a));};b.prototype.RYa=function(a){this.fd.push(new m(a));};b.prototype.QYa=function(a){this.fd.push(new k(this.Xd,a));};b.prototype.UYa=function(a){this.fd.push(new d(this.Xd,a));};b.prototype.kZa=function(a){this.fd.push(new l(this.re,a));};b.prototype.ZYa=function(a){this.fd.push(new h(a));};b.prototype.lZa=function(a){this.fd.push(new f(a));};b.prototype.lo=function(){return this.fd;};G=b;G=g.__decorate([A.N(),g.__param(0,A.l(a.Jj)),g.__param(1,A.l(x.df))],G);c.VLa=G;},function(g,c,a){var f,h,l,d;function b(a,b){this.re=a;this.Xd=b;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(857);l=a(41);a=a(22);b.prototype.Xab=function(){return new h.VLa(this.re,this.Xd);};d=b;d=g.__decorate([f.N(),g.__param(0,f.l(l.Jj)),g.__param(1,f.l(a.df))],d);c.ULa=d;},function(g,c,a){var f,h;function b(a,b,c,f,g,h,l){this.level=a;this.Ok=b;this.timestamp=c;this.message=f;this.fd=g;this.prefix=h;this.index=void 0===l?0:l;}Object.defineProperty(c,"__esModule",{value:!0});f=a(3);h={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};b.prototype.zW=function(a,b){a=(this.prefix.length?""+this.prefix.join(" ")+" ":"")+this.message+(b?"":" "+this.hsb(!!a));return(this.timestamp.ea(f.ma)/1E3).toFixed(3)+"|"+this.index+"|"+(h[this.level]||this.level)+"|"+this.Ok+"| "+a;};b.prototype.hsb=function(a){var g;for(var b=this.fd.length,c="",f=0;f<b;++f){g=this.fd[f].Wo;f&&c.length&&(c+=" ");if("object"===typeof g)if(null===g)c+="null";else if(g instanceof Error)c+=this.gsb(g,a);else try{c+=JSON.stringify(g);}catch(u){c+=this.fsb(g);}else c+=g;}return c;};b.prototype.gsb=function(a,b){return a.toString()+(a.stack&&!b?"\n"+a.stack:"")+"\n";};b.prototype.fsb=function(a){var b;b=[];return JSON.stringify(a,function(a,d){if("object"===typeof d&&null!==d){if(-1!==b.indexOf(d))return"<cycle>";b.push(d);}return d;});};c.tFa=b;},function(g,c,a){var f,h;function b(a,b,c,g,h,l){a=f.$F.call(this,a,b,c,g)||this;a.u6=h;Array.isArray(l)?a.prefix=l:l&&"string"===typeof l&&(a.prefix=[],a.prefix.push(l));return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(230);h=a(859);ba(b,f.$F);b.prototype.Cu=function(a,b,c){a=new h.tFa(a,this.Ok,this.ya.Xb(),b,c,this.prefix);b=P(this.lk.lk);for(c=b.next();!c.done;c=b.next())c=c.value,c(a);};b.prototype.j3=function(a){return new b(this.ya,this.hs,this.lk,a,this.u6,this.prefix);};c.uFa=b;},function(g,c,a){var f,h,l;function b(a,b,c,g,h){a=l.$F.call(this,a,b,c,h)||this;a.j=g;f.al(a,"playback");return a;}Object.defineProperty(c,"__esModule",{value:!0});f=a(47);h=a(424);l=a(230);ba(b,l.$F);b.prototype.j3=function(a){return new b(this.ya,this.hs,this.lk,this.j,a);};b.prototype.Cu=function(a,b,c){a=new h.Wfa(a,this.Ok,this.ya.Xb(),b,c,this.j.index);b=P(this.lk.lk);for(c=b.next();!c.done;c=b.next())c=c.value,c(a,this.j);};c.FPa=b;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.EnumeratedErrorBase=function(a,b,c,g){this.type=a;this.name=a.name;this.number=b;"string"===typeof c?this.message=c:void 0!==c&&(this.cause=c);void 0!==g&&(this.message=g);};},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(862);c.iC=function(a,c){var d;a=a.Xab();for(var f=0;f<c.length;++f){d=c[f];void 0!=d&&null!=d&&(d.eg&&(d=d.eg),d.constructor===Uint8Array?a.kZa(d):"MediaRequest"===d.constructor.name?a.ZYa(d):"string"===typeof d?a.jZa(d):"function"===typeof d?a.UYa(d):d instanceof Error?a.RYa(d):d instanceof b.EnumeratedErrorBase?a.QYa(d):d instanceof Object?a.$Ya(d):a.lZa(d));}return a.lo();};},function(g,c,a){var f,h,l,d,k,m,n;function b(a,b,d){this.ya=a;this.lk=b;this.c8=d;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(230);h=a(1);l=a(861);d=a(23);k=a(95);m=a(7);n=a(860);b.prototype.lb=function(a,b,d,c,g){d=void 0===d?this.lk:d;return b?new l.FPa(this.ya,this.c8,d,b,a):g?new n.uFa(this.ya,this.c8,d,a,c||"",g):new f.$F(this.ya,this.c8,d,a);};a=b;a=g.__decorate([h.N(),g.__param(0,h.l(d.Pe)),g.__param(1,h.l(k.OA)),g.__param(2,h.l(m.Xfa))],a);c.cMa=a;},function(g,c,a){var f;function b(){this.iba={};this.lk=[];}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.wV=function(a,b){var d;d=this;b&&(this.iba[a]=b,this.lk=Object.keys(this.iba).map(function(a){return d.iba[a];}));};f=b;f=g.__decorate([a.N()],f);c.dMa=f;},function(g,c,a){var b,f,h,l,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(865);f=a(864);g=a(1);h=a(95);l=a(7);d=a(858);c.Jgb=new g.ac(function(a){a(l.ob).to(f.cMa).Z();a(h.OA).to(b.dMa).Z();a(l.Xfa).to(d.ULa).Z();});},function(g,c,a){var f,h;function b(a,b){this.ka=a;this.VQ=b;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);a=a(30);b.prototype.Kb=function(a){this.KC();this.Dj=this.ka.hg(this.VQ,a);};b.prototype.KC=function(){this.Dj&&this.Dj.cancel();this.Dj=void 0;};h=b;h=g.__decorate([f.N(),g.__param(0,f.l(a.pg))],h);c.zIa=h;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.yIa="DebouncerFactorySymbol";},function(g,c,a){var f,h,l;function b(a,b,c){this.ka=a;this.btb=b;this.wv=c;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(30);h=a(1);l=a(3);b.prototype.As=function(){this.Dj||(this.Dj=this.ka.hg(l.Db(this.btb),this.wv));};b.prototype.$g=function(){this.Dj&&this.Dj.cancel();this.Dj=void 0;};a=b;a=g.__decorate([h.N(),g.__param(0,h.l(f.pg))],a);c.URa=a;},function(g,c,a){var f,h,l;function b(a){this.pc=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(22);l=a(8);b.prototype.GZa=function(a){var b;b={enableVP9:!0};67<=this.I$a(l.Oj)&&this.pc.gk(a,b);};b.prototype.I$a=function(a){return(a=a.match(/Chrome\/(\d*)\./))&&Number(a[1])||0;};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.df))],a);c.qSa=a;},function(g,c){function a(){this.searchParams={};}function b(b){this.Jl=b;this.searchParams=new a();}Object.defineProperty(c,"__esModule",{value:!0});b.prototype.toString=function(){return this.href;};oa.Object.defineProperties(b.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return""+this.Jl+this.searchParams.toString();}}});c.pSa=b;a.prototype.get=function(a){return this.searchParams[a];};a.prototype.set=function(a,b){this.searchParams[a]=b;};a.prototype.toString=function(){var a,b;a=this;b=Object.keys(this.searchParams);return 0<b.length?b.reduce(function(b,d,c){return""+b+(0==c?"?":"&")+d+"="+a.searchParams[d];},""):"";};},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.FZ="PrioritizedSetOfListsSymbol";c.ZPa="PrioritizedSetOfListsFactorySymbol";c.$Pa="PrioritizedSetOfSetsFactorySymbol";},function(g,c,a){var f,h,l,d;function b(a,b,d){var c;c=this;this.app=a;this.ka=b;this.VQ=d;this.Xs=function(a){c.Dj=void 0;c.Rtb(a||c.VQ);};this.Kva=l.Db(-this.VQ.ea(l.ma));}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(23);l=a(3);a=a(30);b.prototype.Kb=function(a){this.raa=a;this.Dj=this.Dj||this.Ab(this.Xs);};b.prototype.KC=function(){this.Dj&&this.Dj.cancel();this.Dj=void 0;};b.prototype.Rtb=function(a){var b,d;b=this.app.Xb();if(this.raa){d=a.me(b.me(this.Kva));0>=d.Rk(l.Ff)?(a=this.raa,this.raa=void 0,this.Kva=b,a()):this.Dj=this.Dj||this.ka.hg(d,this.Xs.bind(this,a));}};b.prototype.Ab=function(a){return this.ka.hg(l.Ff,a);};d=b;d=g.__decorate([f.N(),g.__param(0,f.l(h.Pe)),g.__param(1,f.l(a.pg))],d);c.IRa=d;},function(g,c,a){var f,h,l,d,k,m,n,r,y;function b(a,b){this.ya=a;this.config=b;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(1);l=a(23);d=a(56);k=a(2);m=a(15);n=a(3);r=a(8);a=a(432);b.prototype.m6a=function(a){var b,c,g,h,l,p,q,t,r;b=this;l=a.Qb.value;p=a.Vm.value;q=a.Eb.value;t=a.state.value;h={segmentId:a.T5(),mediaTime:l,segmentTime:a.zy(),bufferingState:f.j0a[p],presentingState:f.ymb[q],playbackState:f.Olb[t],mseBuffersBusy:this.Wbb(a),intBuffersBusy:this.Iab(a),tabVisible:this.Gsb(),decodedFrameCount:this.E5a(a),videoElementInDom:this.evb(a),lastVideoSync:this.ya.Xb().me(n.Db(a.fM)).ea(n.ma)};r=q===m.hb.Tf?a.Ya.cg?this.config.zya:this.config.yya:this.config.wxa;p!==m.qf.$c?(c=k.u.yHa,this.hoa(h.mseBuffersBusy,h.intBuffersBusy)&&(g=f.cda)):q!==m.hb.ad&&(c=k.u.zHa,(a=a.Ag)&&a.xb.sourceBuffers.forEach(function(a){var d,c;d=f.Shb[a.O];h[d+"Ranges"]=a.tS();a=a.buffered();if(0===a.length)h[d+"Undecoded"]=0,g=f.PFa;else{c=1E3*a.end(0)-l;h[d+"Undecoded"]=c;1<a.length&&(g=f.QFa);l<1E3*a.start(0)||l>1E3*a.end(0)?g=f.RFa:c<r.ea(n.ma)?g=f.SFa:b.hoa(h.mseBuffersBusy,h.intBuffersBusy)&&(g=f.cda);}}));a="";try{a=JSON.stringify(h);}catch(Q){a="Cannot stringify details: "+Q;}return new d.Qc(k.I.hha,c,g,void 0,void 0,void 0,a,void 0);};b.prototype.Wbb=function(a){var b;if(a.xb){b={};a.xb.sourceBuffers.forEach(function(a){b[0===a.type?"audio":"video"]={updating:a.updating()};});return b;}};b.prototype.Iab=function(a){var b;if(a.xb){b={};a.xb.sourceBuffers.forEach(function(a){b[0===a.type?"audio":"video"]={updating:a.nj()};});return b;}};b.prototype.Gsb=function(){return!r.Nd.hidden;};b.prototype.E5a=function(a){return(a=a.Ag)&&(a=a.xb.La)&&void 0!==a.webkitDecodedFrameCount?a.webkitDecodedFrameCount:NaN;};b.prototype.evb=function(a){if(a=a.Ag)if(a=a.xb.La)return r.Nd.body.contains(a);return!1;};b.prototype.hoa=function(a,b){return!(a.audio.updating===b.audio.updating&&a.video.updating===b.video.updating);};y=f=b;y.PFa="1";y.QFa="2";y.RFa="3";y.cda="4";y.SFa="5";y.Shb=["Audio","Video"];y.j0a=["","NORMAL","BUFFERING","STALLED"];y.ymb=["","WAITING","PLAYING ","PAUSED","ENDED"];y.Olb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];y=f=g.__decorate([h.N(),g.__param(0,h.l(l.Pe)),g.__param(1,h.l(a.Fga))],y);c.DIa=y;},function(g,c,a){var f,h,l,d;function b(a,b){this.ya=a;this.entries=[];this.ia=b.lb("TimingApi");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(23);l=a(3);a=a(7);b.prototype.mark=function(a,b){a={name:a,oa:b,Ysb:this.ya.Xb()};this.entries.push(a);return a;};b.prototype.cbb=function(){return this.entries.slice();};b.prototype.hta=function(){var a;a={};try{a=this.cbb().filter(function(a){return!a.oa;}).reduce(function(a,b){a[b.name]=b.Ysb.ea(l.ma);return a;},{});}catch(m){this.ia.error(" getMapOfCommonMarks exception",m);}return a;};d=b;d=g.__decorate([f.N(),g.__param(0,f.l(h.Pe)),g.__param(1,f.l(a.ob))],d);c.WRa=d;},function(g,c,a){var f,h,l,d;function b(a){return h.VM.call(this,a,"ClockConfigImpl")||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(34);h=a(36);l=a(1);a=a(27);ba(b,h.VM);oa.Object.defineProperties(b.prototype,{eEa:{configurable:!0,enumerable:!0,get:function(){return!1;}}});d=b;g.__decorate([f.config(f.$d,"usePerformanceApi")],d.prototype,"eEa",null);d=g.__decorate([l.N(),g.__param(0,l.l(a.xX))],d);c.dHa=d;},function(g,c,a){var f,h,l,d;function b(a){a=h.VM.call(this,a,"DebugConfigImpl")||this;a.TFb=function(){debugger;};return a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(34);h=a(36);l=a(1);a=a(27);ba(b,h.VM);oa.Object.defineProperties(b.prototype,{e0a:{configurable:!0,enumerable:!0,get:function(){return!1;}}});d=b;g.__decorate([f.config(f.$d,"breakOnError")],d.prototype,"e0a",null);d=g.__decorate([l.N(),g.__param(0,l.l(a.xX))],d);c.AIa=d;},function(g,c,a){var f,h,l,d;function b(a,b,d){this.config=a;this.Ba=b;this.ia=d.lb("General");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(21);l=a(86);a=a(7);b.prototype.assert=function(){};b.prototype.SZa=function(a,b){this.assert(this.Ba.Ql(a),b);};b.prototype.TZa=function(a,b){this.assert(this.Ba.Fd(a),b);};b.prototype.YZa=function(a,b){this.assert(this.Ba.Ci(a),b);};b.prototype.a_a=function(a,b){this.assert(this.Ba.Ik(a),b);};b.prototype.ZZa=function(a,b){this.assert(this.Ba.Ci(a)||null===a||void 0===a,b);};b.prototype.WZa=function(a,b){this.assert(this.Ba.Xf(a),b);};b.prototype.VZa=function(a,b){this.assert(this.Ba.x1(a),b);};b.prototype.$Za=function(a,b){this.assert(this.Ba.Hp(a),b);};b.prototype.XZa=function(a,b){this.assert(this.Ba.wH(a),b);};b.prototype.QZa=function(a,b){this.assert(this.Ba.uH(a),b);};b.prototype.UZa=function(a,b){this.assert(this.Ba.vH(a),b);};b.prototype.peb=function(){this.assert(!1,"invalid operation, this method should not be called");};b.gHb=function(){var a,b;a=Error.captureStackTrace;return b=a?function(d){var c;c={toString:function(){return"";}};a(c,d||b);return c.stack;}:function(){try{throw Error("capture stack");}catch(t){return t.stack;}};};d=b;d=g.__decorate([f.N(),g.__param(0,f.l(l.Vda)),g.__param(1,f.l(h.we)),g.__param(2,f.l(a.ob))],d);c.BIa=d;},function(g,c,a){var f,h,l,d;function b(a,b){this.is=a;this.Xd=b;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(1);l=a(21);a=a(22);b.prototype.encode=function(a){var b,d;b=this;d="";this.Xd.cv(a,function(a,c){a=b.cra(a)+"="+b.cra(c);d=d?d+(","+a):a;});return d;};b.prototype.cra=function(a){return this.is.Ql(a)?this.is.Xf(a)?""+a:this.is.Ci(a)?(a=a.replace(f.rAa,this.$gb.bind(this)),!f.gnb.test(a)&&f.Pib.test(a)&&(a='"'+a+'"'),a):this.is.uH(a)?""+a:this.is.f1(a)?"NaN":"":"";};b.prototype.$gb=function(a){return f.map[a];};d=f=b;d.map={'"':'""',"\r":"","\n":" "};d.rAa=/(?!^.+)["\r\n](?=.+$)/g;d.gnb=/["].*["]/g;d.Pib=/[", ]/;d=f=g.__decorate([h.N(),g.__param(0,h.l(l.we)),g.__param(1,h.l(a.df))],d);c.rHa=d;},function(g,c,a){var f,h,l,d;function b(a,b){this.Sa=a;this.pS=this.Sa.Xe.ea(l.ma)-1;this.Bgb=this.ET=0;this.id=""+b.tC();}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(42);l=a(3);a=a(116);b.prototype.Xb=function(){var a,b;a=this.Sa.Xe.ea(l.ma)-this.pS;if(a<this.ET){b=this.ET+1;this.pS-=b-a;a=b;}this.ET=a;return l.Db(this.ET);};b.prototype.Yab=function(){return this.Bgb++;};oa.Object.defineProperties(b.prototype,{Vy:{configurable:!0,enumerable:!0,get:function(){return l.Db(this.pS);}}});d=b;d=g.__decorate([f.N(),g.__param(0,f.l(h.Kj)),g.__param(1,f.l(a.NA))],d);c.iFa=d;},function(g){g.T="function"===typeof Object.create?function(c,a){c.tsb=a;c.prototype=Object.create(a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});}:function(c,a){function b(){}c.tsb=a;b.prototype=a.prototype;c.prototype=new b();c.prototype.constructor=c;};},function(g){g.T=function(c){return c&&"object"===typeof c&&"function"===typeof c.Qp&&"function"===typeof c.fill&&"function"===typeof c.JJb;};},function(g,c,a){(function(b){var X,O,S,Y,ba,N;function f(a,b){var d;d={zaa:[],Si:l};3<=arguments.length&&(d.depth=arguments[2]);4<=arguments.length&&(d.oC=arguments[3]);x(b)?d.bba=b:b&&c.hUa(d,b);C(d.bba)&&(d.bba=!1);C(d.depth)&&(d.depth=2);C(d.oC)&&(d.oC=!1);C(d.Qpa)&&(d.Qpa=!0);d.oC&&(d.Si=g);return k(d,a,d.depth);}function g(a,b){return(b=f.isb[b])?"\u001b["+f.oC[b][0]+"m"+a+"\u001b["+f.oC[b][1]+"m":a;}function l(a){return a;}function d(a){var b;b={};a.forEach(function(a){b[a]=!0;});return b;}function k(a,b,f){var g,h,l,p,q;if(a.Qpa&&b&&Q(b.oT)&&b.oT!==c.oT&&(!b.constructor||b.constructor.prototype!==b)){g=b.oT(f,a);M(g)||(g=k(a,g,f));return g;}if(g=m(a,b))return g;h=Object.keys(b);l=d(h);a.bba&&(h=Object.getOwnPropertyNames(b));if(U(b)&&(0<=h.indexOf("message")||0<=h.indexOf("description")))return n(b);if(0===h.length){if(Q(b))return a.Si("[Function"+(b.name?": "+b.name:"")+"]","special");if(E(b))return a.Si(RegExp.prototype.toString.call(b),"regexp");if(D(b))return a.Si(Date.prototype.toString.call(b),"date");if(U(b))return n(b);}g="";p=!1;q=["{","}"];K(b)&&(p=!0,q=["[","]"]);Q(b)&&(g=" [Function"+(b.name?": "+b.name:"")+"]");E(b)&&(g=" "+RegExp.prototype.toString.call(b));D(b)&&(g=" "+Date.prototype.toUTCString.call(b));U(b)&&(g=" "+n(b));if(0===h.length&&(!p||0==b.length))return q[0]+g+q[1];if(0>f)return E(b)?a.Si(RegExp.prototype.toString.call(b),"regexp"):a.Si("[Object]","special");a.zaa.push(b);h=p?r(a,b,f,l,h):h.map(function(d){return y(a,b,f,l,d,p);});a.zaa.pop();return A(h,g,q);}function m(a,b){if(C(b))return a.Si("undefined","undefined");if(M(b))return b="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",a.Si(b,"string");if(G(b))return a.Si(""+b,"number");if(x(b))return a.Si(""+b,"boolean");if(null===b)return a.Si("null","null");}function n(a){return"["+Error.prototype.toString.call(a)+"]";}function r(a,b,d,c,f){for(var g=[],h=0,k=b.length;h<k;++h)Object.prototype.hasOwnProperty.call(b,String(h))?g.push(y(a,b,d,c,String(h),!0)):g.push("");f.forEach(function(f){f.match(/^\d+$/)||g.push(y(a,b,d,c,f,!0));});return g;}function y(a,b,d,c,f,g){var h,l;b=Object.getOwnPropertyDescriptor(b,f)||{value:b[f]};b.get?l=b.set?a.Si("[Getter/Setter]","special"):a.Si("[Getter]","special"):b.set&&(l=a.Si("[Setter]","special"));Object.prototype.hasOwnProperty.call(c,f)||(h="["+f+"]");l||(0>a.zaa.indexOf(b.value)?(l=null===d?k(a,b.value,null):k(a,b.value,d-1),-1<l.indexOf("\n")&&(l=g?l.split("\n").map(function(a){return"  "+a;}).join("\n").substr(2):"\n"+l.split("\n").map(function(a){return"   "+a;}).join("\n"))):l=a.Si("[Circular]","special"));if(C(h)){if(g&&f.match(/^\d+$/))return l;h=JSON.stringify(""+f);h.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(h=h.substr(1,h.length-2),h=a.Si(h,"name")):(h=h.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),h=a.Si(h,"string"));}return h+": "+l;}function A(a,b,d){var c;c=0;return 60<a.reduce(function(a,b){c++;0<=b.indexOf("\n")&&c++;return a+b.replace(/\u001b\[\d\d?m/g,"").length+1;},0)?d[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+d[1]:d[0]+b+" "+a.join(", ")+" "+d[1];}function K(a){return Array.isArray(a);}function x(a){return"boolean"===typeof a;}function G(a){return"number"===typeof a;}function M(a){return"string"===typeof a;}function C(a){return void 0===a;}function E(a){return J(a)&&"[object RegExp]"===Object.prototype.toString.call(a);}function J(a){return"object"===typeof a&&null!==a;}function D(a){return J(a)&&"[object Date]"===Object.prototype.toString.call(a);}function U(a){return J(a)&&("[object Error]"===Object.prototype.toString.call(a)||a instanceof Error);}function Q(a){return"function"===typeof a;}function P(a){return 10>a?"0"+a.toString(10):a.toString(10);}function Z(){var a,b;a=new Date();b=[P(a.getHours()),P(a.getMinutes()),P(a.getSeconds())].join(":");return[a.getDate(),ba[a.getMonth()],b].join(" ");}function ea(a,b){var d;if(!a){d=Error("Promise was rejected with a falsy value");d.reason=a;a=d;}return b(a);}X=Object.bHb||function(a){for(var b=Object.keys(a),d={},c=0;c<b.length;c++)d[b[c]]=Object.getOwnPropertyDescriptor(a,b[c]);return d;};O=/%[sdj%]/g;c.format=function(a){if(!M(a)){for(var b=[],d=0;d<arguments.length;d++)b.push(f(arguments[d]));return b.join(" ");}for(var d=1,c=arguments,g=c.length,b=String(a).replace(O,function(a){if("%%"===a)return"%";if(d>=g)return a;switch(a){case"%s":return String(c[d++]);case"%d":return Number(c[d++]);case"%j":try{return JSON.stringify(c[d++]);}catch(mb){return"[Circular]";}default:return a;}}),h=c[d];d<g;h=c[++d])b=null!==h&&J(h)?b+(" "+f(h)):b+(" "+h);return b;};c.X5a=function(a,d){var f;if("undefined"!==typeof b&&!0===b.OIb)return a;if("undefined"===typeof b)return function(){return c.X5a(a,d).apply(this,arguments);};f=!1;return function(){if(!f){if(b.CKb)throw Error(d);b.GKb?console.trace(d):console.error(d);f=!0;}return a.apply(this,arguments);};};S={};c.UFb=function(a){var d;C(Y)&&(Y=b.p8a.DAb||"");a=a.toUpperCase();if(!S[a])if(new RegExp("\\b"+a+"\\b","i").test(Y)){d=b.pJb;S[a]=function(){var b;b=c.format.apply(c,arguments);console.error("%s %d: %s",a,d,b);};}else S[a]=function(){};return S[a];};c.oT=f;f.oC={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};f.isb={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};c.isArray=K;c.ueb=x;c.Ra=function(a){return null===a;};c.QHb=function(a){return null==a;};c.pa=G;c.Sd=M;c.VHb=function(a){return"symbol"===typeof a;};c.R=C;c.THb=E;c.Ze=J;c.o7=D;c.q7=U;c.Ob=Q;c.SHb=function(a){return null===a||"boolean"===typeof a||"number"===typeof a||"string"===typeof a||"symbol"===typeof a||"undefined"===typeof a;};c.isBuffer=a(882);ba="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");c.log=function(){console.log("%s - %s",Z(),c.format.apply(c,arguments));};c.DHb=a(881);c.hUa=function(a,b){if(b&&J(b))for(var d=Object.keys(b),c=d.length;c--;)a[d[c]]=b[d[c]];};h();h();N="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;c.Omb=function(a){function b(){for(var b,d,c=new Promise(function(a,c){b=a;d=c;}),f=[],g=0;g<arguments.length;g++)f.push(arguments[g]);f.push(function(a,c){a?d(a):b(c);});try{a.apply(this,f);}catch(mb){d(mb);}return c;}if("function"!==typeof a)throw new TypeError('The "original" argument must be of type Function');if(N&&a[N]){b=a[N];if("function"!==typeof b)throw new TypeError('The "util.promisify.custom" argument must be of type Function');Object.defineProperty(b,N,{value:b,enumerable:!1,writable:!1,configurable:!0});return b;}Object.setPrototypeOf(b,Object.getPrototypeOf(a));N&&Object.defineProperty(b,N,{value:b,enumerable:!1,writable:!1,configurable:!0});return Object.defineProperties(b,X(a));};c.Omb.DFb=N;c.aFb=function(a){function d(){var g,h;function d(){return g.apply(h,arguments);}for(var c=[],f=0;f<arguments.length;f++)c.push(arguments[f]);g=c.pop();if("function"!==typeof g)throw new TypeError("The last argument must be of type Function");h=this;a.apply(this,c).then(function(a){b.Pxa(d,null,a);},function(a){b.Pxa(ea,a,d);});}if("function"!==typeof a)throw new TypeError('The "original" argument must be of type Function');Object.setPrototypeOf(d,Object.getPrototypeOf(a));Object.defineProperties(d,X(a));return d;};}.call(this,a(232)));},function(g,c,a){var f;function b(a){this.d$a=a;this.SS=!1;this.aT=this.pM=this.aF=0;this.IJ=!1;this.bT=0;}Object.defineProperty(c,"__esModule",{value:!0});f=a(883);b.prototype.aZa=function(a){a<this.aF&&(this.pM+=this.aF);this.aF=a;this.SS=!0;};b.prototype.L$a=function(){if(this.SS)return this.IJ?this.bT-this.aT:this.pM+this.aF-this.aT;};b.prototype.refresh=function(){var a;a=this.d$a();f.pa(a)&&this.aZa(a);};b.prototype.wrb=function(){this.IJ||(this.SS&&(this.bT=this.pM+this.aF),this.IJ=!0);};b.prototype.Lrb=function(){this.IJ&&(this.SS&&(this.aT+=this.pM+this.aF-this.bT),this.bT=0,this.IJ=!1);};c.VNa=b;},function(g,c,a){var f,h,l;function b(a){this.ka=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(30);l=a(62);b.prototype.nl=function(a,b){var d;d=this;return new Promise(function(c,f){var g;g=d.ka.hg(a,function(){f(new l.Fm(a));});b.then(function(a){c(a);g.cancel();})["catch"](function(a){f(a);g.cancel();});});};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.pg))],a);c.eQa=a;},function(g,c,a){var f,h,l,d,k,m,n,r;function b(){}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);a=a(1);h=Array.prototype.slice;l=h.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");h=h.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");d={};k={};m={};n={};r=/\s+/g;[l,h].forEach(function(a){var c;for(var b=a.length;b--;){c=a[b];d[c]=b<<18;k[c]=b<<12;m[c]=b<<6;n[c]=b;}});b.prototype.encode=function(a){return f.p4(a,l,"=");};b.prototype.decode=function(a){return f.C3(a);};b.C3=function(a){var b,c,f;a=a.replace(r,"");b=a.length;c=a.charAt(b-1);"="!==c&&"."!==c||b--;c=a.charAt(b-1);"="!==c&&"."!==c||b--;c=3*(b>>2);f=0;switch(b%4){case 2:f=1;break;case 3:f=2;break;case 1:throw Error("bad base64");}for(var b=new Uint8Array(c+f),g=0,h=0,l;h<c;){l=d[a[g++]]+k[a[g++]]+m[a[g++]]+n[a[g++]];if(!(0<=l&&16777215>=l))throw Error("bad base64");b[h++]=l>>>16;b[h++]=l>>>8&255;b[h++]=l&255;}if(0<f&&(l=d[a[g++]]+k[a[g++]],b[h++]=l>>>16,1<f&&(l+=m[a[g++]],b[h++]=l>>>8&255),!(0<=l&&16776960>=l&&0===(l&(1<f?255:65535)))))throw Error("bad base64");return b;};b.p4=function(a,b,d){for(var c="",f=0,g=a.length,h=g-2,k;f<h;){k=(a[f++]<<16)+(a[f++]<<8)+a[f++];if(!(0<=k&&16777215>=k))throw Error("not bytes");c+=b[k>>>18]+b[k>>>12&63]+b[k>>>6&63]+b[k&63];}if(f==h){k=(a[f++]<<8)+a[f++];if(!(0<=k&&65535>=k))throw Error("not bytes");c+=b[k>>>10]+b[k>>>4&63]+b[k<<2&63]+d;}else if(f==g-1){k=a[f++];if(!(0<=k&&255>=k))throw Error("not bytes");c+=b[k>>>2]+b[k<<4&63]+d+d;}return c;};h=f=b;h=f=g.__decorate([a.N()],h);c.VFa=h;},function(g,c,a){var f,h;function b(){}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.encode=function(a){return f.p4(a);};b.prototype.decode=function(a){return f.C3(a);};b.p4=function(a){if(!a)throw new TypeError("Invalid byte array");for(var b=0,c,f=a.length,g="";b<f;){c=a[b++];if(!(0<=c&&255>=c))throw Error("bad utf8");if(c&128)if(192===(c&224))c=((c&31)<<6)+(a[b++]&63);else if(224===(c&240))c=((c&15)<<12)+((a[b++]&63)<<6)+(a[b++]&63);else throw Error("unsupported utf8 character");g+=String.fromCharCode(c);}return g;};b.C3=function(a){var b,c,f,g,h;b=a.length;c=0;g=0;if(!(0<=b))throw Error("bad string");for(f=b;f--;)h=a.charCodeAt(f),128>h?c++:c=2048>h?c+2:c+3;c=new Uint8Array(c);for(f=0;f<b;f++)h=a.charCodeAt(f),128>h?c[g++]=h:(2048>h?c[g++]=192|h>>>6:(c[g++]=224|h>>>12,c[g++]=128|h>>>6&63),c[g++]=128|h&63);return c;};h=f=b;h=f=g.__decorate([a.N()],h);c.rSa=h;},function(g,c,a){var f,h,l,d,k,m,n;function b(a,b,d,c){var g;g=this;this.config=a;this.W4a=b;this.Ib=d;this.performance=c;this.jkb=function(a){g.FBa=a.me(g.Xe);};f.al(this,"date");f.al(this,"performance");this.AZa=void 0!==this.performance&&void 0!==this.performance.timing&&void 0!==this.performance.now;this.FBa=h.Ff;this.Ib.addListener(n.Efa.HBa,this.jkb);}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(47);h=a(3);l=a(1);d=a(37);k=a(438);m=a(70);n=a(15);oa.Object.defineProperties(b.prototype,{Xe:{configurable:!0,enumerable:!0,get:function(){return this.yxa?h.timestamp(this.performance.timing.navigationStart+this.performance.now()):h.Db(this.W4a.now());}},Oaa:{configurable:!0,enumerable:!0,get:function(){return this.Xe.add(this.FBa);}},yxa:{configurable:!0,enumerable:!0,get:function(){return this.config.eEa&&this.AZa;}}});a=b;a=g.__decorate([l.N(),g.__param(0,l.l(k.xda)),g.__param(1,l.l(d.Uda)),g.__param(2,l.l(m.UX)),g.__param(3,l.l(d.yZ)),g.__param(3,l.optional())],a);c.eHa=a;},function(g,c,a){var f,h;function b(a){this.Fsb=a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);a=a(115);b.prototype.random=function(){return this.Fsb.random();};b.prototype.G$=function(a,b){if("number"!==typeof a)b=a.end,a=a.start;else if("undefined"===typeof b)throw Error("max must be provided for randomInteger API");return Math.round(a+this.random()*(b-a));};h=b;h=g.__decorate([f.N(),g.__param(0,f.l(a.Sia))],h);c.oQa=h;},function(g,c,a){var f,h,l,d,k;function b(a,b){this.Sa=a;this.random=b;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(1);l=a(3);d=a(42);a=a(115);b.prototype.tC=function(){return this.Sa.Xe.ea(l.Em)*f.oda+Math.floor(this.random.random()*f.oda);};k=f=b;k.oda=1E4;k=f=g.__decorate([h.N(),g.__param(0,h.l(d.Kj)),g.__param(1,h.l(a.tG))],k);c.qLa=k;},function(g,c,a){var h,l,d,k;function b(a){this.fF=a;l.al(this,"timers");}function f(a,b){this.fF=a;this.U0a=b;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(1);l=a(47);d=a(37);k=a(3);f.prototype.cancel=function(){this.U0a(this.fF);};b.prototype.Kb=function(a){return this.hg(k.Ff,a);};b.prototype.hg=function(a,b){var d;d=this.fF.setTimeout(b,a.ea(k.ma));return new f(this.fF,function(a){a.clearTimeout(d);});};b.prototype.lBa=function(a,b){var d;d=this.fF.setInterval(b,a.ea(k.ma));return new f(this.fF,function(a){a.clearInterval(d);});};a=b;a=g.__decorate([h.N(),g.__param(0,h.l(d.xja))],a);c.$Qa=a;},function(g,c,a){var b,f,h,l,d,k,m,n,r,y,A,K,x,G,M,C,E,W,D,U,Q,P,Z,ea,X,O,S,Y,ba,N,da,ka,pa,xa,ma,Fa,fa,ha,ga,la,na,oa,ra,qa,sa,ta,ua,za,Aa,Ea,Ga,Ia,Ka,La,Na,Oa,Pa,Qa,Sa,Ua,Va;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(37);f=a(42);h=a(30);l=a(116);d=a(115);k=a(891);m=a(890);n=a(889);r=a(888);y=a(98);A=a(99);K=a(41);x=a(22);G=a(21);M=a(70);C=a(62);E=a(437);W=a(887);D=a(233);U=a(886);Q=a(436);P=a(885);Z=a(139);ea=a(435);X=a(884);O=a(231);S=a(97);Y=a(880);ba=a(23);N=a(434);da=a(879);ka=a(878);pa=a(86);xa=a(877);ma=a(7);Fa=a(438);fa=a(876);ha=a(114);ga=a(875);la=a(433);na=a(874);oa=a(873);ra=a(96);qa=a(8);sa=a(872);ta=a(431);ua=a(430);za=a(871);Aa=a(429);Ea=a(17);Ga=a(72);Ia=a(55);Ka=a(428);La=a(427);Na=a(870);Oa=a(426);Pa=a(425);Qa=a(130);Sa=a(869);Ua=a(868);Va=a(867);c.P1a=new g.ac(function(a){a(b.St).Dh(JSON);a(b.xja).Dh(J);a(d.Sia).Dh(Math);a(b.Tfa).Dh(qa.gZ);a(b.yZ).Dh(qa.gr);a(b.Uda).Dh(Date);a(b.WA).Dh(qa.tk);a(b.eNa).Dh(qa.TA);a(Fa.xda).to(fa.dHa).Z();a(ba.Pe).to(Y.iFa).Z();a(f.Kj).to(r.eHa).Z();a(h.pg).to(k.$Qa).Z();a(l.NA).to(m.qLa).Z();a(C.hx).to(P.eQa).Z();a(d.tG).to(n.oQa).Z();a(pa.Gt).to(ka.BIa).Z();a(pa.Vda).to(xa.AIa).Z();a(y.rx).to(W.rSa).Z();a(A.Nw).to(D.mX).Z();a(K.Jj).to(U.VFa).Z();a(x.df).to(Q.lja).Z();a(G.we).Dh(Z.Rt);a(Oa.oN).to(Pa.HJa).Z();a(M.pN).to(ea.Lj).W6();a(M.GF).to(ea.Lj).Z();a(M.UX).to(ea.Lj).Z();a(O.SZ).to(S.ox).Z();a(N.Gda).to(da.rHa).Z();a(ha.qx).to(ga.WRa).Z();a("Factory<LoggerFactory>").etb(ma.ob);a(la.Yda).to(na.DIa).Z();a(ra.dB).Sf(function(a){return function(b){return new oa.IRa(a.ec.get(ba.Pe),a.ec.get(h.pg),b);};});a(Ua.yIa).Sf(function(a){return function(b){return new Va.zIa(a.ec.get(h.pg),b);};});a(sa.FZ).gtb(ta.hia);a(sa.ZPa).Sf(function(a){var b;b=a.ec.get(sa.FZ);return function(){return new b(!1);};});a(sa.$Pa).Sf(function(a){var b;b=a.ec.get(sa.FZ);return function(){return new b(!0);};});a(ua.jja).Sf(function(){return function(a){return new za.pSa(a);};});a(Ia.vk).Sf(function(a){return function(b,d,c){var f,g,h;f=a.ec.get(pa.Gt);g=a.ec.get(Ea.ld);h=a.ec.get(Ga.pp);return new Aa.MPa(f,g,h,Ka.uga,b,d,c);};});a(E.Xga).Sf(function(){return function(a){return new X.VNa(a);};});a(La.kja).to(Na.qSa).Z();a(Qa.eB).Sf(function(a){return function(b,d){return new Sa.URa(a.ec.get(h.pg),b,d);};});});},function(g,c,a){var b,f,h,l,d,k,m,n,r,y,A,K,x,G,M,C,E,J,D,U,Q,P,Z,ea,X,O,S,Y,ba,N,da,ka,pa,xa;Object.defineProperty(c,"__esModule",{value:!0});b=a(892);f=a(866);h=a(855);l=a(850);d=a(844);k=a(841);m=a(837);n=a(825);r=a(814);y=a(811);A=a(807);K=a(805);x=a(661);G=a(246);M=a(658);C=a(654);E=a(640);J=a(633);D=a(626);U=a(618);Q=a(612);P=a(245);Z=a(604);ea=a(602);X=a(595);O=a(591);S=a(583);Y=a(581);ba=a(576);N=a(557);da=a(539);ka=a(535);pa=a(531);xa=a(522);c.$fb=function(a){a.load(b.P1a,k.fA,f.Jgb,m.qR,r.GQ,h.wK,l.xd,d.hvb,n.storage,y.Z1,A.z0a,K.Xgb,x.zn,G.YB,M.xh,C.Fgb,E.Xib,J.T9a,D.Rmb,U.kE,Q.e7a,P.eme,Z.crypto,ea.Xd,X.Kc,O.MZa,S.Hib,Y.dlb,ba.j,N.O1a,da.Ftb,ka.qj,pa.Oi,xa.d_a);};},function(g,c,a){var h,l;function b(a,b,c,f,g){this.ya=a;this.config=b;this.ka=c;this.Xs=f;this.name=g;}function f(a,b,c,f){var d;d=this;this.ya=a;this.ka=b;this.timeout=c;this.atb=f;this.Zcb=function(){d.eI=!0;d.Ty.cancel();d.atb();};this.startTime=this.ya.Xb();this.Ty=this.ka.hg(this.timeout,function(){d.Zcb();});this.eI=!1;}Object.defineProperty(c,"__esModule",{value:!0});h=a(2);l=a(87);f.prototype.stop=function(){this.eI||(this.nW=this.ya.Xb(),this.Ty.cancel());};oa.Object.defineProperties(f.prototype,{Tqa:{configurable:!0,enumerable:!0,get:function(){if(this.nW&&this.startTime)return this.nW.me(this.startTime);}}});b.prototype.$0a=function(){var a;a=this;this.mC=new f(this.ya,this.ka,this.config.V6,function(){a.Xs(new l.Gf(h.I.wia,h.u.kJa,void 0,"Eme "+a.name+" event expired with an expiry of "+a.config.V6+"ms"));});};b.prototype.Z0a=function(){this.mC&&this.mC.stop();};b.prototype.aqb=function(){this.DL=this.ya.Xb();};b.prototype.a1a=function(){var a;a=this;this.JW=new f(this.ya,this.ka,this.config.vaa,function(){a.Xs(new l.Gf(h.I.wia,h.u.jJa,void 0,"Eme "+a.name+" event expired with an expiry of "+a.config.vaa+"ms"));});};b.prototype.zoa=function(){this.JW&&this.JW.stop();};oa.Object.defineProperties(b.prototype,{Cc:{configurable:!0,enumerable:!0,get:function(){var a,b;a={};if(this.mC){b=this.mC.Tqa;b&&(a.jxa=b);this.DL&&this.mC.nW&&(a.DL=this.DL.me(this.mC.nW));}this.JW&&(b=this.JW.Tqa)&&(a.bpa=b);return a;}}});c.tJa=b;},function(g,c){function a(){}Object.defineProperty(c,"__esModule",{value:!0});a.Oqa=function(a,c){for(var b=a.next(),f;b&&!b.done&&b.value;)f=b.value[0],b=b.value[1],c&&c(f,b),b=a.next();};c.wJa=a;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.rJa="EmeApiSymbol";},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=c.$q||(c.$q={});g[g.$Da=0]="usable";g[g.F8a=1]="expired";g[g.cob=2]="released";g[g.Dya=3]="outputRestricted";g[g.xkb=4]="outputDownscaled";g[g.Hrb=5]="statusPending";g[g.leb=6]="internalError";},function(g,c,a){var f,h,l,d,k,m,n,r,y,A,K,x,G,M,C,E,J,D,U,Q,P;function b(a,b,c,f,g,k,m,p,n){var q;q=this;this.ya=b;this.Kl=c;this.config=f;this.Kf=g;this.li=k;this.so=m;this.ka=p;this.zj=n;this.onMessage=function(a){var b,d,c;b=q.li.Z2(a);d=b.message;c=b.a9;q.UV(b.sessionId);q.Bv=q.li.Bv(b);q.log.trace("Received "+a.type+" event",{messageType:c,isIntermediateChallenge:q.Bv});"license-renewal"===c&&(q.log.trace("Received a renewal request"),q.zh=A.Zi.Dm,q.nf=Q.Jz);q.nf!==Q.Mf||q.Bv||(q.T7={so:q.so,data:d},q.Il(K.kp.jAa));q.nf===Q.Jz&&q.Il(K.kp.kAa);q.aK&&(q.aK.next({Op:d,Doa:c,zh:q.zh}),q.zh!==A.Zi.Dm||q.Bv||(q.aK.complete(),q.aK=void 0));q.nf===Q.stop&&(q.$g.Z0a(),q.config.ji&&q.vL&&(q.vL.next({Op:d}),q.vL.complete(),q.vL=void 0));};this.qya=function(a){var b,c;b=q.li.Y2(a).F7;q.UV(a.target.sessionId);q.log.trace("Received event: "+a.type,{keySystem:a.target.keySystem});try{J.wJa.Oqa(b,function(a,b){q.log.trace("key status: "+b);b=P[b];q.Iva.next({Gv:new Uint8Array(a),value:b.status});q.xD(b.error)&&(c=new E.Gf(b.error),q.A7(c));});}catch(Fa){c=new E.Gf(d.I.AOa);c.FI(Fa);}c?q.B7(c):(q.li.PQ()||q.Cva(),q.zh!==A.Zi.Tt||q.li.P1()||(q.log.info("Kicking off license renewal",{timeout:q.config.Kv}),setTimeout(function(){q.AAa();},q.config.Kv.ea(l.ma))));};this.cE=function(a){var b;b=q.li.no(a);q.log.error("Received event: "+a.type,b);q.Os(b);q.B7(b);q.Zh||q.$k||q.A7(b);};this.Os=function(a){q.Zh&&q.close().subscribe(void 0,function(b){q.log.error("EmeSession closed with an error.",q.li.no(b));q.Zh&&(q.Zh.error(a),q.Zh=void 0);},function(){q.log.trace("Issuing a generate challenge error");q.Zh&&(q.Zh.error(a),q.Zh=void 0);});};this.Bva=function(){q.Zh&&(q.Zh.complete(),q.Zh=void 0);};this.B7=function(a){q.$k&&(q.log.error("Failed to add license",a),q.close().subscribe(void 0,function(b){q.log.error("EmeSession closed with an error.",q.li.no(b));q.nf===Q.Jz&&q.Il(K.kp.$ma);q.Zh=void 0;q.$k&&(q.$k.error(a),q.$k=void 0);},function(){q.log.trace("Issuing a license error");q.Zh=void 0;q.$k&&(q.$k.error(a),q.$k=void 0);}));};this.Cva=function(){q.$k&&(q.log.info("Successfully added license"),q.nf===Q.Mf?q.Il(K.kp.Uma):q.nf===Q.Jz&&q.Il(K.kp.Zma),q.$k.complete(),q.$k=void 0);};this.A7=function(a){q.vo&&q.close().subscribe(void 0,function(b){q.log.error("EmeSession closed with an error.",q.li.no(b));q.Zh=void 0;q.$k=void 0;q.vo&&(q.vo.next(a),q.vo.complete(),q.vo=void 0);},function(){q.log.trace("Issuing a CDM error");q.Zh=void 0;q.$k=void 0;q.vo&&(q.vo.next(a),q.vo.complete(),q.vo=void 0);});};this.Il=function(a){q.Cc.push({time:q.ya.Xb(),gib:a});};this.log=a.lb("EmeSession");this.aK=new h.aj();this.config.ji&&(this.vL=new h.aj());this.Iva=new h.WN();this.vo=new h.aj();this.nf=Q.$tb;this.Cc=[];}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(102);l=a(3);d=a(2);k=a(23);m=a(7);n=a(41);r=a(30);y=a(64);A=a(77);K=a(439);x=a(897);G=a(168);M=a(234);C=a(896);E=a(87);J=a(895);D=a(894);U=a(62);(function(a){a[a.$tb=0]="unknown";a[a.create=1]="create";a[a.load=2]="load";a[a.Mf=3]="license";a[a.Jz=4]="renewal";a[a.stop=5]="stop";a[a.closed=6]="closed";}(Q||(Q={})));P={usable:{status:x.$q.$Da},expired:{status:x.$q.F8a,error:d.I.iha},released:{status:x.$q.cob},"output-not-allowed":{status:x.$q.Dya,error:d.I.jha},"output-restricted":{status:x.$q.Dya,error:d.I.oZ},"output-downscaled":{status:x.$q.xkb},"status-pending":{status:x.$q.Hrb},"internal-error":{status:x.$q.leb,error:d.I.zOa}};b.prototype.jD=function(){return this.context.Td;};b.prototype.rv=function(){return this.sessionId;};b.prototype.close=function(){var a;a=this;this.nf=Q.closed;this.Cc=[];return this.Kf.tva()?(this.log.trace("Closing the session"),this.Kf.xAa(this.onMessage),this.Kf.vAa(this.qya),this.Kf.uAa(this.cE),this.fk=void 0,h.Da.create(function(b){a.zj.nl(a.config.pna,a.Kf.close()).then(function(){a.log.info("Closed the session");b.complete();})["catch"](function(c){a.log.error("Close failed",c);c=a.li.no(c);c.code=d.I.COa;b.error(c);});})):h.Da.empty();};b.prototype.gfb=function(){return this.Iva.H1();};b.prototype.YI=function(){return this.vo?this.vo.H1():void 0;};b.prototype.Wp=function(){return this.so;};b.prototype.xv=function(){return void 0!==this.Mf;};b.prototype.rs=function(a,b,c,f){var g;g=this;this.zh=f;this.nf=Q.create;this.context=a;this.Il(K.kp.Tva);return h.Da.create(function(h){(c.jua()?Promise.resolve():g.zj.nl(g.config.qna,g.Kf.ypa(a,b)).then(function(a){g.log.trace("Created media keys");c.Xz(a);return g.FZa(a);})).then(function(){g.fk=c.fk;try{g.Kf.rs(g.fk,g.li.e6(f));g.Kf.Vma(g.onMessage);g.Kf.Sma(g.qya);g.Kf.Pma(g.cE);g.UV(g.Kf.rv());h.next(g);h.complete();}catch(wa){h.error(new E.Gf(d.I.dJa,d.u.fh,void 0,"Unable to create a persisted key session",wa));}})["catch"](function(a){a.code&&a.Jc?h.error(a):h.error(new E.Gf(d.I.nea,a instanceof U.Fm?d.u.JF:d.u.fh,void 0,"Unable to create MediaKeys. "+a.message,a));});});};b.prototype.Aqb=function(a){this.Cg=a;this.log.Mma("xid",a.oa);};b.prototype.oS=function(a){var b;b=this;this.nf=Q.Mf;this.log.trace("Generating a license challenge");this.Zh=new h.aj();if(!a)return this.G2(new E.Gf(d.I.qea,d.u.NX));if(0===a.length)return this.G2(new E.Gf(d.I.qea,d.u.MX));this.zj.nl(this.config.rna,this.Kf.nsa("cenc",a)).then(function(){b.UV(b.Kf.rv());})["catch"](function(a){var c;c=new E.Gf(d.I.pea,a instanceof U.Fm?d.u.JF:d.u.fh);c.message="Unable to generate request.";c.FI(a);b.log.error("Unable to generate a license request",c);b.Os(c);});this.log.trace("Returning the challenge subject");return this.Zh;};b.prototype.Tma=function(a){var b;b=this;a instanceof Uint8Array?0===a.length?(this.log.error("The license buffer is empty"),this.Os(new E.Gf(d.I.rea,d.u.MX))):this.Bv?this.zj.nl(this.config.A1,this.Kf.update(a)).then(function(){b.log.trace("Successfully updated CDM with intermediate server response");})["catch"](function(a){a=b.li.no(a);a.code=d.I.mN;a.message="Unable to update the CDM intermediate challenge";b.log.error("Unable to update the CDM intermediate challenge",a);b.Os(a);}):(this.nf===Q.Mf&&(this.Il(K.kp.iAa),this.Mf=a,this.Bva()),this.nf===Q.Jz&&(this.Il(K.kp.lAa),this.Mf=a,this.F1())):this.nf===Q.Jz?(this.Il(K.kp.mAa),this.A7(a)):this.Os(a);};b.prototype.F1=function(){var a,b;a=this;if(!this.Mf)return this.G2(new E.Gf(d.I.rea,d.u.NX));this.$k=new h.aj();b=this.Mf;this.Mf=void 0;this.zj.nl(this.config.A1,this.Kf.update(b)).then(function(){a.li.PQ()&&a.Cva();})["catch"](function(b){b=a.li.no(b);b.code=d.I.mha;b.message="Unable to update the EME";a.log.error(b.message,b);a.B7(b);});return this.$k;};b.prototype.bK=function(){return this.aK;};b.prototype.a$a=function(){var a;a=this;if(this.nf===Q.Mf&&this.zh===A.Zi.Tt)return h.Da.empty();this.nf=Q.stop;this.log.trace("Generating a secure stop challenge");this.Zh=new h.aj();this.$g=new D.tJa(this.ya,this.config,this.ka,function(){a.log.error("got a timeout error");},"non-persisted");this.$g.$0a();this.Kf.remove().then(function(){a.log.trace("Call to 'remove' on key session succeeded");})["catch"](function(b){var c;c=a.li.no(b);c.code=d.I.tea;c.Jc=d.u.fh;c.message="Call to 'remove' on key session failed";a.log.error("Call to 'remove' on key session failed",{error:b});a.Os(c);});return this.Zh;};b.prototype.ana=function(a){a&&a.constructor!==Uint8Array?this.Os(a):a?0===a.length?(this.log.error("The secure stop buffer is empty"),this.Os(new E.Gf(d.I.sea,d.u.MX))):(this.log.trace("Secure stop is ready to apply"),this.rBa=a,this.$g.aqb(),this.Bva()):(this.log.error("The secure stop buffer is undefined"),this.Os(new E.Gf(d.I.sea,d.u.NX)));};b.prototype.HZa=function(){var a;a=this;if(!this.rBa)return h.Da.from([this]);this.log.trace("Setting the secure stop data");return h.Da.create(function(b){a.$g.a1a();a.Kf.update(a.rBa).then(function(){a.$g.zoa();a.log.info("Successfully released the license and securely removed the key session");b.next(a);b.complete();})["catch"](function(c){var f;a.$g.zoa();f=a.li.no(c);f.code=d.I.mN;f.Jc=d.u.fh;f.message="Unable to update the EME with secure stop data";a.log.error("Unable to update the EME",{error:c});b.error(f);});});};b.prototype.FZa=function(a){var b,d;b=this;d=this.li.r5();return d?(d=this.Kl.decode(d),this.zj.nl(this.config.sna,this.Kf.WBa(a,d)).then(function(a){b.log.trace("Set the server certificate",{result:a});})):Promise.resolve();};b.prototype.UV=function(a){a&&a!==this.sessionId&&(this.sessionId&&this.log.warn("sessionId changed from "+this.sessionId+" to "+a),this.sessionId=a,this.log.Mma("sessionId",a));};b.prototype.xD=function(a){return a===d.I.oZ?this.config.NU:!!a;};b.prototype.AAa=function(){this.log.trace("Initiating a renewal request");this.zh=A.Zi.Dm;this.nf=Q.Jz;this.li.i7(this.Kf);};b.prototype.G2=function(a){var b;b=this;return h.Da.create(function(d){b.close().subscribe(void 0,function(){d.error(a);},function(){d.error(a);});});};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(m.ob)),g.__param(1,f.l(k.Pe)),g.__param(2,f.l(n.Jj)),g.__param(3,f.l(y.Wn)),g.__param(4,f.l(C.rJa)),g.__param(5,f.l(M.YIa)),g.__param(6,f.l(G.$Ia)),g.__param(7,f.l(r.pg)),g.__param(8,f.l(U.hx))],a);c.vJa=a;},function(g,c,a){var f,h,l,d,k,m,n,r,y;function b(a,b,d,c,f,g,h){this.Ho=a;this.ya=b;this.re=d;this.config=c;this.ka=f;this.zj=g;this.yn=h;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(7);l=a(23);d=a(41);k=a(64);m=a(30);n=a(62);r=a(898);a=a(118);b.prototype.create=function(){var a;a=this;return Promise.all([this.yn.jab(),this.yn.iab(),this.yn.Wp()]).then(function(b){var d,c;d=P(b);b=d.next().value;c=d.next().value;d=d.next().value;return new r.vJa(a.Ho,a.ya,a.re,a.config,b,c,d,a.ka,a.zj);});};y=b;y=g.__decorate([f.N(),g.__param(0,f.l(h.ob)),g.__param(1,f.l(l.Pe)),g.__param(2,f.l(d.Jj)),g.__param(3,f.l(k.Wn)),g.__param(4,f.l(m.pg)),g.__param(5,f.l(n.hx)),g.__param(6,f.l(a.cx))],y);c.uJa=y;},function(g,c){function a(a){this.Lja=a;this.Xka=0;}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.next=function(){return this.Lja.length>this.Xka?{value:this.Lja[this.Xka++],done:!1}:{done:!0};};c.lFa=a;},function(g,c,a){var f,h,l,d,k,m,n,r,y,A;function b(a,b,d,c){this.Xd=a;this.vh=b;this.vm=d;this.Qg=c;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);l=a(22);d=a(99);k=a(98);m=a(900);n=a(87);r=a(62);y=a(77);a=a(64);b.prototype.PQ=function(){return!1;};b.prototype.P1=function(){return!1;};b.prototype.e6=function(a){return this.Qg.ji&&a===y.Zi.Dm?"persistent-usage-record":"temporary";};b.prototype.r5=function(){if(this.Qg.Uz)return this.Qg.Uz;};b.prototype.Z5=function(){return[];};b.prototype.Bv=function(a){return this.Xd.Su(a.message,this.vm.decode("certificate"));};b.prototype.i7=function(a){a.update(this.vm.decode("renew")).then(function(){});};b.prototype.Z2=function(a){return{type:a.type,sessionId:a.target.sessionId,message:a.message,a9:"license-request"};};b.prototype.Y2=function(a){var b,d,c,f;b=a.type;a=a.target.sessionId;d=m.lFa;c=[1];f=new ArrayBuffer(c.length);f=new Uint8Array(f);f.set(c);return{type:b,sessionId:a,F7:new d([[f,"usable"]])};};b.prototype.no=function(a){var b,d,c;b=a.target.error;b&&(d=b.systemCode,c=b.code);b=new n.Gf(h.I.TN,a instanceof r.Fm?h.u.JF:h.u.EA,d?this.vh.jJ(d,4):c,"",b);b.FI(a);return b;};A=b;A=g.__decorate([f.N(),g.__param(0,f.l(l.df)),g.__param(1,f.l(d.Nw)),g.__param(2,f.l(k.rx)),g.__param(3,f.l(a.Wn))],A);c.WQa=A;},function(g,c,a){var f,h,l,d,k,m,n,r,y;function b(a,b,d,c){var f;f=this;this.pc=a;this.PW=b;this.Kl=d;this.dva=function(a){return/com.apple.fps/.test(a)&&!/com.apple.fps.2_0/.test(a);};this.H4a=function(a){var b;a=function(a){var d,c;function b(a,b,d){var c,f;c=new Uint8Array("piff"==a?88:72);f=new h.CA(c);f.Uq(12);f.Sq("frma");f.Sq("avc1");f.Uq(20);f.Sq("schm");f.vF(0);f.vF(0);f.Sq(a);f.Uq(b);"piff"==a?(f.Uq(56),f.Sq("schi"),f.Uq(48),f.Sq("uuid"),f.uA(new Uint8Array([137,116,219,206,123,231,76,81,132,249,113,72,249,136,37,84]))):(f.Uq(40),f.Sq("schi"),f.Uq(32),f.Sq("tenc"));f.vF(0);f.vF(0);f.Uq(264);f.uA(d);return c;}d=b("piff",65537,a);d=f.PW.decode(f.Kl.encode(d));a=b("cenc",65536,a);a=f.PW.decode(f.Kl.encode(a));c=new Uint8Array(7+d.length+8+a.length+5);c.set([91,10,32,32,32,32,34],0);c.set(d,7);c.set([34,44,10,32,32,32,32,34],7+d.length);c.set(a,7+d.length+8);c.set([34,10,32,32,93],7+d.length+8+a.length);return c;}(a);b=new Uint8Array(13+a.length+2);b.set([123,10,32,32,34,115,105,110,102,34,32,58,32]);b.set(a,13);b.set([10,125],13+a.length);return b;};this.Pab=function(a){var b;a=a.subarray(14,30);a=f.Kl.decode(String.fromCharCode.apply(null,a));a=a.subarray(4);b=new Uint8Array(16);b.set(a);return b;};this.Iob=function(){f.ej.forEach(function(a){f.X&&f.X.addEventListener(a.name,a.wv);});f.ej.length=0;};this.ej=[];this.log=c.lb("EmeFactory");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(131);l=a(1);d=a(2);k=a(22);m=a(98);n=a(41);r=a(7);y=a(8);b.prototype.rv=function(){if(this.X)return this.X.sessionId;};b.prototype.FAa=function(a){this.XG=a;return Promise.resolve({});};b.prototype.ypa=function(a){var c;function b(){var b,d;b=c.pc.createElement("div","position:relative;width:100%;height:100%;overflow:hidden",void 0,void 0);d=b.lastChild;c.kma=b;a.La=y.Nd.createElement("VIDEO");d?c.kma.insertBefore(a.La,d):c.kma.appendChild(a.La);}c=this;return new Promise(function(f,g){function h(){try{c.Br=new J.WebKitMediaKeys(c.XG);a.La.webkitSetMediaKeys(c.Br);f(c.Br);}catch(T){c.log.error("CREATE: Exception on webkitSetMediaKeys",T);g({W:!1,code:d.I.JZ,Qa:c.pc.ud(T)});}}if(c.dva(c.XG))try{c.Br=new J.WebKitMediaKeys(c.XG);a.La&&a.La.webkitSetMediaKeys(c.Br);f(c.Br);}catch(T){g({W:!1,code:d.I.JZ,Qa:c.pc.ud(T)});}else{try{c.Br=new J.WebKitMediaKeys(c.XG);}catch(T){g({W:!1,code:d.I.JZ,Qa:c.pc.ud(T)});}a.La?a.La.webkitSetMediaKeys(c.Br):(b(),c.Se=new y.TA(),c.Se.addEventListener("sourceopen",h),c.Bi=URL.createObjectURL(c.Se),a.La.src=c.Bi);f(c.Br);}});};b.prototype.rs=function(){};b.prototype.tva=function(){return!!this.X;};b.prototype.WBa=function(){return Promise.resolve();};b.prototype.nsa=function(a,b){try{return this.dva(this.XG)&&(b=this.H4a(this.Pab(b))),this.X=this.Br.createSession("video/mp4",b,null),this.Iob(),Promise.resolve();}catch(x){return Promise.reject(x);}};b.prototype.update=function(a){if(!this.X)throw ReferenceError("Unable to update the EME with a response, key session is not valid");try{return this.X.update(a),Promise.resolve();}catch(K){return Promise.reject(K);}};b.prototype.load=function(){return Promise.resolve(!0);};b.prototype.close=function(){if(!this.X)throw ReferenceError("Unable to close a key session, key session is not valid");try{return this.X.close(),Promise.resolve();}catch(A){return Promise.reject(A);}finally{this.X=void 0;}};b.prototype.remove=function(){if(!this.X)throw ReferenceError("Unable to remove a key session, key session is not valid");try{return this.X.close(),Promise.resolve();}catch(A){return Promise.reject(A);}};b.prototype.Vma=function(a){this.X?this.X.addEventListener(f.GA,a):this.ej.push({name:f.GA,wv:a});};b.prototype.Sma=function(a){this.X?this.X.addEventListener(f.PX,a):this.ej.push({name:f.PX,wv:a});};b.prototype.Pma=function(a){this.X?this.X.addEventListener(f.FA,a):this.ej.push({name:f.FA,wv:a});};b.prototype.xAa=function(a){if(!this.X)throw ReferenceError("Unable to remove message handler, key session is not valid");this.X.removeEventListener(f.GA,a);};b.prototype.vAa=function(a){if(!this.X)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.X.removeEventListener(f.PX,a);};b.prototype.uAa=function(a){if(!this.X)throw ReferenceError("Unable to remove error handler, key session is not valid");this.X.removeEventListener(f.FA,a);};a=f=b;a.GA="webkitkeymessage";a.PX="webkitkeyadded";a.FA="webkitkeyerror";a=f=g.__decorate([l.N(),g.__param(0,l.l(k.df)),g.__param(1,l.l(m.rx)),g.__param(2,l.l(n.Jj)),g.__param(3,l.l(r.ob))],a);c.SJa=a;},function(g,c,a){var f,h,l,d,k,m,n,r,y;function b(a,b,d,c){this.Xd=a;this.vh=b;this.Qg=d;this.config=c;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);l=a(22);d=a(99);k=a(234);m=a(87);n=a(62);r=a(64);a=a(17);b.prototype.PQ=function(){return!0;};b.prototype.P1=function(){return!0;};b.prototype.e6=function(){return"temporary";};b.prototype.r5=function(){return this.Qg.Uz?this.Qg.Uz:"Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";};b.prototype.Z5=function(){var a,b;a=[{contentType:k.vl,robustness:"HW_SECURE_DECODE"},{contentType:k.vl,robustness:"SW_SECURE_DECODE"},{contentType:k.vl,robustness:"SW_SECURE_CRYPTO"}];b=[{contentType:k.vl,robustness:"SW_SECURE_CRYPTO"}];return[{initDataTypes:["cenc"],persistentState:"required",audioCapabilities:[{contentType:k.$w,robustness:"SW_SECURE_CRYPTO"}],videoCapabilities:this.config().Yra?b:a},{initDataTypes:["cenc"],persistentState:"required"}];};b.prototype.Bv=function(a){return this.Xd.Su(a.message,new Uint8Array([8,4]));};b.prototype.i7=function(){};b.prototype.Z2=function(a){return{type:a.type,sessionId:a.target.sessionId,message:new Uint8Array(a.message),a9:a.messageType};};b.prototype.Y2=function(a){return{type:a.type,sessionId:a.target.sessionId,F7:a.target.keyStatuses.entries()};};b.prototype.no=function(a){var b,d,c;b=new m.Gf(h.I.TN);d=a.code;null!=d&&void 0!==d?(d=parseInt(d,10),b.Jc=1<=d&&9>=d?h.u.EA+d:h.u.EA):b.Jc=a instanceof n.Fm?h.u.JF:h.u.fh;try{c=a.message.match(/\((\d*)\)/)[1];b.wg=this.vh.jJ(c,4);}catch(M){}b.FI(a);return b;};y=b;y=g.__decorate([f.N(),g.__param(0,f.l(l.df)),g.__param(1,f.l(d.Nw)),g.__param(2,f.l(r.Wn)),g.__param(3,f.l(a.ld))],y);c.ZGa=y;},function(g,c,a){var f,h;function b(a){return h.GZ.apply(this,arguments)||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(440);ba(b,h.GZ);a=b;a=g.__decorate([f.N()],a);c.WPa=a;},function(g,c,a){var f,h,l,d,k,m,n,r,y;function b(a,b,d){this.vh=a;this.re=b;this.Qg=d;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);l=a(99);d=a(41);k=a(234);m=a(87);n=a(77);r=a(64);y=a(62);b.prototype.PQ=function(){return!0;};b.prototype.P1=function(){return!1;};b.prototype.e6=function(a){return this.Qg.ji&&a===n.Zi.Dm?"persistent-usage-record":"temporary";};b.prototype.r5=function(){if(this.Qg.Uz)return this.Qg.Uz;};b.prototype.Z5=function(){return[{initDataTypes:["cenc"],audioCapabilities:[{contentType:k.$w}],videoCapabilities:[{contentType:k.vl}],sessionTypes:["temporary","persistent-usage-record"]}];};b.prototype.Bv=function(){return!1;};b.prototype.i7=function(){};b.prototype.Z2=function(a){var b;b=new Uint8Array(a.message);b=this.C4(b,"PlayReadyKeyMessage","Challenge");b=this.re.decode(b);return{type:a.type,sessionId:a.target.sessionId,message:b,a9:a.messageType};};b.prototype.Y2=function(a){return{type:a.type,sessionId:a.target.sessionId,F7:a.target.keyStatuses.entries()};};b.prototype.no=function(a){var b,d;b=new m.Gf(h.I.TN);d=a.code;null!=d&&void 0!==d?(d=parseInt(d,10),b.Jc=1<=d&&9>=d?h.u.EA+d:h.u.EA):b.Jc=a instanceof y.Fm?h.u.JF:h.u.fh;try{b.wg=this.vh.jJ(a.target&&a.target.error&&a.target.error.systemCode,4);}catch(G){}b.FI(a);return b;};b.prototype.C4=function(a,b){var d,c,f,g;for(var d=1;d<arguments.length;++d);for(d=1;d<arguments.length;d++);d="";f=a.length;for(c=0;c<f;c++)g=a[c],0<g&&(d+=String.fromCharCode(g));f="\\s*(.*)\\s*";for(c=arguments.length-1;0<c;c--){g=arguments[c];if(0>d.search(g))return"";g="(?:[^:].*:|)"+g;f="[\\s\\S]*<"+g+"[^>]*>"+f+"</"+g+">[\\s\\S]*";}return(d=d.match(new RegExp(f)))?d[1]:"";};a=b;a=g.__decorate([f.N(),g.__param(0,f.l(l.Nw)),g.__param(1,f.l(d.Jj)),g.__param(2,f.l(r.Wn))],a);c.qJa=a;},function(g,c,a){var f,h,l,d,k,m,n,r,y,A,K,x,G,M,C,E,J,D,U,Q;function b(a,b,d,c,f,g,h,k,l){this.Ho=a;this.Xd=b;this.vm=d;this.vh=c;this.re=f;this.is=g;this.vU=h;this.config=k;this.Qg=l;this.log=this.Ho.lb("MediaKeySystemAccessServices");}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);l=a(7);d=a(87);k=a(168);m=a(905);n=a(904);r=a(903);y=a(440);A=a(22);K=a(99);x=a(41);G=a(21);M=a(37);C=a(902);E=a(901);J=a(98);D=a(17);U=a(136);a=a(64);b.prototype.qJ=function(){this.rE||(this.rE=this.Yob());return this.rE;};b.prototype.v4a=function(a){var b;b=this;return new Promise(function(c,f){var g,k;g=U.ib.x5(a);k=b.Wsa(g);g=b.Tsa(g);k.FAa(a,g.Z5()).then(function(d){b.log.trace("Created the media keys system access",{keySystem:a,supportedconfig:d.getConfiguration?JSON.stringify(d.getConfiguration()):void 0});c(d);})["catch"](function(c){b.log.error("Unable to create the media key system access object",{keySystem:a,error:c.message});f(new d.Gf(h.I.oea,h.u.fh,void 0,"Unable to create media keys system access. "+c.message,c));});});};b.prototype.Wp=function(){var a;a=this;return this.qJ().then(function(b){return a.Usa(b);});};b.prototype.hab=function(){var a,b;a=this;b=this.config().Jva||[this.config().Td];if(1<b.length)return this.qJ().then(function(b){return a.Usa(b);}).then(function(a){return U.ib.Ssa(a);});b=U.ib.x5(b[0]);return Promise.resolve(U.ib.Ssa(b));};b.prototype.iab=function(){var a;a=this;return this.Wp().then(function(b){return a.Tsa(b);});};b.prototype.jab=function(){var a;a=this;return this.Wp().then(function(b){return a.Wsa(b);});};b.prototype.Usa=function(a){return U.ib.x5(a.keySystem);};b.prototype.Tsa=function(a){switch(a){case k.Vn.yz:return new m.qJa(this.vh,this.re,this.Qg);case k.Vn.bD:return new E.WQa(this.Xd,this.vh,this.vm,this.Qg);default:return new r.ZGa(this.Xd,this.vh,this.Qg,this.config);}};b.prototype.Wsa=function(a){switch(a){case k.Vn.yz:return new n.WPa(this.vU,this.is);case k.Vn.bD:return new C.SJa(this.Xd,this.vm,this.re,this.Ho);default:return new y.GZ(this.vU,this.is);}};b.prototype.Yob=function(){var a,b;a=this;b=(this.config().Jva||[this.config().Td]).map(function(b){return function(){return a.v4a(b);};});return this.Zob(b);};b.prototype.Zob=function(a){return a.reduce(function(a,b){return a.then(function(a){return Promise.resolve(a);})["catch"](function(){return b();});},Promise.reject(Error("keySystem missing")));};Q=b;Q=g.__decorate([f.N(),g.__param(0,f.l(l.ob)),g.__param(1,f.l(A.df)),g.__param(2,f.l(J.rx)),g.__param(3,f.l(K.Nw)),g.__param(4,f.l(x.Jj)),g.__param(5,f.l(G.we)),g.__param(6,f.l(M.WA)),g.__param(7,f.l(D.ld)),g.__param(8,f.l(a.Wn))],Q);c.YMa=Q;},function(g,c,a){var b,f,h;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};g=a(10);f=a(78);a=a(79);g=function(a){function d(b){a.call(this);this.Bjb=b;}b(d,a);d.create=function(a){return new d(a);};d.prototype.Wf=function(a){return new h(a,this.Bjb);};return d;}(g.Da);c.EIa=g;h=function(a){function d(b,d){a.call(this,b);this.fv=d;this.Qtb();}b(d,a);d.prototype.Qtb=function(){try{this.uTa();}catch(k){this.bd(k);}};d.prototype.uTa=function(){var a;a=this.fv();a&&this.add(f.vt(this,a));};return d;}(a.kr);},function(g,c,a){g=a(907);c.defer=g.EIa.create;},function(g,c,a){g=a(10);a=a(908);g.Da.defer=a.defer;},function(g,c,a){g=a(10);a=a(450);g.Da.from=a.from;},function(g,c,a){var f,h,l,d,k,m,n,r,y,A,K;function b(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];b=a[a.length-1];"function"===typeof b&&a.pop();return new h.Iw(a).dg(new n(b));}f=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};h=a(100);l=a(101);g=a(46);d=a(79);k=a(78);m=a(165);c.Bca=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return function(d){return d.dg.call(b.apply(void 0,[d].concat(a)));};};c.Lvb=b;n=function(){function a(a){this.Dg=a;}a.prototype.call=function(a,b){return b.subscribe(new r(a,this.Dg));};return a;}();c.PDb=n;r=function(a){function b(b,d,c){void 0===c&&(c=Object.create(null));a.call(this,b);this.C7=[];this.active=0;this.Dg="function"===typeof d?d:null;this.values=c;}f(b,a);b.prototype.ph=function(a){var b;b=this.C7;l.isArray(a)?b.push(new A(a)):"function"===typeof a[m.iterator]?b.push(new y(a[m.iterator]())):b.push(new K(this.destination,this,a));};b.prototype.ic=function(){var a,b,c;a=this.C7;b=a.length;if(0===b)this.destination.complete();else{this.active=b;for(var d=0;d<b;d++){c=a[d];c.Irb?this.add(c.subscribe(c,d)):this.active--;}}};b.prototype.kjb=function(){this.active--;0===this.active&&this.destination.complete();};b.prototype.k1a=function(){var f,k;for(var a=this.C7,b=a.length,d=this.destination,c=0;c<b;c++){f=a[c];if("function"===typeof f.zo&&!f.zo())return;}for(var g=!1,h=[],c=0;c<b;c++){f=a[c];k=f.next();f.qD()&&(g=!0);if(k.done){d.complete();return;}h.push(k.value);}this.Dg?this.Y0(h):d.next(h);g&&d.complete();};b.prototype.Y0=function(a){var b;try{b=this.Dg.apply(this,a);}catch(T){this.destination.error(T);return;}this.destination.next(b);};return b;}(g.ri);c.QDb=r;y=function(){function a(a){this.iterator=a;this.t9=a.next();}a.prototype.zo=function(){return!0;};a.prototype.next=function(){var a;a=this.t9;this.t9=this.iterator.next();return a;};a.prototype.qD=function(){var a;a=this.t9;return a&&a.done;};return a;}();A=function(){function a(a){this.Jp=a;this.length=this.index=0;this.length=a.length;}a.prototype[m.iterator]=function(){return this;};a.prototype.next=function(){var a,b;a=this.index++;b=this.Jp;return a<this.length?{value:b[a],done:!1}:{value:null,done:!0};};a.prototype.zo=function(){return this.Jp.length>this.index;};a.prototype.qD=function(){return this.Jp.length===this.index;};return a;}();K=function(a){function b(b,d,c){a.call(this,b);this.parent=d;this.observable=c;this.Irb=!0;this.buffer=[];this.n7=!1;}f(b,a);b.prototype[m.iterator]=function(){return this;};b.prototype.next=function(){var a;a=this.buffer;return 0===a.length&&this.n7?{value:null,done:!0}:{value:a.shift(),done:!1};};b.prototype.zo=function(){return 0<this.buffer.length;};b.prototype.qD=function(){return 0===this.buffer.length&&this.n7;};b.prototype.fl=function(){0<this.buffer.length?(this.n7=!0,this.parent.kjb()):this.destination.complete();};b.prototype.nz=function(a,b){this.buffer.push(b);this.parent.k1a();};b.prototype.subscribe=function(a,b){return k.vt(this,this.observable,this,b);};return b;}(d.kr);},function(g,c,a){g=a(911);c.Bca=g.Lvb;},function(g,c,a){g=a(10);a=a(912);g.Da.Bca=a.Bca;},function(g,c,a){var b,f,h,l,d,k,m;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};f=a(100);h=a(101);g=a(79);l=a(78);d={};c.K2=function(){var d;for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];d=null;"function"===typeof a[a.length-1]&&(d=a.pop());1===a.length&&h.isArray(a[0])&&(a=a[0].slice());return function(b){return b.dg.call(new f.Iw([b].concat(a)),new k(d));};};k=function(){function a(a){this.Dg=a;}a.prototype.call=function(a,b){return b.subscribe(new m(a,this.Dg));};return a;}();c.gHa=k;m=function(a){function c(b,d){a.call(this,b);this.Dg=d;this.active=0;this.values=[];this.jya=[];}b(c,a);c.prototype.ph=function(a){this.values.push(d);this.jya.push(a);};c.prototype.ic=function(){var a,b,c;a=this.jya;b=a.length;if(0===b)this.destination.complete();else{this.Vba=this.active=b;for(var d=0;d<b;d++){c=a[d];this.add(l.vt(this,c,c,d));}}};c.prototype.fl=function(){0===--this.active&&this.destination.complete();};c.prototype.nz=function(a,b,c){var f;a=this.values;f=a[c];f=this.Vba?f===d?--this.Vba:this.Vba:0;a[c]=b;0===f&&(this.Dg?this.Y0(a):this.destination.next(a.slice()));};c.prototype.Y0=function(a){var b;try{b=this.Dg.apply(this,a);}catch(K){this.destination.error(K);return;}this.destination.next(b);};return c;}(g.kr);c.lxb=m;},function(g,c,a){var b,f,h,l;b=a(117);f=a(101);h=a(100);l=a(914);c.K2=function(){var g;for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];g=c=null;b.Qy(a[a.length-1])&&(g=a.pop());"function"===typeof a[a.length-1]&&(c=a.pop());1===a.length&&f.isArray(a[0])&&(a=a[0]);return new h.Iw(a,g).dg(new l.gHa(c));};},function(g,c,a){g=a(10);a=a(915);g.Da.K2=a.K2;},function(g,c,a){var b,f,h,l,d;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};f=a(443);g=a(10);h=a(164);l=a(117);d=a(445);a=function(a){function c(b,c,g){void 0===b&&(b=0);a.call(this);this.$s=-1;this.Mqa=0;f.lva(c)?this.$s=1>Number(c)&&1||Number(c):l.Qy(c)&&(g=c);l.Qy(g)||(g=h.async);this.ka=g;this.Mqa=d.o7(b)?+b-this.ka.now():b;}b(c,a);c.create=function(a,b,d){void 0===a&&(a=0);return new c(a,b,d);};c.Ab=function(a){var b,d,c;b=a.index;d=a.$s;c=a.Cf;c.next(b);if(!c.closed){if(-1===d)return c.complete();a.index=b+1;this.Kb(a,d);}};c.prototype.Wf=function(a){return this.ka.Kb(c.Ab,this.Mqa,{index:0,$s:this.$s,Cf:a});};return c;}(g.Da);c.VRa=a;},function(g,c,a){g=a(917);c.yt=g.VRa.create;},function(g,c,a){g=a(10);a=a(918);g.Da.yt=a.yt;},function(g,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=function(a){function c(b,d){a.call(this);this.error=b;this.ka=d;}b(c,a);c.create=function(a,b){return new c(a,b);};c.Ab=function(a){a.Cf.error(a.error);};c.prototype.Wf=function(a){var b,f;b=this.error;f=this.ka;a.nk=!0;if(f)return f.Kb(c.Ab,0,{error:b,Cf:a});a.error(b);};return c;}(a(10).Da);c.EJa=g;},function(g,c,a){g=a(920);c.XXa=g.EJa.create;},function(g,c,a){g=a(10);a=a(921);g.Da["throw"]=a.XXa;},function(g,c,a){g=a(444);c.pz=g.Yjb;},function(g,c,a){g=a(10);a=a(923);g.Da.pz=a.pz;},function(g,c,a){g=a(10);a=a(451);g.Da.of=a.of;},function(g,c,a){var b,f,h,l;b=a(10);f=a(100);h=a(117);l=a(235);c.Z8=function(){var c,g,p;for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];c=Number.POSITIVE_INFINITY;g=null;p=a[a.length-1];h.Qy(p)?(g=a.pop(),1<a.length&&"number"===typeof a[a.length-1]&&(c=a.pop())):"number"===typeof p&&(c=a.pop());return null===g&&1===a.length&&a[0]instanceof b.Da?a[0]:l.Vv(c)(new f.Iw(a,g));};},function(g,c,a){g=a(10);a=a(926);g.Da.Z8=a.Z8;},function(g,c,a){var b,f,h;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};f=a(443);g=a(10);h=a(164);a=function(a){function d(b,d){void 0===b&&(b=0);void 0===d&&(d=h.async);a.call(this);this.$s=b;this.ka=d;if(!f.lva(b)||0>b)this.$s=0;d&&"function"===typeof d.Kb||(this.ka=h.async);}b(d,a);d.create=function(a,b){void 0===a&&(a=0);void 0===b&&(b=h.async);return new d(a,b);};d.Ab=function(a){var b,d;b=a.Cf;d=a.$s;b.next(a.index);b.closed||(a.index+=1,this.Kb(a,d));};d.prototype.Wf=function(a){var b;b=this.$s;a.add(this.ka.Kb(d.Ab,b,{index:0,Cf:a,$s:b}));};return d;}(g.Da);c.yLa=a;},function(g,c,a){g=a(928);c.interval=g.yLa.create;},function(g,c,a){g=a(10);a=a(929);g.Da.interval=a.interval;},function(g,c,a){g=a(448);c.kv=g.jia.create;},function(g,c,a){g=a(10);a=a(931);g.Da.kv=a.kv;},function(g,c,a){g=a(132);c.empty=g.LF.create;},function(g,c,a){g=a(10);a=a(933);g.Da.empty=a.empty;},function(g,c,a){g=a(10);a=a(133);g.Da.concat=a.concat;},function(g,c,a){var b,f,h,l;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};g=a(79);f=a(78);c.uW=function(a,b){return function(d){return d.dg(new h(a,b));};};h=function(){function a(a,b){this.Dg=a;this.jk=b;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.Dg,this.jk));};return a;}();l=function(a){function d(b,d,c){a.call(this,b);this.Dg=d;this.jk=c;this.index=0;}b(d,a);d.prototype.ph=function(a){var b,d;d=this.index++;try{b=this.Dg(a,d);}catch(y){this.destination.error(y);return;}this.U_(b,a,d);};d.prototype.U_=function(a,b,d){var c;c=this.nT;c&&c.unsubscribe();this.add(this.nT=f.vt(this,a,b,d));};d.prototype.ic=function(){var b;b=this.nT;b&&!b.closed||a.prototype.ic.call(this);};d.prototype.Or=function(){this.nT=null;};d.prototype.fl=function(b){this.remove(b);this.nT=null;this.$e&&a.prototype.ic.call(this);};d.prototype.nz=function(a,b,d,c){this.jk?this.dYa(a,b,d,c):this.destination.next(b);};d.prototype.dYa=function(a,b,d,c){var f;try{f=this.jk(a,b,d,c);}catch(K){this.destination.error(K);return;}this.destination.next(f);};return d;}(g.kr);},function(g,c,a){var b;b=a(936);c.uW=function(a,c){return b.uW(a,c)(this);};},function(g,c,a){g=a(10);a=a(937);g.Da.prototype.uW=a.uW;},function(g,c,a){var b,f;b=a(457);c.Mib=function(a,c){return function(d){var g,h;g="function"===typeof a?a:function(){return a;};if("function"===typeof c)return d.dg(new f(g,c));h=Object.create(d,b.e2a);h.source=d;h.sW=g;return h;};};f=function(){function a(a,b){this.sW=a;this.AL=b;}a.prototype.call=function(a,b){var d,c;d=this.AL;c=this.sW();a=d(c).subscribe(a);a.add(b.subscribe(c));return a;};return a;}();c.lAb=f;},function(g,c,a){var b,f;b=a(459);f=a(939);c.kV=function(a,c,d,g){var h,k;d&&"function"!==typeof d&&(g=d);h="function"===typeof d?d:void 0;k=new b.WN(a,c,g);return function(a){return f.Mib(function(){return k;},h)(a);};};},function(g,c,a){var b;b=a(940);c.kV=function(a,c,g,d){return b.kV(a,c,g,d)(this);};},function(g,c,a){g=a(10);a=a(941);g.Da.prototype.kV=a.kV;},function(g,c,a){var b,f,h,l,d;b=a(100);f=a(236);h=a(132);l=a(133);d=a(117);c.kW=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return function(c){var g,k;g=a[a.length-1];d.Qy(g)?a.pop():g=null;k=a.length;return 1===k?l.concat(new f.MZ(a[0],g),c):1<k?l.concat(new b.Iw(a,g),c):l.concat(new h.LF(g),c);};};},function(g,c,a){var b;b=a(943);c.kW=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return b.kW.apply(void 0,a)(this);};},function(g,c,a){g=a(10);a=a(944);g.Da.prototype.kW=a.kW;},function(){},function(g,c,a){var b,f,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(79);f=a(78);c.jM=function(a){return function(b){return b.dg(new h(a));};};h=function(){function a(a){this.Va=a;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.Va));};return a;}();l=function(a){function c(b,c){a.call(this,b);this.Va=c;this.add(f.vt(this,c));}b(c,a);c.prototype.nz=function(){this.complete();};c.prototype.fl=function(){};return c;}(g.kr);},function(g,c,a){var b;b=a(947);c.jM=function(a){return b.jM(a)(this);};},function(g,c,a){g=a(10);a=a(948);g.Da.prototype.jM=a.jM;},function(g,c){var a;a=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};g=function(b){function c(){var a;a=b.call(this,"argument out of range");this.name=a.name="ArgumentOutOfRangeError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);c.jFa=g;},function(g,c,a){var b,f,h,l,d;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(46);f=a(950);h=a(132);c.ZE=function(a){return function(b){return 0===a?new h.LF():b.dg(new l(a));};};l=function(){function a(a){this.total=a;if(0>this.total)throw new f.jFa();}a.prototype.call=function(a,b){return b.subscribe(new d(a,this.total));};return a;}();d=function(a){function c(b,c){a.call(this,b);this.total=c;this.count=0;}b(c,a);c.prototype.ph=function(a){var b,c;b=this.total;c=++this.count;c<=b&&(this.destination.next(a),c===b&&(this.destination.complete(),this.unsubscribe()));};return c;}(g.ri);},function(g,c,a){var b;b=a(951);c.ZE=function(a){return b.ZE(a)(this);};},function(g,c,a){g=a(10);a=a(952);g.Da.prototype.ZE=a.ZE;},function(g,c,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(46);c.ML=function(a){return function(b){return b.dg(new f(a));};};f=function(){function a(a){this.hw=a;}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.hw));};return a;}();h=function(a){function c(b,c){a.call(this,b);this.hw=c;this.mba=!0;this.index=0;}b(c,a);c.prototype.ph=function(a){var b;b=this.destination;this.mba&&this.Ptb(a);this.mba||b.next(a);};c.prototype.Ptb=function(a){try{this.mba=!!this.hw(a,this.index++);}catch(m){this.destination.error(m);}};return c;}(g.ri);},function(g,c,a){var b;b=a(954);c.ML=function(a){return b.ML(a)(this);};},function(g,c,a){g=a(10);a=a(955);g.Da.prototype.ML=a.ML;},function(g,c,a){var b;b=a(444);c.pz=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return b.pz.apply(void 0,a)(this);};},function(g,c,a){g=a(10);a=a(957);g.Da.prototype.pz=a.pz;},function(g,c,a){var b;b=a(446);c.TD=function(a,c,g){void 0===g&&(g=Number.POSITIVE_INFINITY);return b.TD(a,c,g)(this);};},function(g,c,a){g=a(10);a=a(959);g.Da.prototype.TD=a.TD;g.Da.prototype.Es=a.TD;},function(g,c,a){var b;b=a(235);c.Vv=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return b.Vv(a)(this);};},function(g,c,a){g=a(10);a=a(961);g.Da.prototype.Vv=a.Vv;},function(g,c,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(46);c.map=function(a,b){return function(c){if("function"!==typeof a)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return c.dg(new f(a,b));};};f=function(){function a(a,b){this.Dg=a;this.Jba=b;}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.Dg,this.Jba));};return a;}();c.eAb=f;h=function(a){function c(b,c,d){a.call(this,b);this.Dg=c;this.count=0;this.Jba=d||this;}b(c,a);c.prototype.ph=function(a){var b;try{b=this.Dg.call(this.Jba,a,this.count++);}catch(t){this.destination.error(t);return;}this.destination.next(b);};return c;}(g.ri);},function(g,c,a){var b;b=a(963);c.map=function(a,c){return b.map(a,c)(this);};},function(g,c,a){g=a(10);a=a(964);g.Da.prototype.map=a.map;},function(g,c){var a;a=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};g=function(b){function c(){var a;a=b.call(this,"no elements in sequence");this.name=a.name="EmptyError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);c.xJa=g;},function(g,c,a){var b,f,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(46);f=a(966);c.Wg=function(a,b,c){return function(d){return d.dg(new h(a,b,c,d));};};h=function(){function a(a,b,c,d){this.hw=a;this.jk=b;this.defaultValue=c;this.source=d;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.hw,this.jk,this.defaultValue,this.source));};return a;}();l=function(a){function c(b,c,d,f,g){a.call(this,b);this.hw=c;this.jk=d;this.defaultValue=f;this.source=g;this.zo=!1;this.index=0;"undefined"!==typeof f&&(this.HT=f,this.zo=!0);}b(c,a);c.prototype.ph=function(a){var b;b=this.index++;this.hw?this.eYa(a,b):this.jk?this.Ama(a,b):(this.HT=a,this.zo=!0);};c.prototype.eYa=function(a,b){var c;try{c=this.hw(a,b,this.source);}catch(y){this.destination.error(y);return;}c&&(this.jk?this.Ama(a,b):(this.HT=a,this.zo=!0));};c.prototype.Ama=function(a,b){var c;try{c=this.jk(a,b);}catch(y){this.destination.error(y);return;}this.HT=c;this.zo=!0;};c.prototype.ic=function(){var a;a=this.destination;this.zo?(a.next(this.HT),a.complete()):a.error(new f.xJa());};return c;}(g.ri);},function(g,c,a){var b;b=a(967);c.Wg=function(a,c,g){return b.Wg(a,c,g)(this);};},function(g,c,a){g=a(10);a=a(968);g.Da.prototype.Wg=a.Wg;},function(g,c,a){var b,f,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(46);c.Hsb=function(a,b,c){return function(d){return d.dg(new h(a,b,c));};};h=function(){function a(a,b,c){this.Zib=a;this.error=b;this.complete=c;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.Zib,this.error,this.complete));};return a;}();l=function(a){function c(b,c,d,g){a.call(this,b);b=new f.ri(c,d,g);b.nk=!0;this.add(b);this.laa=b;}b(c,a);c.prototype.ph=function(a){var b;b=this.laa;b.next(a);b.bA?this.destination.error(b.cA):this.destination.next(a);};c.prototype.bd=function(a){var b;b=this.laa;b.error(a);b.bA?this.destination.error(b.cA):this.destination.error(a);};c.prototype.ic=function(){var a;a=this.laa;a.complete();a.bA?this.destination.error(a.cA):this.destination.complete();};return c;}(f.ri);},function(g,c,a){var b;b=a(970);c.F_=function(a,c,g){return b.Hsb(a,c,g)(this);};},function(g,c,a){g=a(10);a=a(971);g.Da.prototype.HI=a.F_;g.Da.prototype.F_=a.F_;},function(g,c,a){function b(){return function(){function a(){this.Hk=[];}a.prototype.add=function(a){this.has(a)||this.Hk.push(a);};a.prototype.has=function(a){return-1!==this.Hk.indexOf(a);};Object.defineProperty(a.prototype,"size",{get:function(){return this.Hk.length;},enumerable:!0,configurable:!0});a.prototype.clear=function(){this.Hk.length=0;};return a;}();}g=a(80);c.DIb=b;c.Set=g.root.Set||b();},function(g,c,a){var b,f,h,l,d;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(79);f=a(78);h=a(973);c.wR=function(a,b){return function(c){return c.dg(new l(a,b));};};l=function(){function a(a,b){this.AT=a;this.z9a=b;}a.prototype.call=function(a,b){return b.subscribe(new d(a,this.AT,this.z9a));};return a;}();d=function(a){function c(b,c,d){a.call(this,b);this.AT=c;this.values=new h.Set();d&&this.add(f.vt(this,d));}b(c,a);c.prototype.nz=function(){this.values.clear();};c.prototype.z9=function(a){this.bd(a);};c.prototype.ph=function(a){this.AT?this.pYa(a):this.Cka(a,a);};c.prototype.pYa=function(a){var b,c;c=this.destination;try{b=this.AT(a);}catch(A){c.error(A);return;}this.Cka(b,a);};c.prototype.Cka=function(a,b){var c;c=this.values;c.has(a)||(c.add(a),this.destination.next(b));};return c;}(g.kr);c.Nxb=d;},function(g,c,a){var b;b=a(974);c.wR=function(a,c){return b.wR(a,c)(this);};},function(g,c,a){g=a(10);a=a(975);g.Da.prototype.wR=a.wR;},function(g,c,a){var b,f,h,l,d,k,m;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(164);h=a(445);g=a(46);l=a(237);c.Gd=function(a,b){var c;void 0===b&&(b=f.async);c=h.o7(a)?+a-b.now():Math.abs(a);return function(a){return a.dg(new d(c,b));};};d=function(){function a(a,b){this.Gd=a;this.ka=b;}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.Gd,this.ka));};return a;}();k=function(a){function c(b,c,d){a.call(this,b);this.Gd=c;this.ka=d;this.gi=[];this.mra=this.active=!1;}b(c,a);c.Ab=function(a){for(var b=a.source,c=b.gi,d=a.ka,f=a.destination;0<c.length&&0>=c[0].time-d.now();)c.shift().notification.observe(f);0<c.length?(b=Math.max(0,c[0].time-d.now()),this.Kb(a,b)):(this.unsubscribe(),b.active=!1);};c.prototype.nXa=function(a){this.active=!0;this.add(a.Kb(c.Ab,this.Gd,{source:this,destination:this.destination,ka:a}));};c.prototype.mBa=function(a){var b;if(!0!==this.mra){b=this.ka;a=new m(b.now()+this.Gd,a);this.gi.push(a);!1===this.active&&this.nXa(b);}};c.prototype.ph=function(a){this.mBa(l.Notification.h3(a));};c.prototype.bd=function(a){this.mra=!0;this.gi=[];this.destination.error(a);};c.prototype.ic=function(){this.mBa(l.Notification.c3());};return c;}(g.ri);m=function(){return function(a,b){this.time=a;this.notification=b;};}();},function(g,c,a){var b,f;b=a(164);f=a(977);c.Gd=function(a,c){void 0===c&&(c=b.async);return f.Gd(a,c)(this);};},function(g,c,a){g=a(10);a=a(978);g.Da.prototype.Gd=a.Gd;},function(g,c,a){var b;b=a(447);c.jI=function(){return b.jI()(this);};},function(g,c,a){g=a(10);a=a(980);g.Da.prototype.jI=a.jI;},function(g,c){c.Jdb=function(a){return a;};},function(g,c,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(10);f=a(236);h=a(132);a=function(a){function c(b,c){a.call(this);this.G1=b;(this.ka=c)||1!==b.length||(this.Ar=!0,this.value=b[0]);}b(c,a);c.create=function(a,b){var d;d=a.length;return 0===d?new h.LF():1===d?new f.MZ(a[0],b):new c(a,b);};c.Ab=function(a){var b,c,d;b=a.G1;c=a.index;d=a.Cf;d.closed||(c>=a.length?d.complete():(d.next(b[c]),a.index=c+1,this.Kb(a)));};c.prototype.Wf=function(a){var b,d,f;b=this.G1;d=this.ka;f=b.length;if(d)return d.Kb(c.Ab,0,{G1:b,index:0,length:f,Cf:a});for(d=0;d<f&&!a.closed;d++)a.next(b[d]);a.complete();};return c;}(g.Da);c.mFa=a;},function(g,c,a){var b,f,h,l,d,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(80);g=a(10);h=a(165);a=function(a){function c(b,c){a.call(this);this.ka=c;if(null==b)throw Error("iterator cannot be null.");if((c=b[h.iterator])||"string"!==typeof b)if(c||void 0===b.length){if(!c)throw new TypeError("object is not iterable");b=b[h.iterator]();}else b=new d(b);else b=new l(b);this.iterator=b;}b(c,a);c.create=function(a,b){return new c(a,b);};c.Ab=function(a){var b,c,d,f;b=a.index;c=a.iterator;d=a.Cf;if(a.AJ)d.error(a.error);else{f=c.next();f.done?d.complete():(d.next(f.value),a.index=b+1,d.closed?"function"===typeof c["return"]&&c["return"]():this.Kb(a));}};c.prototype.Wf=function(a){var b,d;b=this.iterator;d=this.ka;if(d)return d.Kb(c.Ab,0,{index:0,iterator:b,Cf:a});do{d=b.next();if(d.done){a.complete();break;}else a.next(d.value);if(a.closed){"function"===typeof b["return"]&&b["return"]();break;}}while(1);};return c;}(g.Da);c.CLa=a;l=function(){function a(a,b,c){void 0===b&&(b=0);void 0===c&&(c=a.length);this.uw=a;this.HJ=b;this.S7=c;}a.prototype[h.iterator]=function(){return this;};a.prototype.next=function(){return this.HJ<this.S7?{done:!1,value:this.uw.charAt(this.HJ++)}:{done:!0,value:void 0};};return a;}();d=function(){function a(a,b,c){var d;void 0===b&&(b=0);if(void 0===c)if(c=+a.length,isNaN(c))c=0;else if(0!==c&&"number"===typeof c&&f.root.isFinite(c)){d=+c;c=(0===d||isNaN(d)?d:0>d?-1:1)*Math.floor(Math.abs(c));c=0>=c?0:c>k?k:c;}this.IZa=a;this.HJ=b;this.S7=c;}a.prototype[h.iterator]=function(){return this;};a.prototype.next=function(){return this.HJ<this.S7?{done:!1,value:this.IZa[this.HJ++]}:{done:!0,value:void 0};};return a;}();k=Math.pow(2,53)-1;},function(g,c,a){var b;b=a(133);g=a(133);c.a2a=g.concat;c.concat=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return function(c){return c.dg.call(b.concat.apply(void 0,[c].concat(a)));};};},function(g,c,a){var b;b=a(985);g=a(133);c.a2a=g.concat;c.concat=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return b.concat.apply(void 0,a)(this);};},function(g,c,a){g=a(10);a=a(986);g.Da.prototype.concat=a.concat;},function(g,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=function(a){function c(b,c,f){a.call(this);this.parent=b;this.wkb=c;this.vkb=f;this.index=0;}b(c,a);c.prototype.ph=function(a){this.parent.nz(this.wkb,a,this.vkb,this.index++,this);};c.prototype.bd=function(a){this.parent.z9(a,this);this.unsubscribe();};c.prototype.ic=function(){this.parent.fl(this);this.unsubscribe();};return c;}(a(46).ri);c.Cfa=g;},function(g,c,a){var b,f,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(79);f=a(78);c.X0a=function(a){return function(b){var c;c=new h(a);b=b.dg(c);return c.p2=b;};};h=function(){function a(a){this.AL=a;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.AL,this.p2));};return a;}();l=function(a){function c(b,c,d){a.call(this,b);this.AL=c;this.p2=d;}b(c,a);c.prototype.error=function(b){var c;if(!this.$e){c=void 0;try{c=this.AL(b,this.p2);}catch(u){a.prototype.error.call(this,u);return;}this.hYa();this.add(f.vt(this,c));}};return c;}(g.kr);},function(g,c,a){var b;b=a(989);c.s_=function(a){return b.X0a(a)(this);};},function(g,c,a){g=a(10);a=a(990);g.Da.prototype["catch"]=a.s_;g.Da.prototype.s_=a.s_;},function(g,c,a){var b,f;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(239);a=function(a){function c(b,c){var d;d=this;void 0===b&&(b=f);void 0===c&&(c=Number.POSITIVE_INFINITY);a.call(this,b,function(){return d.frame;});this.qhb=c;this.frame=0;this.index=-1;}b(c,a);c.prototype.flush=function(){for(var a=this.Vj,b=this.qhb,c,f;(f=a.shift())&&(this.frame=f.Gd)<=b&&!(c=f.Ye(f.state,f.Gd)););if(c){for(;f=a.shift();)f.unsubscribe();throw c;}};c.d5=10;return c;}(a(238).jX);c.CSa=a;f=function(a){function c(b,c,f){void 0===f&&(f=b.index+=1);a.call(this,b,c);this.ka=b;this.LM=c;this.index=f;this.active=!0;this.index=b.index=f;}b(c,a);c.prototype.Kb=function(b,f){var d;void 0===f&&(f=0);if(!this.id)return a.prototype.Kb.call(this,b,f);this.active=!1;d=new c(this.ka,this.LM);this.add(d);return d.Kb(b,f);};c.prototype.AV=function(a,b,f){void 0===f&&(f=0);this.Gd=a.frame+f;a=a.Vj;a.push(this);a.sort(c.srb);return!0;};c.prototype.uV=function(){};c.prototype.PO=function(b,c){if(!0===this.active)return a.prototype.PO.call(this,b,c);};c.srb=function(a,b){return a.Gd===b.Gd?a.index===b.index?0:a.index>b.index?1:-1:a.Gd>b.Gd?1:-1;};return c;}(g.iX);c.BSa=f;},function(g,c,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(166);h=a(71);g=a(456);a=a(454);f=function(a){function c(b,c){a.call(this);this.fe=b;this.WL=[];this.ka=c;}b(c,a);c.prototype.Wf=function(b){var c,d;c=this;d=c.kwa();b.add(new h.wk(function(){c.lwa(d);}));return a.prototype.Wf.call(this,b);};c.prototype.Qqb=function(){for(var a=this,b=a.fe.length,c=0;c<b;c++)(function(){var b;b=a.fe[c];a.ka.Kb(function(){b.notification.observe(a);},b.frame);}());};return c;}(f.aj);c.dzb=f;a.zna(f,[g.Ria]);},function(g,c,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(10);h=a(71);g=a(456);a=a(454);f=function(a){function c(b,c){a.call(this,function(a){var b,c;b=this;c=b.kwa();a.add(new h.wk(function(){b.lwa(c);}));b.jpb(a);return a;});this.fe=b;this.WL=[];this.ka=c;}b(c,a);c.prototype.jpb=function(a){var d;for(var b=this.fe.length,c=0;c<b;c++){d=this.fe[c];a.add(this.ka.Kb(function(a){a.message.notification.observe(a.Cf);},d.frame,{message:d,Cf:a}));}};return c;}(f.Da);c.fHa=f;a.zna(f,[g.Ria]);},function(g,c,a){var b,f,h,l,d;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};a(10);f=a(237);h=a(994);a(993);l=a(455);d=a(992);g=function(a){function c(b){a.call(this,d.BSa,750);this.RZa=b;this.ydb=[];this.x9a=[];}b(c,a);c.prototype.flush=function(){var c;for(var b=this.ydb;0<b.length;)b.shift().Qqb();a.prototype.flush.call(this);for(b=this.x9a.filter(function(a){return a.ready;});0<b.length;){c=b.shift();this.RZa(c.qEb,c.ZI);}};c.iJb=function(a){var h,k;if("string"!==typeof a)return new l.vG(Number.POSITIVE_INFINITY);for(var b=a.length,c=-1,d=Number.POSITIVE_INFINITY,f=Number.POSITIVE_INFINITY,g=0;g<b;g++){h=g*this.d5;k=a[g];switch(k){case"-":case" ":break;case"(":c=h;break;case")":c=-1;break;case"^":if(d!==Number.POSITIVE_INFINITY)throw Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");d=-1<c?c:h;break;case"!":if(f!==Number.POSITIVE_INFINITY)throw Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");f=-1<c?c:h;break;default:throw Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+k+"'.");}}return 0>f?new l.vG(d):new l.vG(d,f);};c.hJb=function(a,b,c,d){var q,t,r;void 0===d&&(d=!1);if(-1!==a.indexOf("!"))throw Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var g=a.length,k=[],l=a.indexOf("^"),l=-1===l?0:l*-this.d5,m="object"!==typeof b?function(a){return a;}:function(a){return d&&b[a]instanceof h.fHa?b[a].fe:b[a];},p=-1,n=0;n<g;n++){q=n*this.d5+l;t=void 0;r=a[n];switch(r){case"-":case" ":break;case"(":p=q;break;case")":p=-1;break;case"|":t=f.Notification.c3();break;case"^":break;case"#":t=f.Notification.vpa(c||"error");break;default:t=f.Notification.h3(m(r));}t&&k.push({frame:-1<p?p:q,notification:t});}return k;};return c;}(d.CSa);c.aja=g;},function(g,c,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(46);c.vV=function(){return function(a){return a.dg(new f(a));};};f=function(){function a(a){this.Ol=a;}a.prototype.call=function(a,b){var c;c=this.Ol;c.fo++;a=new h(a,c);b=b.subscribe(a);a.closed||(a.mo=c.connect());return b;};return a;}();h=function(a){function c(b,c){a.call(this,b);this.Ol=c;}b(c,a);c.prototype.Or=function(){var a,b;a=this.Ol;if(a){this.Ol=null;b=a.fo;0>=b?this.mo=null:(a.fo=b-1,1<b?this.mo=null:(b=this.mo,a=a.gu,this.mo=null,!a||b&&a!==b||a.unsubscribe()));}else this.mo=null;};return c;}(g.ri);},function(g,c){g=function(){function a(b,c){void 0===c&&(c=a.now);this.ZQa=b;this.now=c;}a.prototype.Kb=function(a,c,g){void 0===c&&(c=0);return new this.ZQa(this,a).Kb(g,c);};a.now=Date.now?Date.now:function(){return+new Date();};return a;}();c.YQa=g;},function(g,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=function(a){function c(){a.apply(this,arguments);}b(c,a);return c;}(a(238).jX);c.iQa=g;},function(g,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=function(a){function c(){a.call(this);}b(c,a);c.prototype.Kb=function(){return this;};return c;}(a(71).wk);c.cFa=g;},function(g,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=function(a){function c(b,c){a.call(this,b,c);this.ka=b;this.LM=c;}b(c,a);c.prototype.Kb=function(b,c){void 0===c&&(c=0);if(0<c)return a.prototype.Kb.call(this,b,c);this.Gd=c;this.state=b;this.ka.flush(this);return this;};c.prototype.Ye=function(b,c){return 0<c||this.closed?a.prototype.Ye.call(this,b,c):this.PO(b,c);};c.prototype.AV=function(b,c,f){void 0===f&&(f=0);return null!==f&&0<f||null===f&&0<this.Gd?a.prototype.AV.call(this,b,c,f):b.flush(this);};return c;}(a(239).iX);c.hQa=g;},function(g,c,a){g=a(1E3);a=a(998);c.gi=new a.iQa(g.hQa);},function(g,c){c.ejb=function(){};},function(g,c,a){var f;function b(a){return a?1===a.length?a[0]:function(b){return a.reduce(function(a,b){return b(a);},b);}:f.ejb;}f=a(1002);c.vlb=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return b(a);};c.wlb=b;},function(g,c,a){var b,f,h;b=a(46);f=a(241);h=a(242);c.itb=function(a,c,g){if(a){if(a instanceof b.ri)return a;if(a[f.Sz])return a[f.Sz]();}return a||c||g?new b.ri(a,c,g):new b.ri(h.empty);};},function(g,c){var a;a=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};g=function(b){function c(a){b.call(this);this.YI=a;a=Error.call(this,a?a.length+" errors occurred during unsubscription:\n  "+a.map(function(a,b){return b+1+") "+a.toString();}).join("\n  "):"");this.name=a.name="UnsubscriptionError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);c.jO=g;},function(g,c,a){var f,h;function b(){try{return h.apply(this,arguments);}catch(p){return f.dv.e=p,f.dv;}}f=a(462);c.zDa=function(a){h=a;return b;};},function(g,c,a){var f,h,l,d,k,m,n,r,y,A,C,x,G;function b(a,b,c,d,f,g,k,l,n){var p;p=this;this.ka=b;this.Aq=c;this.config=d;this.vy=f;this.j7a=g;this.jC=k;this.yn=l;this.dU=n;this.ksb=function(a,b){b.bK().ZE(1).subscribe(function(a){p.Sva.next({so:b.Wp(),data:a.Op});});b.bK().map(function(c){return p.rJ(a,b,c);}).Vv().HI(function(a){b.kc=a.kc[0];return b.Tma(a.Lv[0].data);}).subscribe(void 0,function(a){b.Tma(a);},function(){p.t0a(b);});};this.lsb=function(a){a.vL.map(function(b){return p.Bta(a,b);}).Vv().HI(function(b){return a.ana(b.response);}).subscribe(void 0,function(b){a.ana(b);});};this.log=a.lb("DrmServices");this.Sva=new h.aj();this.vy().hp&&this.jC.Zza().then(function(){p.Krb();})["catch"](function(a){p.log.error("Unable to load the persisted DRM data",a);});this.config.mT&&this.yn.qJ().then(function(a){return p.xpa(a,{Td:a.keySystem},m.Zi.Dm,n()).Es(function(a){return a.close();}).subscribe();});}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(102);l=a(7);d=a(30);k=a(442);m=a(77);n=a(64);r=a(243);y=a(244);A=a(441);C=a(17);x=a(118);a=a(135);b.prototype.iw=function(a,b){var c;c=this;return new Promise(function(d,f){c.Mf(a,b).subscribe(d,f);});};b.prototype.X9a=function(a,b){var c;c=this;return new Promise(function(d,f){c.oS(a,b).subscribe(d,f);});};b.prototype.Mf=function(a,b){var c;c=this;this.log.info("Requesting challenges",this.fta(a,a.type));return this.pI(a.context,a.type,b).Es(function(b){b.Aqb(a.Cg);c.ksb(a,b);return c.gpa(b.oS(a.gT),b);});};b.prototype.Prb=function(a,b){var c,d;c=this;this.config.ji?(this.log.info("Releasing server license and EME license",this.f6(a)),this.lsb(a),d=a.a$a()):(this.log.info("Releasing server license",this.f6(a)),d=this.Bta(a));return this.gpa(d,a).HI(function(){c.jC.V$(Object.assign({Td:a.context.Td,kc:[]},a.Cg));b.fob();});};b.prototype.bK=function(){return this.Sva.H1();};b.prototype.fta=function(a,b){return{movieId:a.Cg.M,xid:a.Cg.oa,type:m.Uva(b)};};b.prototype.f6=function(a){return{movieId:a.Cg?a.Cg.M:void 0,xid:a.Cg?a.Cg.oa:void 0,keySessionId:a.rv()};};b.prototype.gpa=function(a,b){return h.Da.concat(a,h.Da.of(b)).Wg();};b.prototype.rJ=function(a,b,c){this.log.info("Sending license request",this.fta(a,c.zh));return h.Da.kv(this.Aq.Mf({oa:a.Cg.oa,Of:a.Cg.Of,zR:[a.Cg.Yj],Pp:[{sessionId:b.rv()||"session",data:c.Op}],zh:c.zh,so:b.Wp(),Doa:c.Doa,mK:a.Cg.mK,xf:a.Cg.xf}));};b.prototype.Bta=function(a,b){this.log.info("Sending release request",this.f6(a));return b?h.Da.kv(this.Aq.release({oa:a.Cg.oa,kc:[a.kc],Op:b.Op})):h.Da.kv(this.Aq.release({oa:a.Cg.oa,kc:[a.kc]}));};b.prototype.oS=function(a,b){return this.pI(a.context,a.type,b).Es(function(b){b.oS(a.gT);return b.bK().map(function(){return b;});});};b.prototype.pI=function(a,b,c){var d;d=this;return h.Da.kv(this.yn.qJ()).Es(function(f){return d.xpa(f,a,b,c);});};b.prototype.xpa=function(a,b,c,d){return h.Da.kv(this.j7a.create()).Es(function(f){return f.rs(b,a,d,c);});};b.prototype.Jrb=function(a){var b;b=this;return this.config.ji?h.Da.empty():h.Da.kv(this.Aq.release({oa:a.oa,kc:a.kc}))["catch"](function(a){b.log.error("Unable to send release data to the server",a);return h.Da.empty();}).map(function(){return a;});};b.prototype.Krb=function(){var a;a=this;this.ka.hg(this.config.Y9,function(){var b;a.log.trace("Removing cached sessions",{"count:":a.jC.AR.length});b=a.jC.AR.filter(function(a){return!a.active;}).map(function(b){return a.Jrb(b);});h.Da.concat.apply(h.Da,[].concat(da(b))).subscribe(function(b){a.jC.V$(b);});});};b.prototype.t0a=function(a){var b;if(a.rv()&&a.Cg){b=new y.KX();b.Td=a.context.Td;b.kc=[a.kc];b.profileId=a.Cg.profileId;b.oa=a.Cg.oa;b.M=a.Cg.M;this.jC.Oma(b);}};G=b;G=g.__decorate([f.N(),g.__param(0,f.l(l.ob)),g.__param(1,f.l(d.pg)),g.__param(2,f.l(k.gea)),g.__param(3,f.l(n.Wn)),g.__param(4,f.l(C.ld)),g.__param(5,f.l(A.wea)),g.__param(6,f.l(r.sX)),g.__param(7,f.l(x.cx)),g.__param(8,f.l(a.eG))],G);c.WIa=G;},function(g,c,a){var b,f,h,l,d,k;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(119);f=a(1007);h=a(118);l=a(906);d=a(441);k=a(899);c.i7a=new g.ac(function(a){a(b.hea).to(f.WIa).Z();a(h.cx).to(l.YMa).Z();a(d.wea).to(k.uJa);});},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(3);c.iia=function(a,c,g,d,h){d=void 0===d?b.Db(0):d;this.config=a;this.YB=c;this.nfb=d;this.Ynb=void 0===h?!1:h;this.id=void 0!==g?g:this.U$a();this.languages=(a=a())&&a.yh&&a.yh.pE||["en-US"];};},function(g,c,a){var f;function b(a,b,c,g,h){return f.iia.call(this,a,b,c,g,h)||this;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1009);ba(b,f.iia);b.prototype.U$a=function(){var a;a=this.config();return a&&a.Up?"browsertest":"browser";};c.NPa=b;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.bFa=function(){this.id="browser";this.Oy=!0;};},function(g,c,a){var f,h,l,d;function b(a){this.profile=new d.NPa(a,new l.bFa());}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(17);l=a(1011);d=a(1010);b.prototype.Bc=function(){this.$h||(this.$h=Promise.resolve());return this.$h;};b.prototype.Ay=function(a){if(this.profile.id===a)return this.profile;};oa.Object.defineProperties(b.prototype,{Ggb:{configurable:!0,enumerable:!0,get:function(){return!0;}}});a=b;a=g.__decorate([f.N(),g.__param(0,f.l(h.ld))],a);c.KPa=a;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(65);f=a(1012);c.YB=new g.ac(function(a){a(b.Qca).to(f.KPa).Z();});},function(g,c,a){var f,h,l,d,k;function b(a,b){return h.ze.call(this,a,void 0===b?"EmeConfigImpl":b)||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(36);l=a(27);d=a(3);a=a(34);ba(b,h.ze);oa.Object.defineProperties(b.prototype,{mT:{configurable:!0,enumerable:!0,get:function(){return!1;}},ji:{configurable:!0,enumerable:!0,get:function(){return!1;}},Kv:{configurable:!0,enumerable:!0,get:function(){return d.Ff;}},Y9:{configurable:!0,enumerable:!0,get:function(){return d.Fg(10);}},V6:{configurable:!0,enumerable:!0,get:function(){return d.Db(2E3);}},vaa:{configurable:!0,enumerable:!0,get:function(){return d.Db(1E3);}},ulb:{configurable:!0,enumerable:!0,get:function(){return d.Db(2500);}},LI:{configurable:!0,enumerable:!0,get:function(){return"unsentDrmData";}},hJ:{configurable:!0,enumerable:!0,get:function(){return!1;}},aM:{configurable:!0,enumerable:!0,get:function(){return!1;}},En:{configurable:!0,enumerable:!0,get:function(){return!0;}},pna:{configurable:!0,enumerable:!0,get:function(){return d.Fg(30);}},qna:{configurable:!0,enumerable:!0,get:function(){return d.Fg(30);}},sna:{configurable:!0,enumerable:!0,get:function(){return d.Fg(30);}},rna:{configurable:!0,enumerable:!0,get:function(){return d.Fg(30);}},A1:{configurable:!0,enumerable:!0,get:function(){return d.Fg(30);}},Uz:{configurable:!0,enumerable:!0,get:function(){return"";}},NU:{configurable:!0,enumerable:!0,get:function(){return!1;}}});k=b;g.__decorate([a.config(a.$d,"initializeKeySystemAtStartup")],k.prototype,"mT",null);g.__decorate([a.config(a.$d,"secureStopEnabled")],k.prototype,"ji",null);g.__decorate([a.config(a.Xg,"licenseRenewalRequestDelay")],k.prototype,"Kv",null);g.__decorate([a.config(a.Xg,"persistedReleaseDelay")],k.prototype,"Y9",null);g.__decorate([a.config(a.Xg,"secureStopKeyMessageTimeoutMilliseconds")],k.prototype,"V6",null);g.__decorate([a.config(a.Xg,"secureStopKeyAddedTimeoutMilliseconds")],k.prototype,"vaa",null);g.__decorate([a.config(a.Xg,"secureStopPersistedKeyMessageTimeoutMilliseconds")],k.prototype,"ulb",null);g.__decorate([a.config(a.string,"drmPersistKey")],k.prototype,"LI",null);g.__decorate([a.config(a.$d,"forceLimitedDurationLicense")],k.prototype,"hJ",null);g.__decorate([a.config(a.$d,"supportsLimitedDurationLicense")],k.prototype,"aM",null);g.__decorate([a.config(a.$d,"prepareCadmium")],k.prototype,"En",null);g.__decorate([a.config(a.Xg,"apiCloseTimeout")],k.prototype,"pna",null);g.__decorate([a.config(a.Xg,"apiCreateMediaKeysTimeout")],k.prototype,"qna",null);g.__decorate([a.config(a.Xg,"apiSetServerCertificateTimeout")],k.prototype,"sna",null);g.__decorate([a.config(a.Xg,"apiGenerateRequestTimeout")],k.prototype,"rna",null);g.__decorate([a.config(a.Xg,"apiUpdateTimeout")],k.prototype,"A1",null);g.__decorate([a.config(a.string,"serverCertificate")],k.prototype,"Uz",null);g.__decorate([a.config(a.$d,"outputRestrictedIsFatal")],k.prototype,"NU",null);k=g.__decorate([f.N(),g.__param(0,f.l(l.cj)),g.__param(1,f.l(l.BA)),g.__param(1,f.optional())],k);c.eda=k;},function(g,c,a){var f,h,l,d;function b(a,b){return d.eda.call(this,a,void 0===b?"ChromeEmeConfig":b)||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(27);l=a(34);d=a(1014);ba(b,d.eda);oa.Object.defineProperties(b.prototype,{mT:{configurable:!0,enumerable:!0,get:function(){return!0;}},aM:{configurable:!0,enumerable:!0,get:function(){return!0;}},NU:{configurable:!0,enumerable:!0,get:function(){return!0;}}});a=b;g.__decorate([l.config(l.$d,"initializeKeySystemAtStartup")],a.prototype,"mT",null);g.__decorate([l.config(l.$d,"supportsLimitedDurationLicense")],a.prototype,"aM",null);g.__decorate([l.config(l.$d,"outputRestrictedIsFatal")],a.prototype,"NU",null);a=g.__decorate([f.N(),g.__param(0,f.l(h.cj)),g.__param(1,f.l(h.BA)),g.__param(1,f.optional())],a);c.sJa=a;},function(g,c,a){var f,h,l,d,k,m,n;function b(a,b,c,f){a=d.ze.call(this,a,void 0===f?"FtlProbeConfigImpl":f)||this;a.Kf=b;a.Sa=c;return a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(42);h=a(1);l=a(3);d=a(36);k=a(85);m=a(34);a=a(27);ba(b,d.ze);oa.Object.defineProperties(b.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return!0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return""+this.g5+(-1===this.g5.indexOf("?")?"?":"&")+"monotonic="+this.Sa.yxa+"&device=web";}},tCa:{configurable:!0,enumerable:!0,get:function(){return l.Ff;}},X4:{configurable:!0,enumerable:!0,get:function(){return"";}},g5:{configurable:!0,enumerable:!0,get:function(){return this.Kf.endpoint+"/ftl/probe"+(this.X4?"?force="+this.X4:"");}}});n=b;g.__decorate([m.config(m.$d,"ftlEnabled")],n.prototype,"enabled",null);g.__decorate([m.config(m.Xg,"ftlStartDelay")],n.prototype,"tCa",null);g.__decorate([m.config(m.string,"ftlEndpointForceParam")],n.prototype,"X4",null);g.__decorate([m.config(m.url,"ftlEndpoint")],n.prototype,"g5",null);n=g.__decorate([h.N(),g.__param(0,h.l(a.cj)),g.__param(1,h.l(k.Dt)),g.__param(2,h.l(f.Kj)),g.__param(3,h.l(a.BA)),g.__param(3,h.optional())],n);c.UJa=n;},function(g,c,a){var f,h,l,d;function b(a,b){return l.ze.call(this,a,void 0===b?"NetworkMonitorConfigImpl":b)||this;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(1);h=a(34);l=a(36);a=a(27);ba(b,l.ze);oa.Object.defineProperties(b.prototype,{cEa:{configurable:!0,enumerable:!0,get:function(){return!0;}}});d=b;g.__decorate([h.config(h.$d,"useNetworkMonitor")],d.prototype,"cEa",null);d=g.__decorate([f.N(),g.__param(0,f.l(a.cj)),g.__param(1,f.l(a.BA)),g.__param(1,f.optional())],d);c.HNa=d;},function(g,c){function a(a){this.value=a;}Object.defineProperty(c,"__esModule",{value:!0});a.empty=function(){return a.of(void 0);};a.of=function(b){return new a(b);};a.prototype.Aya=function(a){return void 0===this.value?a instanceof Function?a():a:this.value;};a.prototype.map=function(b){return void 0===this.value?a.empty():a.of(b(this.value));};c.Zga=a;},function(g,c,a){var f,h,l,d,k,m,n,r;function b(a,b,c){a=d.ze.call(this,a,void 0===c?"GeneralConfigImpl":c)||this;a.gn=b;return a;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);f=a(3);h=a(1);l=a(34);d=a(36);k=a(51);m=a(27);a=a(137);n={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};c.UI=function(a,b){return a.$za(n[b]||b,k.Lt);};ba(b,d.ze);oa.Object.defineProperties(b.prototype,{UI:{configurable:!0,enumerable:!0,get:function(){return k.Lt.cQa;}},tba:{configurable:!0,enumerable:!0,get:function(){return f.Fg(8);}},vv:{configurable:!0,enumerable:!0,get:function(){return"";}},lC:{configurable:!0,enumerable:!0,get:function(){return"";}},oA:{configurable:!0,enumerable:!0,get:function(){return"";}},SCa:{configurable:!0,enumerable:!0,get:function(){return!1;}},kQ:{configurable:!0,enumerable:!0,get:function(){return!0;}},cT:{configurable:!0,enumerable:!0,get:function(){return this.gn.cT;}},C8a:{configurable:!0,enumerable:!0,get:function(){return!1;}},Lp:{configurable:!0,enumerable:!0,get:function(){return{};}},iaa:{configurable:!0,enumerable:!0,get:function(){return!1;}},y7:{configurable:!0,enumerable:!0,get:function(){return!1;}},WW:{configurable:!0,enumerable:!0,get:function(){return!1;}},yM:{configurable:!0,enumerable:!0,get:function(){return!1;}},tw:{configurable:!0,enumerable:!0,get:function(){return{__default_rule_key__:["idb","mem"]};}},Up:{configurable:!0,enumerable:!0,get:function(){return 0<=[k.Lt.$ia,k.Lt.Dfa].indexOf(this.UI);}}});r=b;g.__decorate([l.config(c.UI,"environment")],r.prototype,"UI",null);g.__decorate([l.config(l.Xg,"storageTimeout")],r.prototype,"tba",null);g.__decorate([l.config(l.string,"groupName")],r.prototype,"vv",null);g.__decorate([l.config(l.string,"canaryGroupName")],r.prototype,"lC",null);g.__decorate([l.config(l.string,"uiGroupName")],r.prototype,"oA",null);g.__decorate([l.config(l.$d,"testIndexDBForCorruptedDatabase")],r.prototype,"SCa",null);g.__decorate([l.config(l.$d,"applyIndexedDbOpenWorkaround")],r.prototype,"kQ",null);g.__decorate([l.config(l.$d,"ignoreIdbOpenError")],r.prototype,"cT",null);g.__decorate([l.config(l.$d,"executeStorageMigration")],r.prototype,"C8a",null);g.__decorate([l.config(l.object(),"browserInfo")],r.prototype,"Lp",null);g.__decorate([l.config(l.$d,"retryAllMslRequestsOnError")],r.prototype,"iaa",null);g.__decorate([l.config(l.$d,"isTestAccount")],r.prototype,"y7",null);g.__decorate([l.config(l.$d,"vuiCommandLogging")],r.prototype,"WW",null);g.__decorate([l.config(l.$d,"useRangeHeader")],r.prototype,"yM",null);g.__decorate([l.config(l.object,"storageRules")],r.prototype,"tw",null);r=g.__decorate([h.N(),g.__param(0,h.l(m.cj)),g.__param(1,h.l(a.pG)),g.__param(2,h.l(m.BA)),g.__param(2,h.optional())],r);c.YJa=r;},function(g,c,a){var l,d,k,m,n;function b(){this.us={};this.XAa=0;}function f(a,b,c,d,f){this.debug=a;this.Ns=b;this.CK=c;this.yf=d;this.mV=f;}function h(a,b,c){this.Ns=a;this.CK=b;this.mV=c;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);l=a(1);d=a(86);k=a(7);m=a(134);n=a(466);a=a(27);h=g.__decorate([l.N(),g.__param(0,l.l(a.FN)),g.__param(1,l.l(m.RZ)),g.__param(2,l.l(n.HZ))],h);c.jHa=h;f=g.__decorate([l.N(),g.__param(0,l.l(d.Gt)),g.__param(1,l.l(a.FN)),g.__param(2,l.l(m.RZ)),g.__param(3,l.l(k.ob)),g.__param(4,l.l(n.HZ))],f);c.tSa=f;b.prototype.Thb=function(a){this.us=Object.assign({},this.us,a);this.XAa++;};oa.Object.defineProperties(b.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.us;}},WAa:{configurable:!0,enumerable:!0,get:function(){return this.XAa;}}});a=b;a=g.__decorate([l.N()],a);c.wLa=a;},function(g,c,a){var b,f,h,l,d,k,m,n,r,y,A;Object.defineProperty(c,"__esModule",{value:!0});g=a(1);b=a(17);f=a(1020);h=a(27);l=a(51);d=a(1019);k=a(465);m=a(1017);n=a(167);r=a(1016);y=a(64);A=a(1015);c.config=new g.ac(function(a){a(b.ld).Sf(function(){return function(){return J._cad_global.config;};});a(h.xX).to(f.jHa).Z();a(h.cj).to(f.tSa).Z();a(h.FN).to(f.wLa).Z();a(l.zm).to(d.YJa).Z();a(k.Nga).to(m.HNa).Z();a(n.Kea).to(r.UJa).Z();a(y.Wn).to(A.sJa).Z();});},function(g,c){function a(){}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.jua=function(){return void 0!==this.fk;};a.prototype.Xz=function(a){this.fk=a;};a.prototype.fob=function(){this.jua()&&(this.fk=void 0);};c.ZMa=a;},function(g,c,a){var b,f,h,l,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(2);f=a(87);h=a(119);l=a(245);c.Qmb=function(a){l.MI.parent=a.ec;return function(){d||(d=new Promise(function(a,c){try{a(l.MI.get(h.hea));}catch(u){c(new f.Gf(b.I.QKa,b.u.iLa,void 0,"Unable to extract the DRM services from the dependency injector",u));}}));return d;};};},function(g,c,a){var l,d,k,m,n,r,y,A;function b(a,b,c){var d;d=this;this.is=a;this.Ch=b;this.config=c;this.Lq=function(){return{version:d.version,drmData:d.AR.map(function(a){return a.Lq();})};};this.f5=function(a){var b;d.is.Ik(a)&&(a=f(a));1===a.version&&(a=h(d.is,a));b={version:2,data:[]};if(2===a.version){b.version=a.version;try{b.data=a.drmData.map(function(a){return new A.KX(a);});}catch(W){throw new n.Qc(k.I.KA,k.u.Et,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",W);}}else{if(!a.version||!d.is.Xf(a.version))throw new n.Qc(k.I.KA,k.u.Et,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1!==a.version)throw new n.Qc(k.I.KA,k.u.jda,void 0,void 0,void 0,"Version number is not supported. Version: "+d.getVersion);}return b;};this.Mn=new r.zfa(2,this.config.LI,this.is.Ik(this.config.LI),this.Ch,this.Lq);}function f(a){a=JSON.parse(a);a={profileId:a.profileId,xid:a.xid,movieId:a.movieId,keySessionIds:a.keySessionIds,licenseContextId:a.licenseContextId};if(!(a.profileId&&a.licenseContextId&&a.xid&&a.movieId))throw new n.Qc(k.I.KA,k.u.Et);return{version:1,drmData:[a]};}function h(a,b){if(a.Xr(b.drmData))return{version:2,drmData:b.drmData.map(function(a){var b;b=a.keySessionIds;return new A.KX({keySystemId:a.keySystemId,keySessionData:(b&&0<b.length?b:[void 0]).map(function(b){return{id:b,licenseContextId:a.licenseContextId,licenseId:void 0};}),profileId:a.profileId,xid:a.xid,movieId:a.movieId}).Lq();})};throw new n.Qc(k.I.KA,k.u.Et);}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);l=a(1);d=a(64);k=a(2);m=a(21);n=a(56);r=a(467);y=a(63);A=a(244);b.prototype.Zza=function(){return this.Drb();};b.prototype.Oma=function(a){return this.Mn.add(a);};b.prototype.V$=function(a){return this.Mn.remove(a,function(a,b){return a.oa===b.oa;});};b.prototype.toString=function(){return JSON.stringify(this.Lq(),null,"  ");};b.prototype.Drb=function(){var a;a=this;this.cAa||(this.cAa=new Promise(function(b,c){a.Mn.load(a.f5).then(function(){b();})["catch"](function(a){a.Y&&a.cause?c(new n.Qc(k.I.KA,a.Y,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a)):c(a);});}));return this.cAa;};oa.Object.defineProperties(b.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.Mn.version;}},AR:{configurable:!0,enumerable:!0,get:function(){return this.Mn.Np;}}});a=b;a=g.__decorate([l.N(),g.__param(0,l.l(m.we)),g.__param(1,l.l(y.jp)),g.__param(2,l.l(d.Wn))],a);c.OGa=a;},function(g,c,a){var b,f,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(65);f=a(246);c.Pmb=function(a){return function(){var c;if(!h){f.j1.parent=a.ec;c=f.j1.get(b.Qca);h=new Promise(function(a,b){c.Bc().then(function(){a(c);})["catch"](function(a){b(a);});});}return h;};};},function(g,c,a){var b,f,h,l,d;Object.defineProperty(c,"__esModule",{value:!0});b=a(3);f=a(35);h=a(469);l=a(66);d={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};c.Lha=function(){this.s_a=this.QH=h.UM.Jfa;this.Laa=!0;this.MH=[];this.pF=[];this.OU=this.FR=!1;this.xt=[l.xk.CX,l.xk.LQa,l.xk.SA];this.Td=void 0;this.s4=!0;this.KR=!1;this.mQ=f.aa(288E4);this.pQ=f.aa(335544320);this.TT=b.Db(15E3);this.rhb=f.aa(6291456);this.ID=1E3;this.o2=!0;this.Qba=d;this.dF=f.aa(0);this.AW=b.Db(0);this.cT=!0;};},function(g,c,a){var h,l,d,k,m,n,r,y,f,A;function b(a){var b;b=n.Lha.call(this)||this;a=/CrOS/.test(a.userAgent);b.MH=[r.Xi.xN,r.Xi.yN];b.pF=[r.ca.YX,r.ca.rN,r.ca.VX,r.ca.WX,r.ca.AG,r.ca.BG];a&&b.pF.push(r.ca.ZX,r.ca.XX,r.ca.CG);b.FR=!0;b.OU=!0;b.Td=y.ib.GSa;b.TT=k.Db(15E3);return b;}function f(a){var b,c,d,f;a=a.userAgent;b=/CrOS/.test(a);c=/OPR/.test(a);d=/ Edg\//.test(a);f=/Tesla/.test(a);this.version="6.0019.057.011";this.zn=!0;this.XC=f?"T":d?"D":b?"C":c?"O":"M";this.ln=f?"NFCDTS-01-":d?"NFCDIE-04-":c?"NFCDOP-01-":/Windows NT/.test(a)?"NFCDCH-02-":/Intel Mac OS X/.test(a)?"NFCDCH-MC-":b?"NFCDCH-01-":/Android.*Chrome\/[.0-9]* Mobile/.test(a)?"NFCDCH-AP-":/Android.*Chrome\/[.0-9]* /.test(a)?"NFCDCH-AT-":"NFCDCH-LX-";this.h5=!0;this.sR=b?"chromeos-cadmium":c?"opera-cadmium":"chrome-cadmium";this.sqa="browser";this.mwa="";this.uqa="cadmium";this.hfb=!0;}Object.defineProperty(c,"__esModule",{value:!0});g=a(0);h=a(1);l=a(37);d=a(72);k=a(3);m=a(137);n=a(1026);r=a(66);y=a(136);f=g.__decorate([h.N(),g.__param(0,h.l(l.WA))],f);c.ixb=f;ba(b,n.Lha);A=b;A=g.__decorate([h.N(),g.__param(0,h.l(l.WA))],A);c.jxb=A;c.platform=new h.ac(function(a){a(d.pp).to(f);a(m.pG).to(A);});},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.Fxa=function(a){return function(b){return function(){for(var c=[],g=0;g<arguments.length;g++)c[g]=arguments[g];return c.forEach(function(c){return a.bind(c).htb(b);});};};};},function(g,c,a){var b,f,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(52);f=a(31);h=a(67);c.oza=function(){return function(a,c){c=new h.Metadata(f.mG,c);if(Reflect.y6(f.mG,a.constructor))throw Error(b.HMa);Reflect.L3(f.mG,c,a.constructor);};};},function(g,c,a){var b,f,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(31);f=a(67);h=a(88);c.kM=function(a){return function(c,g,l){var d;d=new f.Metadata(b.KN,a);h.dA(c,g,l,d);};};},function(g,c,a){var b,f,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(31);f=a(67);h=a(88);c.hz=function(a){return function(c,g,l){var d;d=new f.Metadata(b.ax,a);"number"===typeof l?h.dA(c,g,l,d):h.iM(c,g,d);};};},function(g,c,a){var b,f,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(31);f=a(67);h=a(88);c.dh=function(){return function(a,c,g){var d;d=new f.Metadata(b.xG,!0);h.dA(a,c,g,d);};};},function(g,c,a){var b,f,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(31);f=a(67);h=a(88);c.optional=function(){return function(a,c,g){var d;d=new f.Metadata(b.Vga,!0);"number"===typeof g?h.dA(a,c,g,d):h.iM(a,c,d);};};},function(g,c,a){var b,f,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(31);f=a(67);h=a(88);c.Hxa=function(a){return function(c,g,l){var d;d=new f.Metadata(b.Wt,a);"number"===typeof l?h.dA(c,g,l,d):h.iM(c,g,d);};};},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(67);f=a(88);c.OCa=function(a,c){return function(d,g,h){var k;k=new b.Metadata(a,c);"number"===typeof h?f.dA(d,g,h,k):f.iM(d,g,k);};};},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(52);f=a(31);c.N=function(){return function(a){var c;if(Reflect.y6(f.mZ,a))throw Error(b.vIa);c=Reflect.getMetadata(f.PHa,a)||[];Reflect.L3(f.mZ,c,a);return a;};};},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(103);c.ac=function(){return function(a){this.id=b.id();this.T$=a;};}();c.Yca=function(){return function(a){this.id=b.id();this.T$=a;};}();},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(52);g=function(){function a(){this.xi=new Map();}a.prototype.add=function(a,c){var d;if(null===a||void 0===a)throw Error(b.iG);if(null===c||void 0===c)throw Error(b.iG);d=this.xi.get(a);void 0!==d?(d.push(c),this.xi.set(a,d)):this.xi.set(a,[c]);};a.prototype.get=function(a){if(null===a||void 0===a)throw Error(b.iG);a=this.xi.get(a);if(void 0!==a)return a;throw Error(b.Kfa);};a.prototype.remove=function(a){if(null===a||void 0===a)throw Error(b.iG);if(!this.xi["delete"](a))throw Error(b.Kfa);};a.prototype.hua=function(a){if(null===a||void 0===a)throw Error(b.iG);return this.xi.has(a);};a.prototype.clone=function(){var b;b=new a();this.xi.forEach(function(a,c){a.forEach(function(a){return b.add(c,a.clone());});});return b;};a.prototype.Gtb=function(a){this.xi.forEach(function(b,c){a(c,b);});};return a;}();c.fMa=g;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=function(){function a(){}a.of=function(b,c){var f;f=new a();f.WH=b;f.cib=c;return f;};return a;}();c.nxb=g;},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(81);f=a(472);g=function(){function a(a){this.zb=a;}a.prototype.Z=function(){this.zb.scope=b.Tn.OZ;return new f.Ow(this.zb);};a.prototype.W6=function(){this.zb.scope=b.Tn.fO;return new f.Ow(this.zb);};return a;}();c.XFa=g;},function(g,c,a){var b,f,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(1040);f=a(249);h=a(248);g=function(){function a(a){this.zb=a;this.HG=new h.oX(this.zb);this.l_=new f.XM(this.zb);this.Oja=new b.XFa(a);}a.prototype.Z=function(){return this.Oja.Z();};a.prototype.W6=function(){return this.Oja.W6();};a.prototype.when=function(a){return this.HG.when(a);};a.prototype.JM=function(){return this.HG.JM();};a.prototype.tq=function(a){return this.l_.tq(a);};return a;}();c.fda=g;},function(g,c,a){var b,f,h,l;Object.defineProperty(c,"__esModule",{value:!0});b=a(52);f=a(81);h=a(1041);l=a(472);g=function(){function a(a){this.zb=a;}a.prototype.to=function(a){this.zb.type=f.Gh.NY;this.zb.pj=a;return new h.fda(this.zb);};a.prototype.lDa=function(){if("function"!==typeof this.zb.Ne)throw Error(""+b.lLa);this.to(this.zb.Ne);};a.prototype.Dh=function(a){this.zb.type=f.Gh.zda;this.zb.cache=a;this.zb.PC=null;this.zb.pj=null;new l.Ow(this.zb);};a.prototype.jA=function(a){this.zb.type=f.Gh.mea;this.zb.cache=null;this.zb.PC=a;this.zb.pj=null;new h.fda(this.zb);};a.prototype.gtb=function(a){this.zb.type=f.Gh.Ada;this.zb.pj=a;new l.Ow(this.zb);};a.prototype.Sf=function(a){this.zb.type=f.Gh.TX;this.zb.fv=a;new l.Ow(this.zb);};a.prototype.etb=function(a){this.zb.type=f.Gh.TX;this.zb.fv=function(b){return function(){return b.ec.get(a);};};new l.Ow(this.zb);};a.prototype.oM=function(a){this.zb.type=f.Gh.kia;this.zb.Aq=a;new l.Ow(this.zb);};a.prototype.htb=function(a){this.jA(function(b){return b.ec.get(a);});};return a;}();c.YFa=g;},function(g,c,a){var h,l,d;function b(a,b,c){var d;b=b.filter(function(a){return null!==a.target&&a.target.type===l.or.wda;});d=b.map(c);b.forEach(function(b,c){b=b.target.name.value();a[b]=d[c];});return a;}function f(a,b){var c;if(Reflect.edb(d.mG,a)){c=Reflect.getMetadata(d.mG,a);try{b[c.value]();}catch(u){throw Error(h.QOa(a.name,u.message));}}}Object.defineProperty(c,"__esModule",{value:!0});h=a(52);l=a(81);d=a(31);c.Job=function(a,c,d){var g;g=null;0<c.length?(g=c.filter(function(a){return null!==a.target&&a.target.type===l.or.Bda;}).map(d),g=new(a.bind.apply(a,[void 0].concat(g)))(),g=b(g,c,d)):g=new a();f(a,g);return g;};},function(g,c,a){var h,l,d,k,m;function b(a){return function(c){var d,g,n,p,q;d=c.WH;g=c.y2;n=c.target&&c.target.isArray();p=!c.Ys||!c.Ys.target||!c.target||!c.Ys.target.ahb(c.target.Ne);if(n&&p)return g.map(function(c){return b(a)(c);});n=null;if(!c.target.mva()||0!==d.length){q=d[0];d=q.scope===l.Tn.OZ;p=q.scope===l.Tn.Request;if(d&&q.l1)return q.cache;if(p&&null!==a&&a.has(q.id))return a.get(q.id);if(q.type===l.Gh.zda)n=q.cache;else if(q.type===l.Gh.Function)n=q.cache;else if(q.type===l.Gh.Ada)n=q.pj;else if(q.type===l.Gh.mea&&null!==q.PC)n=f("toDynamicValue",q.Ne,function(){return q.PC(c.gE);});else if(q.type===l.Gh.TX&&null!==q.fv)n=f("toFactory",q.Ne,function(){return q.fv(c.gE);});else if(q.type===l.Gh.kia&&null!==q.Aq)n=f("toProvider",q.Ne,function(){return q.Aq(c.gE);});else if(q.type===l.Gh.NY&&null!==q.pj)n=m.Job(q.pj,g,b(a));else throw g=k.nD(c.Ne),Error(h.gLa+" "+g);"function"===typeof q.tq&&(n=q.tq(c.gE,n));d&&(q.cache=n,q.l1=!0);p&&null!==a&&!a.has(q.id)&&a.set(q.id,n);return n;}};}function f(a,b,c){try{return c();}catch(A){if(d.uva(A))throw Error(h.uGa(a,b.toString()));throw A;}}Object.defineProperty(c,"__esModule",{value:!0});h=a(52);l=a(81);d=a(475);k=a(138);m=a(1043);c.resolve=function(a){return b(a.jE.kaa.zob)(a.jE.kaa);};},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(103);g=function(){function a(a,c,d,f,g){this.id=b.id();this.Ne=a;this.gE=c;this.Ys=d;this.target=g;this.y2=[];this.WH=Array.isArray(f)?f:[f];this.zob=null===d?new Map():null;}a.prototype.Lma=function(b,c,d){b=new a(b,this.gE,this,c,d);this.y2.push(b);return b;};return a;}();c.Request=g;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});g=function(){function a(a){this.uw=a;}a.prototype.startsWith=function(a){return 0===this.uw.indexOf(a);};a.prototype.endsWith=function(a){var b;b=a.split("").reverse().join("");a=this.uw.split("").reverse().join("");return this.startsWith.call({uw:a},b);};a.prototype.contains=function(a){return-1!==this.uw.indexOf(a);};a.prototype.equals=function(a){return this.uw===a;};a.prototype.value=function(){return this.uw;};return a;}();c.gQa=g;},function(g,c,a){var d,k,m,n,r,y;function b(a,b,c,g){var h,n,r,u,x,A,G,C,E,K;h=a.Ksa(c);n=h.apa;if(void 0===n)throw Error(k.tMa+" "+b+".");for(var h=h.Uub,p=Object.keys(h),q=0===c.length&&0<p.length?p.length:c.length,p=[],t=0;t<q;t++){u=t;x=g;A=b;G=n;r=h[u.toString()]||[];C=l(r);E=!0!==C.dh;G=G[u];K=C.l||C.hz;G=K?K:G;G instanceof d.RY&&(G=G.bub());if(E){E=G===Function;E=G===Object||E||void 0===G;if(!x&&E)throw Error(k.uMa+" argument "+u+" in class "+A+".");u=new y.dO(m.or.Bda,C.kM,G);u.kd=r;r=u;}else r=null;null!==r&&p.push(r);}a=f(a,c);return p.concat(a);}function f(a,b){var k,n,p;for(var c=a.Cbb(b),d=[],g=0,h=Object.keys(c);g<h.length;g++){k=h[g];n=c[k];p=l(c[k]);k=new y.dO(m.or.wda,p.kM||k,p.l||p.hz);k.kd=n;d.push(k);}b=Object.getPrototypeOf(b.prototype).constructor;b!==Object&&(a=f(a,b),d=d.concat(a));return d;}function h(a,c){var d,f;c=Object.getPrototypeOf(c.prototype).constructor;if(c!==Object){d=r.getFunctionName(c);d=b(a,d,c,!0);f=d.map(function(a){return a.kd.filter(function(a){return a.key===n.xG;});});f=[].concat.apply([],f).length;d=d.length-f;return 0<d?d:h(a,c);}return 0;}function l(a){var b;b={};a.forEach(function(a){b[a.key.toString()]=a.value;});return{l:b[n.WF],hz:b[n.ax],kM:b[n.KN],dh:b[n.xG]};}Object.defineProperty(c,"__esModule",{value:!0});d=a(474);k=a(52);m=a(81);n=a(31);r=a(138);c.getFunctionName=r.getFunctionName;y=a(473);c.W$a=function(a,c){var d;d=r.getFunctionName(c);return b(a,d,c,!1);};c.r$a=h;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.uPa=function(){return function(a,b){this.gE=a;this.kaa=b;};}();},function(g,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(103);g=function(){function a(a){this.id=b.id();this.ec=a;}a.prototype.bZa=function(a){this.jE=a;};return a;}();c.Cda=g;},function(g,c){Object.defineProperty(c,"__esModule",{value:!0});c.nX={mAb:2,Qga:0,WNa:1};},function(g,c,a){var d,k,m,n,r,y,A,C,x,G,E,J;function b(a,b,c,g,h){var k,m;k=l(c.ec,h.Ne);m=[];k.length===d.nX.Qga&&c.ec.options.SH&&"function"===typeof h.Ne&&a.Ksa(h.Ne).apa&&(c.ec.bind(h.Ne).lDa(),k=l(c.ec,h.Ne));m=b?k:k.filter(function(a){var b;b=new E.Request(a.Ne,c,g,a,h);return a.dy(b);});f(h.Ne,m,h,c.ec);return m;}function f(a,b,c,f){switch(b.length){case d.nX.Qga:if(c.mva())break;a=y.nD(a);b=k.CNa;b+=y.Ifb(a,c);b+=y.Yva(f,a,l);throw Error(b);case d.nX.WNa:if(!c.isArray())break;default:if(!c.isArray())throw a=y.nD(a),b=k.GEa+" "+a,b+=y.Yva(f,a,l),Error(b);}}function h(a,c,d,f,g,l){var n;null===g?(c=b(a,c,f,null,l),n=new E.Request(d,f,null,c,l),d=new x.uPa(f,n),f.bZa(d)):(c=b(a,c,f,g,l),n=g.Lma(l.Ne,c,l));c.forEach(function(b){var c,d,g;c=null;if(l.isArray())c=n.Lma(b.Ne,b,l);else{if(b.cache)return;c=n;}if(b.type===m.Gh.NY&&null!==b.pj){d=G.W$a(a,b.pj);if(!f.ec.options.rw){g=G.r$a(a,b.pj);if(d.length<g)throw b=k.HEa(G.getFunctionName(b.pj)),Error(b);}d.forEach(function(b){h(a,!1,b.Ne,f,c,b);});}});}function l(a,b){var c,d;c=[];d=a.oB;d.hua(b)?c=d.get(b):null!==a.parent&&(c=l(a.parent,b));return c;}Object.defineProperty(c,"__esModule",{value:!0});d=a(1050);k=a(52);m=a(81);n=a(31);r=a(475);y=a(138);A=a(1049);C=a(67);x=a(1048);G=a(1047);E=a(1045);J=a(473);c.n5=function(a){return a.oB;};c.jE=function(a,b,c,d,f,g,k,l){void 0===l&&(l=!1);b=new A.Cda(b);c=new C.Metadata(c?n.ax:n.WF,f);d=new J.dO(d,"",f,c);void 0!==g&&(g=new C.Metadata(g,k),d.kd.push(g));try{return h(a,l,f,b,null,d),b;}catch(X){throw r.uva(X)&&b.jE&&y.w1a(b.jE.kaa),X;}};c.CFb=function(a,b,c,d){c=new J.dO(m.or.$Z,"",b,new C.Metadata(c,d));a=new A.Cda(a);return new E.Request(b,a,null,[],c);};},function(g,c,a){var b,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(81);f=a(103);g=function(){function a(a,c){this.id=f.id();this.l1=!1;this.Ne=a;this.scope=c;this.type=b.Gh.ALa;this.dy=function(){return!0;};this.PC=this.tq=this.Aq=this.fv=this.cache=this.pj=null;}a.prototype.clone=function(){var b;b=new a(this.Ne,this.scope);b.l1=!1;b.pj=this.pj;b.PC=this.PC;b.scope=this.scope;b.type=this.type;b.fv=this.fv;b.Aq=this.Aq;b.dy=this.dy;b.tq=this.tq;b.cache=this.cache;return b;};return a;}();c.WFa=g;},function(g,c,a){var b,f,l,p,d,k,m,r,u,y,A,C;b=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(f,g){function h(a){try{l(d.next(a));}catch(Z){g(Z);}}function k(a){try{l(d["throw"](a));}catch(Z){g(Z);}}function l(a){a.done?f(a.value):new c(function(b){b(a.value);}).then(h,k);}l((d=d.apply(a,b||[])).next());});};f=this&&this.UDb||function(a,b){var f,g,k,l,m;function c(a){return function(b){return d([a,b]);};}function d(c){if(g)throw new TypeError("Generator is already executing.");for(;f;)try{if(g=1,k&&(l=k[c[0]&2?"return":c[0]?"throw":"next"])&&!(l=l.call(k,c[1])).done)return l;if(k=0,l)c=[0,l.value];switch(c[0]){case 0:case 1:l=c;break;case 4:return f.label++,{value:c[1],done:!1};case 5:f.label++;k=c[1];c=[0];continue;case 7:c=f.rz.pop();f.nA.pop();continue;default:if(!(l=f.nA,l=0<l.length&&l[l.length-1])&&(6===c[0]||2===c[0])){f=0;continue;}if(3===c[0]&&(!l||c[1]>l[0]&&c[1]<l[3]))f.label=c[1];else if(6===c[0]&&f.label<l[1])f.label=l[1],l=c;else if(l&&f.label<l[2])f.label=l[2],f.rz.push(c);else{l[2]&&f.rz.pop();f.nA.pop();continue;}}c=b.call(a,f);}catch(Z){c=[6,Z];k=0;}finally{g=l=0;}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0};}f={label:0,TV:function(){if(l[0]&1)throw l[1];return l[1];},nA:[],rz:[]};h();h();n();return m={next:c(0),"throw":c(1),"return":c(2)},"function"===typeof Symbol&&(m[Symbol.iterator]=function(){return this;}),m;};Object.defineProperty(c,"__esModule",{value:!0});l=a(1052);p=a(52);d=a(81);a(31);k=a(476);m=a(1051);r=a(1044);u=a(1042);y=a(103);A=a(138);a(1039);C=a(1038);g=function(){function a(a){a=a||{};if("object"!==typeof a)throw Error(""+p.IGa);if(void 0===a.hy)a.hy=d.Tn.fO;else if(a.hy!==d.Tn.OZ&&a.hy!==d.Tn.fO&&a.hy!==d.Tn.Request)throw Error(""+p.GGa);if(void 0===a.SH)a.SH=!1;else if("boolean"!==typeof a.SH)throw Error(""+p.FGa);if(void 0===a.rw)a.rw=!1;else if("boolean"!==typeof a.rw)throw Error(""+p.HGa);this.options={SH:a.SH,hy:a.hy,rw:a.rw};this.id=y.id();this.oB=new C.fMa();this.IXa=[];this.parent=this.m0=null;this.qVa=new k.$Y();}a.Z8=function(b,c){var f,g;function d(a,b){a.Gtb(function(a,c){c.forEach(function(a){b.add(a.Ne,a.clone());});});}f=new a();g=m.n5(f);b=m.n5(b);c=m.n5(c);d(b,g);d(c,g);return f;};a.prototype.load=function(){var d,f;for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(var b=this.Lka(),c=0;c<a.length;c++){d=a[c];f=b(d.id);d.T$(f.Yna,f.FDa,f.Ava,f.gAa);}};a.prototype.dK=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return b(this,void 0,void 0,function(){var b,c,d,g,h;return f(this,function(f){switch(f.label){case 0:b=this.Lka(),c=0,d=a,f.label=1;case 1:if(!(c<d.length))return[3,4];g=d[c];h=b(g.id);return[4,g.T$(h.Yna,h.FDa,h.Ava,h.gAa)];case 2:f.TV(),f.label=3;case 3:return c++,[3,1];case 4:return[2];}});});};a.prototype.bind=function(a){var b;b=new l.WFa(a,this.options.hy||d.Tn.fO);this.oB.add(a,b);return new u.YFa(b);};a.prototype.tnb=function(a){this.EDa(a);return this.bind(a);};a.prototype.EDa=function(a){try{this.oB.remove(a);}catch(M){throw Error(p.qGa+" "+A.nD(a));}};a.prototype.bva=function(a){var b;b=this.oB.hua(a);!b&&this.parent&&(b=this.parent.bva(a));return b;};a.prototype.restore=function(){var a;a=this.IXa.pop();if(void 0===a)throw Error(p.DNa);this.oB=a.WH;this.m0=a.cib;};a.prototype.e4a=function(){var b;b=new a(this.options);b.parent=this;return b;};a.prototype.get=function(a){return this.Kka(!1,!1,d.or.$Z,a);};a.prototype.getAll=function(a){return this.Kka(!0,!0,d.or.$Z,a);};a.prototype.resolve=function(a){var b;b=this.e4a();b.bind(a).lDa();return b.get(a);};a.prototype.Lka=function(){var f;function a(a){return function(b){b=f.tnb.bind(f)(b);b.zb.Dib=a;return b;};}function b(){return function(a){return f.bva.bind(f)(a);};}function c(){return function(a){f.EDa.bind(f)(a);};}function d(a){return function(b){b=f.bind.bind(f)(b);b.zb.Dib=a;return b;};}f=this;return function(f){return{Yna:d(f),Ava:b(),gAa:a(f),FDa:c()};};};a.prototype.Kka=function(a,b,c,d){var f;f=null;a={F_a:a,o2a:function(a){return a;},Feb:b,key:void 0,Ne:d,Isb:c,value:void 0};if(this.m0){if(f=this.m0(a),void 0===f||null===f)throw Error(p.jLa);}else f=this.IWa()(a);return f;};a.prototype.IWa=function(){var a;a=this;return function(b){var c;c=m.jE(a.qVa,a,b.Feb,b.Isb,b.Ne,b.key,b.value,b.F_a);c=b.o2a(c);return r.resolve(c);};};return a;}();c.FF=g;},function(g,c,a){(function(a){var b;(function(b){var ba,X,O,ca,da,fa,N,ha,ga;function c(a,b,c){var d;d=ga.get(a);if(!d){if(!c)return;d=new N();ga.set(a,d);}a=d.get(b);if(!a){if(!c)return;a=new N();d.set(b,a);}return a;}function d(a,b,c){if(f(a,b,c))return!0;b=E(b);return null!==b?d(a,b,c):!1;}function f(a,b,d){b=c(b,d,!1);return void 0!==b&&!!b.has(a);}function g(a,b,c){if(f(a,b,c))return h(a,b,c);b=E(b);return null!==b?g(a,b,c):void 0;}function h(a,b,d){b=c(b,d,!1);return void 0===b?void 0:b.get(a);}function l(a,b){var c,f;c=n(a,b);a=E(a);if(null===a)return c;b=l(a,b);if(0>=b.length)return c;if(0>=c.length)return b;a=new ha();for(var d=0;d<c.length;d++){f=c[d];a.add(f);}for(c=0;c<b.length;c++)f=b[c],a.add(f);return W(a);}function n(a,b){var d;a=c(a,b,!1);d=[];a&&S(a,function(a,b){return d.push(b);});return d;}function q(a){return void 0===a;}function r(a){return Array.isArray?Array.isArray(a):a instanceof Array||"[object Array]"===Object.prototype.toString.call(a);}function x(a){return"object"===typeof a?null!==a:"function"===typeof a;}function C(a){return"symbol"===typeof a?a:String(a);}function E(a){var b,c;b=Object.getPrototypeOf(a);if("function"!==typeof a||a===fa||b!==fa)return b;c=a.prototype;c=c&&Object.getPrototypeOf(c);if(null==c||c===Object.prototype)return b;c=c.constructor;return"function"!==typeof c||c===a?b:c;}function P(a){a=a.next();return a.done?void 0:a;}function S(a,b){var c,d,f;c=a.entries;if("function"===typeof c){c=c.call(a);try{for(;d=P(c);){f=d.value;b.call(void 0,f[1],f[0],a);}}finally{d&&(a=c["return"])&&a.call(c);}}else c=a.forEach,"function"===typeof c&&c.call(a,b,void 0);}function W(a){var b;b=[];S(a,function(a,c){b.push(c);});return b;}function D(a,b,c){var d;d=0;return{next:function(){var f;if((a||b)&&d<(a||b).length){f=d++;switch(c){case"key":return{value:a[f],done:!1};case"value":return{value:b[f],done:!1};case"key+value":return{value:[a[f],b[f]],done:!1};}}b=a=void 0;return{value:void 0,done:!0};},"throw":function(c){if(a||b)b=a=void 0;throw c;},"return":function(c){if(a||b)b=a=void 0;return{value:c,done:!0};}};}function U(){var a;a={};return function(){function b(){this.eo=[];this.Hk=[];this.yO=a;this.xO=-2;}Object.defineProperty(b.prototype,"size",{get:function(){return this.eo.length;},enumerable:!0,configurable:!0});b.prototype.has=function(a){return 0<=this.QO(a,!1);};b.prototype.get=function(a){a=this.QO(a,!1);return 0<=a?this.Hk[a]:void 0;};b.prototype.set=function(a,b){a=this.QO(a,!0);this.Hk[a]=b;return this;};b.prototype["delete"]=function(b){var c;c=this.QO(b,!1);if(0<=c){b=this.eo.length;for(c+=1;c<b;c++)this.eo[c-1]=this.eo[c],this.Hk[c-1]=this.Hk[c];this.eo.length--;this.Hk.length--;this.yO=a;this.xO=-2;return!0;}return!1;};b.prototype.clear=function(){this.eo.length=0;this.Hk.length=0;this.yO=a;this.xO=-2;};b.prototype.keys=function(){return D(this.eo,void 0,"key");};b.prototype.values=function(){return D(void 0,this.Hk,"value");};b.prototype.entries=function(){return D(this.eo,this.Hk,"key+value");};b.prototype.QO=function(a,b){var c;if(this.yO===a)return this.xO;c=this.eo.indexOf(a);0>c&&b&&(c=this.eo.length,this.eo.push(a),this.Hk.push(void 0));return this.yO=a,this.xO=c;};return b;}();}function Q(){return function(){function a(){this.xi=new N();}Object.defineProperty(a.prototype,"size",{get:function(){return this.xi.size;},enumerable:!0,configurable:!0});a.prototype.has=function(a){return this.xi.has(a);};a.prototype.add=function(a){return this.xi.set(a,a),this;};a.prototype["delete"]=function(a){return this.xi["delete"](a);};a.prototype.clear=function(){this.xi.clear();};a.prototype.keys=function(){return this.xi.keys();};a.prototype.values=function(){return this.xi.values();};a.prototype.entries=function(){return this.xi.entries();};return a;}();}function Y(){var d,f;function a(a){for(var b=0;16>b;++b)a[b]=255*Math.random()|0;return a;}function b(){var b,g;do{b="function"===typeof Uint8Array?"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):a(new Uint8Array(16)):a(Array(16));b[6]=b[6]&79|64;b[8]=b[8]&191|128;for(var c="",f=0;16>f;++f){g=b[f];if(4===f||6===f||8===f)c+="-";16>g&&(c+="0");c+=g.toString(16).toLowerCase();}b="@@WeakMap@@"+c;}while(da.has(d,b));d[b]=!0;return b;}function c(a,b){if(!ba.call(a,f)){if(!b)return;Object.defineProperty(a,f,{value:ca()});}return a[f];}d=ca();f=b();return function(){function a(){this.yx=b();}a.prototype.has=function(a){a=c(a,!1);return void 0!==a?da.has(a,this.yx):!1;};a.prototype.get=function(a){a=c(a,!1);return void 0!==a?da.get(a,this.yx):void 0;};a.prototype.set=function(a,b){c(a,!0)[this.yx]=b;return this;};a.prototype["delete"]=function(a){a=c(a,!1);return void 0!==a?delete a[this.yx]:!1;};a.prototype.clear=function(){this.yx=b();};return a;}();}function Z(a){a.SDb=1;delete a.TDb;return a;}ba=Object.prototype.hasOwnProperty;X="function"===typeof Object.create;O=function(){var b;function a(){}b={};a.prototype=b;return new a().__proto__===b;}();ca=X?function(){return Z(Object.create(null));}:O?function(){return Z({__proto__:null});}:function(){return Z({});};(function(a){var b;b=!X&&!O;a.has=b?function(a,b){return ba.call(a,b);}:function(a,b){return b in a;};a.get=b?function(a,b){return ba.call(a,b)?a[b]:void 0;}:function(a,b){return a[b];};}(da||(da={})));fa=Object.getPrototypeOf(Function);N="function"===typeof Map?Map:U();ha="function"===typeof Set?Set:Q();ga=new("function"===typeof WeakMap?WeakMap:(Y()))();b.Xu=function(a,b,c,d){var g;if(q(d)){if(q(c)){if(!r(a))throw new TypeError();if("function"!==typeof b)throw new TypeError();for(c=a.length-1;0<=c;--c)if(d=(0,a[c])(b),!q(d)){if("function"!==typeof d)throw new TypeError();b=d;}return b;}if(!r(a))throw new TypeError();if(!x(b))throw new TypeError();c=C(c);for(d=a.length-1;0<=d;--d)(0,a[d])(b,c);}else{if(!r(a))throw new TypeError();if(!x(b))throw new TypeError();if(q(c))throw new TypeError();if(!x(d))throw new TypeError();c=C(c);for(var f=a.length-1;0<=f;--f){g=(0,a[f])(b,c,d);if(!q(g)){if(!x(g))throw new TypeError();d=g;}}return d;}};b.kd=function(a,b){return function(d,f){if(q(f)){if("function"!==typeof d)throw new TypeError();c(d,void 0,!0).set(a,b);}else{if(!x(d))throw new TypeError();f=C(f);c(d,f,!0).set(a,b);}};};b.L3=function(a,b,d){var f;if(!x(d))throw new TypeError();q(f)||(f=C(f));c(d,f,!0).set(a,b);};b.edb=function(a,b){var c;if(!x(b))throw new TypeError();q(c)||(c=C(c));return d(a,b,c);};b.y6=function(a,b){var c;if(!x(b))throw new TypeError();q(c)||(c=C(c));return f(a,b,c);};b.getMetadata=function(a,b,c){if(!x(b))throw new TypeError();q(c)||(c=C(c));return g(a,b,c);};b.$Gb=function(a,b,c){if(!x(b))throw new TypeError();q(c)||(c=C(c));return h(a,b,c);};b.YGb=function(a,b){if(!x(a))throw new TypeError();q(b)||(b=C(b));return l(a,b);};b.aHb=function(a,b){if(!x(a))throw new TypeError();q(b)||(b=C(b));return n(a,b);};b.dGb=function(a,b,d){var f;if(!x(b))throw new TypeError();q(d)||(d=C(d));f=c(b,d,!1);if(q(f)||!f["delete"](a))return!1;if(0<f.size)return!0;a=ga.get(b);a["delete"](d);if(0<a.size)return!0;ga["delete"](b);return!0;};(function(a){if("undefined"!==typeof a.Reflect){if(a.Reflect!==b)for(var c in b)ba.call(b,c)&&(a.Reflect[c]=b[c]);}else a.Reflect=b;}("undefined"!==typeof J?J:"undefined"!==typeof WorkerGlobalScope?self:"undefined"!==typeof a?a:Function("return this;")()));}(b||(b={})));}.call(this,a(250)));},function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});a(1054);J._cad_global={};J.DEBUG=!1;a(9);a(8);a(16);a(18);a(33);a(28);a(105);a(512);a(256);a(45);a(26);a(14);a(68);a(53);a(511);a(175);a(429);a(510);a(509);a(173);a(508);a(254);a(193);a(344);a(276);a(270);a(272);a(271);a(253);a(287);a(286);a(284);a(141);a(182);a(507);a(12);a(266);a(506);a(104);a(69);a(275);a(124);a(343);a(342);a(192);a(505);a(171);a(314);a(283);a(504);a(90);a(179);a(503);a(502);a(321);a(180);a(324);a(181);a(288);a(501);a(140);a(268);a(145);a(281);a(122);a(89);a(500);a(499);a(498);a(497);a(496);a(269);a(57);a(495);a(267);a(273);a(277);a(341);a(274);a(265);a(494);a(493);a(258);a(120);a(492);a(491);a(490);a(489);a(488);a(481);a(478);a(279);},function(g,c,a){g.T=a(1055);}]));}.call(J));}(window));}.call(window));